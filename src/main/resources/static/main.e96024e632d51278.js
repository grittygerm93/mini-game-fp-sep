(self.webpackChunkangular=self.webpackChunkangular||[]).push([[179],{6430:(dt,C,w)=>{"use strict";function n(i){return"function"==typeof i}function l(i){const t=i(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const m=l(i=>function(t){i(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,y)=>`${y+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function f(i,e){if(i){const t=i.indexOf(e);0<=t&&i.splice(t,1)}}class h{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const E of t)E.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(n(r))try{r()}catch(E){e=E instanceof m?E.errors:[E]}const{_teardowns:y}=this;if(y){this._teardowns=null;for(const E of y)try{o(E)}catch(F){e=null!=e?e:[],F instanceof m?e=[...e,...F.errors]:e.push(F)}}if(e)throw new m(e)}}add(e){var t;if(e&&e!==this)if(this.closed)o(e);else{if(e instanceof h){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&f(t,e)}remove(e){const{_teardowns:t}=this;t&&f(t,e),e instanceof h&&e._removeParent(this)}}h.EMPTY=(()=>{const i=new h;return i.closed=!0,i})();const u=h.EMPTY;function s(i){return i instanceof h||i&&"closed"in i&&n(i.remove)&&n(i.add)&&n(i.unsubscribe)}function o(i){n(i)?i():i.unsubscribe()}const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},a={setTimeout(...i){const{delegate:e}=a;return((null==e?void 0:e.setTimeout)||setTimeout)(...i)},clearTimeout(i){const{delegate:e}=a;return((null==e?void 0:e.clearTimeout)||clearTimeout)(i)},delegate:void 0};function c(i){a.setTimeout(()=>{const{onUnhandledError:e}=d;if(!e)throw i;e(i)})}function p(){}const v=T("C",void 0,void 0);function T(i,e,t){return{kind:i,value:e,error:t}}let S=null;function D(i){if(d.useDeprecatedSynchronousErrorHandling){const e=!S;if(e&&(S={errorThrown:!1,error:null}),i(),e){const{errorThrown:t,error:r}=S;if(S=null,t)throw r}}else i()}class R extends h{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,s(e)&&e.add(this)):this.destination=W}static create(e,t,r){return new L(e,t,r)}next(e){this.isStopped?z(function x(i){return T("N",i,void 0)}(e),this):this._next(e)}error(e){this.isStopped?z(function g(i){return T("E",void 0,i)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?z(v,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const P=Function.prototype.bind;function I(i,e){return P.call(i,e)}class b{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){B(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){B(r)}else B(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){B(t)}}}class L extends R{constructor(e,t,r){let y;if(super(),n(e)||!e)y={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=r?r:void 0};else{let E;this&&d.useDeprecatedNextContext?(E=Object.create(e),E.unsubscribe=()=>this.unsubscribe(),y={next:e.next&&I(e.next,E),error:e.error&&I(e.error,E),complete:e.complete&&I(e.complete,E)}):y=e}this.destination=new b(y)}}function B(i){d.useDeprecatedSynchronousErrorHandling?function M(i){d.useDeprecatedSynchronousErrorHandling&&S&&(S.errorThrown=!0,S.error=i)}(i):c(i)}function z(i,e){const{onStoppedNotification:t}=d;t&&a.setTimeout(()=>t(i,e))}const W={closed:!0,next:p,error:function V(i){throw i},complete:p},K="function"==typeof Symbol&&Symbol.observable||"@@observable";function J(i){return i}let H=(()=>{class i{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new i;return r.source=this,r.operator=t,r}subscribe(t,r,y){const E=function X(i){return i&&i instanceof R||function Y(i){return i&&n(i.next)&&n(i.error)&&n(i.complete)}(i)&&s(i)}(t)?t:new L(t,r,y);return D(()=>{const{operator:F,source:O}=this;E.add(F?F.call(E,O):O?this._subscribe(E):this._trySubscribe(E))}),E}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=G(r))((y,E)=>{const F=new L({next:O=>{try{t(O)}catch(N){E(N),F.unsubscribe()}},error:E,complete:y});this.subscribe(F)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[K](){return this}pipe(...t){return function it(i){return 0===i.length?J:1===i.length?i[0]:function(t){return i.reduce((r,y)=>y(r),t)}}(t)(this)}toPromise(t){return new(t=G(t))((r,y)=>{let E;this.subscribe(F=>E=F,F=>y(F),()=>r(E))})}}return i.create=e=>new i(e),i})();function G(i){var e;return null!==(e=null!=i?i:d.Promise)&&void 0!==e?e:Promise}const $=l(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Q=(()=>{class i extends H{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new _(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new $}next(t){D(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const y of r)y.next(t)}})}error(t){D(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){D(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:y,observers:E}=this;return r||y?u:(E.push(t),new h(()=>f(E,t)))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:y,isStopped:E}=this;r?t.error(y):E&&t.complete()}asObservable(){const t=new H;return t.source=this,t}}return i.create=(e,t)=>new _(e,t),i})();class _ extends Q{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:u}}function et(i){return n(null==i?void 0:i.lift)}function ot(i){return e=>{if(et(e))return e.lift(function(t){try{return i(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function lt(i,e,t,r,y){return new ht(i,e,t,r,y)}class ht extends R{constructor(e,t,r,y,E,F){super(e),this.onFinalize=E,this.shouldUnsubscribe=F,this._next=t?function(O){try{t(O)}catch(N){e.error(N)}}:super._next,this._error=y?function(O){try{y(O)}catch(N){e.error(N)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(O){e.error(O)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ft(i,e){return ot((t,r)=>{let y=0;t.subscribe(lt(r,E=>{r.next(i.call(e,E,y++))}))})}function ye(i){return this instanceof ye?(this.v=i,this):new ye(i)}function Ie(i,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y,r=t.apply(i,e||[]),E=[];return y={},F("next"),F("throw"),F("return"),y[Symbol.asyncIterator]=function(){return this},y;function F(nt){r[nt]&&(y[nt]=function(rt){return new Promise(function(at,ut){E.push([nt,rt,at,ut])>1||O(nt,rt)})})}function O(nt,rt){try{!function N(nt){nt.value instanceof ye?Promise.resolve(nt.value.v).then(U,j):q(E[0][2],nt)}(r[nt](rt))}catch(at){q(E[0][3],at)}}function U(nt){O("next",nt)}function j(nt){O("throw",nt)}function q(nt,rt){nt(rt),E.shift(),E.length&&O(E[0][0],E[0][1])}}function mn(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=i[Symbol.asyncIterator];return e?e.call(i):(i=function fi(i){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(E){t[E]=i[E]&&function(F){return new Promise(function(O,N){!function y(E,F,O,N){Promise.resolve(N).then(function(U){E({value:U,done:O})},F)}(O,N,(F=i[E](F)).done,F.value)})}}}const ef=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function Yv(i){return n(null==i?void 0:i.then)}function Xv(i){return n(i[K])}function jv(i){return Symbol.asyncIterator&&n(null==i?void 0:i[Symbol.asyncIterator])}function $v(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const kv=function kM(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Kv(i){return n(null==i?void 0:i[kv])}function Qv(i){return Ie(this,arguments,function*(){const t=i.getReader();try{for(;;){const{value:r,done:y}=yield ye(t.read());if(y)return yield ye(void 0);yield yield ye(r)}}finally{t.releaseLock()}})}function Zv(i){return n(null==i?void 0:i.getReader)}function rn(i){if(i instanceof H)return i;if(null!=i){if(Xv(i))return function KM(i){return new H(e=>{const t=i[K]();if(n(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(i);if(ef(i))return function QM(i){return new H(e=>{for(let t=0;t<i.length&&!e.closed;t++)e.next(i[t]);e.complete()})}(i);if(Yv(i))return function ZM(i){return new H(e=>{i.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,c)})}(i);if(jv(i))return Jv(i);if(Kv(i))return function JM(i){return new H(e=>{for(const t of i)if(e.next(t),e.closed)return;e.complete()})}(i);if(Zv(i))return function qM(i){return Jv(Qv(i))}(i)}throw $v(i)}function Jv(i){return new H(e=>{(function _M(i,e){var t,r,y,E;return function Tt(i,e,t,r){return new(t||(t=Promise))(function(E,F){function O(j){try{U(r.next(j))}catch(q){F(q)}}function N(j){try{U(r.throw(j))}catch(q){F(q)}}function U(j){j.done?E(j.value):function y(E){return E instanceof t?E:new t(function(F){F(E)})}(j.value).then(O,N)}U((r=r.apply(i,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=mn(i);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(F){y={error:F}}finally{try{r&&!r.done&&(E=t.return)&&(yield E.call(t))}finally{if(y)throw y.error}}e.complete()})})(i,e).catch(t=>e.error(t))})}function ar(i,e,t,r=0,y=!1){const E=e.schedule(function(){t(),y?i.add(this.schedule(null,r)):this.unsubscribe()},r);if(i.add(E),!y)return E}function qe(i,e,t=1/0){return n(e)?qe((r,y)=>ft((E,F)=>e(r,E,y,F))(rn(i(r,y))),t):("number"==typeof e&&(t=e),ot((r,y)=>function tD(i,e,t,r,y,E,F,O){const N=[];let U=0,j=0,q=!1;const nt=()=>{q&&!N.length&&!U&&e.complete()},rt=ut=>U<r?at(ut):N.push(ut),at=ut=>{E&&e.next(ut),U++;let vt=!1;rn(t(ut,j++)).subscribe(lt(e,pt=>{null==y||y(pt),E?rt(pt):e.next(pt)},()=>{vt=!0},void 0,()=>{if(vt)try{for(U--;N.length&&U<r;){const pt=N.shift();F?ar(e,F,()=>at(pt)):at(pt)}nt()}catch(pt){e.error(pt)}}))};return i.subscribe(lt(e,rt,()=>{q=!0,nt()})),()=>{null==O||O()}}(r,y,i,t)))}function Ko(i=1/0){return qe(J,i)}const Yn=new H(i=>i.complete());function nf(i){return i[i.length-1]}function qv(i){return n(nf(i))?i.pop():void 0}function Qo(i){return function iD(i){return i&&n(i.schedule)}(nf(i))?i.pop():void 0}function _v(i,e=0){return ot((t,r)=>{t.subscribe(lt(r,y=>ar(r,i,()=>r.next(y),e),()=>ar(r,i,()=>r.complete(),e),y=>ar(r,i,()=>r.error(y),e)))})}function tg(i,e=0){return ot((t,r)=>{r.add(i.schedule(()=>t.subscribe(r),e))})}function eg(i,e){if(!i)throw new Error("Iterable cannot be null");return new H(t=>{ar(t,e,()=>{const r=i[Symbol.asyncIterator]();ar(t,e,()=>{r.next().then(y=>{y.done?t.complete():t.next(y.value)})},0,!0)})})}function ri(i,e){return e?function uD(i,e){if(null!=i){if(Xv(i))return function rD(i,e){return rn(i).pipe(tg(e),_v(e))}(i,e);if(ef(i))return function oD(i,e){return new H(t=>{let r=0;return e.schedule(function(){r===i.length?t.complete():(t.next(i[r++]),t.closed||this.schedule())})})}(i,e);if(Yv(i))return function sD(i,e){return rn(i).pipe(tg(e),_v(e))}(i,e);if(jv(i))return eg(i,e);if(Kv(i))return function aD(i,e){return new H(t=>{let r;return ar(t,e,()=>{r=i[kv](),ar(t,e,()=>{let y,E;try{({value:y,done:E}=r.next())}catch(F){return void t.error(F)}E?t.complete():t.next(y)},0,!0)}),()=>n(null==r?void 0:r.return)&&r.return()})}(i,e);if(Zv(i))return function lD(i,e){return eg(Qv(i),e)}(i,e)}throw $v(i)}(i,e):rn(i)}function El(...i){const e=Qo(i),t=function nD(i,e){return"number"==typeof nf(i)?i.pop():e}(i,1/0),r=i;return r.length?1===r.length?rn(r[0]):Ko(t)(ri(r,e)):Yn}function Os(i){return i<=0?()=>Yn:ot((e,t)=>{let r=0;e.subscribe(lt(t,y=>{++r<=i&&(t.next(y),i<=r&&t.complete())}))})}function ig(i={}){const{connector:e=(()=>new Q),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:y=!0}=i;return E=>{let F=null,O=null,N=null,U=0,j=!1,q=!1;const nt=()=>{null==O||O.unsubscribe(),O=null},rt=()=>{nt(),F=N=null,j=q=!1},at=()=>{const ut=F;rt(),null==ut||ut.unsubscribe()};return ot((ut,vt)=>{U++,!q&&!j&&nt();const pt=N=null!=N?N:e();vt.add(()=>{U--,0===U&&!q&&!j&&(O=rf(at,y))}),pt.subscribe(vt),F||(F=new L({next:ct=>pt.next(ct),error:ct=>{q=!0,nt(),O=rf(rt,t,ct),pt.error(ct)},complete:()=>{j=!0,nt(),O=rf(rt,r),pt.complete()}}),ri(ut).subscribe(F))})(E)}}function rf(i,e,...t){return!0===e?(i(),null):!1===e?null:e(...t).pipe(Os(1)).subscribe(()=>i())}function Te(i){for(let e in i)if(i[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function sf(i,e){for(const t in e)e.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(i[t]=e[t])}function xe(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(xe).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const e=i.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function af(i,e){return null==i||""===i?null===e?"":e:null==e||""===e?i:i+" "+e}const hD=Te({__forward_ref__:Te});function Me(i){return i.__forward_ref__=Me,i.toString=function(){return xe(this())},i}function qt(i){return ng(i)?i():i}function ng(i){return"function"==typeof i&&i.hasOwnProperty(hD)&&i.__forward_ref__===Me}class wt extends Error{constructor(e,t){super(function lf(i,e){return`NG0${Math.abs(i)}${e?": "+e:""}`}(e,t)),this.code=e}}function Kt(i){return"string"==typeof i?i:null==i?"":String(i)}function Si(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Kt(i)}function Sl(i,e){const t=e?` in ${e}`:"";throw new wt(-201,`No provider for ${Si(i)} found${t}`)}function Hi(i,e){null==i&&function Pe(i,e,t,r){throw new Error(`ASSERTION ERROR: ${i}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,i,null,"!=")}function St(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function de(i){return{providers:i.providers||[],imports:i.imports||[]}}function uf(i){return rg(i,Al)||rg(i,og)}function rg(i,e){return i.hasOwnProperty(e)?i[e]:null}function sg(i){return i&&(i.hasOwnProperty(hf)||i.hasOwnProperty(mD))?i[hf]:null}const Al=Te({\u0275prov:Te}),hf=Te({\u0275inj:Te}),og=Te({ngInjectableDef:Te}),mD=Te({ngInjectorDef:Te});var Zt=(()=>((Zt=Zt||{})[Zt.Default=0]="Default",Zt[Zt.Host=1]="Host",Zt[Zt.Self=2]="Self",Zt[Zt.SkipSelf=4]="SkipSelf",Zt[Zt.Optional=8]="Optional",Zt))();let ff;function Pr(i){const e=ff;return ff=i,e}function ag(i,e,t){const r=uf(i);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Zt.Optional?null:void 0!==e?e:void Sl(xe(i),"Injector")}function wr(i){return{toString:i}.toString()}var xn=(()=>((xn=xn||{})[xn.OnPush=0]="OnPush",xn[xn.Default=1]="Default",xn))(),Cn=(()=>{return(i=Cn||(Cn={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Cn;var i})();const xD="undefined"!=typeof globalThis&&globalThis,CD="undefined"!=typeof window&&window,TD="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ce=xD||"undefined"!=typeof global&&global||CD||TD,Ls={},Ee=[],Ml=Te({\u0275cmp:Te}),cf=Te({\u0275dir:Te}),df=Te({\u0275pipe:Te}),lg=Te({\u0275mod:Te}),ur=Te({\u0275fac:Te}),Zo=Te({__NG_ELEMENT_ID__:Te});let ED=0;function si(i){return wr(()=>{const t={},r={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===xn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||Ee,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Cn.Emulated,id:"c",styles:i.styles||Ee,_:null,setInput:null,schemas:i.schemas||null,tView:null},y=i.directives,E=i.features,F=i.pipes;return r.id+=ED++,r.inputs=cg(i.inputs,t),r.outputs=cg(i.outputs),E&&E.forEach(O=>O(r)),r.directiveDefs=y?()=>("function"==typeof y?y():y).map(ug):null,r.pipeDefs=F?()=>("function"==typeof F?F():F).map(hg):null,r})}function ug(i){return mi(i)||function Ir(i){return i[cf]||null}(i)}function hg(i){return function Jr(i){return i[df]||null}(i)}const fg={};function ve(i){return wr(()=>{const e={type:i.type,bootstrap:i.bootstrap||Ee,declarations:i.declarations||Ee,imports:i.imports||Ee,exports:i.exports||Ee,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(fg[i.id]=i.type),e})}function cg(i,e){if(null==i)return Ls;const t={};for(const r in i)if(i.hasOwnProperty(r)){let y=i[r],E=y;Array.isArray(y)&&(E=y[1],y=y[0]),t[y]=r,e&&(e[y]=E)}return t}const yt=si;function Bi(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function mi(i){return i[Ml]||null}function sn(i,e){const t=i[lg]||null;if(!t&&!0===e)throw new Error(`Type ${xe(i)} does not have '\u0275mod' property.`);return t}function Xn(i){return Array.isArray(i)&&"object"==typeof i[1]}function En(i){return Array.isArray(i)&&!0===i[1]}function gf(i){return 0!=(8&i.flags)}function Pl(i){return 2==(2&i.flags)}function wl(i){return 1==(1&i.flags)}function Sn(i){return null!==i.template}function FD(i){return 0!=(512&i[2])}function es(i,e){return i.hasOwnProperty(ur)?i[ur]:null}class ID{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ai(){return pg}function pg(i){return i.type.prototype.ngOnChanges&&(i.setInput=LD),OD}function OD(){const i=gg(this),e=null==i?void 0:i.current;if(e){const t=i.previous;if(t===Ls)i.previous=e;else for(let r in e)t[r]=e[r];i.current=null,this.ngOnChanges(e)}}function LD(i,e,t,r){const y=gg(i)||function bD(i,e){return i[vg]=e}(i,{previous:Ls,current:null}),E=y.current||(y.current={}),F=y.previous,O=this.declaredInputs[t],N=F[O];E[O]=new ID(N&&N.currentValue,e,F===Ls),i[r]=e}Ai.ngInherit=!0;const vg="__ngSimpleChanges__";function gg(i){return i[vg]||null}let Tf;function ze(i){return!!i.listen}const mg={createRenderer:(i,e)=>function Ef(){return void 0!==Tf?Tf:"undefined"!=typeof document?document:void 0}()};function Ke(i){for(;Array.isArray(i);)i=i[0];return i}function Il(i,e){return Ke(e[i])}function ln(i,e){return Ke(e[i.index])}function Sf(i,e){return i.data[e]}function Wi(i,e){const t=e[i];return Xn(t)?t:t[0]}function yg(i){return 4==(4&i[2])}function Af(i){return 128==(128&i[2])}function Or(i,e){return null==e?null:i[e]}function xg(i){i[18]=0}function Mf(i,e){i[5]+=e;let t=i,r=i[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const jt={lFrame:Rg(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Cg(){return jt.bindingsEnabled}function xt(){return jt.lFrame.lView}function ue(){return jt.lFrame.tView}function Ol(i){return jt.lFrame.contextLView=i,i[8]}function _e(){let i=Tg();for(;null!==i&&64===i.type;)i=i.parent;return i}function Tg(){return jt.lFrame.currentTNode}function jn(i,e){const t=jt.lFrame;t.currentTNode=i,t.isParent=e}function Df(){return jt.lFrame.isParent}function Rf(){jt.lFrame.isParent=!1}function Ll(){return jt.isInCheckNoChangesMode}function bl(i){jt.isInCheckNoChangesMode=i}function Us(){return jt.lFrame.bindingIndex++}function fr(i){const e=jt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+i,t}function JD(i,e){const t=jt.lFrame;t.bindingIndex=t.bindingRootIndex=i,Ff(e)}function Ff(i){jt.lFrame.currentDirectiveIndex=i}function Ag(){return jt.lFrame.currentQueryIndex}function wf(i){jt.lFrame.currentQueryIndex=i}function _D(i){const e=i[1];return 2===e.type?e.declTNode:1===e.type?i[6]:null}function Mg(i,e,t){if(t&Zt.SkipSelf){let y=e,E=i;for(;!(y=y.parent,null!==y||t&Zt.Host||(y=_D(E),null===y||(E=E[15],10&y.type))););if(null===y)return!1;e=y,i=E}const r=jt.lFrame=Dg();return r.currentTNode=e,r.lView=i,!0}function Nl(i){const e=Dg(),t=i[1];jt.lFrame=e,e.currentTNode=t.firstChild,e.lView=i,e.tView=t,e.contextLView=i,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Dg(){const i=jt.lFrame,e=null===i?null:i.child;return null===e?Rg(i):e}function Rg(i){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=e),e}function Fg(){const i=jt.lFrame;return jt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Pg=Fg;function Bl(){const i=Fg();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Di(){return jt.lFrame.selectedIndex}function Lr(i){jt.lFrame.selectedIndex=i}function We(){const i=jt.lFrame;return Sf(i.tView,i.selectedIndex)}function Vl(i,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const E=i.data[t].type.prototype,{ngAfterContentInit:F,ngAfterContentChecked:O,ngAfterViewInit:N,ngAfterViewChecked:U,ngOnDestroy:j}=E;F&&(i.contentHooks||(i.contentHooks=[])).push(-t,F),O&&((i.contentHooks||(i.contentHooks=[])).push(t,O),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(t,O)),N&&(i.viewHooks||(i.viewHooks=[])).push(-t,N),U&&((i.viewHooks||(i.viewHooks=[])).push(t,U),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(t,U)),null!=j&&(i.destroyHooks||(i.destroyHooks=[])).push(t,j)}}function Gl(i,e,t){wg(i,e,3,t)}function Ul(i,e,t,r){(3&i[2])===t&&wg(i,e,t,r)}function If(i,e){let t=i[2];(3&t)===e&&(t&=2047,t+=1,i[2]=t)}function wg(i,e,t,r){const E=null!=r?r:-1,F=e.length-1;let O=0;for(let N=void 0!==r?65535&i[18]:0;N<F;N++)if("number"==typeof e[N+1]){if(O=e[N],null!=r&&O>=r)break}else e[N]<0&&(i[18]+=65536),(O<E||-1==E)&&(u1(i,t,e,N),i[18]=(4294901760&i[18])+N+2),N++}function u1(i,e,t,r){const y=t[r]<0,E=t[r+1],O=i[y?-t[r]:t[r]];if(y){if(i[2]>>11<i[18]>>16&&(3&i[2])===e){i[2]+=2048;try{E.call(O)}finally{}}}else try{E.call(O)}finally{}}class ea{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Hl(i,e,t){const r=ze(i);let y=0;for(;y<t.length;){const E=t[y];if("number"==typeof E){if(0!==E)break;y++;const F=t[y++],O=t[y++],N=t[y++];r?i.setAttribute(e,O,N,F):e.setAttributeNS(F,O,N)}else{const F=E,O=t[++y];Lf(F)?r&&i.setProperty(e,F,O):r?i.setAttribute(e,F,O):e.setAttribute(F,O),y++}}return y}function Ig(i){return 3===i||4===i||6===i}function Lf(i){return 64===i.charCodeAt(0)}function zl(i,e){if(null!==e&&0!==e.length)if(null===i||0===i.length)i=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const y=e[r];"number"==typeof y?t=y:0===t||Og(i,t,y,null,-1===t||2===t?e[++r]:null)}}return i}function Og(i,e,t,r,y){let E=0,F=i.length;if(-1===e)F=-1;else for(;E<i.length;){const O=i[E++];if("number"==typeof O){if(O===e){F=-1;break}if(O>e){F=E-1;break}}}for(;E<i.length;){const O=i[E];if("number"==typeof O)break;if(O===t){if(null===r)return void(null!==y&&(i[E+1]=y));if(r===i[E+1])return void(i[E+2]=y)}E++,null!==r&&E++,null!==y&&E++}-1!==F&&(i.splice(F,0,e),E=F+1),i.splice(E++,0,t),null!==r&&i.splice(E++,0,r),null!==y&&i.splice(E++,0,y)}function Lg(i){return-1!==i}function Hs(i){return 32767&i}function zs(i,e){let t=function p1(i){return i>>16}(i),r=e;for(;t>0;)r=r[15],t--;return r}let bf=!0;function Wl(i){const e=bf;return bf=i,e}let v1=0;function na(i,e){const t=Bf(i,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(i.injectorIndex=e.length,Nf(r.data,i),Nf(e,null),Nf(r.blueprint,null));const y=Yl(i,e),E=i.injectorIndex;if(Lg(y)){const F=Hs(y),O=zs(y,e),N=O[1].data;for(let U=0;U<8;U++)e[E+U]=O[F+U]|N[F+U]}return e[E+8]=y,E}function Nf(i,e){i.push(0,0,0,0,0,0,0,0,e)}function Bf(i,e){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===e[i.injectorIndex+8]?-1:i.injectorIndex}function Yl(i,e){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let t=0,r=null,y=e;for(;null!==y;){const E=y[1],F=E.type;if(r=2===F?E.declTNode:1===F?y[6]:null,null===r)return-1;if(t++,y=y[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Xl(i,e,t){!function g1(i,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Zo)&&(r=t[Zo]),null==r&&(r=t[Zo]=v1++);const y=255&r;e.data[i+(y>>5)]|=1<<y}(i,e,t)}function Bg(i,e,t){if(t&Zt.Optional)return i;Sl(e,"NodeInjector")}function Vg(i,e,t,r){if(t&Zt.Optional&&void 0===r&&(r=null),0==(t&(Zt.Self|Zt.Host))){const y=i[9],E=Pr(void 0);try{return y?y.get(e,r,t&Zt.Optional):ag(e,r,t&Zt.Optional)}finally{Pr(E)}}return Bg(r,e,t)}function Gg(i,e,t,r=Zt.Default,y){if(null!==i){const E=function C1(i){if("string"==typeof i)return i.charCodeAt(0)||0;const e=i.hasOwnProperty(Zo)?i[Zo]:void 0;return"number"==typeof e?e>=0?255&e:y1:e}(t);if("function"==typeof E){if(!Mg(e,i,r))return r&Zt.Host?Bg(y,t,r):Vg(e,t,r,y);try{const F=E(r);if(null!=F||r&Zt.Optional)return F;Sl(t)}finally{Pg()}}else if("number"==typeof E){let F=null,O=Bf(i,e),N=-1,U=r&Zt.Host?e[16][6]:null;for((-1===O||r&Zt.SkipSelf)&&(N=-1===O?Yl(i,e):e[O+8],-1!==N&&zg(r,!1)?(F=e[1],O=Hs(N),e=zs(N,e)):O=-1);-1!==O;){const j=e[1];if(Hg(E,O,j.data)){const q=x1(O,e,t,F,r,U);if(q!==Ug)return q}N=e[O+8],-1!==N&&zg(r,e[1].data[O+8]===U)&&Hg(E,O,e)?(F=j,O=Hs(N),e=zs(N,e)):O=-1}}}return Vg(e,t,r,y)}const Ug={};function y1(){return new Ws(_e(),xt())}function x1(i,e,t,r,y,E){const F=e[1],O=F.data[i+8],j=jl(O,F,t,null==r?Pl(O)&&bf:r!=F&&0!=(3&O.type),y&Zt.Host&&E===O);return null!==j?ra(e,F,j,O):Ug}function jl(i,e,t,r,y){const E=i.providerIndexes,F=e.data,O=1048575&E,N=i.directiveStart,j=E>>20,nt=y?O+j:i.directiveEnd;for(let rt=r?O:O+j;rt<nt;rt++){const at=F[rt];if(rt<N&&t===at||rt>=N&&at.type===t)return rt}if(y){const rt=F[N];if(rt&&Sn(rt)&&rt.type===t)return N}return null}function ra(i,e,t,r){let y=i[t];const E=e.data;if(function h1(i){return i instanceof ea}(y)){const F=y;F.resolving&&function fD(i,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${i}`:"";throw new wt(-200,`Circular dependency in DI detected for ${i}${t}`)}(Si(E[t]));const O=Wl(F.canSeeViewProviders);F.resolving=!0;const N=F.injectImpl?Pr(F.injectImpl):null;Mg(i,r,Zt.Default);try{y=i[t]=F.factory(void 0,E,i,r),e.firstCreatePass&&t>=r.directiveStart&&function l1(i,e,t){const{ngOnChanges:r,ngOnInit:y,ngDoCheck:E}=e.type.prototype;if(r){const F=pg(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(i,F),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i,F)}y&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-i,y),E&&((t.preOrderHooks||(t.preOrderHooks=[])).push(i,E),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i,E))}(t,E[t],e)}finally{null!==N&&Pr(N),Wl(O),F.resolving=!1,Pg()}}return y}function Hg(i,e,t){return!!(t[e+(i>>5)]&1<<i)}function zg(i,e){return!(i&Zt.Self||i&Zt.Host&&e)}class Ws{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Gg(this._tNode,this._lView,e,r,t)}}function Vt(i){return wr(()=>{const e=i.prototype.constructor,t=e[ur]||Vf(e),r=Object.prototype;let y=Object.getPrototypeOf(i.prototype).constructor;for(;y&&y!==r;){const E=y[ur]||Vf(y);if(E&&E!==t)return E;y=Object.getPrototypeOf(y)}return E=>new E})}function Vf(i){return ng(i)?()=>{const e=Vf(qt(i));return e&&e()}:es(i)}function Ys(i){return function m1(i,e){if("class"===e)return i.classes;if("style"===e)return i.styles;const t=i.attrs;if(t){const r=t.length;let y=0;for(;y<r;){const E=t[y];if(Ig(E))break;if(0===E)y+=2;else if("number"==typeof E)for(y++;y<r&&"string"==typeof t[y];)y++;else{if(E===e)return t[y+1];y+=2}}}return null}(_e(),i)}const js="__parameters__";function ks(i,e,t){return wr(()=>{const r=function Gf(i){return function(...t){if(i){const r=i(...t);for(const y in r)this[y]=r[y]}}}(e);function y(...E){if(this instanceof y)return r.apply(this,E),this;const F=new y(...E);return O.annotation=F,O;function O(N,U,j){const q=N.hasOwnProperty(js)?N[js]:Object.defineProperty(N,js,{value:[]})[js];for(;q.length<=j;)q.push(null);return(q[j]=q[j]||[]).push(F),N}}return t&&(y.prototype=Object.create(t.prototype)),y.prototype.ngMetadataName=i,y.annotationCls=y,y})}class It{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=St({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const E1=new It("AnalyzeForEntryComponents");function un(i,e){void 0===e&&(e=i);for(let t=0;t<i.length;t++){let r=i[t];Array.isArray(r)?(e===i&&(e=i.slice(0,t)),un(r,e)):e!==i&&e.push(r)}return e}function $n(i,e){i.forEach(t=>Array.isArray(t)?$n(t,e):e(t))}function Yg(i,e,t){e>=i.length?i.push(t):i.splice(e,0,t)}function $l(i,e){return e>=i.length-1?i.pop():i.splice(e,1)[0]}function aa(i,e){const t=[];for(let r=0;r<i;r++)t.push(e);return t}function Yi(i,e,t){let r=Ks(i,e);return r>=0?i[1|r]=t:(r=~r,function M1(i,e,t,r){let y=i.length;if(y==e)i.push(t,r);else if(1===y)i.push(r,i[0]),i[0]=t;else{for(y--,i.push(i[y-1],i[y]);y>e;)i[y]=i[y-2],y--;i[e]=t,i[e+1]=r}}(i,r,e,t)),r}function Hf(i,e){const t=Ks(i,e);if(t>=0)return i[1|t]}function Ks(i,e){return function $g(i,e,t){let r=0,y=i.length>>t;for(;y!==r;){const E=r+(y-r>>1),F=i[E<<t];if(e===F)return E<<t;F>e?y=E:r=E+1}return~(y<<t)}(i,e,1)}const la={},Wf="__NG_DI_FLAG__",Kl="ngTempTokenPath",O1=/\n/gm,Kg="__source",b1=Te({provide:String,useValue:Te});let ua;function Qg(i){const e=ua;return ua=i,e}function N1(i,e=Zt.Default){if(void 0===ua)throw new wt(203,"");return null===ua?ag(i,void 0,e):ua.get(i,e&Zt.Optional?null:void 0,e)}function mt(i,e=Zt.Default){return(function yD(){return ff}()||N1)(qt(i),e)}const ha=mt;function Yf(i){const e=[];for(let t=0;t<i.length;t++){const r=qt(i[t]);if(Array.isArray(r)){if(0===r.length)throw new wt(900,"");let y,E=Zt.Default;for(let F=0;F<r.length;F++){const O=r[F],N=B1(O);"number"==typeof N?-1===N?y=O.token:E|=N:y=O}e.push(mt(y,E))}else e.push(mt(r))}return e}function fa(i,e){return i[Wf]=e,i.prototype[Wf]=e,i}function B1(i){return i[Wf]}const ca=fa(ks("Inject",i=>({token:i})),-1),Xi=fa(ks("Optional"),8),is=fa(ks("SkipSelf"),4);let Zl;function Zs(i){var e;return(null===(e=function jf(){if(void 0===Zl&&(Zl=null,Ce.trustedTypes))try{Zl=Ce.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Zl}())||void 0===e?void 0:e.createHTML(i))||i}class ns{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Q1 extends ns{getTypeName(){return"HTML"}}class Z1 extends ns{getTypeName(){return"Style"}}class J1 extends ns{getTypeName(){return"Script"}}class q1 extends ns{getTypeName(){return"URL"}}class _1 extends ns{getTypeName(){return"ResourceURL"}}function ji(i){return i instanceof ns?i.changingThisBreaksApplicationSecurity:i}function kn(i,e){const t=rm(i);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function rm(i){return i instanceof ns&&i.getTypeName()||null}class sR{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Zs(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class oR{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Zs(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=Zs(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let y=t.length-1;0<y;y--){const F=t.item(y).name;("xmlns:ns1"===F||0===F.indexOf("ns1:"))&&e.removeAttribute(F)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const lR=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,uR=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function pa(i){return(i=String(i)).match(lR)||i.match(uR)?i:"unsafe:"+i}function Kn(i){const e={};for(const t of i.split(","))e[t]=!0;return e}function va(...i){const e={};for(const t of i)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const am=Kn("area,br,col,hr,img,wbr"),lm=Kn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),um=Kn("rp,rt"),kf=va(am,va(lm,Kn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),va(um,Kn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),va(um,lm)),Kf=Kn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qf=Kn("srcset"),hm=va(Kf,Qf,Kn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Kn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hR=Kn("script,style,template");class fR{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let y=this.checkClobberedElement(t,t.nextSibling);if(y){t=y;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!kf.hasOwnProperty(t))return this.sanitizedSomething=!0,!hR.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let y=0;y<r.length;y++){const E=r.item(y),F=E.name,O=F.toLowerCase();if(!hm.hasOwnProperty(O)){this.sanitizedSomething=!0;continue}let N=E.value;Kf[O]&&(N=pa(N)),Qf[O]&&(i=N,N=(i=String(i)).split(",").map(e=>pa(e.trim())).join(", ")),this.buf.push(" ",F,'="',fm(N),'"')}var i;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();kf.hasOwnProperty(t)&&!am.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(fm(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const cR=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dR=/([^\#-~ |!])/g;function fm(i){return i.replace(/&/g,"&amp;").replace(cR,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(dR,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ql;function cm(i,e){let t=null;try{ql=ql||function sm(i){const e=new oR(i);return function aR(){try{return!!(new window.DOMParser).parseFromString(Zs(""),"text/html")}catch(i){return!1}}()?new sR(e):e}(i);let r=e?String(e):"";t=ql.getInertBodyElement(r);let y=5,E=r;do{if(0===y)throw new Error("Failed to sanitize html because the input is unstable");y--,r=E,E=t.innerHTML,t=ql.getInertBodyElement(r)}while(r!==E);return Zs((new fR).sanitizeChildren(Zf(t)||t))}finally{if(t){const r=Zf(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Zf(i){return"content"in i&&function pR(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var fe=(()=>((fe=fe||{})[fe.NONE=0]="NONE",fe[fe.HTML=1]="HTML",fe[fe.STYLE=2]="STYLE",fe[fe.SCRIPT=3]="SCRIPT",fe[fe.URL=4]="URL",fe[fe.RESOURCE_URL=5]="RESOURCE_URL",fe))();const vm="__ngContext__";function xi(i,e){i[vm]=e}function _f(i){const e=function ma(i){return i[vm]||null}(i);return e?Array.isArray(e)?e:e.lView:null}function ec(i){return i.ngOriginalError}function IR(i,...e){i.error(...e)}class cr{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=function wR(i){return i&&i.ngErrorLogger||IR}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&ec(e);for(;t&&ec(t);)t=ec(t);return t||null}}const Cm=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ce))();function Qn(i){return i instanceof Function?i():i}var $i=(()=>(($i=$i||{})[$i.Important=1]="Important",$i[$i.DashCase=2]="DashCase",$i))();function nc(i,e){return undefined(i,e)}function ya(i){const e=i[3];return En(e)?e[3]:e}function rc(i){return Mm(i[13])}function sc(i){return Mm(i[4])}function Mm(i){for(;null!==i&&!En(i);)i=i[4];return i}function qs(i,e,t,r,y){if(null!=r){let E,F=!1;En(r)?E=r:Xn(r)&&(F=!0,r=r[0]);const O=Ke(r);0===i&&null!==t?null==y?Im(e,t,O):rs(e,t,O,y||null,!0):1===i&&null!==t?rs(e,t,O,y||null,!0):2===i?function Gm(i,e,t){const r=_l(i,e);r&&function tF(i,e,t,r){ze(i)?i.removeChild(e,t,r):e.removeChild(t)}(i,r,e,t)}(e,O,F):3===i&&e.destroyNode(O),null!=E&&function nF(i,e,t,r,y){const E=t[7];E!==Ke(t)&&qs(e,i,r,E,y);for(let O=10;O<t.length;O++){const N=t[O];xa(N[1],N,i,e,r,E)}}(e,i,E,t,y)}}function ac(i,e,t){if(ze(i))return i.createElement(e,t);{const r=null!==t?function GD(i){const e=i.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(t):null;return null===r?i.createElement(e):i.createElementNS(r,e)}}function Rm(i,e){const t=i[9],r=t.indexOf(e),y=e[3];1024&e[2]&&(e[2]&=-1025,Mf(y,-1)),t.splice(r,1)}function lc(i,e){if(i.length<=10)return;const t=10+e,r=i[t];if(r){const y=r[17];null!==y&&y!==i&&Rm(y,r),e>0&&(i[t-1][4]=r[4]);const E=$l(i,10+e);!function $R(i,e){xa(i,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const F=E[19];null!==F&&F.detachView(E[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Fm(i,e){if(!(256&e[2])){const t=e[11];ze(t)&&t.destroyNode&&xa(i,e,t,3,null,null),function QR(i){let e=i[13];if(!e)return uc(i[1],i);for(;e;){let t=null;if(Xn(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==i;)Xn(e)&&uc(e[1],e),e=e[3];null===e&&(e=i),Xn(e)&&uc(e[1],e),t=e&&e[4]}e=t}}(e)}}function uc(i,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function _R(i,e){let t;if(null!=i&&null!=(t=i.destroyHooks))for(let r=0;r<t.length;r+=2){const y=e[t[r]];if(!(y instanceof ea)){const E=t[r+1];if(Array.isArray(E))for(let F=0;F<E.length;F+=2){const O=y[E[F]],N=E[F+1];try{N.call(O)}finally{}}else try{E.call(y)}finally{}}}}(i,e),function qR(i,e){const t=i.cleanup,r=e[7];let y=-1;if(null!==t)for(let E=0;E<t.length-1;E+=2)if("string"==typeof t[E]){const F=t[E+1],O="function"==typeof F?F(e):Ke(e[F]),N=r[y=t[E+2]],U=t[E+3];"boolean"==typeof U?O.removeEventListener(t[E],N,U):U>=0?r[y=U]():r[y=-U].unsubscribe(),E+=2}else{const F=r[y=t[E+1]];t[E].call(F)}if(null!==r){for(let E=y+1;E<r.length;E++)r[E]();e[7]=null}}(i,e),1===e[1].type&&ze(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&En(e[3])){t!==e[3]&&Rm(t,e);const r=e[19];null!==r&&r.detachView(i)}}}function Pm(i,e,t){return function wm(i,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const y=i.data[r.directiveStart].encapsulation;if(y===Cn.None||y===Cn.Emulated)return null}return ln(r,t)}(i,e.parent,t)}function rs(i,e,t,r,y){ze(i)?i.insertBefore(e,t,r,y):e.insertBefore(t,r,y)}function Im(i,e,t){ze(i)?i.appendChild(e,t):e.appendChild(t)}function Om(i,e,t,r,y){null!==r?rs(i,e,t,r,y):Im(i,e,t)}function _l(i,e){return ze(i)?i.parentNode(e):e.parentNode}function Lm(i,e,t){return Nm(i,e,t)}let Nm=function bm(i,e,t){return 40&i.type?ln(i,t):null};function tu(i,e,t,r){const y=Pm(i,r,e),E=e[11],O=Lm(r.parent||e[6],r,e);if(null!=y)if(Array.isArray(t))for(let N=0;N<t.length;N++)Om(E,y,t[N],O,!1);else Om(E,y,t,O,!1)}function eu(i,e){if(null!==e){const t=e.type;if(3&t)return ln(e,i);if(4&t)return fc(-1,i[e.index]);if(8&t){const r=e.child;if(null!==r)return eu(i,r);{const y=i[e.index];return En(y)?fc(-1,y):Ke(y)}}if(32&t)return nc(e,i)()||Ke(i[e.index]);{const r=Vm(i,e);return null!==r?Array.isArray(r)?r[0]:eu(ya(i[16]),r):eu(i,e.next)}}return null}function Vm(i,e){return null!==e?i[16][6].projection[e.projection]:null}function fc(i,e){const t=10+i+1;if(t<e.length){const r=e[t],y=r[1].firstChild;if(null!==y)return eu(r,y)}return e[7]}function cc(i,e,t,r,y,E,F){for(;null!=t;){const O=r[t.index],N=t.type;if(F&&0===e&&(O&&xi(Ke(O),r),t.flags|=4),64!=(64&t.flags))if(8&N)cc(i,e,t.child,r,y,E,!1),qs(e,i,y,O,E);else if(32&N){const U=nc(t,r);let j;for(;j=U();)qs(e,i,y,j,E);qs(e,i,y,O,E)}else 16&N?Um(i,e,r,t,y,E):qs(e,i,y,O,E);t=F?t.projectionNext:t.next}}function xa(i,e,t,r,y,E){cc(t,r,i.firstChild,e,y,E,!1)}function Um(i,e,t,r,y,E){const F=t[16],N=F[6].projection[r.projection];if(Array.isArray(N))for(let U=0;U<N.length;U++)qs(e,i,y,N[U],E);else cc(i,e,N,F[3],y,E,!0)}function Hm(i,e,t){ze(i)?i.setAttribute(e,"style",t):e.style.cssText=t}function dc(i,e,t){ze(i)?""===t?i.removeAttribute(e,"class"):i.setAttribute(e,"class",t):e.className=t}function zm(i,e,t){let r=i.length;for(;;){const y=i.indexOf(e,t);if(-1===y)return y;if(0===y||i.charCodeAt(y-1)<=32){const E=e.length;if(y+E===r||i.charCodeAt(y+E)<=32)return y}t=y+1}}const Wm="ng-template";function sF(i,e,t){let r=0;for(;r<i.length;){let y=i[r++];if(t&&"class"===y){if(y=i[r],-1!==zm(y.toLowerCase(),e,0))return!0}else if(1===y){for(;r<i.length&&"string"==typeof(y=i[r++]);)if(y.toLowerCase()===e)return!0;return!1}}return!1}function Ym(i){return 4===i.type&&i.value!==Wm}function oF(i,e,t){return e===(4!==i.type||t?i.value:Wm)}function aF(i,e,t){let r=4;const y=i.attrs||[],E=function hF(i){for(let e=0;e<i.length;e++)if(Ig(i[e]))return e;return i.length}(y);let F=!1;for(let O=0;O<e.length;O++){const N=e[O];if("number"!=typeof N){if(!F)if(4&r){if(r=2|1&r,""!==N&&!oF(i,N,t)||""===N&&1===e.length){if(An(r))return!1;F=!0}}else{const U=8&r?N:e[++O];if(8&r&&null!==i.attrs){if(!sF(i.attrs,U,t)){if(An(r))return!1;F=!0}continue}const q=lF(8&r?"class":N,y,Ym(i),t);if(-1===q){if(An(r))return!1;F=!0;continue}if(""!==U){let nt;nt=q>E?"":y[q+1].toLowerCase();const rt=8&r?nt:null;if(rt&&-1!==zm(rt,U,0)||2&r&&U!==nt){if(An(r))return!1;F=!0}}}}else{if(!F&&!An(r)&&!An(N))return!1;if(F&&An(N))continue;F=!1,r=N|1&r}}return An(r)||F}function An(i){return 0==(1&i)}function lF(i,e,t,r){if(null===e)return-1;let y=0;if(r||!t){let E=!1;for(;y<e.length;){const F=e[y];if(F===i)return y;if(3===F||6===F)E=!0;else{if(1===F||2===F){let O=e[++y];for(;"string"==typeof O;)O=e[++y];continue}if(4===F)break;if(0===F){y+=4;continue}}y+=E?1:2}return-1}return function fF(i,e){let t=i.indexOf(4);if(t>-1)for(t++;t<i.length;){const r=i[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,i)}function Xm(i,e,t=!1){for(let r=0;r<e.length;r++)if(aF(i,e[r],t))return!0;return!1}function cF(i,e){t:for(let t=0;t<e.length;t++){const r=e[t];if(i.length===r.length){for(let y=0;y<i.length;y++)if(i[y]!==r[y])continue t;return!0}}return!1}function jm(i,e){return i?":not("+e.trim()+")":e}function dF(i){let e=i[0],t=1,r=2,y="",E=!1;for(;t<i.length;){let F=i[t];if("string"==typeof F)if(2&r){const O=i[++t];y+="["+F+(O.length>0?'="'+O+'"':"")+"]"}else 8&r?y+="."+F:4&r&&(y+=" "+F);else""!==y&&!An(F)&&(e+=jm(E,y),y=""),r=F,E=E||!An(r);t++}return""!==y&&(e+=jm(E,y)),e}const Qt={};function ce(i){$m(ue(),xt(),Di()+i,Ll())}function $m(i,e,t,r){if(!r)if(3==(3&e[2])){const E=i.preOrderCheckHooks;null!==E&&Gl(e,E,t)}else{const E=i.preOrderHooks;null!==E&&Ul(e,E,0,t)}Lr(t)}function iu(i,e){return i<<17|e<<2}function Mn(i){return i>>17&32767}function pc(i){return 2|i}function dr(i){return(131068&i)>>2}function vc(i,e){return-131069&i|e<<2}function gc(i){return 1|i}function ny(i,e){const t=i.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const y=t[r],E=t[r+1];if(-1!==E){const F=i.data[E];wf(y),F.contentQueries(2,e[E],E)}}}function Ca(i,e,t,r,y,E,F,O,N,U){const j=e.blueprint.slice();return j[0]=y,j[2]=140|r,xg(j),j[3]=j[15]=i,j[8]=t,j[10]=F||i&&i[10],j[11]=O||i&&i[11],j[12]=N||i&&i[12]||null,j[9]=U||i&&i[9]||null,j[6]=E,j[16]=2==e.type?i[16]:j,j}function _s(i,e,t,r,y){let E=i.data[e];if(null===E)E=function Mc(i,e,t,r,y){const E=Tg(),F=Df(),N=i.data[e]=function IF(i,e,t,r,y,E){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:y,attrs:E,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,F?E:E&&E.parent,t,e,r,y);return null===i.firstChild&&(i.firstChild=N),null!==E&&(F?null==E.child&&null!==N.parent&&(E.child=N):null===E.next&&(E.next=N)),N}(i,e,t,r,y),function ZD(){return jt.lFrame.inI18n}()&&(E.flags|=64);else if(64&E.type){E.type=t,E.value=r,E.attrs=y;const F=function ta(){const i=jt.lFrame,e=i.currentTNode;return i.isParent?e:e.parent}();E.injectorIndex=null===F?-1:F.injectorIndex}return jn(E,!0),E}function to(i,e,t,r){if(0===t)return-1;const y=e.length;for(let E=0;E<t;E++)e.push(r),i.blueprint.push(r),i.data.push(null);return y}function Ta(i,e,t){Nl(e);try{const r=i.viewQuery;null!==r&&bc(1,r,t);const y=i.template;null!==y&&ry(i,e,y,1,t),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&ny(i,e),i.staticViewQueries&&bc(2,i.viewQuery,t);const E=i.components;null!==E&&function FF(i,e){for(let t=0;t<e.length;t++)QF(i,e[t])}(e,E)}catch(r){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),r}finally{e[2]&=-5,Bl()}}function eo(i,e,t,r){const y=e[2];if(256==(256&y))return;Nl(e);const E=Ll();try{xg(e),function Eg(i){return jt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==t&&ry(i,e,t,2,r);const F=3==(3&y);if(!E)if(F){const U=i.preOrderCheckHooks;null!==U&&Gl(e,U,null)}else{const U=i.preOrderHooks;null!==U&&Ul(e,U,0,null),If(e,0)}if(function kF(i){for(let e=rc(i);null!==e;e=sc(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const y=t[r],E=y[3];0==(1024&y[2])&&Mf(E,1),y[2]|=1024}}}(e),function $F(i){for(let e=rc(i);null!==e;e=sc(e))for(let t=10;t<e.length;t++){const r=e[t],y=r[1];Af(r)&&eo(y,r,y.template,r[8])}}(e),null!==i.contentQueries&&ny(i,e),!E)if(F){const U=i.contentCheckHooks;null!==U&&Gl(e,U)}else{const U=i.contentHooks;null!==U&&Ul(e,U,1),If(e,1)}!function DF(i,e){const t=i.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const y=t[r];if(y<0)Lr(~y);else{const E=y,F=t[++r],O=t[++r];JD(F,E),O(2,e[E])}}}finally{Lr(-1)}}(i,e);const O=i.components;null!==O&&function RF(i,e){for(let t=0;t<e.length;t++)KF(i,e[t])}(e,O);const N=i.viewQuery;if(null!==N&&bc(2,N,r),!E)if(F){const U=i.viewCheckHooks;null!==U&&Gl(e,U)}else{const U=i.viewHooks;null!==U&&Ul(e,U,2),If(e,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),E||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Mf(e[3],-1))}finally{Bl()}}function PF(i,e,t,r){const y=e[10],E=!Ll(),F=yg(e);try{E&&!F&&y.begin&&y.begin(),F&&Ta(i,e,r),eo(i,e,t,r)}finally{E&&!F&&y.end&&y.end()}}function ry(i,e,t,r,y){const E=Di(),F=2&r;try{Lr(-1),F&&e.length>20&&$m(i,e,20,Ll()),t(r,y)}finally{Lr(E)}}function sy(i,e,t){if(gf(e)){const y=e.directiveEnd;for(let E=e.directiveStart;E<y;E++){const F=i.data[E];F.contentQueries&&F.contentQueries(1,t[E],E)}}}function Dc(i,e,t){!Cg()||(function GF(i,e,t,r){const y=t.directiveStart,E=t.directiveEnd;i.firstCreatePass||na(t,e),xi(r,e);const F=t.initialInputs;for(let O=y;O<E;O++){const N=i.data[O],U=Sn(N);U&&YF(e,t,N);const j=ra(e,i,O,t);xi(j,e),null!==F&&XF(0,O-y,j,N,0,F),U&&(Wi(t.index,e)[8]=j)}}(i,e,t,ln(t,e)),128==(128&t.flags)&&function UF(i,e,t){const r=t.directiveStart,y=t.directiveEnd,F=t.index,O=function qD(){return jt.lFrame.currentDirectiveIndex}();try{Lr(F);for(let N=r;N<y;N++){const U=i.data[N],j=e[N];Ff(N),(null!==U.hostBindings||0!==U.hostVars||null!==U.hostAttrs)&&dy(U,j)}}finally{Lr(-1),Ff(O)}}(i,e,t))}function Rc(i,e,t=ln){const r=e.localNames;if(null!==r){let y=e.index+1;for(let E=0;E<r.length;E+=2){const F=r[E+1],O=-1===F?t(e,i):i[F];i[y++]=O}}}function oy(i){const e=i.tView;return null===e||e.incompleteFirstPass?i.tView=su(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):e}function su(i,e,t,r,y,E,F,O,N,U){const j=20+r,q=j+y,nt=function wF(i,e){const t=[];for(let r=0;r<e;r++)t.push(r<i?null:Qt);return t}(j,q),rt="function"==typeof U?U():U;return nt[1]={type:i,blueprint:nt,template:t,queries:null,viewQuery:O,declTNode:e,data:nt.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof E?E():E,pipeRegistry:"function"==typeof F?F():F,firstChild:null,schemas:N,consts:rt,incompleteFirstPass:!1}}function uy(i,e,t,r){const y=xy(e);null===t?y.push(r):(y.push(t),i.firstCreatePass&&Cy(i).push(r,y.length-1))}function hy(i,e,t){for(let r in i)if(i.hasOwnProperty(r)){const y=i[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,y):t[r]=[e,y]}return t}function ki(i,e,t,r,y,E,F,O){const N=ln(e,t);let j,U=e.inputs;!O&&null!=U&&(j=U[r])?(Sy(i,t,j,r,y),Pl(e)&&function bF(i,e){const t=Wi(e,i);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function LF(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(r),y=null!=F?F(y,e.value||"",r):y,ze(E)?E.setProperty(N,r,y):Lf(r)||(N.setProperty?N.setProperty(r,y):N[r]=y))}function Fc(i,e,t,r){let y=!1;if(Cg()){const E=function HF(i,e,t){const r=i.directiveRegistry;let y=null;if(r)for(let E=0;E<r.length;E++){const F=r[E];Xm(t,F.selectors,!1)&&(y||(y=[]),Xl(na(t,e),i,F.type),Sn(F)?(py(i,t),y.unshift(F)):y.push(F))}return y}(i,e,t),F=null===r?null:{"":-1};if(null!==E){y=!0,vy(t,i.data.length,E.length);for(let j=0;j<E.length;j++){const q=E[j];q.providersResolver&&q.providersResolver(q)}let O=!1,N=!1,U=to(i,e,E.length,null);for(let j=0;j<E.length;j++){const q=E[j];t.mergedAttrs=zl(t.mergedAttrs,q.hostAttrs),gy(i,t,e,U,q),WF(U,q,F),null!==q.contentQueries&&(t.flags|=8),(null!==q.hostBindings||null!==q.hostAttrs||0!==q.hostVars)&&(t.flags|=128);const nt=q.type.prototype;!O&&(nt.ngOnChanges||nt.ngOnInit||nt.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(t.index),O=!0),!N&&(nt.ngOnChanges||nt.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t.index),N=!0),U++}!function OF(i,e){const r=e.directiveEnd,y=i.data,E=e.attrs,F=[];let O=null,N=null;for(let U=e.directiveStart;U<r;U++){const j=y[U],q=j.inputs,nt=null===E||Ym(e)?null:jF(q,E);F.push(nt),O=hy(q,U,O),N=hy(j.outputs,U,N)}null!==O&&(O.hasOwnProperty("class")&&(e.flags|=16),O.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=F,e.inputs=O,e.outputs=N}(i,t)}F&&function zF(i,e,t){if(e){const r=i.localNames=[];for(let y=0;y<e.length;y+=2){const E=t[e[y+1]];if(null==E)throw new wt(-301,!1);r.push(e[y],E)}}}(t,r,F)}return t.mergedAttrs=zl(t.mergedAttrs,t.attrs),y}function cy(i,e,t,r,y,E){const F=E.hostBindings;if(F){let O=i.hostBindingOpCodes;null===O&&(O=i.hostBindingOpCodes=[]);const N=~e.index;(function VF(i){let e=i.length;for(;e>0;){const t=i[--e];if("number"==typeof t&&t<0)return t}return 0})(O)!=N&&O.push(N),O.push(r,y,F)}}function dy(i,e){null!==i.hostBindings&&i.hostBindings(1,e)}function py(i,e){e.flags|=2,(i.components||(i.components=[])).push(e.index)}function WF(i,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=i;Sn(e)&&(t[""]=i)}}function vy(i,e,t){i.flags|=1,i.directiveStart=e,i.directiveEnd=e+t,i.providerIndexes=e}function gy(i,e,t,r,y){i.data[r]=y;const E=y.factory||(y.factory=es(y.type)),F=new ea(E,Sn(y),null);i.blueprint[r]=F,t[r]=F,cy(i,e,0,r,to(i,t,y.hostVars,Qt),y)}function YF(i,e,t){const r=ln(e,i),y=oy(t),E=i[10],F=ou(i,Ca(i,y,null,t.onPush?64:16,r,e,E,E.createRenderer(r,t),null,null));i[e.index]=F}function Zn(i,e,t,r,y,E){const F=ln(i,e);!function Pc(i,e,t,r,y,E,F){if(null==E)ze(i)?i.removeAttribute(e,y,t):e.removeAttribute(y);else{const O=null==F?Kt(E):F(E,r||"",y);ze(i)?i.setAttribute(e,y,O,t):t?e.setAttributeNS(t,y,O):e.setAttribute(y,O)}}(e[11],F,E,i.value,t,r,y)}function XF(i,e,t,r,y,E){const F=E[e];if(null!==F){const O=r.setInput;for(let N=0;N<F.length;){const U=F[N++],j=F[N++],q=F[N++];null!==O?r.setInput(t,q,U,j):t[j]=q}}}function jF(i,e){let t=null,r=0;for(;r<e.length;){const y=e[r];if(0!==y)if(5!==y){if("number"==typeof y)break;i.hasOwnProperty(y)&&(null===t&&(t=[]),t.push(y,i[y],e[r+1])),r+=2}else r+=2;else r+=4}return t}function my(i,e,t,r){return new Array(i,!0,!1,e,null,0,r,t,null,null)}function KF(i,e){const t=Wi(e,i);if(Af(t)){const r=t[1];80&t[2]?eo(r,t,r.template,t[8]):t[5]>0&&wc(t)}}function wc(i){for(let r=rc(i);null!==r;r=sc(r))for(let y=10;y<r.length;y++){const E=r[y];if(1024&E[2]){const F=E[1];eo(F,E,F.template,E[8])}else E[5]>0&&wc(E)}const t=i[1].components;if(null!==t)for(let r=0;r<t.length;r++){const y=Wi(t[r],i);Af(y)&&y[5]>0&&wc(y)}}function QF(i,e){const t=Wi(e,i),r=t[1];(function ZF(i,e){for(let t=e.length;t<i.blueprint.length;t++)e.push(i.blueprint[t])})(r,t),Ta(r,t,t[8])}function ou(i,e){return i[13]?i[14][4]=e:i[13]=e,i[14]=e,e}function Ic(i){for(;i;){i[2]|=64;const e=ya(i);if(FD(i)&&!e)return i;i=e}return null}function Lc(i,e,t){const r=e[10];r.begin&&r.begin();try{eo(i,e,i.template,t)}catch(y){throw Ey(e,y),y}finally{r.end&&r.end()}}function yy(i){!function Oc(i){for(let e=0;e<i.components.length;e++){const t=i.components[e],r=_f(t),y=r[1];PF(y,r,y.template,t)}}(i[8])}function bc(i,e,t){wf(0),e(i,t)}const tP=(()=>Promise.resolve(null))();function xy(i){return i[7]||(i[7]=[])}function Cy(i){return i.cleanup||(i.cleanup=[])}function Ey(i,e){const t=i[9],r=t?t.get(cr,null):null;r&&r.handleError(e)}function Sy(i,e,t,r,y){for(let E=0;E<t.length;){const F=t[E++],O=t[E++],N=e[F],U=i.data[F];null!==U.setInput?U.setInput(N,y,r,O):N[O]=y}}function pr(i,e,t){const r=Il(e,i);!function Dm(i,e,t){ze(i)?i.setValue(e,t):e.textContent=t}(i[11],r,t)}function au(i,e,t){let r=t?i.styles:null,y=t?i.classes:null,E=0;if(null!==e)for(let F=0;F<e.length;F++){const O=e[F];"number"==typeof O?E=O:1==E?y=af(y,O):2==E&&(r=af(r,O+": "+e[++F]+";"))}t?i.styles=r:i.stylesWithoutHost=r,t?i.classes=y:i.classesWithoutHost=y}const Nc=new It("INJECTOR",-1);class Ay{get(e,t=la){if(t===la){const r=new Error(`NullInjectorError: No provider for ${xe(e)}!`);throw r.name="NullInjectorError",r}return t}}const Bc=new It("Set Injector scope."),Ea={},nP={};let Vc;function My(){return void 0===Vc&&(Vc=new Ay),Vc}function Dy(i,e=null,t=null,r){const y=Ry(i,e,t,r);return y._resolveInjectorDefTypes(),y}function Ry(i,e=null,t=null,r){return new rP(i,t,e||My(),r)}class rP{constructor(e,t,r,y=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const E=[];t&&$n(t,O=>this.processProvider(O,e,t)),$n([e],O=>this.processInjectorType(O,[],E)),this.records.set(Nc,io(void 0,this));const F=this.records.get(Bc);this.scope=null!=F?F.value:null,this.source=y||("object"==typeof e?null:xe(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=la,r=Zt.Default){this.assertNotDestroyed();const y=Qg(this),E=Pr(void 0);try{if(!(r&Zt.SkipSelf)){let O=this.records.get(e);if(void 0===O){const N=function cP(i){return"function"==typeof i||"object"==typeof i&&i instanceof It}(e)&&uf(e);O=N&&this.injectableDefInScope(N)?io(Gc(e),Ea):null,this.records.set(e,O)}if(null!=O)return this.hydrate(e,O)}return(r&Zt.Self?My():this.parent).get(e,t=r&Zt.Optional&&t===la?null:t)}catch(F){if("NullInjectorError"===F.name){if((F[Kl]=F[Kl]||[]).unshift(xe(e)),y)throw F;return function V1(i,e,t,r){const y=i[Kl];throw e[Kg]&&y.unshift(e[Kg]),i.message=function G1(i,e,t,r=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let y=xe(e);if(Array.isArray(e))y=e.map(xe).join(" -> ");else if("object"==typeof e){let E=[];for(let F in e)if(e.hasOwnProperty(F)){let O=e[F];E.push(F+":"+("string"==typeof O?JSON.stringify(O):xe(O)))}y=`{${E.join(", ")}}`}return`${t}${r?"("+r+")":""}[${y}]: ${i.replace(O1,"\n  ")}`}("\n"+i.message,y,t,r),i.ngTokenPath=y,i[Kl]=null,i}(F,e,"R3InjectorError",this.source)}throw F}finally{Pr(E),Qg(y)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,y)=>e.push(xe(y))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new wt(205,!1)}processInjectorType(e,t,r){if(!(e=qt(e)))return!1;let y=sg(e);const E=null==y&&e.ngModule||void 0,F=void 0===E?e:E,O=-1!==r.indexOf(F);if(void 0!==E&&(y=sg(E)),null==y)return!1;if(null!=y.imports&&!O){let j;r.push(F);try{$n(y.imports,q=>{this.processInjectorType(q,t,r)&&(void 0===j&&(j=[]),j.push(q))})}finally{}if(void 0!==j)for(let q=0;q<j.length;q++){const{ngModule:nt,providers:rt}=j[q];$n(rt,at=>this.processProvider(at,nt,rt||Ee))}}this.injectorDefTypes.add(F);const N=es(F)||(()=>new F);this.records.set(F,io(N,Ea));const U=y.providers;if(null!=U&&!O){const j=e;$n(U,q=>this.processProvider(q,j,U))}return void 0!==E&&void 0!==e.providers}processProvider(e,t,r){let y=no(e=qt(e))?e:qt(e&&e.provide);const E=function oP(i,e,t){return Py(i)?io(void 0,i.useValue):io(Fy(i),Ea)}(e);if(no(e)||!0!==e.multi)this.records.get(y);else{let F=this.records.get(y);F||(F=io(void 0,Ea,!0),F.factory=()=>Yf(F.multi),this.records.set(y,F)),y=e,F.multi.push(e)}this.records.set(y,E)}hydrate(e,t){return t.value===Ea&&(t.value=nP,t.value=t.factory()),"object"==typeof t.value&&t.value&&function fP(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=qt(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Gc(i){const e=uf(i),t=null!==e?e.factory:es(i);if(null!==t)return t;if(i instanceof It)throw new wt(204,!1);if(i instanceof Function)return function sP(i){const e=i.length;if(e>0)throw aa(e,"?"),new wt(204,!1);const t=function vD(i){const e=i&&(i[Al]||i[og]);if(e){const t=function gD(i){if(i.hasOwnProperty("name"))return i.name;const e=(""+i).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(i);return null!==t?()=>t.factory(i):()=>new i}(i);throw new wt(204,!1)}function Fy(i,e,t){let r;if(no(i)){const y=qt(i);return es(y)||Gc(y)}if(Py(i))r=()=>qt(i.useValue);else if(function lP(i){return!(!i||!i.useFactory)}(i))r=()=>i.useFactory(...Yf(i.deps||[]));else if(function aP(i){return!(!i||!i.useExisting)}(i))r=()=>mt(qt(i.useExisting));else{const y=qt(i&&(i.useClass||i.provide));if(!function hP(i){return!!i.deps}(i))return es(y)||Gc(y);r=()=>new y(...Yf(i.deps))}return r}function io(i,e,t=!1){return{factory:i,value:e,multi:t?[]:void 0}}function Py(i){return null!==i&&"object"==typeof i&&b1 in i}function no(i){return"function"==typeof i}let ai=(()=>{class i{static create(t,r){var y;if(Array.isArray(t))return Dy({name:""},r,t,"");{const E=null!==(y=t.name)&&void 0!==y?y:"";return Dy({name:E},t.parent,t.providers,E)}}}return i.THROW_IF_NOT_FOUND=la,i.NULL=new Ay,i.\u0275prov=St({token:i,providedIn:"any",factory:()=>mt(Nc)}),i.__NG_ELEMENT_ID__=-1,i})();function CP(i,e){Vl(_f(i)[1],_e())}function Dt(i){let e=function zy(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),t=!0;const r=[i];for(;e;){let y;if(Sn(i))y=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new wt(903,"");y=e.\u0275dir}if(y){if(t){r.push(y);const F=i;F.inputs=zc(i.inputs),F.declaredInputs=zc(i.declaredInputs),F.outputs=zc(i.outputs);const O=y.hostBindings;O&&AP(i,O);const N=y.viewQuery,U=y.contentQueries;if(N&&EP(i,N),U&&SP(i,U),sf(i.inputs,y.inputs),sf(i.declaredInputs,y.declaredInputs),sf(i.outputs,y.outputs),Sn(y)&&y.data.animation){const j=i.data;j.animation=(j.animation||[]).concat(y.data.animation)}}const E=y.features;if(E)for(let F=0;F<E.length;F++){const O=E[F];O&&O.ngInherit&&O(i),O===Dt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function TP(i){let e=0,t=null;for(let r=i.length-1;r>=0;r--){const y=i[r];y.hostVars=e+=y.hostVars,y.hostAttrs=zl(y.hostAttrs,t=zl(t,y.hostAttrs))}}(r)}function zc(i){return i===Ls?{}:i===Ee?[]:i}function EP(i,e){const t=i.viewQuery;i.viewQuery=t?(r,y)=>{e(r,y),t(r,y)}:e}function SP(i,e){const t=i.contentQueries;i.contentQueries=t?(r,y,E)=>{e(r,y,E),t(r,y,E)}:e}function AP(i,e){const t=i.hostBindings;i.hostBindings=t?(r,y)=>{e(r,y),t(r,y)}:e}let lu=null;function ro(){if(!lu){const i=Ce.Symbol;if(i&&i.iterator)lu=i.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(lu=r)}}}return lu}function Sa(i){return!!Wc(i)&&(Array.isArray(i)||!(i instanceof Map)&&ro()in i)}function Wc(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Ci(i,e,t){return!Object.is(i[e],t)&&(i[e]=t,!0)}function ss(i,e,t,r){const y=Ci(i,e,t);return Ci(i,e+1,r)||y}function Fi(i,e,t,r){const y=xt();return Ci(y,Us(),e)&&(ue(),Zn(We(),y,i,e,t,r)),Fi}function oo(i,e,t,r){return Ci(i,Us(),t)?e+Kt(t)+r:Qt}function ao(i,e,t,r,y,E){const O=ss(i,function hr(){return jt.lFrame.bindingIndex}(),t,y);return fr(2),O?e+Kt(t)+r+Kt(y)+E:Qt}function Pi(i,e,t,r,y,E,F,O){const N=xt(),U=ue(),j=i+20,q=U.firstCreatePass?function IP(i,e,t,r,y,E,F,O,N){const U=e.consts,j=_s(e,i,4,F||null,Or(U,O));Fc(e,t,j,Or(U,N)),Vl(e,j);const q=j.tViews=su(2,j,r,y,E,e.directiveRegistry,e.pipeRegistry,null,e.schemas,U);return null!==e.queries&&(e.queries.template(e,j),q.queries=e.queries.embeddedTView(j)),j}(j,U,N,e,t,r,y,E,F):U.data[j];jn(q,!1);const nt=N[11].createComment("");tu(U,N,nt,q),xi(nt,N),ou(N,N[j]=my(nt,N,nt,q)),wl(q)&&Dc(U,N,q),null!=F&&Rc(N,q,O)}function st(i,e=Zt.Default){const t=xt();return null===t?mt(i,e):Gg(_e(),t,qt(i),e)}function kc(){throw new Error("invalid")}function ge(i,e,t){const r=xt();return Ci(r,Us(),e)&&ki(ue(),We(),r,i,e,r[11],t,!1),ge}function Kc(i,e,t,r,y){const F=y?"class":"style";Sy(i,t,e.inputs[F],F,r)}function Nt(i,e,t,r){const y=xt(),E=ue(),F=20+i,O=y[11],N=y[F]=ac(O,e,function a1(){return jt.lFrame.currentNamespace}()),U=E.firstCreatePass?function _P(i,e,t,r,y,E,F){const O=e.consts,U=_s(e,i,2,y,Or(O,E));return Fc(e,t,U,Or(O,F)),null!==U.attrs&&au(U,U.attrs,!1),null!==U.mergedAttrs&&au(U,U.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,U),U}(F,E,y,0,e,t,r):E.data[F];jn(U,!0);const j=U.mergedAttrs;null!==j&&Hl(O,N,j);const q=U.classes;null!==q&&dc(O,N,q);const nt=U.styles;return null!==nt&&Hm(O,N,nt),64!=(64&U.flags)&&tu(E,y,N,U),0===function XD(){return jt.lFrame.elementDepthCount}()&&xi(N,y),function jD(){jt.lFrame.elementDepthCount++}(),wl(U)&&(Dc(E,y,U),sy(E,U,y)),null!==r&&Rc(y,U),Nt}function Ot(){let i=_e();Df()?Rf():(i=i.parent,jn(i,!1));const e=i;!function $D(){jt.lFrame.elementDepthCount--}();const t=ue();return t.firstCreatePass&&(Vl(t,i),gf(i)&&t.queries.elementEnd(i)),null!=e.classesWithoutHost&&function c1(i){return 0!=(16&i.flags)}(e)&&Kc(t,e,xt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function d1(i){return 0!=(32&i.flags)}(e)&&Kc(t,e,xt(),e.stylesWithoutHost,!1),Ot}function Le(i,e,t,r){return Nt(i,e,t,r),Ot(),Le}function Ma(i,e,t){const r=xt(),y=ue(),E=i+20,F=y.firstCreatePass?function tw(i,e,t,r,y){const E=e.consts,F=Or(E,r),O=_s(e,i,8,"ng-container",F);return null!==F&&au(O,F,!0),Fc(e,t,O,Or(E,y)),null!==e.queries&&e.queries.elementStart(e,O),O}(E,y,r,e,t):y.data[E];jn(F,!0);const O=r[E]=r[11].createComment("");return tu(y,r,O,F),xi(O,r),wl(F)&&(Dc(y,r,F),sy(y,F,r)),null!=t&&Rc(r,F),Ma}function Da(){let i=_e();const e=ue();return Df()?Rf():(i=i.parent,jn(i,!1)),e.firstCreatePass&&(Vl(e,i),gf(i)&&e.queries.elementEnd(i)),Da}function fu(){return xt()}function Ra(i){return!!i&&"function"==typeof i.then}const Qc=function lx(i){return!!i&&"function"==typeof i.subscribe};function Se(i,e,t,r){const y=xt(),E=ue(),F=_e();return function hx(i,e,t,r,y,E,F,O){const N=wl(r),j=i.firstCreatePass&&Cy(i),q=e[8],nt=xy(e);let rt=!0;if(3&r.type||O){const vt=ln(r,e),pt=O?O(vt):vt,ct=nt.length,At=O?Pt=>O(Ke(Pt[r.index])):r.index;if(ze(t)){let Pt=null;if(!O&&N&&(Pt=function ew(i,e,t,r){const y=i.cleanup;if(null!=y)for(let E=0;E<y.length-1;E+=2){const F=y[E];if(F===t&&y[E+1]===r){const O=e[7],N=y[E+2];return O.length>N?O[N]:null}"string"==typeof F&&(E+=2)}return null}(i,e,y,r.index)),null!==Pt)(Pt.__ngLastListenerFn__||Pt).__ngNextListenerFn__=E,Pt.__ngLastListenerFn__=E,rt=!1;else{E=Zc(r,e,q,E,!1);const Jt=t.listen(pt,y,E);nt.push(E,Jt),j&&j.push(y,At,ct,ct+1)}}else E=Zc(r,e,q,E,!0),pt.addEventListener(y,E,F),nt.push(E),j&&j.push(y,At,ct,F)}else E=Zc(r,e,q,E,!1);const at=r.outputs;let ut;if(rt&&null!==at&&(ut=at[y])){const vt=ut.length;if(vt)for(let pt=0;pt<vt;pt+=2){const Be=e[ut[pt]][ut[pt+1]].subscribe(E),Ue=nt.length;nt.push(E,Be),j&&j.push(y,r.index,Ue,-(Ue+1))}}}(E,y,y[11],F,i,e,!!t,r),Se}function fx(i,e,t,r){try{return!1!==t(r)}catch(y){return Ey(i,y),!1}}function Zc(i,e,t,r,y){return function E(F){if(F===Function)return r;const O=2&i.flags?Wi(i.index,e):e;0==(32&e[2])&&Ic(O);let N=fx(e,0,r,F),U=E.__ngNextListenerFn__;for(;U;)N=fx(e,0,U,F)&&N,U=U.__ngNextListenerFn__;return y&&!1===N&&(F.preventDefault(),F.returnValue=!1),N}}function Rn(i=1){return function t1(i){return(jt.lFrame.contextLView=function e1(i,e){for(;i>0;)e=e[15],i--;return e}(i,jt.lFrame.contextLView))[8]}(i)}function iw(i,e){let t=null;const r=function uF(i){const e=i.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(i);for(let y=0;y<e.length;y++){const E=e[y];if("*"!==E){if(null===r?Xm(i,E,!0):cF(r,E))return y}else t=y}return t}function os(i){const e=xt()[16][6];if(!e.projection){const r=e.projection=aa(i?i.length:1,null),y=r.slice();let E=e.child;for(;null!==E;){const F=i?iw(E,i):0;null!==F&&(y[F]?y[F].projectionNext=E:r[F]=E,y[F]=E),E=E.next}}}function li(i,e=0,t){const r=xt(),y=ue(),E=_s(y,20+i,16,null,t||null);null===E.projection&&(E.projection=e),Rf(),64!=(64&E.flags)&&function iF(i,e,t){Um(e[11],0,e,t,Pm(i,t,e),Lm(t.parent||e[6],t,e))}(y,r,E)}function Tx(i,e,t,r,y){const E=i[t+1],F=null===e;let O=r?Mn(E):dr(E),N=!1;for(;0!==O&&(!1===N||F);){const j=i[O+1];sw(i[O],e)&&(N=!0,i[O+1]=r?gc(j):pc(j)),O=r?Mn(j):dr(j)}N&&(i[t+1]=r?pc(E):gc(E))}function sw(i,e){return null===i||null==e||(Array.isArray(i)?i[1]:i)===e||!(!Array.isArray(i)||"string"!=typeof e)&&Ks(i,e)>=0}const ei={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ex(i){return i.substring(ei.key,ei.keyEnd)}function ow(i){return i.substring(ei.value,ei.valueEnd)}function Ax(i,e){const t=ei.textEnd;let r=ei.key=go(i,e,t);return t===r?-1:(r=ei.keyEnd=function hw(i,e,t){let r;for(;e<t&&(45===(r=i.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(i,r,t),r=Dx(i,r,t),r=ei.value=go(i,r,t),r=ei.valueEnd=function fw(i,e,t){let r=-1,y=-1,E=-1,F=e,O=F;for(;F<t;){const N=i.charCodeAt(F++);if(59===N)return O;34===N||39===N?O=F=Rx(i,N,F,t):e===F-4&&85===E&&82===y&&76===r&&40===N?O=F=Rx(i,41,F,t):N>32&&(O=F),E=y,y=r,r=-33&N}return O}(i,r,t),Dx(i,r,t))}function go(i,e,t){for(;e<t&&i.charCodeAt(e)<=32;)e++;return e}function Dx(i,e,t,r){return(e=go(i,e,t))<t&&e++,e}function Rx(i,e,t,r){let y=-1,E=t;for(;E<r;){const F=i.charCodeAt(E++);if(F==e&&92!==y)return E;y=92==F&&92===y?0:F}throw new Error}function wi(i,e){return function Fn(i,e,t,r){const y=xt(),E=ue(),F=fr(2);E.firstUpdatePass&&wx(E,i,F,r),e!==Qt&&Ci(y,F,e)&&Ox(E,E.data[Di()],y,y[11],i,y[F+1]=function Cw(i,e){return null==i||("string"==typeof e?i+=e:"object"==typeof i&&(i=xe(ji(i)))),i}(e,t),r,F)}(i,e,null,!0),wi}function qn(i){!function Pn(i,e,t,r){const y=ue(),E=fr(2);y.firstUpdatePass&&wx(y,null,E,r);const F=xt();if(t!==Qt&&Ci(F,E,t)){const O=y.data[Di()];if(bx(O,r)&&!Px(y,E)){let N=r?O.classesWithoutHost:O.stylesWithoutHost;null!==N&&(t=af(N,t||"")),Kc(y,O,F,t,r)}else!function xw(i,e,t,r,y,E,F,O){y===Qt&&(y=Ee);let N=0,U=0,j=0<y.length?y[0]:null,q=0<E.length?E[0]:null;for(;null!==j||null!==q;){const nt=N<y.length?y[N+1]:void 0,rt=U<E.length?E[U+1]:void 0;let ut,at=null;j===q?(N+=2,U+=2,nt!==rt&&(at=q,ut=rt)):null===q||null!==j&&j<q?(N+=2,at=j):(U+=2,at=q,ut=rt),null!==at&&Ox(i,e,t,r,at,ut,F,O),j=N<y.length?y[N]:null,q=U<E.length?E[U]:null}}(y,O,F,F[11],F[E+1],F[E+1]=function yw(i,e,t){if(null==t||""===t)return Ee;const r=[],y=ji(t);if(Array.isArray(y))for(let E=0;E<y.length;E++)i(r,y[E],!0);else if("object"==typeof y)for(const E in y)y.hasOwnProperty(E)&&i(r,E,y[E]);else"string"==typeof y&&e(r,y);return r}(i,e,t),r,E)}}(Ix,cw,i,!1)}function cw(i,e){for(let t=function lw(i){return function Mx(i){ei.key=0,ei.keyEnd=0,ei.value=0,ei.valueEnd=0,ei.textEnd=i.length}(i),Ax(i,go(i,0,ei.textEnd))}(e);t>=0;t=Ax(e,t))Ix(i,Ex(e),ow(e))}function Px(i,e){return e>=i.expandoStartIndex}function wx(i,e,t,r){const y=i.data;if(null===y[t+1]){const E=y[Di()],F=Px(i,t);bx(E,r)&&null===e&&!F&&(e=!1),e=function pw(i,e,t,r){const y=function Pf(i){const e=jt.lFrame.currentDirectiveIndex;return-1===e?null:i[e]}(i);let E=r?e.residualClasses:e.residualStyles;if(null===y)0===(r?e.classBindings:e.styleBindings)&&(t=Fa(t=qc(null,i,e,t,r),e.attrs,r),E=null);else{const F=e.directiveStylingLast;if(-1===F||i[F]!==y)if(t=qc(y,i,e,t,r),null===E){let N=function vw(i,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==dr(r))return i[Mn(r)]}(i,e,r);void 0!==N&&Array.isArray(N)&&(N=qc(null,i,e,N[1],r),N=Fa(N,e.attrs,r),function gw(i,e,t,r){i[Mn(t?e.classBindings:e.styleBindings)]=r}(i,e,r,N))}else E=function mw(i,e,t){let r;const y=e.directiveEnd;for(let E=1+e.directiveStylingLast;E<y;E++)r=Fa(r,i[E].hostAttrs,t);return Fa(r,e.attrs,t)}(i,e,r)}return void 0!==E&&(r?e.residualClasses=E:e.residualStyles=E),t}(y,E,e,r),function nw(i,e,t,r,y,E){let F=E?e.classBindings:e.styleBindings,O=Mn(F),N=dr(F);i[r]=t;let j,U=!1;if(Array.isArray(t)){const q=t;j=q[1],(null===j||Ks(q,j)>0)&&(U=!0)}else j=t;if(y)if(0!==N){const nt=Mn(i[O+1]);i[r+1]=iu(nt,O),0!==nt&&(i[nt+1]=vc(i[nt+1],r)),i[O+1]=function gF(i,e){return 131071&i|e<<17}(i[O+1],r)}else i[r+1]=iu(O,0),0!==O&&(i[O+1]=vc(i[O+1],r)),O=r;else i[r+1]=iu(N,0),0===O?O=r:i[N+1]=vc(i[N+1],r),N=r;U&&(i[r+1]=pc(i[r+1])),Tx(i,j,r,!0),Tx(i,j,r,!1),function rw(i,e,t,r,y){const E=y?i.residualClasses:i.residualStyles;null!=E&&"string"==typeof e&&Ks(E,e)>=0&&(t[r+1]=gc(t[r+1]))}(e,j,i,r,E),F=iu(O,N),E?e.classBindings=F:e.styleBindings=F}(y,E,e,t,F,r)}}function qc(i,e,t,r,y){let E=null;const F=t.directiveEnd;let O=t.directiveStylingLast;for(-1===O?O=t.directiveStart:O++;O<F&&(E=e[O],r=Fa(r,E.hostAttrs,y),E!==i);)O++;return null!==i&&(t.directiveStylingLast=O),r}function Fa(i,e,t){const r=t?1:2;let y=-1;if(null!==e)for(let E=0;E<e.length;E++){const F=e[E];"number"==typeof F?y=F:y===r&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Yi(i,F,!!t||e[++E]))}return void 0===i?null:i}function Ix(i,e,t){Yi(i,e,ji(t))}function Ox(i,e,t,r,y,E,F,O){if(!(3&e.type))return;const N=i.data,U=N[O+1];cu(function Qm(i){return 1==(1&i)}(U)?Lx(N,e,t,y,dr(U),F):void 0)||(cu(E)||function Km(i){return 2==(2&i)}(U)&&(E=Lx(N,null,t,y,O,F)),function rF(i,e,t,r,y){const E=ze(i);if(e)y?E?i.addClass(t,r):t.classList.add(r):E?i.removeClass(t,r):t.classList.remove(r);else{let F=-1===r.indexOf("-")?void 0:$i.DashCase;if(null==y)E?i.removeStyle(t,r,F):t.style.removeProperty(r);else{const O="string"==typeof y&&y.endsWith("!important");O&&(y=y.slice(0,-10),F|=$i.Important),E?i.setStyle(t,r,y,F):t.style.setProperty(r,y,O?"important":"")}}}(r,F,Il(Di(),t),y,E))}function Lx(i,e,t,r,y,E){const F=null===e;let O;for(;y>0;){const N=i[y],U=Array.isArray(N),j=U?N[1]:N,q=null===j;let nt=t[y+1];nt===Qt&&(nt=q?Ee:void 0);let rt=q?Hf(nt,r):j===r?nt:void 0;if(U&&!cu(rt)&&(rt=Hf(N,r)),cu(rt)&&(O=rt,F))return O;const at=i[y+1];y=F?Mn(at):dr(at)}if(null!==e){let N=E?e.residualClasses:e.residualStyles;null!=N&&(O=Hf(N,r))}return O}function cu(i){return void 0!==i}function bx(i,e){return 0!=(i.flags&(e?16:32))}function ie(i,e=""){const t=xt(),r=ue(),y=i+20,E=r.firstCreatePass?_s(r,y,1,e,null):r.data[y],F=t[y]=function oc(i,e){return ze(i)?i.createText(e):i.createTextNode(e)}(t[11],e);tu(r,t,F,E),jn(E,!1)}function Vr(i){return du("",i,""),Vr}function du(i,e,t){const r=xt(),y=oo(r,i,e,t);return y!==Qt&&pr(r,Di(),y),du}function _c(i,e,t,r,y){const E=xt(),F=ao(E,i,e,t,r,y);return F!==Qt&&pr(E,Di(),F),_c}function td(i,e,t){const r=xt();return Ci(r,Us(),e)&&ki(ue(),We(),r,i,e,r[11],t,!0),td}const as=void 0;var Uw=["en",[["a","p"],["AM","PM"],as],[["AM","PM"],as,as],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],as,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],as,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",as,"{1} 'at' {0}",as],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Gw(i){const t=Math.floor(Math.abs(i)),r=i.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let mo={};function Ii(i){const e=function Hw(i){return i.toLowerCase().replace(/_/g,"-")}(i);let t=t0(e);if(t)return t;const r=e.split("-")[0];if(t=t0(r),t)return t;if("en"===r)return Uw;throw new Error(`Missing locale data for the locale "${i}".`)}function t0(i){return i in mo||(mo[i]=Ce.ng&&Ce.ng.common&&Ce.ng.common.locales&&Ce.ng.common.locales[i]),mo[i]}var Ft=(()=>((Ft=Ft||{})[Ft.LocaleId=0]="LocaleId",Ft[Ft.DayPeriodsFormat=1]="DayPeriodsFormat",Ft[Ft.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ft[Ft.DaysFormat=3]="DaysFormat",Ft[Ft.DaysStandalone=4]="DaysStandalone",Ft[Ft.MonthsFormat=5]="MonthsFormat",Ft[Ft.MonthsStandalone=6]="MonthsStandalone",Ft[Ft.Eras=7]="Eras",Ft[Ft.FirstDayOfWeek=8]="FirstDayOfWeek",Ft[Ft.WeekendRange=9]="WeekendRange",Ft[Ft.DateFormat=10]="DateFormat",Ft[Ft.TimeFormat=11]="TimeFormat",Ft[Ft.DateTimeFormat=12]="DateTimeFormat",Ft[Ft.NumberSymbols=13]="NumberSymbols",Ft[Ft.NumberFormats=14]="NumberFormats",Ft[Ft.CurrencyCode=15]="CurrencyCode",Ft[Ft.CurrencySymbol=16]="CurrencySymbol",Ft[Ft.CurrencyName=17]="CurrencyName",Ft[Ft.Currencies=18]="Currencies",Ft[Ft.Directionality=19]="Directionality",Ft[Ft.PluralCase=20]="PluralCase",Ft[Ft.ExtraData=21]="ExtraData",Ft))();const pu="en-US";let e0=pu;function nd(i,e,t,r,y){if(i=qt(i),Array.isArray(i))for(let E=0;E<i.length;E++)nd(i[E],e,t,r,y);else{const E=ue(),F=xt();let O=no(i)?i:qt(i.provide),N=Fy(i);const U=_e(),j=1048575&U.providerIndexes,q=U.directiveStart,nt=U.providerIndexes>>20;if(no(i)||!i.multi){const rt=new ea(N,y,st),at=sd(O,e,y?j:j+nt,q);-1===at?(Xl(na(U,F),E,O),rd(E,i,e.length),e.push(O),U.directiveStart++,U.directiveEnd++,y&&(U.providerIndexes+=1048576),t.push(rt),F.push(rt)):(t[at]=rt,F[at]=rt)}else{const rt=sd(O,e,j+nt,q),at=sd(O,e,j,j+nt),ut=rt>=0&&t[rt],vt=at>=0&&t[at];if(y&&!vt||!y&&!ut){Xl(na(U,F),E,O);const pt=function GI(i,e,t,r,y){const E=new ea(i,t,st);return E.multi=[],E.index=e,E.componentProviders=0,D0(E,y,r&&!t),E}(y?VI:BI,t.length,y,r,N);!y&&vt&&(t[at].providerFactory=pt),rd(E,i,e.length,0),e.push(O),U.directiveStart++,U.directiveEnd++,y&&(U.providerIndexes+=1048576),t.push(pt),F.push(pt)}else rd(E,i,rt>-1?rt:at,D0(t[y?at:rt],N,!y&&r));!y&&r&&vt&&t[at].componentProviders++}}}function rd(i,e,t,r){const y=no(e),E=function uP(i){return!!i.useClass}(e);if(y||E){const N=(E?qt(e.useClass):e).prototype.ngOnDestroy;if(N){const U=i.destroyHooks||(i.destroyHooks=[]);if(!y&&e.multi){const j=U.indexOf(t);-1===j?U.push(t,[r,N]):U[j+1].push(r,N)}else U.push(t,N)}}}function D0(i,e,t){return t&&i.componentProviders++,i.multi.push(e)-1}function sd(i,e,t,r){for(let y=t;y<r;y++)if(e[y]===i)return y;return-1}function BI(i,e,t,r){return od(this.multi,[])}function VI(i,e,t,r){const y=this.multi;let E;if(this.providerFactory){const F=this.providerFactory.componentProviders,O=ra(t,t[1],this.providerFactory.index,r);E=O.slice(0,F),od(y,E);for(let N=F;N<O.length;N++)E.push(O[N])}else E=[],od(y,E);return E}function od(i,e){for(let t=0;t<i.length;t++)e.push((0,i[t])());return e}function Re(i,e=[]){return t=>{t.providersResolver=(r,y)=>function NI(i,e,t){const r=ue();if(r.firstCreatePass){const y=Sn(i);nd(t,r.data,r.blueprint,y,!0),nd(e,r.data,r.blueprint,y,!1)}}(r,y?y(i):i,e)}}class R0{}class zI{resolveComponentFactory(e){throw function HI(i){const e=Error(`No component factory found for ${xe(i)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=i,e}(e)}}let xo=(()=>{class i{}return i.NULL=new zI,i})();function WI(){return Co(_e(),xt())}function Co(i,e){return new $t(ln(i,e))}let $t=(()=>{class i{constructor(t){this.nativeElement=t}}return i.__NG_ELEMENT_ID__=WI,i})();function YI(i){return i instanceof $t?i.nativeElement:i}class La{}let wn=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function jI(){const i=xt(),t=Wi(_e().index,i);return function XI(i){return i[11]}(Xn(t)?t:i)}(),i})(),$I=(()=>{class i{}return i.\u0275prov=St({token:i,providedIn:"root",factory:()=>null}),i})();class Gr{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const kI=new Gr("13.2.3"),ad={};function xu(i,e,t,r,y=!1){for(;null!==t;){const E=e[t.index];if(null!==E&&r.push(Ke(E)),En(E))for(let O=10;O<E.length;O++){const N=E[O],U=N[1].firstChild;null!==U&&xu(N[1],N,U,r)}const F=t.type;if(8&F)xu(i,e,t.child,r);else if(32&F){const O=nc(t,e);let N;for(;N=O();)r.push(N)}else if(16&F){const O=Vm(e,t);if(Array.isArray(O))r.push(...O);else{const N=ya(e[16]);xu(N[1],N,O,r,!0)}}t=y?t.projectionNext:t.next}return r}class ba{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return xu(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(En(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(lc(e,r),$l(t,r))}this._attachedToViewContainer=!1}Fm(this._lView[1],this._lView)}onDestroy(e){uy(this._lView[1],this._lView,null,e)}markForCheck(){Ic(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Lc(this._lView[1],this._lView,this.context)}checkNoChanges(){!function qF(i,e,t){bl(!0);try{Lc(i,e,t)}finally{bl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new wt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function KR(i,e){xa(i,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new wt(902,"");this._appRef=e}}class KI extends ba{constructor(e){super(e),this._view=e}detectChanges(){yy(this._view)}checkNoChanges(){!function _F(i){bl(!0);try{yy(i)}finally{bl(!1)}}(this._view)}get context(){return null}}class P0 extends xo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=mi(e);return new ld(t,this.ngModule)}}function w0(i){const e=[];for(let t in i)i.hasOwnProperty(t)&&e.push({propName:i[t],templateName:t});return e}const ZI=new It("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Cm});class ld extends R0{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function pF(i){return i.map(dF).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return w0(this.componentDef.inputs)}get outputs(){return w0(this.componentDef.outputs)}create(e,t,r,y){const E=(y=y||this.ngModule)?function JI(i,e){return{get:(t,r,y)=>{const E=i.get(t,ad,y);return E!==ad||r===ad?E:e.get(t,r,y)}}}(e,y.injector):e,F=E.get(La,mg),O=E.get($I,null),N=F.createRenderer(null,this.componentDef),U=this.componentDef.selectors[0][0]||"div",j=r?function ly(i,e,t){if(ze(i))return i.selectRootElement(e,t===Cn.ShadowDom);let r="string"==typeof e?i.querySelector(e):e;return r.textContent="",r}(N,r,this.componentDef.encapsulation):ac(F.createRenderer(null,this.componentDef),U,function QI(i){const e=i.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(U)),q=this.componentDef.onPush?576:528,nt=function Hy(i,e){return{components:[],scheduler:i||Cm,clean:tP,playerHandler:e||null,flags:0}}(),rt=su(0,null,null,1,0,null,null,null,null,null),at=Ca(null,rt,nt,q,null,null,F,N,O,E);let ut,vt;Nl(at);try{const pt=function Gy(i,e,t,r,y,E){const F=t[1];t[20]=i;const N=_s(F,20,2,"#host",null),U=N.mergedAttrs=e.hostAttrs;null!==U&&(au(N,U,!0),null!==i&&(Hl(y,i,U),null!==N.classes&&dc(y,i,N.classes),null!==N.styles&&Hm(y,i,N.styles)));const j=r.createRenderer(i,e),q=Ca(t,oy(e),null,e.onPush?64:16,t[20],N,r,j,E||null,null);return F.firstCreatePass&&(Xl(na(N,t),F,e.type),py(F,N),vy(N,t.length,1)),ou(t,q),t[20]=q}(j,this.componentDef,at,F,N);if(j)if(r)Hl(N,j,["ng-version",kI.full]);else{const{attrs:ct,classes:At}=function vF(i){const e=[],t=[];let r=1,y=2;for(;r<i.length;){let E=i[r];if("string"==typeof E)2===y?""!==E&&e.push(E,i[++r]):8===y&&t.push(E);else{if(!An(y))break;y=E}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);ct&&Hl(N,j,ct),At&&At.length>0&&dc(N,j,At.join(" "))}if(vt=Sf(rt,20),void 0!==t){const ct=vt.projection=[];for(let At=0;At<this.ngContentSelectors.length;At++){const Pt=t[At];ct.push(null!=Pt?Array.from(Pt):null)}}ut=function Uy(i,e,t,r,y){const E=t[1],F=function BF(i,e,t){const r=_e();i.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),gy(i,r,e,to(i,e,1,null),t));const y=ra(e,i,r.directiveStart,r);xi(y,e);const E=ln(r,e);return E&&xi(E,e),y}(E,t,e);if(r.components.push(F),i[8]=F,y&&y.forEach(N=>N(F,e)),e.contentQueries){const N=_e();e.contentQueries(1,F,N.directiveStart)}const O=_e();return!E.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Lr(O.index),cy(t[1],O,0,O.directiveStart,O.directiveEnd,e),dy(e,F)),F}(pt,this.componentDef,at,nt,[CP]),Ta(rt,at,null)}finally{Bl()}return new _I(this.componentType,ut,Co(vt,at),at,vt)}}class _I extends class UI{}{constructor(e,t,r,y,E){super(),this.location=r,this._rootLView=y,this._tNode=E,this.instance=t,this.hostView=this.changeDetectorRef=new KI(y),this.componentType=e}get injector(){return new Ws(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class vr{}class I0{}const To=new Map;class b0 extends vr{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new P0(this);const r=sn(e);this._bootstrapComponents=Qn(r.bootstrap),this._r3Injector=Ry(e,t,[{provide:vr,useValue:this},{provide:xo,useValue:this.componentFactoryResolver}],xe(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=ai.THROW_IF_NOT_FOUND,r=Zt.Default){return e===ai||e===vr||e===Nc?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ud extends I0{constructor(e){super(),this.moduleType=e,null!==sn(e)&&function eO(i){const e=new Set;!function t(r){const y=sn(r,!0),E=y.id;null!==E&&(function O0(i,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${i} - ${xe(e)} vs ${xe(e.name)}`)}(E,To.get(E),r),To.set(E,r));const F=Qn(y.imports);for(const O of F)e.has(O)||(e.add(O),t(O))}(i)}(e)}create(e){return new b0(this.moduleType,e)}}function B0(i,e,t,r,y,E,F){const O=e+t;return ss(i,O,y,E)?function Jn(i,e,t){return i[e]=t}(i,O+2,F?r.call(F,y,E):r(y,E)):function Na(i,e){const t=i[e];return t===Qt?void 0:t}(i,O+2)}function z0(i,e,t,r){const y=i+20,E=xt(),F=function Gs(i,e){return i[e]}(E,y);return function Ba(i,e){return i[1].data[e].pure}(E,y)?B0(E,function Mi(){const i=jt.lFrame;let e=i.bindingRootIndex;return-1===e&&(e=i.bindingRootIndex=i.tView.bindingStartIndex),e}(),e,F.transform,t,r,F):F.transform(t,r)}function hd(i){return e=>{setTimeout(i,void 0,e)}}const be=class mO extends Q{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var y,E,F;let O=e,N=t||(()=>null),U=r;if(e&&"object"==typeof e){const q=e;O=null===(y=q.next)||void 0===y?void 0:y.bind(q),N=null===(E=q.error)||void 0===E?void 0:E.bind(q),U=null===(F=q.complete)||void 0===F?void 0:F.bind(q)}this.__isAsync&&(N=hd(N),O&&(O=hd(O)),U&&(U=hd(U)));const j=super.subscribe({next:O,error:N,complete:U});return e instanceof h&&e.add(j),j}};function yO(){return this._results[ro()]()}class fd{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=ro(),r=fd.prototype;r[t]||(r[t]=yO)}get changes(){return this._changes||(this._changes=new be)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const y=un(e);(this._changesDetected=!function S1(i,e,t){if(i.length!==e.length)return!1;for(let r=0;r<i.length;r++){let y=i[r],E=e[r];if(t&&(y=t(y),E=t(E)),E!==y)return!1}return!0}(r._results,y,t))&&(r._results=y,r.length=y.length,r.last=y[this.length-1],r.first=y[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let gr=(()=>{class i{}return i.__NG_ELEMENT_ID__=TO,i})();const xO=gr,CO=class extends xO{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=Ca(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[19];return null!==E&&(r[19]=E.createEmbeddedView(t)),Ta(t,r,e),new ba(r)}};function TO(){return Cu(_e(),xt())}function Cu(i,e){return 4&i.type?new CO(e,i,Co(i,e)):null}let In=(()=>{class i{}return i.__NG_ELEMENT_ID__=EO,i})();function EO(){return X0(_e(),xt())}const SO=In,W0=class extends SO{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Co(this._hostTNode,this._hostLView)}get injector(){return new Ws(this._hostTNode,this._hostLView)}get parentInjector(){const e=Yl(this._hostTNode,this._hostLView);if(Lg(e)){const t=zs(e,this._hostLView),r=Hs(e);return new Ws(t[1].data[r+8],t)}return new Ws(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Y0(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const y=e.createEmbeddedView(t||{});return this.insert(y,r),y}createComponent(e,t,r,y,E){const F=e&&!function oa(i){return"function"==typeof i}(e);let O;if(F)O=t;else{const q=t||{};O=q.index,r=q.injector,y=q.projectableNodes,E=q.ngModuleRef}const N=F?e:new ld(mi(e)),U=r||this.parentInjector;if(!E&&null==N.ngModule){const nt=(F?U:this.parentInjector).get(vr,null);nt&&(E=nt)}const j=N.create(U,y,void 0,E);return this.insert(j.hostView,O),j}insert(e,t){const r=e._lView,y=r[1];if(function YD(i){return En(i[3])}(r)){const j=this.indexOf(e);if(-1!==j)this.detach(j);else{const q=r[3],nt=new W0(q,q[6],q[3]);nt.detach(nt.indexOf(e))}}const E=this._adjustIndex(t),F=this._lContainer;!function ZR(i,e,t,r){const y=10+r,E=t.length;r>0&&(t[y-1][4]=e),r<E-10?(e[4]=t[y],Yg(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const F=e[17];null!==F&&t!==F&&function JR(i,e){const t=i[9];e[16]!==e[3][3][16]&&(i[2]=!0),null===t?i[9]=[e]:t.push(e)}(F,e);const O=e[19];null!==O&&O.insertView(i),e[2]|=128}(y,r,F,E);const O=fc(E,F),N=r[11],U=_l(N,F[7]);return null!==U&&function kR(i,e,t,r,y,E){r[0]=y,r[6]=e,xa(i,r,t,1,y,E)}(y,F[6],N,r,U,O),e.attachToViewContainerRef(),Yg(cd(F),E,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Y0(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=lc(this._lContainer,t);r&&($l(cd(this._lContainer),t),Fm(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=lc(this._lContainer,t);return r&&null!=$l(cd(this._lContainer),t)?new ba(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Y0(i){return i[8]}function cd(i){return i[8]||(i[8]=[])}function X0(i,e){let t;const r=e[i.index];if(En(r))t=r;else{let y;if(8&i.type)y=Ke(r);else{const E=e[11];y=E.createComment("");const F=ln(i,e);rs(E,_l(E,F),y,function eF(i,e){return ze(i)?i.nextSibling(e):e.nextSibling}(E,F),!1)}e[i.index]=t=my(r,e,y,i),ou(e,t)}return new W0(t,i,e)}class dd{constructor(e){this.queryList=e,this.matches=null}clone(){return new dd(this.queryList)}setDirty(){this.queryList.setDirty()}}class pd{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,y=[];for(let E=0;E<r;E++){const F=t.getByIndex(E);y.push(this.queries[F.indexInDeclarationView].clone())}return new pd(y)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Q0(e,t).matches&&this.queries[t].setDirty()}}class j0{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class vd{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const y=null!==t?t.length:0,E=this.getByIndex(r).embeddedTView(e,y);E&&(E.indexInDeclarationView=r,null!==t?t.push(E):t=[E])}return null!==t?new vd(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class gd{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new gd(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let y=0;y<r.length;y++){const E=r[y];this.matchTNodeWithReadOption(e,t,DO(t,E)),this.matchTNodeWithReadOption(e,t,jl(t,e,E,!1,!1))}else r===gr?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,jl(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const y=this.metadata.read;if(null!==y)if(y===$t||y===In||y===gr&&4&t.type)this.addMatch(t.index,-2);else{const E=jl(t,e,y,!1,!1);null!==E&&this.addMatch(t.index,E)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function DO(i,e){const t=i.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function FO(i,e,t,r){return-1===t?function RO(i,e){return 11&i.type?Co(i,e):4&i.type?Cu(i,e):null}(e,i):-2===t?function PO(i,e,t){return t===$t?Co(e,i):t===gr?Cu(e,i):t===In?X0(e,i):void 0}(i,e,r):ra(i,i[1],t,e)}function $0(i,e,t,r){const y=e[19].queries[r];if(null===y.matches){const E=i.data,F=t.matches,O=[];for(let N=0;N<F.length;N+=2){const U=F[N];O.push(U<0?null:FO(e,E[U],F[N+1],t.metadata.read))}y.matches=O}return y.matches}function md(i,e,t,r){const y=i.queries.getByIndex(t),E=y.matches;if(null!==E){const F=$0(i,e,y,t);for(let O=0;O<E.length;O+=2){const N=E[O];if(N>0)r.push(F[O/2]);else{const U=E[O+1],j=e[-N];for(let q=10;q<j.length;q++){const nt=j[q];nt[17]===nt[3]&&md(nt[1],nt,U,r)}if(null!==j[9]){const q=j[9];for(let nt=0;nt<q.length;nt++){const rt=q[nt];md(rt[1],rt,U,r)}}}}}return r}function ci(i){const e=xt(),t=ue(),r=Ag();wf(r+1);const y=Q0(t,r);if(i.dirty&&yg(e)===(2==(2&y.metadata.flags))){if(null===y.matches)i.reset([]);else{const E=y.crossesNgTemplate?md(t,e,r,[]):$0(t,e,y,r);i.reset(E,YI),i.notifyOnChanges()}return!0}return!1}function Va(i,e,t){const r=ue();r.firstCreatePass&&(K0(r,new j0(i,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),k0(r,xt(),e)}function Ki(i,e,t,r){const y=ue();if(y.firstCreatePass){const E=_e();K0(y,new j0(e,t,r),E.index),function IO(i,e){const t=i.contentQueries||(i.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(i.queries.length-1,e)}(y,i),2==(2&t)&&(y.staticContentQueries=!0)}k0(y,xt(),t)}function di(){return function wO(i,e){return i[19].queries[e].queryList}(xt(),Ag())}function k0(i,e,t){const r=new fd(4==(4&t));uy(i,e,r,r.destroy),null===e[19]&&(e[19]=new pd),e[19].queries.push(new dd(r))}function K0(i,e,t){null===i.queries&&(i.queries=new vd),i.queries.track(new gd(e,t))}function Q0(i,e){return i.queries.getByIndex(e)}function Su(...i){}const Au=new It("Application Initializer");let So=(()=>{class i{constructor(t){this.appInits=t,this.resolve=Su,this.reject=Su,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,y)=>{this.resolve=r,this.reject=y})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let y=0;y<this.appInits.length;y++){const E=this.appInits[y]();if(Ra(E))t.push(E);else if(Qc(E)){const F=new Promise((O,N)=>{E.subscribe({complete:O,error:N})});t.push(F)}}Promise.all(t).then(()=>{r()}).catch(y=>{this.reject(y)}),0===t.length&&r(),this.initialized=!0}}return i.\u0275fac=function(t){return new(t||i)(mt(Au,8))},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();const Ua=new It("AppId"),ZO={provide:Ua,useFactory:function QO(){return`${Sd()}${Sd()}${Sd()}`},deps:[]};function Sd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const cC=new It("Platform Initializer"),Qi=new It("Platform ID"),Ad=new It("appBootstrapListener");let dC=(()=>{class i{log(t){console.log(t)}warn(t){console.warn(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();const mr=new It("LocaleId"),pC=new It("DefaultCurrencyCode");class JO{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Mu=(()=>{class i{compileModuleSync(t){return new ud(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),E=Qn(sn(t).declarations).reduce((F,O)=>{const N=mi(O);return N&&F.push(new ld(N)),F},[]);return new JO(r,E)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();const _O=(()=>Promise.resolve(0))();function Md(i){"undefined"==typeof Zone?_O.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class pe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new be(!1),this.onMicrotaskEmpty=new be(!1),this.onStable=new be(!1),this.onError=new be(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const y=this;y._nesting=0,y._outer=y._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(y._inner=y._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(y._inner=y._inner.fork(Zone.longStackTraceZoneSpec)),y.shouldCoalesceEventChangeDetection=!r&&t,y.shouldCoalesceRunChangeDetection=r,y.lastRequestAnimationFrameId=-1,y.nativeRequestAnimationFrame=function tL(){let i=Ce.requestAnimationFrame,e=Ce.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&e){const t=i[Zone.__symbol__("OriginalDelegate")];t&&(i=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function nL(i){const e=()=>{!function iL(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Ce,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Rd(i),i.isCheckStableRunning=!0,Dd(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Rd(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,y,E,F,O)=>{try{return vC(i),t.invokeTask(y,E,F,O)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===E.type||i.shouldCoalesceRunChangeDetection)&&e(),gC(i)}},onInvoke:(t,r,y,E,F,O,N)=>{try{return vC(i),t.invoke(y,E,F,O,N)}finally{i.shouldCoalesceRunChangeDetection&&e(),gC(i)}},onHasTask:(t,r,y,E)=>{t.hasTask(y,E),r===y&&("microTask"==E.change?(i._hasPendingMicrotasks=E.microTask,Rd(i),Dd(i)):"macroTask"==E.change&&(i.hasPendingMacrotasks=E.macroTask))},onHandleError:(t,r,y,E)=>(t.handleError(y,E),i.runOutsideAngular(()=>i.onError.emit(E)),!1)})}(y)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pe.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(pe.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,y){const E=this._inner,F=E.scheduleEventTask("NgZoneEvent: "+y,e,eL,Su,Su);try{return E.runTask(F,t,r)}finally{E.cancelTask(F)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const eL={};function Dd(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Rd(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function vC(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function gC(i){i._nesting--,Dd(i)}class rL{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new be,this.onMicrotaskEmpty=new be,this.onStable=new be,this.onError=new be}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,y){return e.apply(t,r)}}let Fd=(()=>{class i{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pe.assertNotInAngularZone(),Md(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Md(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,y){let E=-1;r&&r>0&&(E=setTimeout(()=>{this._callbacks=this._callbacks.filter(F=>F.timeoutId!==E),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:E,updateCb:y})}whenStable(t,r,y){if(y&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,y),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,y){return[]}}return i.\u0275fac=function(t){return new(t||i)(mt(pe))},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})(),mC=(()=>{class i{constructor(){this._applications=new Map,Pd.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Pd.findTestabilityInTree(this,t,r)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();class sL{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let On,Pd=new sL;const yC=new It("AllowMultipleToken");class xC{constructor(e,t){this.name=e,this.token=t}}function CC(i,e,t=[]){const r=`Platform: ${e}`,y=new It(r);return(E=[])=>{let F=TC();if(!F||F.injector.get(yC,!1))if(i)i(t.concat(E).concat({provide:y,useValue:!0}));else{const O=t.concat(E).concat({provide:y,useValue:!0},{provide:Bc,useValue:"platform"});!function uL(i){if(On&&!On.destroyed&&!On.injector.get(yC,!1))throw new wt(400,"");On=i.get(EC);const e=i.get(cC,null);e&&e.forEach(t=>t())}(ai.create({providers:O,name:r}))}return function hL(i){const e=TC();if(!e)throw new wt(401,"");return e}()}}function TC(){return On&&!On.destroyed?On:null}let EC=(()=>{class i{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const O=function fL(i,e){let t;return t="noop"===i?new rL:("zone.js"===i?void 0:i)||new pe({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),N=[{provide:pe,useValue:O}];return O.run(()=>{const U=ai.create({providers:N,parent:this.injector,name:t.moduleType.name}),j=t.create(U),q=j.injector.get(cr,null);if(!q)throw new wt(402,"");return O.runOutsideAngular(()=>{const nt=O.onError.subscribe({next:rt=>{q.handleError(rt)}});j.onDestroy(()=>{wd(this._modules,j),nt.unsubscribe()})}),function cL(i,e,t){try{const r=t();return Ra(r)?r.catch(y=>{throw e.runOutsideAngular(()=>i.handleError(y)),y}):r}catch(r){throw e.runOutsideAngular(()=>i.handleError(r)),r}}(q,O,()=>{const nt=j.injector.get(So);return nt.runInitializers(),nt.donePromise.then(()=>(function Xw(i){Hi(i,"Expected localeId to be defined"),"string"==typeof i&&(e0=i.toLowerCase().replace(/_/g,"-"))}(j.injector.get(mr,pu)||pu),this._moduleDoBootstrap(j),j))})})}bootstrapModule(t,r=[]){const y=SC({},r);return function aL(i,e,t){const r=new ud(t);return Promise.resolve(r)}(0,0,t).then(E=>this.bootstrapModuleFactory(E,y))}_moduleDoBootstrap(t){const r=t.injector.get(Ha);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(y=>r.bootstrap(y));else{if(!t.instance.ngDoBootstrap)throw new wt(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new wt(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(t){return new(t||i)(mt(ai))},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();function SC(i,e){return Array.isArray(e)?e.reduce(SC,i):Object.assign(Object.assign({},i),e)}let Ha=(()=>{class i{constructor(t,r,y,E,F){this._zone=t,this._injector=r,this._exceptionHandler=y,this._componentFactoryResolver=E,this._initStatus=F,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const O=new H(U=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{U.next(this._stable),U.complete()})}),N=new H(U=>{let j;this._zone.runOutsideAngular(()=>{j=this._zone.onStable.subscribe(()=>{pe.assertNotInAngularZone(),Md(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,U.next(!0))})})});const q=this._zone.onUnstable.subscribe(()=>{pe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{U.next(!1)}))});return()=>{j.unsubscribe(),q.unsubscribe()}});this.isStable=El(O,N.pipe(ig()))}bootstrap(t,r){if(!this._initStatus.done)throw new wt(405,"");let y;y=t instanceof R0?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(y.componentType);const E=function lL(i){return i.isBoundToModule}(y)?void 0:this._injector.get(vr),O=y.create(ai.NULL,[],r||y.selector,E),N=O.location.nativeElement,U=O.injector.get(Fd,null),j=U&&O.injector.get(mC);return U&&j&&j.registerApplication(N,U),O.onDestroy(()=>{this.detachView(O.hostView),wd(this.components,O),j&&j.unregisterApplication(N)}),this._loadComponent(O),O}tick(){if(this._runningTick)throw new wt(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;wd(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ad,[]).concat(this._bootstrapListeners).forEach(y=>y(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(t){return new(t||i)(mt(pe),mt(ai),mt(cr),mt(xo),mt(So))},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();function wd(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}let MC=!0,za=(()=>{class i{}return i.__NG_ELEMENT_ID__=vL,i})();function vL(i){return function gL(i,e,t){if(Pl(i)&&!t){const r=Wi(i.index,e);return new ba(r,r)}return 47&i.type?new ba(e[16],e):null}(_e(),xt(),16==(16&i))}class wC{constructor(){}supports(e){return Sa(e)}create(e){return new EL(e)}}const TL=(i,e)=>e;class EL{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||TL}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,y=0,E=null;for(;t||r;){const F=!r||t&&t.currentIndex<OC(r,y,E)?t:r,O=OC(F,y,E),N=F.currentIndex;if(F===r)y--,r=r._nextRemoved;else if(t=t._next,null==F.previousIndex)y++;else{E||(E=[]);const U=O-y,j=N-y;if(U!=j){for(let nt=0;nt<U;nt++){const rt=nt<E.length?E[nt]:E[nt]=0,at=rt+nt;j<=at&&at<U&&(E[nt]=rt+1)}E[F.previousIndex]=j-U}}O!==N&&e(F,O,N)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Sa(e))throw new wt(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let y,E,F,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let O=0;O<this.length;O++)E=e[O],F=this._trackByFn(O,E),null!==t&&Object.is(t.trackById,F)?(r&&(t=this._verifyReinsertion(t,E,F,O)),Object.is(t.item,E)||this._addIdentityChange(t,E)):(t=this._mismatch(t,E,F,O),r=!0),t=t._next}else y=0,function wP(i,e){if(Array.isArray(i))for(let t=0;t<i.length;t++)e(i[t]);else{const t=i[ro()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,O=>{F=this._trackByFn(y,O),null!==t&&Object.is(t.trackById,F)?(r&&(t=this._verifyReinsertion(t,O,F,y)),Object.is(t.item,O)||this._addIdentityChange(t,O)):(t=this._mismatch(t,O,F,y),r=!0),t=t._next,y++}),this.length=y;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,y){let E;return null===e?E=this._itTail:(E=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,E,y)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,y))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,E,y)):e=this._addAfter(new SL(t,r),E,y),e}_verifyReinsertion(e,t,r,y){let E=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==E?e=this._reinsertAfter(E,e._prev,y):e.currentIndex!=y&&(e.currentIndex=y,this._addToMoves(e,y)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const y=e._prevRemoved,E=e._nextRemoved;return null===y?this._removalsHead=E:y._nextRemoved=E,null===E?this._removalsTail=y:E._prevRemoved=y,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const y=null===t?this._itHead:t._next;return e._next=y,e._prev=t,null===y?this._itTail=e:y._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new IC),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new IC),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class SL{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AL{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class IC{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new AL,this.map.set(t,r)),r.add(e)}get(e,t){const y=this.map.get(e);return y?y.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function OC(i,e,t){const r=i.previousIndex;if(null===r)return r;let y=0;return t&&r<t.length&&(y=t[r]),r+e+y}class LC{constructor(){}supports(e){return e instanceof Map||Wc(e)}create(){return new ML}}class ML{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Wc(e)))throw new wt(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,y)=>{if(t&&t.key===y)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const E=this._getOrCreateRecordForKey(y,r);t=this._insertBeforeOrAppend(t,E)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const y=this._records.get(e);this._maybeAddToChanges(y,t);const E=y._prev,F=y._next;return E&&(E._next=F),F&&(F._prev=E),y._next=null,y._prev=null,y}const r=new DL(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class DL{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bC(){return new Ao([new wC])}let Ao=(()=>{class i{constructor(t){this.factories=t}static create(t,r){if(null!=r){const y=r.factories.slice();t=t.concat(y)}return new i(t)}static extend(t){return{provide:i,useFactory:r=>i.create(t,r||bC()),deps:[[i,new is,new Xi]]}}find(t){const r=this.factories.find(y=>y.supports(t));if(null!=r)return r;throw new wt(901,"")}}return i.\u0275prov=St({token:i,providedIn:"root",factory:bC}),i})();function NC(){return new Ur([new LC])}let Ur=(()=>{class i{constructor(t){this.factories=t}static create(t,r){if(r){const y=r.factories.slice();t=t.concat(y)}return new i(t)}static extend(t){return{provide:i,useFactory:r=>i.create(t,r||NC()),deps:[[i,new is,new Xi]]}}find(t){const r=this.factories.find(E=>E.supports(t));if(r)return r;throw new wt(901,"")}}return i.\u0275prov=St({token:i,providedIn:"root",factory:NC}),i})();const RL=[new LC],PL=new Ao([new wC]),wL=new Ur(RL),IL=CC(null,"core",[{provide:Qi,useValue:"unknown"},{provide:EC,deps:[ai]},{provide:mC,deps:[]},{provide:dC,deps:[]}]),BL=[{provide:Ha,useClass:Ha,deps:[pe,ai,cr,xo,So]},{provide:ZI,deps:[pe],useFactory:function VL(i){let e=[];return i.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:So,useClass:So,deps:[[new Xi,Au]]},{provide:Mu,useClass:Mu,deps:[]},ZO,{provide:Ao,useFactory:function OL(){return PL},deps:[]},{provide:Ur,useFactory:function LL(){return wL},deps:[]},{provide:mr,useFactory:function bL(i){return i||function NL(){return"undefined"!=typeof $localize&&$localize.locale||pu}()},deps:[[new ca(mr),new Xi,new is]]},{provide:pC,useValue:"USD"}];let GL=(()=>{class i{constructor(t){}}return i.\u0275fac=function(t){return new(t||i)(mt(Ha))},i.\u0275mod=ve({type:i}),i.\u0275inj=de({providers:BL}),i})(),Fu=null;function tr(){return Fu}const me=new It("DocumentToken");let us=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=St({token:i,factory:function(){return function WL(){return mt(BC)}()},providedIn:"platform"}),i})();const YL=new It("Location Initialized");let BC=(()=>{class i extends us{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return tr().getBaseHref(this._doc)}onPopState(t){const r=tr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=tr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,y){VC()?this._history.pushState(t,r,y):this.location.hash=y}replaceState(t,r,y){VC()?this._history.replaceState(t,r,y):this.location.hash=y}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return i.\u0275fac=function(t){return new(t||i)(mt(me))},i.\u0275prov=St({token:i,factory:function(){return function XL(){return new BC(mt(me))}()},providedIn:"platform"}),i})();function VC(){return!!window.history.pushState}function Nd(i,e){if(0==i.length)return e;if(0==e.length)return i;let t=0;return i.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?i+e.substring(1):1==t?i+e:i+"/"+e}function GC(i){const e=i.match(/#|\?|$/),t=e&&e.index||i.length;return i.slice(0,t-("/"===i[t-1]?1:0))+i.slice(t)}function yr(i){return i&&"?"!==i[0]?"?"+i:i}let Mo=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=St({token:i,factory:function(){return function jL(i){const e=mt(me).location;return new UC(mt(us),e&&e.origin||"")}()},providedIn:"root"}),i})();const Bd=new It("appBaseHref");let UC=(()=>{class i extends Mo{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Nd(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+yr(this._platformLocation.search),y=this._platformLocation.hash;return y&&t?`${r}${y}`:r}pushState(t,r,y,E){const F=this.prepareExternalUrl(y+yr(E));this._platformLocation.pushState(t,r,F)}replaceState(t,r,y,E){const F=this.prepareExternalUrl(y+yr(E));this._platformLocation.replaceState(t,r,F)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,y;null===(y=(r=this._platformLocation).historyGo)||void 0===y||y.call(r,t)}}return i.\u0275fac=function(t){return new(t||i)(mt(us),mt(Bd,8))},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})(),$L=(()=>{class i extends Mo{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Nd(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,y,E){let F=this.prepareExternalUrl(y+yr(E));0==F.length&&(F=this._platformLocation.pathname),this._platformLocation.pushState(t,r,F)}replaceState(t,r,y,E){let F=this.prepareExternalUrl(y+yr(E));0==F.length&&(F=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,F)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,y;null===(y=(r=this._platformLocation).historyGo)||void 0===y||y.call(r,t)}}return i.\u0275fac=function(t){return new(t||i)(mt(us),mt(Bd,8))},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})(),Vd=(()=>{class i{constructor(t,r){this._subject=new be,this._urlChangeListeners=[],this._platformStrategy=t;const y=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=GC(HC(y)),this._platformStrategy.onPopState(E=>{this._subject.emit({url:this.path(!0),pop:!0,state:E.state,type:E.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+yr(r))}normalize(t){return i.stripTrailingSlash(function KL(i,e){return i&&e.startsWith(i)?e.substring(i.length):e}(this._baseHref,HC(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",y=null){this._platformStrategy.pushState(y,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+yr(r)),y)}replaceState(t,r="",y=null){this._platformStrategy.replaceState(y,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+yr(r)),y)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,y;null===(y=(r=this._platformStrategy).historyGo)||void 0===y||y.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(y=>y(t,r))}subscribe(t,r,y){return this._subject.subscribe({next:t,error:r,complete:y})}}return i.normalizeQueryParams=yr,i.joinWithSlash=Nd,i.stripTrailingSlash=GC,i.\u0275fac=function(t){return new(t||i)(mt(Mo),mt(us))},i.\u0275prov=St({token:i,factory:function(){return function kL(){return new Vd(mt(Mo),mt(us))}()},providedIn:"root"}),i})();function HC(i){return i.replace(/\/index.html$/,"")}var Qe=(()=>((Qe=Qe||{})[Qe.Zero=0]="Zero",Qe[Qe.One=1]="One",Qe[Qe.Two=2]="Two",Qe[Qe.Few=3]="Few",Qe[Qe.Many=4]="Many",Qe[Qe.Other=5]="Other",Qe))(),ke=(()=>((ke=ke||{})[ke.Format=0]="Format",ke[ke.Standalone=1]="Standalone",ke))(),se=(()=>((se=se||{})[se.Narrow=0]="Narrow",se[se.Abbreviated=1]="Abbreviated",se[se.Wide=2]="Wide",se[se.Short=3]="Short",se))(),Ve=(()=>((Ve=Ve||{})[Ve.Short=0]="Short",Ve[Ve.Medium=1]="Medium",Ve[Ve.Long=2]="Long",Ve[Ve.Full=3]="Full",Ve))(),zt=(()=>((zt=zt||{})[zt.Decimal=0]="Decimal",zt[zt.Group=1]="Group",zt[zt.List=2]="List",zt[zt.PercentSign=3]="PercentSign",zt[zt.PlusSign=4]="PlusSign",zt[zt.MinusSign=5]="MinusSign",zt[zt.Exponential=6]="Exponential",zt[zt.SuperscriptingExponent=7]="SuperscriptingExponent",zt[zt.PerMille=8]="PerMille",zt[zt.Infinity=9]="Infinity",zt[zt.NaN=10]="NaN",zt[zt.TimeSeparator=11]="TimeSeparator",zt[zt.CurrencyDecimal=12]="CurrencyDecimal",zt[zt.CurrencyGroup=13]="CurrencyGroup",zt))();function Pu(i,e){return cn(Ii(i)[Ft.DateFormat],e)}function wu(i,e){return cn(Ii(i)[Ft.TimeFormat],e)}function Iu(i,e){return cn(Ii(i)[Ft.DateTimeFormat],e)}function fn(i,e){const t=Ii(i),r=t[Ft.NumberSymbols][e];if(void 0===r){if(e===zt.CurrencyDecimal)return t[Ft.NumberSymbols][zt.Decimal];if(e===zt.CurrencyGroup)return t[Ft.NumberSymbols][zt.Group]}return r}const eb=function _x(i){return Ii(i)[Ft.PluralCase]};function WC(i){if(!i[Ft.ExtraData])throw new Error(`Missing extra locale data for the locale "${i[Ft.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function cn(i,e){for(let t=e;t>-1;t--)if(void 0!==i[t])return i[t];throw new Error("Locale data API: locale data undefined")}function Ud(i){const[e,t]=i.split(":");return{hours:+e,minutes:+t}}const ab=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Wa={},lb=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ii=(()=>((ii=ii||{})[ii.Short=0]="Short",ii[ii.ShortGMT=1]="ShortGMT",ii[ii.Long=2]="Long",ii[ii.Extended=3]="Extended",ii))(),Wt=(()=>((Wt=Wt||{})[Wt.FullYear=0]="FullYear",Wt[Wt.Month=1]="Month",Wt[Wt.Date=2]="Date",Wt[Wt.Hours=3]="Hours",Wt[Wt.Minutes=4]="Minutes",Wt[Wt.Seconds=5]="Seconds",Wt[Wt.FractionalSeconds=6]="FractionalSeconds",Wt[Wt.Day=7]="Day",Wt))(),te=(()=>((te=te||{})[te.DayPeriods=0]="DayPeriods",te[te.Days=1]="Days",te[te.Months=2]="Months",te[te.Eras=3]="Eras",te))();function ub(i,e,t,r){let y=function yb(i){if(jC(i))return i;if("number"==typeof i&&!isNaN(i))return new Date(i);if("string"==typeof i){if(i=i.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(i)){const[y,E=1,F=1]=i.split("-").map(O=>+O);return Ou(y,E-1,F)}const t=parseFloat(i);if(!isNaN(i-t))return new Date(t);let r;if(r=i.match(ab))return function xb(i){const e=new Date(0);let t=0,r=0;const y=i[8]?e.setUTCFullYear:e.setFullYear,E=i[8]?e.setUTCHours:e.setHours;i[9]&&(t=Number(i[9]+i[10]),r=Number(i[9]+i[11])),y.call(e,Number(i[1]),Number(i[2])-1,Number(i[3]));const F=Number(i[4]||0)-t,O=Number(i[5]||0)-r,N=Number(i[6]||0),U=Math.floor(1e3*parseFloat("0."+(i[7]||0)));return E.call(e,F,O,N,U),e}(r)}const e=new Date(i);if(!jC(e))throw new Error(`Unable to convert "${i}" into a date`);return e}(i);e=xr(t,e)||e;let O,F=[];for(;e;){if(O=lb.exec(e),!O){F.push(e);break}{F=F.concat(O.slice(1));const j=F.pop();if(!j)break;e=j}}let N=y.getTimezoneOffset();r&&(N=XC(r,N),y=function mb(i,e,t){const r=t?-1:1,y=i.getTimezoneOffset();return function gb(i,e){return(i=new Date(i.getTime())).setMinutes(i.getMinutes()+e),i}(i,r*(XC(e,y)-y))}(y,r,!0));let U="";return F.forEach(j=>{const q=function vb(i){if(zd[i])return zd[i];let e;switch(i){case"G":case"GG":case"GGG":e=Fe(te.Eras,se.Abbreviated);break;case"GGGG":e=Fe(te.Eras,se.Wide);break;case"GGGGG":e=Fe(te.Eras,se.Narrow);break;case"y":e=Ze(Wt.FullYear,1,0,!1,!0);break;case"yy":e=Ze(Wt.FullYear,2,0,!0,!0);break;case"yyy":e=Ze(Wt.FullYear,3,0,!1,!0);break;case"yyyy":e=Ze(Wt.FullYear,4,0,!1,!0);break;case"Y":e=Bu(1);break;case"YY":e=Bu(2,!0);break;case"YYY":e=Bu(3);break;case"YYYY":e=Bu(4);break;case"M":case"L":e=Ze(Wt.Month,1,1);break;case"MM":case"LL":e=Ze(Wt.Month,2,1);break;case"MMM":e=Fe(te.Months,se.Abbreviated);break;case"MMMM":e=Fe(te.Months,se.Wide);break;case"MMMMM":e=Fe(te.Months,se.Narrow);break;case"LLL":e=Fe(te.Months,se.Abbreviated,ke.Standalone);break;case"LLLL":e=Fe(te.Months,se.Wide,ke.Standalone);break;case"LLLLL":e=Fe(te.Months,se.Narrow,ke.Standalone);break;case"w":e=Hd(1);break;case"ww":e=Hd(2);break;case"W":e=Hd(1,!0);break;case"d":e=Ze(Wt.Date,1);break;case"dd":e=Ze(Wt.Date,2);break;case"c":case"cc":e=Ze(Wt.Day,1);break;case"ccc":e=Fe(te.Days,se.Abbreviated,ke.Standalone);break;case"cccc":e=Fe(te.Days,se.Wide,ke.Standalone);break;case"ccccc":e=Fe(te.Days,se.Narrow,ke.Standalone);break;case"cccccc":e=Fe(te.Days,se.Short,ke.Standalone);break;case"E":case"EE":case"EEE":e=Fe(te.Days,se.Abbreviated);break;case"EEEE":e=Fe(te.Days,se.Wide);break;case"EEEEE":e=Fe(te.Days,se.Narrow);break;case"EEEEEE":e=Fe(te.Days,se.Short);break;case"a":case"aa":case"aaa":e=Fe(te.DayPeriods,se.Abbreviated);break;case"aaaa":e=Fe(te.DayPeriods,se.Wide);break;case"aaaaa":e=Fe(te.DayPeriods,se.Narrow);break;case"b":case"bb":case"bbb":e=Fe(te.DayPeriods,se.Abbreviated,ke.Standalone,!0);break;case"bbbb":e=Fe(te.DayPeriods,se.Wide,ke.Standalone,!0);break;case"bbbbb":e=Fe(te.DayPeriods,se.Narrow,ke.Standalone,!0);break;case"B":case"BB":case"BBB":e=Fe(te.DayPeriods,se.Abbreviated,ke.Format,!0);break;case"BBBB":e=Fe(te.DayPeriods,se.Wide,ke.Format,!0);break;case"BBBBB":e=Fe(te.DayPeriods,se.Narrow,ke.Format,!0);break;case"h":e=Ze(Wt.Hours,1,-12);break;case"hh":e=Ze(Wt.Hours,2,-12);break;case"H":e=Ze(Wt.Hours,1);break;case"HH":e=Ze(Wt.Hours,2);break;case"m":e=Ze(Wt.Minutes,1);break;case"mm":e=Ze(Wt.Minutes,2);break;case"s":e=Ze(Wt.Seconds,1);break;case"ss":e=Ze(Wt.Seconds,2);break;case"S":e=Ze(Wt.FractionalSeconds,1);break;case"SS":e=Ze(Wt.FractionalSeconds,2);break;case"SSS":e=Ze(Wt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=bu(ii.Short);break;case"ZZZZZ":e=bu(ii.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=bu(ii.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=bu(ii.Long);break;default:return null}return zd[i]=e,e}(j);U+=q?q(y,t,N):"''"===j?"'":j.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),U}function Ou(i,e,t){const r=new Date(0);return r.setFullYear(i,e,t),r.setHours(0,0,0),r}function xr(i,e){const t=function QL(i){return Ii(i)[Ft.LocaleId]}(i);if(Wa[t]=Wa[t]||{},Wa[t][e])return Wa[t][e];let r="";switch(e){case"shortDate":r=Pu(i,Ve.Short);break;case"mediumDate":r=Pu(i,Ve.Medium);break;case"longDate":r=Pu(i,Ve.Long);break;case"fullDate":r=Pu(i,Ve.Full);break;case"shortTime":r=wu(i,Ve.Short);break;case"mediumTime":r=wu(i,Ve.Medium);break;case"longTime":r=wu(i,Ve.Long);break;case"fullTime":r=wu(i,Ve.Full);break;case"short":const y=xr(i,"shortTime"),E=xr(i,"shortDate");r=Lu(Iu(i,Ve.Short),[y,E]);break;case"medium":const F=xr(i,"mediumTime"),O=xr(i,"mediumDate");r=Lu(Iu(i,Ve.Medium),[F,O]);break;case"long":const N=xr(i,"longTime"),U=xr(i,"longDate");r=Lu(Iu(i,Ve.Long),[N,U]);break;case"full":const j=xr(i,"fullTime"),q=xr(i,"fullDate");r=Lu(Iu(i,Ve.Full),[j,q])}return r&&(Wa[t][e]=r),r}function Lu(i,e){return e&&(i=i.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),i}function Ln(i,e,t="-",r,y){let E="";(i<0||y&&i<=0)&&(y?i=1-i:(i=-i,E=t));let F=String(i);for(;F.length<e;)F="0"+F;return r&&(F=F.substr(F.length-e)),E+F}function Ze(i,e,t=0,r=!1,y=!1){return function(E,F){let O=function fb(i,e){switch(i){case Wt.FullYear:return e.getFullYear();case Wt.Month:return e.getMonth();case Wt.Date:return e.getDate();case Wt.Hours:return e.getHours();case Wt.Minutes:return e.getMinutes();case Wt.Seconds:return e.getSeconds();case Wt.FractionalSeconds:return e.getMilliseconds();case Wt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${i}".`)}}(i,E);if((t>0||O>-t)&&(O+=t),i===Wt.Hours)0===O&&-12===t&&(O=12);else if(i===Wt.FractionalSeconds)return function hb(i,e){return Ln(i,3).substr(0,e)}(O,e);const N=fn(F,zt.MinusSign);return Ln(O,e,N,r,y)}}function Fe(i,e,t=ke.Format,r=!1){return function(y,E){return function cb(i,e,t,r,y,E){switch(t){case te.Months:return function qL(i,e,t){const r=Ii(i),E=cn([r[Ft.MonthsFormat],r[Ft.MonthsStandalone]],e);return cn(E,t)}(e,y,r)[i.getMonth()];case te.Days:return function JL(i,e,t){const r=Ii(i),E=cn([r[Ft.DaysFormat],r[Ft.DaysStandalone]],e);return cn(E,t)}(e,y,r)[i.getDay()];case te.DayPeriods:const F=i.getHours(),O=i.getMinutes();if(E){const U=function ib(i){const e=Ii(i);return WC(e),(e[Ft.ExtraData][2]||[]).map(r=>"string"==typeof r?Ud(r):[Ud(r[0]),Ud(r[1])])}(e),j=function nb(i,e,t){const r=Ii(i);WC(r);const E=cn([r[Ft.ExtraData][0],r[Ft.ExtraData][1]],e)||[];return cn(E,t)||[]}(e,y,r),q=U.findIndex(nt=>{if(Array.isArray(nt)){const[rt,at]=nt,ut=F>=rt.hours&&O>=rt.minutes,vt=F<at.hours||F===at.hours&&O<at.minutes;if(rt.hours<at.hours){if(ut&&vt)return!0}else if(ut||vt)return!0}else if(nt.hours===F&&nt.minutes===O)return!0;return!1});if(-1!==q)return j[q]}return function ZL(i,e,t){const r=Ii(i),E=cn([r[Ft.DayPeriodsFormat],r[Ft.DayPeriodsStandalone]],e);return cn(E,t)}(e,y,r)[F<12?0:1];case te.Eras:return function _L(i,e){return cn(Ii(i)[Ft.Eras],e)}(e,r)[i.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(y,E,i,e,t,r)}}function bu(i){return function(e,t,r){const y=-1*r,E=fn(t,zt.MinusSign),F=y>0?Math.floor(y/60):Math.ceil(y/60);switch(i){case ii.Short:return(y>=0?"+":"")+Ln(F,2,E)+Ln(Math.abs(y%60),2,E);case ii.ShortGMT:return"GMT"+(y>=0?"+":"")+Ln(F,1,E);case ii.Long:return"GMT"+(y>=0?"+":"")+Ln(F,2,E)+":"+Ln(Math.abs(y%60),2,E);case ii.Extended:return 0===r?"Z":(y>=0?"+":"")+Ln(F,2,E)+":"+Ln(Math.abs(y%60),2,E);default:throw new Error(`Unknown zone width "${i}"`)}}}function YC(i){return Ou(i.getFullYear(),i.getMonth(),i.getDate()+(4-i.getDay()))}function Hd(i,e=!1){return function(t,r){let y;if(e){const E=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,F=t.getDate();y=1+Math.floor((F+E)/7)}else{const E=YC(t),F=function pb(i){const e=Ou(i,0,1).getDay();return Ou(i,0,1+(e<=4?4:11)-e)}(E.getFullYear()),O=E.getTime()-F.getTime();y=1+Math.round(O/6048e5)}return Ln(y,i,fn(r,zt.MinusSign))}}function Bu(i,e=!1){return function(t,r){return Ln(YC(t).getFullYear(),i,fn(r,zt.MinusSign),e)}}const zd={};function XC(i,e){i=i.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+i)/6e4;return isNaN(t)?e:t}function jC(i){return i instanceof Date&&!isNaN(i.valueOf())}class Gu{}let wb=(()=>{class i extends Gu{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(eb(r||this.locale)(t)){case Qe.Zero:return"zero";case Qe.One:return"one";case Qe.Two:return"two";case Qe.Few:return"few";case Qe.Many:return"many";default:return"other"}}}return i.\u0275fac=function(t){return new(t||i)(mt(mr))},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();function QC(i,e){e=encodeURIComponent(e);for(const t of i.split(";")){const r=t.indexOf("="),[y,E]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(y.trim()===e)return decodeURIComponent(E)}return null}class Ob{constructor(e,t,r,y){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=y}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let kd=(()=>{class i{constructor(t,r,y){this._viewContainer=t,this._template=r,this._differs=y,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((y,E,F)=>{if(null==y.previousIndex)r.createEmbeddedView(this._template,new Ob(y.item,this._ngForOf,-1,-1),null===F?void 0:F);else if(null==F)r.remove(null===E?void 0:E);else if(null!==E){const O=r.get(E);r.move(O,F),ZC(O,y)}});for(let y=0,E=r.length;y<E;y++){const O=r.get(y).context;O.index=y,O.count=E,O.ngForOf=this._ngForOf}t.forEachIdentityChange(y=>{ZC(r.get(y.currentIndex),y)})}static ngTemplateContextGuard(t,r){return!0}}return i.\u0275fac=function(t){return new(t||i)(st(In),st(gr),st(Ao))},i.\u0275dir=yt({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();function ZC(i,e){i.context.$implicit=e.item}let JC=(()=>{class i{constructor(t,r){this._viewContainer=t,this._context=new Lb,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){qC("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){qC("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return i.\u0275fac=function(t){return new(t||i)(st(In),st(gr))},i.\u0275dir=yt({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class Lb{constructor(){this.$implicit=null,this.ngIf=null}}function qC(i,e){if(e&&!e.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${xe(e)}'.`)}class Kd{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Uu=(()=>{class i{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=yt({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),i})(),_C=(()=>{class i{constructor(t,r,y){this.ngSwitch=y,y._addCase(),this._view=new Kd(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(t){return new(t||i)(st(In),st(gr),st(Uu,9))},i.\u0275dir=yt({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),i})();const $b=new It("DATE_PIPE_DEFAULT_TIMEZONE");let eT=(()=>{class i{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",y,E){var F;if(null==t||""===t||t!=t)return null;try{return ub(t,r,E||this.locale,null!==(F=null!=y?y:this.defaultTimezone)&&void 0!==F?F:void 0)}catch(O){throw function bn(i,e){return new wt(2100,"")}()}}}return i.\u0275fac=function(t){return new(t||i)(st(mr,16),st($b,24))},i.\u0275pipe=Bi({name:"date",type:i,pure:!0}),i})(),nT=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=ve({type:i}),i.\u0275inj=de({providers:[{provide:Gu,useClass:wb}]}),i})();const rT="browser";function hs(i){return i===rT}function Do(i){return"server"===i}let oN=(()=>{class i{}return i.\u0275prov=St({token:i,providedIn:"root",factory:()=>new aN(mt(me),window)}),i})();class aN{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function lN(i,e){const t=i.getElementById(e)||i.getElementsByName(e)[0];if(t)return t;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const r=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let y=r.currentNode;for(;y;){const E=y.shadowRoot;if(E){const F=E.getElementById(e)||E.querySelector(`[name="${e}"]`);if(F)return F}y=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,y=t.top+this.window.pageYOffset,E=this.offset();this.window.scrollTo(r-E[0],y-E[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=sT(this.window.history)||sT(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function sT(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class oT{}class qd extends class uN extends class zL{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function HL(i){Fu||(Fu=i)}(new qd)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function hN(){return Xa=Xa||document.querySelector("base"),Xa?Xa.getAttribute("href"):null}();return null==t?null:function fN(i){Hu=Hu||document.createElement("a"),Hu.setAttribute("href",i);const e=Hu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Xa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return QC(document.cookie,e)}}let Hu,Xa=null;const aT=new It("TRANSITION_ID"),dN=[{provide:Au,useFactory:function cN(i,e,t){return()=>{t.get(So).donePromise.then(()=>{const r=tr(),y=e.querySelectorAll(`style[ng-transition="${i}"]`);for(let E=0;E<y.length;E++)r.remove(y[E])})}},deps:[aT,me,ai],multi:!0}];class _d{static init(){!function oL(i){Pd=i}(new _d)}addToWindow(e){Ce.getAngularTestability=(r,y=!0)=>{const E=e.findTestabilityInTree(r,y);if(null==E)throw new Error("Could not find testability for element.");return E},Ce.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ce.getAllAngularRootElements=()=>e.getAllRootElements(),Ce.frameworkStabilizers||(Ce.frameworkStabilizers=[]),Ce.frameworkStabilizers.push(r=>{const y=Ce.getAllAngularTestabilities();let E=y.length,F=!1;const O=function(N){F=F||N,E--,0==E&&r(F)};y.forEach(function(N){N.whenStable(O)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const y=e.getTestability(t);return null!=y?y:r?tr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let pN=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();const zu=new It("EventManagerPlugins");let Wu=(()=>{class i{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(y=>y.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,y){return this._findPluginFor(r).addEventListener(t,r,y)}addGlobalEventListener(t,r,y){return this._findPluginFor(r).addGlobalEventListener(t,r,y)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const y=this._plugins;for(let E=0;E<y.length;E++){const F=y[E];if(F.supports(t))return this._eventNameToPlugin.set(t,F),F}throw new Error(`No event manager plugin found for event ${t}`)}}return i.\u0275fac=function(t){return new(t||i)(mt(zu),mt(pe))},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();class lT{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const y=tr().getGlobalEventTarget(this._doc,e);if(!y)throw new Error(`Unsupported event target ${y} for event ${t}`);return this.addEventListener(y,t,r)}}let uT=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(y=>{this._stylesSet.has(y)||(this._stylesSet.add(y),r.add(y))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})(),ja=(()=>{class i extends uT{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,y){t.forEach(E=>{const F=this._doc.createElement("style");F.textContent=E,y.push(r.appendChild(F))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(hT),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,y)=>{this._addStylesToHost(t,y,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(hT))}}return i.\u0275fac=function(t){return new(t||i)(mt(me))},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();function hT(i){tr().remove(i)}const tp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ep=/%COMP%/g;function Yu(i,e,t){for(let r=0;r<e.length;r++){let y=e[r];Array.isArray(y)?Yu(i,y,t):(y=y.replace(ep,i),t.push(y))}return t}function dT(i){return e=>{if("__ngUnwrap__"===e)return i;!1===i(e)&&(e.preventDefault(),e.returnValue=!1)}}let Xu=(()=>{class i{constructor(t,r,y){this.eventManager=t,this.sharedStylesHost=r,this.appId=y,this.rendererByCompId=new Map,this.defaultRenderer=new ip(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Cn.Emulated:{let y=this.rendererByCompId.get(r.id);return y||(y=new CN(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,y)),y.applyToHost(t),y}case 1:case Cn.ShadowDom:return new TN(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const y=Yu(r.id,r.styles,[]);this.sharedStylesHost.addStyles(y),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(t){return new(t||i)(mt(Wu),mt(ja),mt(Ua))},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();class ip{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(tp[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,y){if(y){t=y+":"+t;const E=tp[y];E?e.setAttributeNS(E,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const y=tp[r];y?e.removeAttributeNS(y,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,y){y&($i.DashCase|$i.Important)?e.style.setProperty(t,r,y&$i.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&$i.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,dT(r)):this.eventManager.addEventListener(e,t,dT(r))}}class CN extends ip{constructor(e,t,r,y){super(e),this.component=r;const E=Yu(y+"-"+r.id,r.styles,[]);t.addStyles(E),this.contentAttr=function mN(i){return"_ngcontent-%COMP%".replace(ep,i)}(y+"-"+r.id),this.hostAttr=function yN(i){return"_nghost-%COMP%".replace(ep,i)}(y+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class TN extends ip{constructor(e,t,r,y){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const E=Yu(y.id,y.styles,[]);for(let F=0;F<E.length;F++){const O=document.createElement("style");O.textContent=E[F],this.shadowRoot.appendChild(O)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let EN=(()=>{class i extends lT{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,y){return t.addEventListener(r,y,!1),()=>this.removeEventListener(t,r,y)}removeEventListener(t,r,y){return t.removeEventListener(r,y)}}return i.\u0275fac=function(t){return new(t||i)(mt(me))},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();const vT=["alt","control","meta","shift"],AN={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gT={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},MN={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let DN=(()=>{class i extends lT{constructor(t){super(t)}supports(t){return null!=i.parseEventName(t)}addEventListener(t,r,y){const E=i.parseEventName(r),F=i.eventCallback(E.fullKey,y,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>tr().onAndCancel(t,E.domEventName,F))}static parseEventName(t){const r=t.toLowerCase().split("."),y=r.shift();if(0===r.length||"keydown"!==y&&"keyup"!==y)return null;const E=i._normalizeKey(r.pop());let F="";if(vT.forEach(N=>{const U=r.indexOf(N);U>-1&&(r.splice(U,1),F+=N+".")}),F+=E,0!=r.length||0===E.length)return null;const O={};return O.domEventName=y,O.fullKey=F,O}static getEventFullKey(t){let r="",y=function RN(i){let e=i.key;if(null==e){if(e=i.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===i.location&&gT.hasOwnProperty(e)&&(e=gT[e]))}return AN[e]||e}(t);return y=y.toLowerCase()," "===y?y="space":"."===y&&(y="dot"),vT.forEach(E=>{E!=y&&MN[E](t)&&(r+=E+".")}),r+=y,r}static eventCallback(t,r,y){return E=>{i.getEventFullKey(E)===t&&y.runGuarded(()=>r(E))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return i.\u0275fac=function(t){return new(t||i)(mt(me))},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();const IN=CC(IL,"browser",[{provide:Qi,useValue:rT},{provide:cC,useValue:function FN(){qd.makeCurrent(),_d.init()},multi:!0},{provide:me,useFactory:function wN(){return function UD(i){Tf=i}(document),document},deps:[]}]),ON=[{provide:Bc,useValue:"root"},{provide:cr,useFactory:function PN(){return new cr},deps:[]},{provide:zu,useClass:EN,multi:!0,deps:[me,pe,Qi]},{provide:zu,useClass:DN,multi:!0,deps:[me]},{provide:Xu,useClass:Xu,deps:[Wu,ja,Ua]},{provide:La,useExisting:Xu},{provide:uT,useExisting:ja},{provide:ja,useClass:ja,deps:[me]},{provide:Fd,useClass:Fd,deps:[pe]},{provide:Wu,useClass:Wu,deps:[zu,pe]},{provide:oT,useClass:pN,deps:[]}];let mT=(()=>{class i{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:i,providers:[{provide:Ua,useValue:t.appId},{provide:aT,useExisting:Ua},dN]}}}return i.\u0275fac=function(t){return new(t||i)(mt(i,12))},i.\u0275mod=ve({type:i}),i.\u0275inj=de({providers:ON,imports:[nT,GL]}),i})();"undefined"!=typeof window&&window;let ju=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=St({token:i,factory:function(t){let r=null;return r=t?new(t||i):mt(CT),r},providedIn:"root"}),i})(),CT=(()=>{class i extends ju{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case fe.NONE:return r;case fe.HTML:return kn(r,"HTML")?ji(r):cm(this._doc,String(r)).toString();case fe.STYLE:return kn(r,"Style")?ji(r):r;case fe.SCRIPT:if(kn(r,"Script"))return ji(r);throw new Error("unsafe value used in a script context");case fe.URL:return rm(r),kn(r,"URL")?ji(r):pa(String(r));case fe.RESOURCE_URL:if(kn(r,"ResourceURL"))return ji(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function tR(i){return new Q1(i)}(t)}bypassSecurityTrustStyle(t){return function eR(i){return new Z1(i)}(t)}bypassSecurityTrustScript(t){return function iR(i){return new J1(i)}(t)}bypassSecurityTrustUrl(t){return function nR(i){return new q1(i)}(t)}bypassSecurityTrustResourceUrl(t){return function rR(i){return new _1(i)}(t)}}return i.\u0275fac=function(t){return new(t||i)(mt(me))},i.\u0275prov=St({token:i,factory:function(t){let r=null;return r=t?new t:function WN(i){return new CT(i.get(me))}(mt(ai)),r},providedIn:"root"}),i})();function Yt(...i){return ri(i,Qo(i))}class Zi extends Q{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:YN}=Array,{getPrototypeOf:XN,prototype:jN,keys:$N}=Object;function TT(i){if(1===i.length){const e=i[0];if(YN(e))return{args:e,keys:null};if(function kN(i){return i&&"object"==typeof i&&XN(i)===jN}(e)){const t=$N(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:i,keys:null}}const{isArray:KN}=Array;function rp(i){return ft(e=>function QN(i,e){return KN(e)?i(...e):i(e)}(i,e))}function ET(i,e){return i.reduce((t,r,y)=>(t[r]=e[y],t),{})}function ST(i,e,t){i?ar(t,i,e):e()}const $u=l(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function sp(...i){return function qN(){return Ko(1)}()(ri(i,Qo(i)))}function AT(i){return new H(e=>{rn(i()).subscribe(e)})}function MT(){return ot((i,e)=>{let t=null;i._refCount++;const r=lt(e,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(t=null);const y=i._connection,E=t;t=null,y&&(!E||y===E)&&y.unsubscribe(),e.unsubscribe()});i.subscribe(r),r.closed||(t=i.connect())})}class _N extends H{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,et(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new h;const t=this.getSubject();e.add(this.source.subscribe(lt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=h.EMPTY)}return e}refCount(){return MT()(this)}}function fs(i,e){return ot((t,r)=>{let y=null,E=0,F=!1;const O=()=>F&&!y&&r.complete();t.subscribe(lt(r,N=>{null==y||y.unsubscribe();let U=0;const j=E++;rn(i(N,j)).subscribe(y=lt(r,q=>r.next(e?e(N,q,j,U++):q),()=>{y=null,O()}))},()=>{F=!0,O()}))})}function ku(...i){const e=Qo(i);return ot((t,r)=>{(e?sp(i,t,e):sp(i,t)).subscribe(r)})}function tB(i,e,t,r,y){return(E,F)=>{let O=t,N=e,U=0;E.subscribe(lt(F,j=>{const q=U++;N=O?i(N,j,q):(O=!0,j),r&&F.next(N)},y&&(()=>{O&&F.next(N),F.complete()})))}}function DT(i,e){return ot(tB(i,e,arguments.length>=2,!0))}function Nn(i,e){return ot((t,r)=>{let y=0;t.subscribe(lt(r,E=>i.call(e,E,y++)&&r.next(E)))})}function Cr(i){return ot((e,t)=>{let E,r=null,y=!1;r=e.subscribe(lt(t,void 0,void 0,F=>{E=rn(i(F,Cr(i)(e))),r?(r.unsubscribe(),r=null,E.subscribe(t)):y=!0})),y&&(r.unsubscribe(),r=null,E.subscribe(t))})}function Ro(i,e){return n(e)?qe(i,e,1):qe(i,1)}function op(i){return i<=0?()=>Yn:ot((e,t)=>{let r=[];e.subscribe(lt(t,y=>{r.push(y),i<r.length&&r.shift()},()=>{for(const y of r)t.next(y);t.complete()},void 0,()=>{r=null}))})}function RT(i=eB){return ot((e,t)=>{let r=!1;e.subscribe(lt(t,y=>{r=!0,t.next(y)},()=>r?t.complete():t.error(i())))})}function eB(){return new $u}function FT(i){return ot((e,t)=>{let r=!1;e.subscribe(lt(t,y=>{r=!0,t.next(y)},()=>{r||t.next(i),t.complete()}))})}function Fo(i,e){const t=arguments.length>=2;return r=>r.pipe(i?Nn((y,E)=>i(y,E,r)):J,Os(1),t?FT(e):RT(()=>new $u))}function pi(i,e,t){const r=n(i)||e||t?{next:i,error:e,complete:t}:i;return r?ot((y,E)=>{var F;null===(F=r.subscribe)||void 0===F||F.call(r);let O=!0;y.subscribe(lt(E,N=>{var U;null===(U=r.next)||void 0===U||U.call(r,N),E.next(N)},()=>{var N;O=!1,null===(N=r.complete)||void 0===N||N.call(r),E.complete()},N=>{var U;O=!1,null===(U=r.error)||void 0===U||U.call(r,N),E.error(N)},()=>{var N,U;O&&(null===(N=r.unsubscribe)||void 0===N||N.call(r)),null===(U=r.finalize)||void 0===U||U.call(r)}))}):J}function PT(i){return ot((e,t)=>{try{e.subscribe(t)}finally{t.add(i)}})}class Tr{constructor(e,t){this.id=e,this.url=t}}class ap extends Tr{constructor(e,t,r="imperative",y=null){super(e,t),this.navigationTrigger=r,this.restoredState=y}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $a extends Tr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wT extends Tr{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nB extends Tr{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class rB extends Tr{constructor(e,t,r,y){super(e,t),this.urlAfterRedirects=r,this.state=y}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sB extends Tr{constructor(e,t,r,y){super(e,t),this.urlAfterRedirects=r,this.state=y}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oB extends Tr{constructor(e,t,r,y,E){super(e,t),this.urlAfterRedirects=r,this.state=y,this.shouldActivate=E}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class aB extends Tr{constructor(e,t,r,y){super(e,t),this.urlAfterRedirects=r,this.state=y}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lB extends Tr{constructor(e,t,r,y){super(e,t),this.urlAfterRedirects=r,this.state=y}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IT{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class OT{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class uB{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hB{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fB{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cB{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LT{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const re="primary";class dB{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Po(i){return new dB(i)}const bT="ngNavigationCancelingError";function lp(i){const e=Error("NavigationCancelingError: "+i);return e[bT]=!0,e}function vB(i,e,t){const r=t.path.split("/");if(r.length>i.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<i.length))return null;const y={};for(let E=0;E<r.length;E++){const F=r[E],O=i[E];if(F.startsWith(":"))y[F.substring(1)]=O;else if(F!==O.path)return null}return{consumed:i.slice(0,r.length),posParams:y}}function er(i,e){const t=i?Object.keys(i):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let y;for(let E=0;E<t.length;E++)if(y=t[E],!NT(i[y],e[y]))return!1;return!0}function NT(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;const t=[...i].sort(),r=[...e].sort();return t.every((y,E)=>r[E]===y)}return i===e}function BT(i){return Array.prototype.concat.apply([],i)}function VT(i){return i.length>0?i[i.length-1]:null}function vi(i,e){for(const t in i)i.hasOwnProperty(t)&&e(i[t],t)}function ir(i){return Qc(i)?i:Ra(i)?ri(Promise.resolve(i)):Yt(i)}const yB={exact:function HT(i,e,t){if(!ds(i.segments,e.segments)||!Ku(i.segments,e.segments,t)||i.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!i.children[r]||!HT(i.children[r],e.children[r],t))return!1;return!0},subset:zT},GT={exact:function xB(i,e){return er(i,e)},subset:function CB(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(t=>NT(i[t],e[t]))},ignored:()=>!0};function UT(i,e,t){return yB[t.paths](i.root,e.root,t.matrixParams)&&GT[t.queryParams](i.queryParams,e.queryParams)&&!("exact"===t.fragment&&i.fragment!==e.fragment)}function zT(i,e,t){return WT(i,e,e.segments,t)}function WT(i,e,t,r){if(i.segments.length>t.length){const y=i.segments.slice(0,t.length);return!(!ds(y,t)||e.hasChildren()||!Ku(y,t,r))}if(i.segments.length===t.length){if(!ds(i.segments,t)||!Ku(i.segments,t,r))return!1;for(const y in e.children)if(!i.children[y]||!zT(i.children[y],e.children[y],r))return!1;return!0}{const y=t.slice(0,i.segments.length),E=t.slice(i.segments.length);return!!(ds(i.segments,y)&&Ku(i.segments,y,r)&&i.children[re])&&WT(i.children[re],e,E,r)}}function Ku(i,e,t){return e.every((r,y)=>GT[t](i[y].parameters,r.parameters))}class cs{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Po(this.queryParams)),this._queryParamMap}toString(){return SB.serialize(this)}}class oe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,vi(t,(r,y)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qu(this)}}class ka{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Po(this.parameters)),this._parameterMap}toString(){return kT(this)}}function ds(i,e){return i.length===e.length&&i.every((t,r)=>t.path===e[r].path)}class YT{}class XT{parse(e){const t=new OB(e);return new cs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ka(e.root,!0)}`,r=function DB(i){const e=Object.keys(i).map(t=>{const r=i[t];return Array.isArray(r)?r.map(y=>`${Zu(t)}=${Zu(y)}`).join("&"):`${Zu(t)}=${Zu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function AB(i){return encodeURI(i)}(e.fragment)}`:""}`}}const SB=new XT;function Qu(i){return i.segments.map(e=>kT(e)).join("/")}function Ka(i,e){if(!i.hasChildren())return Qu(i);if(e){const t=i.children[re]?Ka(i.children[re],!1):"",r=[];return vi(i.children,(y,E)=>{E!==re&&r.push(`${E}:${Ka(y,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function EB(i,e){let t=[];return vi(i.children,(r,y)=>{y===re&&(t=t.concat(e(r,y)))}),vi(i.children,(r,y)=>{y!==re&&(t=t.concat(e(r,y)))}),t}(i,(r,y)=>y===re?[Ka(i.children[re],!1)]:[`${y}:${Ka(r,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[re]?`${Qu(i)}/${t[0]}`:`${Qu(i)}/(${t.join("//")})`}}function jT(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zu(i){return jT(i).replace(/%3B/gi,";")}function up(i){return jT(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ju(i){return decodeURIComponent(i)}function $T(i){return Ju(i.replace(/\+/g,"%20"))}function kT(i){return`${up(i.path)}${function MB(i){return Object.keys(i).map(e=>`;${up(e)}=${up(i[e])}`).join("")}(i.parameters)}`}const RB=/^[^\/()?;=#]+/;function qu(i){const e=i.match(RB);return e?e[0]:""}const FB=/^[^=?&#]+/,wB=/^[^&#]+/;class OB{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new oe([],{}):new oe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[re]=new oe(e,t)),r}parseSegment(){const e=qu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new ka(Ju(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=qu(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const y=qu(this.remaining);y&&(r=y,this.capture(r))}e[Ju(t)]=Ju(r)}parseQueryParam(e){const t=function PB(i){const e=i.match(FB);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const F=function IB(i){const e=i.match(wB);return e?e[0]:""}(this.remaining);F&&(r=F,this.capture(r))}const y=$T(t),E=$T(r);if(e.hasOwnProperty(y)){let F=e[y];Array.isArray(F)||(F=[F],e[y]=F),F.push(E)}else e[y]=E}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=qu(this.remaining),y=this.remaining[r.length];if("/"!==y&&")"!==y&&";"!==y)throw new Error(`Cannot parse url '${this.url}'`);let E;r.indexOf(":")>-1?(E=r.substr(0,r.indexOf(":")),this.capture(E),this.capture(":")):e&&(E=re);const F=this.parseChildren();t[E]=1===Object.keys(F).length?F[re]:new oe([],F),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class KT{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=hp(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=hp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=fp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(y=>y.value).filter(y=>y!==e)}pathFromRoot(e){return fp(e,this._root).map(t=>t.value)}}function hp(i,e){if(i===e.value)return e;for(const t of e.children){const r=hp(i,t);if(r)return r}return null}function fp(i,e){if(i===e.value)return[e];for(const t of e.children){const r=fp(i,t);if(r.length)return r.unshift(e),r}return[]}class Er{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function wo(i){const e={};return i&&i.children.forEach(t=>e[t.value.outlet]=t),e}class QT extends KT{constructor(e,t){super(e),this.snapshot=t,cp(this,e)}toString(){return this.snapshot.toString()}}function ZT(i,e){const t=function LB(i,e){const F=new _u([],{},{},"",{},re,e,null,i.root,-1,{});return new qT("",new Er(F,[]))}(i,e),r=new Zi([new ka("",{})]),y=new Zi({}),E=new Zi({}),F=new Zi({}),O=new Zi(""),N=new Io(r,y,F,O,E,re,e,t.root);return N.snapshot=t.root,new QT(new Er(N,[]),t)}class Io{constructor(e,t,r,y,E,F,O,N){this.url=e,this.params=t,this.queryParams=r,this.fragment=y,this.data=E,this.outlet=F,this.component=O,this._futureSnapshot=N}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ft(e=>Po(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ft(e=>Po(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function JT(i,e="emptyOnly"){const t=i.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const y=t[r],E=t[r-1];if(y.routeConfig&&""===y.routeConfig.path)r--;else{if(E.component)break;r--}}return function bB(i){return i.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class _u{constructor(e,t,r,y,E,F,O,N,U,j,q){this.url=e,this.params=t,this.queryParams=r,this.fragment=y,this.data=E,this.outlet=F,this.component=O,this.routeConfig=N,this._urlSegment=U,this._lastPathIndex=j,this._resolve=q}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Po(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Po(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qT extends KT{constructor(e,t){super(t),this.url=e,cp(this,t)}toString(){return _T(this._root)}}function cp(i,e){e.value._routerState=i,e.children.forEach(t=>cp(i,t))}function _T(i){const e=i.children.length>0?` { ${i.children.map(_T).join(", ")} } `:"";return`${i.value}${e}`}function dp(i){if(i.snapshot){const e=i.snapshot,t=i._futureSnapshot;i.snapshot=t,er(e.queryParams,t.queryParams)||i.queryParams.next(t.queryParams),e.fragment!==t.fragment&&i.fragment.next(t.fragment),er(e.params,t.params)||i.params.next(t.params),function gB(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(!er(i[t],e[t]))return!1;return!0}(e.url,t.url)||i.url.next(t.url),er(e.data,t.data)||i.data.next(t.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function pp(i,e){const t=er(i.params,e.params)&&function TB(i,e){return ds(i,e)&&i.every((t,r)=>er(t.parameters,e[r].parameters))}(i.url,e.url);return t&&!(!i.parent!=!e.parent)&&(!i.parent||pp(i.parent,e.parent))}function Qa(i,e,t){if(t&&i.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const y=function BB(i,e,t){return e.children.map(r=>{for(const y of t.children)if(i.shouldReuseRoute(r.value,y.value.snapshot))return Qa(i,r,y);return Qa(i,r)})}(i,e,t);return new Er(r,y)}{if(i.shouldAttach(e.value)){const E=i.retrieve(e.value);if(null!==E){const F=E.route;return F.value._futureSnapshot=e.value,F.children=e.children.map(O=>Qa(i,O)),F}}const r=function VB(i){return new Io(new Zi(i.url),new Zi(i.params),new Zi(i.queryParams),new Zi(i.fragment),new Zi(i.data),i.outlet,i.component,i)}(e.value),y=e.children.map(E=>Qa(i,E));return new Er(r,y)}}function th(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function Za(i){return"object"==typeof i&&null!=i&&i.outlets}function vp(i,e,t,r,y){let E={};return r&&vi(r,(F,O)=>{E[O]=Array.isArray(F)?F.map(N=>`${N}`):`${F}`}),new cs(t.root===i?e:tE(t.root,i,e),E,y)}function tE(i,e,t){const r={};return vi(i.children,(y,E)=>{r[E]=y===e?t:tE(y,e,t)}),new oe(i.segments,r)}class eE{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&th(r[0]))throw new Error("Root segment cannot have matrix parameters");const y=r.find(Za);if(y&&y!==VT(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gp{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function iE(i,e,t){if(i||(i=new oe([],{})),0===i.segments.length&&i.hasChildren())return eh(i,e,t);const r=function YB(i,e,t){let r=0,y=e;const E={match:!1,pathIndex:0,commandIndex:0};for(;y<i.segments.length;){if(r>=t.length)return E;const F=i.segments[y],O=t[r];if(Za(O))break;const N=`${O}`,U=r<t.length-1?t[r+1]:null;if(y>0&&void 0===N)break;if(N&&U&&"object"==typeof U&&void 0===U.outlets){if(!rE(N,U,F))return E;r+=2}else{if(!rE(N,{},F))return E;r++}y++}return{match:!0,pathIndex:y,commandIndex:r}}(i,e,t),y=t.slice(r.commandIndex);if(r.match&&r.pathIndex<i.segments.length){const E=new oe(i.segments.slice(0,r.pathIndex),{});return E.children[re]=new oe(i.segments.slice(r.pathIndex),i.children),eh(E,0,y)}return r.match&&0===y.length?new oe(i.segments,{}):r.match&&!i.hasChildren()?mp(i,e,t):r.match?eh(i,0,y):mp(i,e,t)}function eh(i,e,t){if(0===t.length)return new oe(i.segments,{});{const r=function WB(i){return Za(i[0])?i[0].outlets:{[re]:i}}(t),y={};return vi(r,(E,F)=>{"string"==typeof E&&(E=[E]),null!==E&&(y[F]=iE(i.children[F],e,E))}),vi(i.children,(E,F)=>{void 0===r[F]&&(y[F]=E)}),new oe(i.segments,y)}}function mp(i,e,t){const r=i.segments.slice(0,e);let y=0;for(;y<t.length;){const E=t[y];if(Za(E)){const N=XB(E.outlets);return new oe(r,N)}if(0===y&&th(t[0])){r.push(new ka(i.segments[e].path,nE(t[0]))),y++;continue}const F=Za(E)?E.outlets[re]:`${E}`,O=y<t.length-1?t[y+1]:null;F&&O&&th(O)?(r.push(new ka(F,nE(O))),y+=2):(r.push(new ka(F,{})),y++)}return new oe(r,{})}function XB(i){const e={};return vi(i,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=mp(new oe([],{}),0,t))}),e}function nE(i){const e={};return vi(i,(t,r)=>e[r]=`${t}`),e}function rE(i,e,t){return i==t.path&&er(e,t.parameters)}class $B{constructor(e,t,r,y){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=y}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),dp(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const y=wo(t);e.children.forEach(E=>{const F=E.value.outlet;this.deactivateRoutes(E,y[F],r),delete y[F]}),vi(y,(E,F)=>{this.deactivateRouteAndItsChildren(E,r)})}deactivateRoutes(e,t,r){const y=e.value,E=t?t.value:null;if(y===E)if(y.component){const F=r.getContext(y.outlet);F&&this.deactivateChildRoutes(e,t,F.children)}else this.deactivateChildRoutes(e,t,r);else E&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),y=r&&e.value.component?r.children:t,E=wo(e);for(const F of Object.keys(E))this.deactivateRouteAndItsChildren(E[F],y);if(r&&r.outlet){const F=r.outlet.detach(),O=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:F,route:e,contexts:O})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),y=r&&e.value.component?r.children:t,E=wo(e);for(const F of Object.keys(E))this.deactivateRouteAndItsChildren(E[F],y);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const y=wo(t);e.children.forEach(E=>{this.activateRoutes(E,y[E.value.outlet],r),this.forwardEvent(new cB(E.value.snapshot))}),e.children.length&&this.forwardEvent(new hB(e.value.snapshot))}activateRoutes(e,t,r){const y=e.value,E=t?t.value:null;if(dp(y),y===E)if(y.component){const F=r.getOrCreateContext(y.outlet);this.activateChildRoutes(e,t,F.children)}else this.activateChildRoutes(e,t,r);else if(y.component){const F=r.getOrCreateContext(y.outlet);if(this.routeReuseStrategy.shouldAttach(y.snapshot)){const O=this.routeReuseStrategy.retrieve(y.snapshot);this.routeReuseStrategy.store(y.snapshot,null),F.children.onOutletReAttached(O.contexts),F.attachRef=O.componentRef,F.route=O.route.value,F.outlet&&F.outlet.attach(O.componentRef,O.route.value),dp(O.route.value),this.activateChildRoutes(e,null,F.children)}else{const O=function kB(i){for(let e=i.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(y.snapshot),N=O?O.module.componentFactoryResolver:null;F.attachRef=null,F.route=y,F.resolver=N,F.outlet&&F.outlet.activateWith(y,N),this.activateChildRoutes(e,null,F.children)}}else this.activateChildRoutes(e,null,r)}}class yp{constructor(e,t){this.routes=e,this.module=t}}function zr(i){return"function"==typeof i}function ps(i){return i instanceof cs}const Ja=Symbol("INITIAL_VALUE");function qa(){return fs(i=>function ZN(...i){const e=Qo(i),t=qv(i),{args:r,keys:y}=TT(i);if(0===r.length)return ri([],e);const E=new H(function JN(i,e,t=J){return r=>{ST(e,()=>{const{length:y}=i,E=new Array(y);let F=y,O=y;for(let N=0;N<y;N++)ST(e,()=>{const U=ri(i[N],e);let j=!1;U.subscribe(lt(r,q=>{E[N]=q,j||(j=!0,O--),O||r.next(t(E.slice()))},()=>{--F||r.complete()}))},r)},r)}}(r,e,y?F=>ET(y,F):J));return t?E.pipe(rp(t)):E}(i.map(e=>e.pipe(Os(1),ku(Ja)))).pipe(DT((e,t)=>{let r=!1;return t.reduce((y,E,F)=>y!==Ja?y:(E===Ja&&(r=!0),r||!1!==E&&F!==t.length-1&&!ps(E)?y:E),e)},Ja),Nn(e=>e!==Ja),ft(e=>ps(e)?e:!0===e),Os(1)))}class _B{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new _a,this.attachRef=null}}class _a{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new _B,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let xp=(()=>{class i{constructor(t,r,y,E,F){this.parentContexts=t,this.location=r,this.resolver=y,this.changeDetector=F,this.activated=null,this._activatedRoute=null,this.activateEvents=new be,this.deactivateEvents=new be,this.attachEvents=new be,this.detachEvents=new be,this.name=E||re,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const F=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),O=this.parentContexts.getOrCreateContext(this.name).children,N=new tV(t,O,this.location.injector);this.activated=this.location.createComponent(F,this.location.length,N),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(t){return new(t||i)(st(_a),st(In),st(xo),Ys("name"),st(za))},i.\u0275dir=yt({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),i})();class tV{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Io?this.route:e===_a?this.childContexts:this.parent.get(e,t)}}let sE=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=si({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&Le(0,"router-outlet")},directives:[xp],encapsulation:2}),i})();function oE(i,e=""){for(let t=0;t<i.length;t++){const r=i[t];eV(r,iV(e,r))}}function eV(i,e){i.children&&oE(i.children,e)}function iV(i,e){return e?i||e.path?i&&!e.path?`${i}/`:!i&&e.path?e.path:`${i}/${e.path}`:"":i}function Cp(i){const e=i.children&&i.children.map(Cp),t=e?Object.assign(Object.assign({},i),{children:e}):Object.assign({},i);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==re&&(t.component=sE),t}function dn(i){return i.outlet||re}function aE(i,e){const t=i.filter(r=>dn(r)===e);return t.push(...i.filter(r=>dn(r)!==e)),t}const lE={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ih(i,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(i.hasChildren()||t.length>0)?Object.assign({},lE):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const E=(e.matcher||vB)(t,i,e);if(!E)return Object.assign({},lE);const F={};vi(E.posParams,(N,U)=>{F[U]=N.path});const O=E.consumed.length>0?Object.assign(Object.assign({},F),E.consumed[E.consumed.length-1].parameters):F;return{matched:!0,consumedSegments:E.consumed,lastChild:E.consumed.length,parameters:O,positionalParamSegments:null!==(r=E.posParams)&&void 0!==r?r:{}}}function nh(i,e,t,r,y="corrected"){if(t.length>0&&function sV(i,e,t){return t.some(r=>rh(i,e,r)&&dn(r)!==re)}(i,t,r)){const F=new oe(e,function rV(i,e,t,r){const y={};y[re]=r,r._sourceSegment=i,r._segmentIndexShift=e.length;for(const E of t)if(""===E.path&&dn(E)!==re){const F=new oe([],{});F._sourceSegment=i,F._segmentIndexShift=e.length,y[dn(E)]=F}return y}(i,e,r,new oe(t,i.children)));return F._sourceSegment=i,F._segmentIndexShift=e.length,{segmentGroup:F,slicedSegments:[]}}if(0===t.length&&function oV(i,e,t){return t.some(r=>rh(i,e,r))}(i,t,r)){const F=new oe(i.segments,function nV(i,e,t,r,y,E){const F={};for(const O of r)if(rh(i,t,O)&&!y[dn(O)]){const N=new oe([],{});N._sourceSegment=i,N._segmentIndexShift="legacy"===E?i.segments.length:e.length,F[dn(O)]=N}return Object.assign(Object.assign({},y),F)}(i,e,t,r,i.children,y));return F._sourceSegment=i,F._segmentIndexShift=e.length,{segmentGroup:F,slicedSegments:t}}const E=new oe(i.segments,i.children);return E._sourceSegment=i,E._segmentIndexShift=e.length,{segmentGroup:E,slicedSegments:t}}function rh(i,e,t){return(!(i.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function uE(i,e,t,r){return!!(dn(i)===r||r!==re&&rh(e,t,i))&&("**"===i.path||ih(e,i,t).matched)}function hE(i,e,t){return 0===e.length&&!i.children[t]}class tl{constructor(e){this.segmentGroup=e||null}}class fE{constructor(e){this.urlTree=e}}function sh(i){return new H(e=>e.error(new tl(i)))}function cE(i){return new H(e=>e.error(new fE(i)))}function aV(i){return new H(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class hV{constructor(e,t,r,y,E){this.configLoader=t,this.urlSerializer=r,this.urlTree=y,this.config=E,this.allowRedirects=!0,this.ngModule=e.get(vr)}apply(){const e=nh(this.urlTree.root,[],[],this.config).segmentGroup,t=new oe(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,re).pipe(ft(E=>this.createUrlTree(Tp(E),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Cr(E=>{if(E instanceof fE)return this.allowRedirects=!1,this.match(E.urlTree);throw E instanceof tl?this.noMatchError(E):E}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,re).pipe(ft(y=>this.createUrlTree(Tp(y),e.queryParams,e.fragment))).pipe(Cr(y=>{throw y instanceof tl?this.noMatchError(y):y}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const y=e.segments.length>0?new oe([],{[re]:e}):e;return new cs(y,t,r)}expandSegmentGroup(e,t,r,y){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(ft(E=>new oe([],E))):this.expandSegment(e,r,t,r.segments,y,!0)}expandChildren(e,t,r){const y=[];for(const E of Object.keys(r.children))"primary"===E?y.unshift(E):y.push(E);return ri(y).pipe(Ro(E=>{const F=r.children[E],O=aE(t,E);return this.expandSegmentGroup(e,O,F,E).pipe(ft(N=>({segment:N,outlet:E})))}),DT((E,F)=>(E[F.outlet]=F.segment,E),{}),function iB(i,e){const t=arguments.length>=2;return r=>r.pipe(i?Nn((y,E)=>i(y,E,r)):J,op(1),t?FT(e):RT(()=>new $u))}())}expandSegment(e,t,r,y,E,F){return ri(r).pipe(Ro(O=>this.expandSegmentAgainstRoute(e,t,r,O,y,E,F).pipe(Cr(U=>{if(U instanceof tl)return Yt(null);throw U}))),Fo(O=>!!O),Cr((O,N)=>{if(O instanceof $u||"EmptyError"===O.name){if(hE(t,y,E))return Yt(new oe([],{}));throw new tl(t)}throw O}))}expandSegmentAgainstRoute(e,t,r,y,E,F,O){return uE(y,t,E,F)?void 0===y.redirectTo?this.matchSegmentAgainstRoute(e,t,y,E,F):O&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,y,E,F):sh(t):sh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,y,E,F){return"**"===y.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,y,F):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,y,E,F)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,y){const E=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?cE(E):this.lineralizeSegments(r,E).pipe(qe(F=>{const O=new oe(F,{});return this.expandSegment(e,O,t,F,y,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,y,E,F){const{matched:O,consumedSegments:N,lastChild:U,positionalParamSegments:j}=ih(t,y,E);if(!O)return sh(t);const q=this.applyRedirectCommands(N,y.redirectTo,j);return y.redirectTo.startsWith("/")?cE(q):this.lineralizeSegments(y,q).pipe(qe(nt=>this.expandSegment(e,t,r,nt.concat(E.slice(U)),F,!1)))}matchSegmentAgainstRoute(e,t,r,y,E){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Yt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(ft(nt=>(r._loadedConfig=nt,new oe(y,{})))):Yt(new oe(y,{}));const{matched:F,consumedSegments:O,lastChild:N}=ih(t,r,y);if(!F)return sh(t);const U=y.slice(N);return this.getChildConfig(e,r,y).pipe(qe(q=>{const nt=q.module,rt=q.routes,{segmentGroup:at,slicedSegments:ut}=nh(t,O,U,rt),vt=new oe(at.segments,at.children);if(0===ut.length&&vt.hasChildren())return this.expandChildren(nt,rt,vt).pipe(ft(Pt=>new oe(O,Pt)));if(0===rt.length&&0===ut.length)return Yt(new oe(O,{}));const pt=dn(r)===E;return this.expandSegment(nt,vt,rt,ut,pt?re:E,!0).pipe(ft(At=>new oe(O.concat(At.segments),At.children)))}))}getChildConfig(e,t,r){return t.children?Yt(new yp(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Yt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(qe(y=>y?this.configLoader.load(e.injector,t).pipe(ft(E=>(t._loadedConfig=E,E))):function lV(i){return new H(e=>e.error(lp(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`)))}(t))):Yt(new yp([],e))}runCanLoadGuards(e,t,r){const y=t.canLoad;return y&&0!==y.length?Yt(y.map(F=>{const O=e.get(F);let N;if(function QB(i){return i&&zr(i.canLoad)}(O))N=O.canLoad(t,r);else{if(!zr(O))throw new Error("Invalid CanLoad guard");N=O(t,r)}return ir(N)})).pipe(qa(),pi(F=>{if(!ps(F))return;const O=lp(`Redirecting to "${this.urlSerializer.serialize(F)}"`);throw O.url=F,O}),ft(F=>!0===F)):Yt(!0)}lineralizeSegments(e,t){let r=[],y=t.root;for(;;){if(r=r.concat(y.segments),0===y.numberOfChildren)return Yt(r);if(y.numberOfChildren>1||!y.children[re])return aV(e.redirectTo);y=y.children[re]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,y){const E=this.createSegmentGroup(e,t.root,r,y);return new cs(E,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return vi(e,(y,E)=>{if("string"==typeof y&&y.startsWith(":")){const O=y.substring(1);r[E]=t[O]}else r[E]=y}),r}createSegmentGroup(e,t,r,y){const E=this.createSegments(e,t.segments,r,y);let F={};return vi(t.children,(O,N)=>{F[N]=this.createSegmentGroup(e,O,r,y)}),new oe(E,F)}createSegments(e,t,r,y){return t.map(E=>E.path.startsWith(":")?this.findPosParam(e,E,y):this.findOrReturn(E,r))}findPosParam(e,t,r){const y=r[t.path.substring(1)];if(!y)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return y}findOrReturn(e,t){let r=0;for(const y of t){if(y.path===e.path)return t.splice(r),y;r++}return e}}function Tp(i){const e={};for(const r of Object.keys(i.children)){const E=Tp(i.children[r]);(E.segments.length>0||E.hasChildren())&&(e[r]=E)}return function fV(i){if(1===i.numberOfChildren&&i.children[re]){const e=i.children[re];return new oe(i.segments.concat(e.segments),e.children)}return i}(new oe(i.segments,e))}class dE{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class oh{constructor(e,t){this.component=e,this.route=t}}function dV(i,e,t){const r=i._root;return el(r,e?e._root:null,t,[r.value])}function ah(i,e,t){const r=function vV(i){if(!i)return null;for(let e=i.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(i)}function el(i,e,t,r,y={canDeactivateChecks:[],canActivateChecks:[]}){const E=wo(e);return i.children.forEach(F=>{(function gV(i,e,t,r,y={canDeactivateChecks:[],canActivateChecks:[]}){const E=i.value,F=e?e.value:null,O=t?t.getContext(i.value.outlet):null;if(F&&E.routeConfig===F.routeConfig){const N=function mV(i,e,t){if("function"==typeof t)return t(i,e);switch(t){case"pathParamsChange":return!ds(i.url,e.url);case"pathParamsOrQueryParamsChange":return!ds(i.url,e.url)||!er(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pp(i,e)||!er(i.queryParams,e.queryParams);default:return!pp(i,e)}}(F,E,E.routeConfig.runGuardsAndResolvers);N?y.canActivateChecks.push(new dE(r)):(E.data=F.data,E._resolvedData=F._resolvedData),el(i,e,E.component?O?O.children:null:t,r,y),N&&O&&O.outlet&&O.outlet.isActivated&&y.canDeactivateChecks.push(new oh(O.outlet.component,F))}else F&&il(e,O,y),y.canActivateChecks.push(new dE(r)),el(i,null,E.component?O?O.children:null:t,r,y)})(F,E[F.value.outlet],t,r.concat([F.value]),y),delete E[F.value.outlet]}),vi(E,(F,O)=>il(F,t.getContext(O),y)),y}function il(i,e,t){const r=wo(i),y=i.value;vi(r,(E,F)=>{il(E,y.component?e?e.children.getContext(F):null:e,t)}),t.canDeactivateChecks.push(new oh(y.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,y))}class DV{}function pE(i){return new H(e=>e.error(i))}class FV{constructor(e,t,r,y,E,F){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=y,this.paramsInheritanceStrategy=E,this.relativeLinkResolution=F}recognize(){const e=nh(this.urlTree.root,[],[],this.config.filter(F=>void 0===F.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,re);if(null===t)return null;const r=new _u([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},re,this.rootComponentType,null,this.urlTree.root,-1,{}),y=new Er(r,t),E=new qT(this.url,y);return this.inheritParamsAndData(E._root),E}inheritParamsAndData(e){const t=e.value,r=JT(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(y=>this.inheritParamsAndData(y))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const E of Object.keys(t.children)){const F=t.children[E],O=aE(e,E),N=this.processSegmentGroup(O,F,E);if(null===N)return null;r.push(...N)}const y=vE(r);return function PV(i){i.sort((e,t)=>e.value.outlet===re?-1:t.value.outlet===re?1:e.value.outlet.localeCompare(t.value.outlet))}(y),y}processSegment(e,t,r,y){for(const E of e){const F=this.processSegmentAgainstRoute(E,t,r,y);if(null!==F)return F}return hE(t,r,y)?[]:null}processSegmentAgainstRoute(e,t,r,y){if(e.redirectTo||!uE(e,t,r,y))return null;let E,F=[],O=[];if("**"===e.path){const rt=r.length>0?VT(r).parameters:{};E=new _u(r,rt,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,yE(e),dn(e),e.component,e,gE(t),mE(t)+r.length,xE(e))}else{const rt=ih(t,e,r);if(!rt.matched)return null;F=rt.consumedSegments,O=r.slice(rt.lastChild),E=new _u(F,rt.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,yE(e),dn(e),e.component,e,gE(t),mE(t)+F.length,xE(e))}const N=function wV(i){return i.children?i.children:i.loadChildren?i._loadedConfig.routes:[]}(e),{segmentGroup:U,slicedSegments:j}=nh(t,F,O,N.filter(rt=>void 0===rt.redirectTo),this.relativeLinkResolution);if(0===j.length&&U.hasChildren()){const rt=this.processChildren(N,U);return null===rt?null:[new Er(E,rt)]}if(0===N.length&&0===j.length)return[new Er(E,[])];const q=dn(e)===y,nt=this.processSegment(N,U,j,q?re:y);return null===nt?null:[new Er(E,nt)]}}function IV(i){const e=i.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function vE(i){const e=[],t=new Set;for(const r of i){if(!IV(r)){e.push(r);continue}const y=e.find(E=>r.value.routeConfig===E.value.routeConfig);void 0!==y?(y.children.push(...r.children),t.add(y)):e.push(r)}for(const r of t){const y=vE(r.children);e.push(new Er(r.value,y))}return e.filter(r=>!t.has(r))}function gE(i){let e=i;for(;e._sourceSegment;)e=e._sourceSegment;return e}function mE(i){let e=i,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function yE(i){return i.data||{}}function xE(i){return i.resolve||{}}function CE(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function Ep(i){return fs(e=>{const t=i(e);return t?ri(t).pipe(ft(()=>e)):Yt(e)})}class UV extends class GV{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Sp=new It("ROUTES");class TE{constructor(e,t,r,y){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=y}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const y=this.loadModuleFactory(t.loadChildren).pipe(ft(E=>{this.onLoadEndListener&&this.onLoadEndListener(t);const F=E.create(e);return new yp(BT(F.injector.get(Sp,void 0,Zt.Self|Zt.Optional)).map(Cp),F)}),Cr(E=>{throw t._loader$=void 0,E}));return t._loader$=new _N(y,()=>new Q).pipe(MT()),t._loader$}loadModuleFactory(e){return ir(e()).pipe(qe(t=>t instanceof I0?Yt(t):ri(this.compiler.compileModuleAsync(t))))}}class zV{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function WV(i){throw i}function YV(i,e,t){return e.parse("/")}function EE(i,e){return Yt(null)}const XV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ni=(()=>{class i{constructor(t,r,y,E,F,O,N){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=y,this.location=E,this.config=N,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Q,this.errorHandler=WV,this.malformedUriErrorHandler=YV,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:EE,afterPreactivation:EE},this.urlHandlingStrategy=new zV,this.routeReuseStrategy=new UV,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=F.get(vr),this.console=F.get(dC);const q=F.get(pe);this.isNgZoneEnabled=q instanceof pe&&pe.isInAngularZone(),this.resetConfig(N),this.currentUrlTree=function mB(){return new cs(new oe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new TE(F,O,nt=>this.triggerEvent(new IT(nt)),nt=>this.triggerEvent(new OT(nt))),this.routerState=ZT(this.currentUrlTree,this.rootComponentType),this.transitions=new Zi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Nn(y=>0!==y.id),ft(y=>Object.assign(Object.assign({},y),{extractedUrl:this.urlHandlingStrategy.extract(y.rawUrl)})),fs(y=>{let E=!1,F=!1;return Yt(y).pipe(pi(O=>{this.currentNavigation={id:O.id,initialUrl:O.currentRawUrl,extractedUrl:O.extractedUrl,trigger:O.source,extras:O.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),fs(O=>{const N=this.browserUrlTree.toString(),U=!this.navigated||O.extractedUrl.toString()!==N||N!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||U)&&this.urlHandlingStrategy.shouldProcessUrl(O.rawUrl))return lh(O.source)&&(this.browserUrlTree=O.extractedUrl),Yt(O).pipe(fs(q=>{const nt=this.transitions.getValue();return r.next(new ap(q.id,this.serializeUrl(q.extractedUrl),q.source,q.restoredState)),nt!==this.transitions.getValue()?Yn:Promise.resolve(q)}),function cV(i,e,t,r){return fs(y=>function uV(i,e,t,r,y){return new hV(i,e,t,r,y).apply()}(i,e,t,y.extractedUrl,r).pipe(ft(E=>Object.assign(Object.assign({},y),{urlAfterRedirects:E}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),pi(q=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:q.urlAfterRedirects})}),function OV(i,e,t,r,y){return qe(E=>function RV(i,e,t,r,y="emptyOnly",E="legacy"){try{const F=new FV(i,e,t,r,y,E).recognize();return null===F?pE(new DV):Yt(F)}catch(F){return pE(F)}}(i,e,E.urlAfterRedirects,t(E.urlAfterRedirects),r,y).pipe(ft(F=>Object.assign(Object.assign({},E),{targetSnapshot:F}))))}(this.rootComponentType,this.config,q=>this.serializeUrl(q),this.paramsInheritanceStrategy,this.relativeLinkResolution),pi(q=>{if("eager"===this.urlUpdateStrategy){if(!q.extras.skipLocationChange){const rt=this.urlHandlingStrategy.merge(q.urlAfterRedirects,q.rawUrl);this.setBrowserUrl(rt,q)}this.browserUrlTree=q.urlAfterRedirects}const nt=new rB(q.id,this.serializeUrl(q.extractedUrl),this.serializeUrl(q.urlAfterRedirects),q.targetSnapshot);r.next(nt)}));if(U&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:nt,extractedUrl:rt,source:at,restoredState:ut,extras:vt}=O,pt=new ap(nt,this.serializeUrl(rt),at,ut);r.next(pt);const ct=ZT(rt,this.rootComponentType).snapshot;return Yt(Object.assign(Object.assign({},O),{targetSnapshot:ct,urlAfterRedirects:rt,extras:Object.assign(Object.assign({},vt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=O.rawUrl,O.resolve(null),Yn}),Ep(O=>{const{targetSnapshot:N,id:U,extractedUrl:j,rawUrl:q,extras:{skipLocationChange:nt,replaceUrl:rt}}=O;return this.hooks.beforePreactivation(N,{navigationId:U,appliedUrlTree:j,rawUrlTree:q,skipLocationChange:!!nt,replaceUrl:!!rt})}),pi(O=>{const N=new sB(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);this.triggerEvent(N)}),ft(O=>Object.assign(Object.assign({},O),{guards:dV(O.targetSnapshot,O.currentSnapshot,this.rootContexts)})),function yV(i,e){return qe(t=>{const{targetSnapshot:r,currentSnapshot:y,guards:{canActivateChecks:E,canDeactivateChecks:F}}=t;return 0===F.length&&0===E.length?Yt(Object.assign(Object.assign({},t),{guardsResult:!0})):function xV(i,e,t,r){return ri(i).pipe(qe(y=>function MV(i,e,t,r,y){const E=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return E&&0!==E.length?Yt(E.map(O=>{const N=ah(O,e,y);let U;if(function qB(i){return i&&zr(i.canDeactivate)}(N))U=ir(N.canDeactivate(i,e,t,r));else{if(!zr(N))throw new Error("Invalid CanDeactivate guard");U=ir(N(i,e,t,r))}return U.pipe(Fo())})).pipe(qa()):Yt(!0)}(y.component,y.route,t,e,r)),Fo(y=>!0!==y,!0))}(F,r,y,i).pipe(qe(O=>O&&function KB(i){return"boolean"==typeof i}(O)?function CV(i,e,t,r){return ri(e).pipe(Ro(y=>sp(function EV(i,e){return null!==i&&e&&e(new uB(i)),Yt(!0)}(y.route.parent,r),function TV(i,e){return null!==i&&e&&e(new fB(i)),Yt(!0)}(y.route,r),function AV(i,e,t){const r=e[e.length-1],E=e.slice(0,e.length-1).reverse().map(F=>function pV(i){const e=i.routeConfig?i.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:i,guards:e}:null}(F)).filter(F=>null!==F).map(F=>AT(()=>Yt(F.guards.map(N=>{const U=ah(N,F.node,t);let j;if(function JB(i){return i&&zr(i.canActivateChild)}(U))j=ir(U.canActivateChild(r,i));else{if(!zr(U))throw new Error("Invalid CanActivateChild guard");j=ir(U(r,i))}return j.pipe(Fo())})).pipe(qa())));return Yt(E).pipe(qa())}(i,y.path,t),function SV(i,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Yt(!0);const y=r.map(E=>AT(()=>{const F=ah(E,e,t);let O;if(function ZB(i){return i&&zr(i.canActivate)}(F))O=ir(F.canActivate(e,i));else{if(!zr(F))throw new Error("Invalid CanActivate guard");O=ir(F(e,i))}return O.pipe(Fo())}));return Yt(y).pipe(qa())}(i,y.route,t))),Fo(y=>!0!==y,!0))}(r,E,i,e):Yt(O)),ft(O=>Object.assign(Object.assign({},t),{guardsResult:O})))})}(this.ngModule.injector,O=>this.triggerEvent(O)),pi(O=>{if(ps(O.guardsResult)){const U=lp(`Redirecting to "${this.serializeUrl(O.guardsResult)}"`);throw U.url=O.guardsResult,U}const N=new oB(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot,!!O.guardsResult);this.triggerEvent(N)}),Nn(O=>!!O.guardsResult||(this.restoreHistory(O),this.cancelNavigationTransition(O,""),!1)),Ep(O=>{if(O.guards.canActivateChecks.length)return Yt(O).pipe(pi(N=>{const U=new aB(N.id,this.serializeUrl(N.extractedUrl),this.serializeUrl(N.urlAfterRedirects),N.targetSnapshot);this.triggerEvent(U)}),fs(N=>{let U=!1;return Yt(N).pipe(function LV(i,e){return qe(t=>{const{targetSnapshot:r,guards:{canActivateChecks:y}}=t;if(!y.length)return Yt(t);let E=0;return ri(y).pipe(Ro(F=>function bV(i,e,t,r){return function NV(i,e,t,r){const y=CE(i);if(0===y.length)return Yt({});const E={};return ri(y).pipe(qe(F=>function BV(i,e,t,r){const y=ah(i,e,r);return ir(y.resolve?y.resolve(e,t):y(e,t))}(i[F],e,t,r).pipe(pi(O=>{E[F]=O}))),op(1),qe(()=>CE(E).length===y.length?Yt(E):Yn))}(i._resolve,i,e,r).pipe(ft(E=>(i._resolvedData=E,i.data=Object.assign(Object.assign({},i.data),JT(i,t).resolve),null)))}(F.route,r,i,e)),pi(()=>E++),op(1),qe(F=>E===y.length?Yt(t):Yn))})}(this.paramsInheritanceStrategy,this.ngModule.injector),pi({next:()=>U=!0,complete:()=>{U||(this.restoreHistory(N),this.cancelNavigationTransition(N,"At least one route resolver didn't emit any value."))}}))}),pi(N=>{const U=new lB(N.id,this.serializeUrl(N.extractedUrl),this.serializeUrl(N.urlAfterRedirects),N.targetSnapshot);this.triggerEvent(U)}))}),Ep(O=>{const{targetSnapshot:N,id:U,extractedUrl:j,rawUrl:q,extras:{skipLocationChange:nt,replaceUrl:rt}}=O;return this.hooks.afterPreactivation(N,{navigationId:U,appliedUrlTree:j,rawUrlTree:q,skipLocationChange:!!nt,replaceUrl:!!rt})}),ft(O=>{const N=function NB(i,e,t){const r=Qa(i,e._root,t?t._root:void 0);return new QT(r,e)}(this.routeReuseStrategy,O.targetSnapshot,O.currentRouterState);return Object.assign(Object.assign({},O),{targetRouterState:N})}),pi(O=>{this.currentUrlTree=O.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl),this.routerState=O.targetRouterState,"deferred"===this.urlUpdateStrategy&&(O.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,O),this.browserUrlTree=O.urlAfterRedirects)}),((i,e,t)=>ft(r=>(new $B(e,r.targetRouterState,r.currentRouterState,t).activate(i),r)))(this.rootContexts,this.routeReuseStrategy,O=>this.triggerEvent(O)),pi({next(){E=!0},complete(){E=!0}}),PT(()=>{var O;E||F||this.cancelNavigationTransition(y,`Navigation ID ${y.id} is not equal to the current navigation id ${this.navigationId}`),(null===(O=this.currentNavigation)||void 0===O?void 0:O.id)===y.id&&(this.currentNavigation=null)}),Cr(O=>{if(F=!0,function pB(i){return i&&i[bT]}(O)){const N=ps(O.url);N||(this.navigated=!0,this.restoreHistory(y,!0));const U=new wT(y.id,this.serializeUrl(y.extractedUrl),O.message);r.next(U),N?setTimeout(()=>{const j=this.urlHandlingStrategy.merge(O.url,this.rawUrlTree),q={skipLocationChange:y.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||lh(y.source)};this.scheduleNavigation(j,"imperative",null,q,{resolve:y.resolve,reject:y.reject,promise:y.promise})},0):y.resolve(!1)}else{this.restoreHistory(y,!0);const N=new nB(y.id,this.serializeUrl(y.extractedUrl),O);r.next(N);try{y.resolve(this.errorHandler(O))}catch(U){y.reject(U)}}return Yn}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var y;const E={replaceUrl:!0},F=(null===(y=t.state)||void 0===y?void 0:y.navigationId)?t.state:null;if(F){const N=Object.assign({},F);delete N.navigationId,delete N.\u0275routerPageId,0!==Object.keys(N).length&&(E.state=N)}const O=this.parseUrl(t.url);this.scheduleNavigation(O,r,F,E)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){oE(t),this.config=t.map(Cp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:y,queryParams:E,fragment:F,queryParamsHandling:O,preserveFragment:N}=r,U=y||this.routerState.root,j=N?this.currentUrlTree.fragment:F;let q=null;switch(O){case"merge":q=Object.assign(Object.assign({},this.currentUrlTree.queryParams),E);break;case"preserve":q=this.currentUrlTree.queryParams;break;default:q=E||null}return null!==q&&(q=this.removeEmptyProps(q)),function GB(i,e,t,r,y){if(0===t.length)return vp(e.root,e.root,e,r,y);const E=function UB(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new eE(!0,0,i);let e=0,t=!1;const r=i.reduce((y,E,F)=>{if("object"==typeof E&&null!=E){if(E.outlets){const O={};return vi(E.outlets,(N,U)=>{O[U]="string"==typeof N?N.split("/"):N}),[...y,{outlets:O}]}if(E.segmentPath)return[...y,E.segmentPath]}return"string"!=typeof E?[...y,E]:0===F?(E.split("/").forEach((O,N)=>{0==N&&"."===O||(0==N&&""===O?t=!0:".."===O?e++:""!=O&&y.push(O))}),y):[...y,E]},[]);return new eE(t,e,r)}(t);if(E.toRoot())return vp(e.root,new oe([],{}),e,r,y);const F=function HB(i,e,t){if(i.isAbsolute)return new gp(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const E=t.snapshot._urlSegment;return new gp(E,E===e.root,0)}const r=th(i.commands[0])?0:1;return function zB(i,e,t){let r=i,y=e,E=t;for(;E>y;){if(E-=y,r=r.parent,!r)throw new Error("Invalid number of '../'");y=r.segments.length}return new gp(r,!1,y-E)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,i.numberOfDoubleDots)}(E,e,i),O=F.processChildren?eh(F.segmentGroup,F.index,E.commands):iE(F.segmentGroup,F.index,E.commands);return vp(F.segmentGroup,O,e,r,y)}(U,this.currentUrlTree,t,q,null!=j?j:null)}navigateByUrl(t,r={skipLocationChange:!1}){const y=ps(t)?t:this.parseUrl(t),E=this.urlHandlingStrategy.merge(y,this.rawUrlTree);return this.scheduleNavigation(E,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function $V(i){for(let e=0;e<i.length;e++){const t=i[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(y){r=this.malformedUriErrorHandler(y,this.urlSerializer,t)}return r}isActive(t,r){let y;if(y=!0===r?Object.assign({},XV):!1===r?Object.assign({},jV):r,ps(t))return UT(this.currentUrlTree,t,y);const E=this.parseUrl(t);return UT(this.currentUrlTree,E,y)}removeEmptyProps(t){return Object.keys(t).reduce((r,y)=>{const E=t[y];return null!=E&&(r[y]=E),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new $a(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,y,E,F){var O,N,U;if(this.disposed)return Promise.resolve(!1);const j=this.transitions.value,q=lh(r)&&j&&!lh(j.source),nt=j.rawUrl.toString()===t.toString(),rt=j.id===(null===(O=this.currentNavigation)||void 0===O?void 0:O.id);if(q&&nt&&rt)return Promise.resolve(!0);let ut,vt,pt;F?(ut=F.resolve,vt=F.reject,pt=F.promise):pt=new Promise((Pt,Jt)=>{ut=Pt,vt=Jt});const ct=++this.navigationId;let At;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(y=this.location.getState()),At=y&&y.\u0275routerPageId?y.\u0275routerPageId:E.replaceUrl||E.skipLocationChange?null!==(N=this.browserPageId)&&void 0!==N?N:0:(null!==(U=this.browserPageId)&&void 0!==U?U:0)+1):At=0,this.setTransition({id:ct,targetPageId:At,source:r,restoredState:y,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:E,resolve:ut,reject:vt,promise:pt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),pt.catch(Pt=>Promise.reject(Pt))}setBrowserUrl(t,r){const y=this.urlSerializer.serialize(t),E=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(y)||r.extras.replaceUrl?this.location.replaceState(y,"",E):this.location.go(y,"",E)}restoreHistory(t,r=!1){var y,E;if("computed"===this.canceledNavigationResolution){const F=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(y=this.currentNavigation)||void 0===y?void 0:y.finalUrl)||0===F?this.currentUrlTree===(null===(E=this.currentNavigation)||void 0===E?void 0:E.finalUrl)&&0===F&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(F)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const y=new wT(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(y),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return i.\u0275fac=function(t){kc()},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();function lh(i){return"imperative"!==i}let nl=(()=>{class i{constructor(t,r,y,E,F){this.router=t,this.route=r,this.tabIndexAttribute=y,this.renderer=E,this.el=F,this.commands=null,this.onChanges=new Q,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,y=this.el.nativeElement;null!==t?r.setAttribute(y,"tabindex",t):r.removeAttribute(y,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Oo(this.skipLocationChange),replaceUrl:Oo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Oo(this.preserveFragment)})}}return i.\u0275fac=function(t){return new(t||i)(st(ni),st(Io),Ys("tabindex"),st(wn),st($t))},i.\u0275dir=yt({type:i,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&Se("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Ai]}),i})();function Oo(i){return""===i||!!i}class SE{}class AE{preload(e,t){return Yt(null)}}let ME=(()=>{class i{constructor(t,r,y,E){this.router=t,this.injector=y,this.preloadingStrategy=E,this.loader=new TE(y,r,N=>t.triggerEvent(new IT(N)),N=>t.triggerEvent(new OT(N)))}setUpPreloading(){this.subscription=this.router.events.pipe(Nn(t=>t instanceof $a),Ro(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(vr);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const y=[];for(const E of r)if(E.loadChildren&&!E.canLoad&&E._loadedConfig){const F=E._loadedConfig;y.push(this.processRoutes(F.module,F.routes))}else E.loadChildren&&!E.canLoad?y.push(this.preloadConfig(t,E)):E.children&&y.push(this.processRoutes(t,E.children));return ri(y).pipe(Ko(),ft(E=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Yt(r._loadedConfig):this.loader.load(t.injector,r)).pipe(qe(E=>(r._loadedConfig=E,this.processRoutes(E.module,E.routes)))))}}return i.\u0275fac=function(t){return new(t||i)(mt(ni),mt(Mu),mt(ai),mt(SE))},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})(),Mp=(()=>{class i{constructor(t,r,y={}){this.router=t,this.viewportScroller=r,this.options=y,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},y.scrollPositionRestoration=y.scrollPositionRestoration||"disabled",y.anchorScrolling=y.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ap?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof $a&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof LT&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new LT(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(t){kc()},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();const vs=new It("ROUTER_CONFIGURATION"),DE=new It("ROUTER_FORROOT_GUARD"),ZV=[Vd,{provide:YT,useClass:XT},{provide:ni,useFactory:function eG(i,e,t,r,y,E,F={},O,N){const U=new ni(null,i,e,t,r,y,BT(E));return O&&(U.urlHandlingStrategy=O),N&&(U.routeReuseStrategy=N),function iG(i,e){i.errorHandler&&(e.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(e.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(e.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(e.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(e.urlUpdateStrategy=i.urlUpdateStrategy),i.canceledNavigationResolution&&(e.canceledNavigationResolution=i.canceledNavigationResolution)}(F,U),F.enableTracing&&U.events.subscribe(j=>{var q,nt;null===(q=console.group)||void 0===q||q.call(console,`Router Event: ${j.constructor.name}`),console.log(j.toString()),console.log(j),null===(nt=console.groupEnd)||void 0===nt||nt.call(console)}),U},deps:[YT,_a,Vd,ai,Mu,Sp,vs,[class HV{},new Xi],[class VV{},new Xi]]},_a,{provide:Io,useFactory:function nG(i){return i.routerState.root},deps:[ni]},ME,AE,class QV{preload(e,t){return t().pipe(Cr(()=>Yt(null)))}},{provide:vs,useValue:{enableTracing:!1}}];function JV(){return new xC("Router",ni)}let RE=(()=>{class i{constructor(t,r){}static forRoot(t,r){return{ngModule:i,providers:[ZV,FE(t),{provide:DE,useFactory:tG,deps:[[ni,new Xi,new is]]},{provide:vs,useValue:r||{}},{provide:Mo,useFactory:_V,deps:[us,[new ca(Bd),new Xi],vs]},{provide:Mp,useFactory:qV,deps:[ni,oN,vs]},{provide:SE,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:AE},{provide:xC,multi:!0,useFactory:JV},[Dp,{provide:Au,multi:!0,useFactory:rG,deps:[Dp]},{provide:PE,useFactory:sG,deps:[Dp]},{provide:Ad,multi:!0,useExisting:PE}]]}}static forChild(t){return{ngModule:i,providers:[FE(t)]}}}return i.\u0275fac=function(t){return new(t||i)(mt(DE,8),mt(ni,8))},i.\u0275mod=ve({type:i}),i.\u0275inj=de({}),i})();function qV(i,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Mp(i,e,t)}function _V(i,e,t={}){return t.useHash?new $L(i,e):new UC(i,e)}function tG(i){return"guarded"}function FE(i){return[{provide:E1,multi:!0,useValue:i},{provide:Sp,multi:!0,useValue:i}]}let Dp=(()=>{class i{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Q}appInitializer(){return this.injector.get(YL,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const y=new Promise(O=>r=O),E=this.injector.get(ni),F=this.injector.get(vs);return"disabled"===F.initialNavigation?(E.setUpLocationChangeListener(),r(!0)):"enabled"===F.initialNavigation||"enabledBlocking"===F.initialNavigation?(E.hooks.afterPreactivation=()=>this.initNavigation?Yt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),E.initialNavigation()):r(!0),y})}bootstrapListener(t){const r=this.injector.get(vs),y=this.injector.get(ME),E=this.injector.get(Mp),F=this.injector.get(ni),O=this.injector.get(Ha);t===O.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&F.initialNavigation(),y.setUpPreloading(),E.init(),F.resetRootComponentType(O.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(t){return new(t||i)(mt(ai))},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();function rG(i){return i.appInitializer.bind(i)}function sG(i){return i.bootstrapListener.bind(i)}const PE=new It("Router Initializer");class wE{}class IE{}class Bn{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const y=t.slice(0,r),E=y.toLowerCase(),F=t.slice(r+1).trim();this.maybeSetNormalizedName(y,E),this.headers.has(E)?this.headers.get(E).push(F):this.headers.set(E,[F])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const y=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(y,r),this.maybeSetNormalizedName(t,y))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Bn?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Bn;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Bn?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const y=("a"===e.op?this.headers.get(t):void 0)||[];y.push(...r),this.headers.set(t,y);break;case"d":const E=e.value;if(E){let F=this.headers.get(t);if(!F)return;F=F.filter(O=>-1===E.indexOf(O)),0===F.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,F)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class aG{encodeKey(e){return OE(e)}encodeValue(e){return OE(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const uG=/%(\d[a-f0-9])/gi,hG={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function OE(i){return encodeURIComponent(i).replace(uG,(e,t)=>{var r;return null!==(r=hG[t])&&void 0!==r?r:e})}function LE(i){return`${i}`}class Sr{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new aG,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function lG(i,e){const t=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(y=>{const E=y.indexOf("="),[F,O]=-1==E?[e.decodeKey(y),""]:[e.decodeKey(y.slice(0,E)),e.decodeValue(y.slice(E+1))],N=t.get(F)||[];N.push(O),t.set(F,N)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const y=e[r];Array.isArray(y)?y.forEach(E=>{t.push({param:r,value:E,op:"a"})}):t.push({param:r,value:y,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Sr({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(LE(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const y=r.indexOf(LE(e.value));-1!==y&&r.splice(y,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class fG{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function bE(i){return"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer}function NE(i){return"undefined"!=typeof Blob&&i instanceof Blob}function BE(i){return"undefined"!=typeof FormData&&i instanceof FormData}class rl{constructor(e,t,r,y){let E;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function cG(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||y?(this.body=void 0!==r?r:null,E=y):E=r,E&&(this.reportProgress=!!E.reportProgress,this.withCredentials=!!E.withCredentials,E.responseType&&(this.responseType=E.responseType),E.headers&&(this.headers=E.headers),E.context&&(this.context=E.context),E.params&&(this.params=E.params)),this.headers||(this.headers=new Bn),this.context||(this.context=new fG),this.params){const F=this.params.toString();if(0===F.length)this.urlWithParams=t;else{const O=t.indexOf("?");this.urlWithParams=t+(-1===O?"?":O<t.length-1?"&":"")+F}}else this.params=new Sr,this.urlWithParams=t}serializeBody(){return null===this.body?null:bE(this.body)||NE(this.body)||BE(this.body)||function dG(i){return"undefined"!=typeof URLSearchParams&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Sr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||BE(this.body)?null:NE(this.body)?this.body.type||null:bE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Sr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,y=e.url||this.url,E=e.responseType||this.responseType,F=void 0!==e.body?e.body:this.body,O=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,N=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let U=e.headers||this.headers,j=e.params||this.params;const q=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(U=Object.keys(e.setHeaders).reduce((nt,rt)=>nt.set(rt,e.setHeaders[rt]),U)),e.setParams&&(j=Object.keys(e.setParams).reduce((nt,rt)=>nt.set(rt,e.setParams[rt]),j)),new rl(r,y,F,{params:j,headers:U,context:q,reportProgress:N,responseType:E,withCredentials:O})}}var Je=(()=>((Je=Je||{})[Je.Sent=0]="Sent",Je[Je.UploadProgress=1]="UploadProgress",Je[Je.ResponseHeader=2]="ResponseHeader",Je[Je.DownloadProgress=3]="DownloadProgress",Je[Je.Response=4]="Response",Je[Je.User=5]="User",Je))();class Rp{constructor(e,t=200,r="OK"){this.headers=e.headers||new Bn,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Fp extends Rp{constructor(e={}){super(e),this.type=Je.ResponseHeader}clone(e={}){return new Fp({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class uh extends Rp{constructor(e={}){super(e),this.type=Je.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new uh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class VE extends Rp{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Pp(i,e){return{body:e,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let gs=(()=>{class i{constructor(t){this.handler=t}request(t,r,y={}){let E;if(t instanceof rl)E=t;else{let N,U;N=y.headers instanceof Bn?y.headers:new Bn(y.headers),y.params&&(U=y.params instanceof Sr?y.params:new Sr({fromObject:y.params})),E=new rl(t,r,void 0!==y.body?y.body:null,{headers:N,context:y.context,params:U,reportProgress:y.reportProgress,responseType:y.responseType||"json",withCredentials:y.withCredentials})}const F=Yt(E).pipe(Ro(N=>this.handler.handle(N)));if(t instanceof rl||"events"===y.observe)return F;const O=F.pipe(Nn(N=>N instanceof uh));switch(y.observe||"body"){case"body":switch(E.responseType){case"arraybuffer":return O.pipe(ft(N=>{if(null!==N.body&&!(N.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return N.body}));case"blob":return O.pipe(ft(N=>{if(null!==N.body&&!(N.body instanceof Blob))throw new Error("Response is not a Blob.");return N.body}));case"text":return O.pipe(ft(N=>{if(null!==N.body&&"string"!=typeof N.body)throw new Error("Response is not a string.");return N.body}));default:return O.pipe(ft(N=>N.body))}case"response":return O;default:throw new Error(`Unreachable: unhandled observe type ${y.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Sr).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,y={}){return this.request("PATCH",t,Pp(y,r))}post(t,r,y={}){return this.request("POST",t,Pp(y,r))}put(t,r,y={}){return this.request("PUT",t,Pp(y,r))}}return i.\u0275fac=function(t){return new(t||i)(mt(wE))},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();class GE{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const wp=new It("HTTP_INTERCEPTORS");let pG=(()=>{class i{intercept(t,r){return r.handle(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();const vG=/^\)\]\}',?\n/;let UE=(()=>{class i{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new H(r=>{const y=this.xhrFactory.build();if(y.open(t.method,t.urlWithParams),t.withCredentials&&(y.withCredentials=!0),t.headers.forEach((rt,at)=>y.setRequestHeader(rt,at.join(","))),t.headers.has("Accept")||y.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const rt=t.detectContentTypeHeader();null!==rt&&y.setRequestHeader("Content-Type",rt)}if(t.responseType){const rt=t.responseType.toLowerCase();y.responseType="json"!==rt?rt:"text"}const E=t.serializeBody();let F=null;const O=()=>{if(null!==F)return F;const rt=y.statusText||"OK",at=new Bn(y.getAllResponseHeaders()),ut=function gG(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(y)||t.url;return F=new Fp({headers:at,status:y.status,statusText:rt,url:ut}),F},N=()=>{let{headers:rt,status:at,statusText:ut,url:vt}=O(),pt=null;204!==at&&(pt=void 0===y.response?y.responseText:y.response),0===at&&(at=pt?200:0);let ct=at>=200&&at<300;if("json"===t.responseType&&"string"==typeof pt){const At=pt;pt=pt.replace(vG,"");try{pt=""!==pt?JSON.parse(pt):null}catch(Pt){pt=At,ct&&(ct=!1,pt={error:Pt,text:pt})}}ct?(r.next(new uh({body:pt,headers:rt,status:at,statusText:ut,url:vt||void 0})),r.complete()):r.error(new VE({error:pt,headers:rt,status:at,statusText:ut,url:vt||void 0}))},U=rt=>{const{url:at}=O(),ut=new VE({error:rt,status:y.status||0,statusText:y.statusText||"Unknown Error",url:at||void 0});r.error(ut)};let j=!1;const q=rt=>{j||(r.next(O()),j=!0);let at={type:Je.DownloadProgress,loaded:rt.loaded};rt.lengthComputable&&(at.total=rt.total),"text"===t.responseType&&!!y.responseText&&(at.partialText=y.responseText),r.next(at)},nt=rt=>{let at={type:Je.UploadProgress,loaded:rt.loaded};rt.lengthComputable&&(at.total=rt.total),r.next(at)};return y.addEventListener("load",N),y.addEventListener("error",U),y.addEventListener("timeout",U),y.addEventListener("abort",U),t.reportProgress&&(y.addEventListener("progress",q),null!==E&&y.upload&&y.upload.addEventListener("progress",nt)),y.send(E),r.next({type:Je.Sent}),()=>{y.removeEventListener("error",U),y.removeEventListener("abort",U),y.removeEventListener("load",N),y.removeEventListener("timeout",U),t.reportProgress&&(y.removeEventListener("progress",q),null!==E&&y.upload&&y.upload.removeEventListener("progress",nt)),y.readyState!==y.DONE&&y.abort()}})}}return i.\u0275fac=function(t){return new(t||i)(mt(oT))},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();const Ip=new It("XSRF_COOKIE_NAME"),Op=new It("XSRF_HEADER_NAME");class HE{}let mG=(()=>{class i{constructor(t,r,y){this.doc=t,this.platform=r,this.cookieName=y,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=QC(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return i.\u0275fac=function(t){return new(t||i)(mt(me),mt(Qi),mt(Ip))},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})(),Lp=(()=>{class i{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const y=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||y.startsWith("http://")||y.startsWith("https://"))return r.handle(t);const E=this.tokenService.getToken();return null!==E&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,E)})),r.handle(t)}}return i.\u0275fac=function(t){return new(t||i)(mt(HE),mt(Op))},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})(),yG=(()=>{class i{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(wp,[]);this.chain=r.reduceRight((y,E)=>new GE(y,E),this.backend)}return this.chain.handle(t)}}return i.\u0275fac=function(t){return new(t||i)(mt(IE),mt(ai))},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})(),xG=(()=>{class i{static disable(){return{ngModule:i,providers:[{provide:Lp,useClass:pG}]}}static withOptions(t={}){return{ngModule:i,providers:[t.cookieName?{provide:Ip,useValue:t.cookieName}:[],t.headerName?{provide:Op,useValue:t.headerName}:[]]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=ve({type:i}),i.\u0275inj=de({providers:[Lp,{provide:wp,useExisting:Lp,multi:!0},{provide:HE,useClass:mG},{provide:Ip,useValue:"XSRF-TOKEN"},{provide:Op,useValue:"X-XSRF-TOKEN"}]}),i})(),CG=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=ve({type:i}),i.\u0275inj=de({providers:[gs,{provide:wE,useClass:yG},UE,{provide:IE,useExisting:UE}],imports:[[xG.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),i})(),ms=(()=>{class i{constructor(t,r){this.http=t,this.router=r,this.authObs=new Q}login(t,r){this.user=t;let E=new URLSearchParams;E.set("username",t),E.set("password",r);const F=(new Bn).set("Content-Type","application/x-www-form-urlencoded");this.http.post("/api/login",E,{headers:F}).subscribe(O=>{O?(sessionStorage.setItem("access-token",O.access_token),sessionStorage.setItem("refresh-token",O.refresh_token),this.router.navigate([""])):alert("Authentication failed.")})}getAllUsers(){this.http.get("/api/users",{observe:"response"}).subscribe(t=>{console.log(t)},t=>{t.error.error_message.includes("expired")&&this.getNewAccessToken(),this.errorPage(t)})}getNewAccessToken(){const t=(new Bn).set("expired","expired");this.http.get("/api/token/refresh",{headers:t}).subscribe(r=>{r&&(sessionStorage.setItem("access-token",r.access_token),sessionStorage.setItem("refresh-token",r.refresh_token))})}register(t,r,y){this.http.post("/api/register",{username:t,password:r,email:y},{observe:"response"}).subscribe(F=>{console.log(F)},F=>{this.errorPage(F)})}verify(t,r){return this.http.post("/api/verify",{email:t,verifyId:r},{observe:"response"}).subscribe(E=>{},E=>{this.errorPage(E)})}getToken(){return sessionStorage.getItem("access-token")}errorPage(t){console.log(t.error.error_message),this.errorMsg=t.error.error_message,this.authObs.next(t),this.router.navigate(["/badrequest"])}authorizeGoogleOauth(){let t=(new Sr).set("redirectUrl","https://minigame-fp.herokuapp.com/share");console.log(t.toString()),this.http.get("/api/authorizationCode",{params:t}).subscribe(r=>{window.location.href=r.link})}oauthAuthorize(t){return this.http.post("/api/token",{code:t,redirectUrl:"https://minigame-fp.herokuapp.com/share"})}}return i.\u0275fac=function(t){return new(t||i)(mt(gs),mt(ni))},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const TG=new It("cdk-dir-doc",{providedIn:"root",factory:function EG(){return ha(me)}}),SG=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let bp=(()=>{class i{constructor(t){if(this.value="ltr",this.change=new be,t){const y=t.documentElement?t.documentElement.dir:null;this.value=function AG(i){const e=(null==i?void 0:i.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?SG.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||y||"ltr")}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(t){return new(t||i)(mt(TG,8))},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Np=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=ve({type:i}),i.\u0275inj=de({}),i})();function zE(i){for(let e in i){let t=i[e]||"";switch(e){case"display":i.display="flex"===t?["-webkit-flex","flex"]:"inline-flex"===t?["-webkit-inline-flex","inline-flex"]:t;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":i["-webkit-"+e]=t;break;case"flex-direction":t=t||"row",i["-webkit-flex-direction"]=t,i["flex-direction"]=t;break;case"order":i.order=i["-webkit-"+e]=isNaN(+t)?"0":t}}return i}const Bp="inline",hh=["row","column","row-reverse","column-reverse"];function WE(i){let[e,t,r]=YE(i);return function DG(i,e=null,t=!1){return{display:t?"inline-flex":"flex","box-sizing":"border-box","flex-direction":i,"flex-wrap":e||null}}(e,t,r)}function YE(i){var e;i=null!==(e=null==i?void 0:i.toLowerCase())&&void 0!==e?e:"";let[t,r,y]=i.split(" ");return hh.find(E=>E===t)||(t=hh[0]),r===Bp&&(r=y!==Bp?y:"",y=Bp),[t,MG(r),!!y]}function sl(i){let[e]=YE(i);return e.indexOf("row")>-1}function MG(i){if(i)switch(i.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":i="wrap-reverse";break;case"no":case"none":case"nowrap":i="nowrap";break;default:i="wrap"}return i}function Ar(i,...e){if(null==i)throw TypeError("Cannot convert undefined or null to object");for(let t of e)if(null!=t)for(let r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);return i}const FG={provide:Ad,useFactory:function RG(i,e){return()=>{if(hs(e)){const t=Array.from(i.querySelectorAll(`[class*=${XE}]`)),r=/\bflex-layout-.+?\b/g;t.forEach(y=>{y.classList.contains(`${XE}ssr`)&&y.parentNode?y.parentNode.removeChild(y):y.className.replace(r,"")})}}},deps:[me,Qi],multi:!0},XE="flex-layout-";let Vp=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=ve({type:i}),i.\u0275inj=de({providers:[FG]}),i})();class ys{constructor(e=!1,t="all",r="",y="",E=0){this.matches=e,this.mediaQuery=t,this.mqAlias=r,this.suffix=y,this.priority=E,this.property=""}clone(){return new ys(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let PG=(()=>{class i{constructor(){this.stylesheet=new Map}addStyleToElement(t,r,y){const E=this.stylesheet.get(t);E?E.set(r,y):this.stylesheet.set(t,new Map([[r,y]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,r){const y=this.stylesheet.get(t);let E="";if(y){const F=y.get(r);("number"==typeof F||"string"==typeof F)&&(E=F+"")}return E}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Gp={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Vn=new It("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Gp}),Lo=new It("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),Up=new It("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function jE(i,e){return i=i?i.clone():new ys,e&&(i.mqAlias=e.alias,i.mediaQuery=e.mediaQuery,i.suffix=e.suffix,i.priority=e.priority),i}class Xe{constructor(){this.shouldCache=!0}sideEffect(e,t,r){}}let we=(()=>{class i{constructor(t,r,y,E){this._serverStylesheet=t,this._serverModuleLoaded=r,this._platformId=y,this.layoutConfig=E}applyStyleToElement(t,r,y=null){let E={};"string"==typeof r&&(E[r]=y,r=E),E=this.layoutConfig.disableVendorPrefixes?r:zE(r),this._applyMultiValueStyleToElement(E,t)}applyStyleToElements(t,r=[]){const y=this.layoutConfig.disableVendorPrefixes?t:zE(t);r.forEach(E=>{this._applyMultiValueStyleToElement(y,E)})}getFlowDirection(t){const r="flex-direction";let y=this.lookupStyle(t,r);return[y||"row",this.lookupInlineStyle(t,r)||Do(this._platformId)&&this._serverModuleLoaded?y:""]}hasWrap(t){return"wrap"===this.lookupStyle(t,"flex-wrap")}lookupAttributeValue(t,r){var y;return null!==(y=t.getAttribute(r))&&void 0!==y?y:""}lookupInlineStyle(t,r){return hs(this._platformId)?t.style.getPropertyValue(r):function wG(i,e){var t;return null!==(t=$E(i)[e])&&void 0!==t?t:""}(t,r)}lookupStyle(t,r,y=!1){let E="";return t&&((E=this.lookupInlineStyle(t,r))||(hs(this._platformId)?y||(E=getComputedStyle(t).getPropertyValue(r)):this._serverModuleLoaded&&(E=this._serverStylesheet.getStyleForElement(t,r)))),E?E.trim():""}_applyMultiValueStyleToElement(t,r){Object.keys(t).sort().forEach(y=>{const E=t[y],F=Array.isArray(E)?E:[E];F.sort();for(let O of F)O=O?O+"":"",hs(this._platformId)||!this._serverModuleLoaded?hs(this._platformId)?r.style.setProperty(y,O):IG(r,y,O):this._serverStylesheet.addStyleToElement(r,y,O)})}}return i.\u0275fac=function(t){return new(t||i)(mt(PG),mt(Lo),mt(Qi),mt(Vn))},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function IG(i,e,t){e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const r=$E(i);r[e]=null!=t?t:"",function OG(i,e){let t="";for(const r in e)e[r]&&(t+=`${r}:${e[r]};`);i.setAttribute("style",t)}(i,r)}function $E(i){const e={},t=i.getAttribute("style");if(t){const r=t.split(/;+/g);for(let y=0;y<r.length;y++){const E=r[y].trim();if(E.length>0){const F=E.indexOf(":");if(-1===F)throw new Error(`Invalid CSS style: ${E}`);e[E.substr(0,F).trim()]=E.substr(F+1).trim()}}}return e}function ol(i,e){return(e&&e.priority||0)-(i&&i.priority||0)}function LG(i,e){return(i.priority||0)-(e.priority||0)}let Hp=(()=>{class i{constructor(t,r,y){this._zone=t,this._platformId=r,this._document=y,this.source=new Zi(new ys(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((r,y)=>{r.matches&&t.push(y)}),t}isActive(t){var r;const y=this.registry.get(t);return null!==(r=null==y?void 0:y.matches)&&void 0!==r?r:this.registerQuery(t).some(E=>E.matches)}observe(t,r=!1){if(t&&t.length){const y=this._observable$.pipe(Nn(F=>!r||t.indexOf(F.mediaQuery)>-1));return El(new H(F=>{const O=this.registerQuery(t);if(O.length){const N=O.pop();O.forEach(U=>{F.next(U)}),this.source.next(N)}F.complete()}),y)}return this._observable$}registerQuery(t){const r=Array.isArray(t)?t:[t],y=[];return function bG(i,e){const t=i.filter(r=>!kE[r]);if(t.length>0){const r=t.join(", ");try{const y=e.createElement("style");y.setAttribute("type","text/css"),y.styleSheet||y.appendChild(e.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${r} {.fx-query-test{ }}\n`)),e.head.appendChild(y),t.forEach(E=>kE[E]=y)}catch(y){console.error(y)}}}(r,this._document),r.forEach(E=>{const F=N=>{this._zone.run(()=>this.source.next(new ys(N.matches,E)))};let O=this.registry.get(E);O||(O=this.buildMQL(E),O.addListener(F),this.pendingRemoveListenerFns.push(()=>O.removeListener(F)),this.registry.set(E,O)),O.matches&&y.push(new ys(!0,E))}),y}ngOnDestroy(){let t;for(;t=this.pendingRemoveListenerFns.pop();)t()}buildMQL(t){return function NG(i,e){return e&&window.matchMedia("all").addListener?window.matchMedia(i):{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(t,hs(this._platformId))}}return i.\u0275fac=function(t){return new(t||i)(mt(pe),mt(Qi),mt(me))},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const kE={},BG=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],KE="(orientation: portrait) and (max-width: 599.98px)",QE="(orientation: landscape) and (max-width: 959.98px)",ZE="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",JE="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",qE="(orientation: portrait) and (min-width: 840px)",_E="(orientation: landscape) and (min-width: 1280px)",Mr={HANDSET:`${KE}, ${QE}`,TABLET:`${ZE} , ${JE}`,WEB:`${qE}, ${_E} `,HANDSET_PORTRAIT:`${KE}`,TABLET_PORTRAIT:`${ZE} `,WEB_PORTRAIT:`${qE}`,HANDSET_LANDSCAPE:`${QE}`,TABLET_LANDSCAPE:`${JE}`,WEB_LANDSCAPE:`${_E}`},VG=[{alias:"handset",priority:2e3,mediaQuery:Mr.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Mr.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Mr.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Mr.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Mr.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Mr.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Mr.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Mr.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Mr.WEB_PORTRAIT,overlapping:!0}],GG=/(\.|-|_)/g;function UG(i){let e=i.length>0?i.charAt(0):"",t=i.length>1?i.slice(1):"";return e.toUpperCase()+t}const YG=new It("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const i=ha(Up),e=ha(Vn),t=[].concat.apply([],(i||[]).map(y=>Array.isArray(y)?y:[y]));return function WG(i,e=[]){const t={};return i.forEach(r=>{t[r.alias]=r}),e.forEach(r=>{t[r.alias]?Ar(t[r.alias],r):t[r.alias]=r}),function zG(i){return i.forEach(e=>{e.suffix||(e.suffix=function HG(i){return i.replace(GG,"|").split("|").map(UG).join("")}(e.alias),e.overlapping=!!e.overlapping)}),i}(Object.keys(t).map(r=>t[r]))}((e.disableDefaultBps?[]:BG).concat(e.addOrientationBps?VG:[]),t)}});let zp=(()=>{class i{constructor(t){this.findByMap=new Map,this.items=[...t].sort(LG)}findByAlias(t){return t?this.findWithPredicate(t,r=>r.alias===t):null}findByQuery(t){return this.findWithPredicate(t,r=>r.mediaQuery===t)}get overlappings(){return this.items.filter(t=>t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>{var r;return null!==(r=null==t?void 0:t.suffix)&&void 0!==r?r:""})}findWithPredicate(t,r){var y;let E=this.findByMap.get(t);return E||(E=null!==(y=this.items.find(r))&&void 0!==y?y:null,this.findByMap.set(t,E)),null!=E?E:null}}return i.\u0275fac=function(t){return new(t||i)(mt(YG))},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const bo="print",XG={alias:bo,mediaQuery:bo,priority:1e3};let jG=(()=>{class i{constructor(t,r,y){this.breakpoints=t,this.layoutConfig=r,this._document=y,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new $G,this.deactivations=[]}withPrintQuery(t){return[...t,bo]}isPrintEvent(t){return t.mediaQuery.startsWith(bo)}get printAlias(){var t;return[...null!==(t=this.layoutConfig.printWithBreakpoints)&&void 0!==t?t:[]]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const r=this.breakpoints.findByQuery(t);return(r?[...this.printBreakPoints,r]:this.printBreakPoints).sort(ol)}updateEvent(t){var r;let y=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(y=this.getEventBreakpoints(t)[0],t.mediaQuery=null!==(r=null==y?void 0:y.mediaQuery)&&void 0!==r?r:""),jE(t,y)}registerBeforeAfterPrintHooks(t){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const r=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(t,this.getEventBreakpoints(new ys(!0,bo))),t.updateStyles())},y=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(t),t.updateStyles())};this._document.defaultView.addEventListener("beforeprint",r),this._document.defaultView.addEventListener("afterprint",y),this.beforePrintEventListeners.push(r),this.afterPrintEventListeners.push(y)}interceptEvents(t){return r=>{this.isPrintEvent(r)?r.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(r)),t.updateStyles()):!r.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(t),t.updateStyles()):this.collectActivations(t,r)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,r){this.isPrinting=!0,this.formerActivations=t.activatedBreakpoints,t.activatedBreakpoints=this.queue.addPrintBreakpoints(r)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(t,r){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!r.matches){const y=this.breakpoints.findByQuery(r.mediaQuery);if(y){const E=this.formerActivations&&this.formerActivations.includes(y),F=!this.formerActivations&&t.activatedBreakpoints.includes(y);(E||F)&&(this.deactivations.push(y),this.deactivations.sort(ol))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("beforeprint",t)),this.afterPrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("afterprint",t)))}}return i.\u0275fac=function(t){return new(t||i)(mt(zp),mt(Vn),mt(me))},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class $G{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(e){return e.push(XG),e.sort(ol),e.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(e){e&&void 0===this.printBreakpoints.find(r=>r.mediaQuery===e.mediaQuery)&&(this.printBreakpoints=function kG(i){var e;return null!==(e=null==i?void 0:i.mediaQuery.startsWith(bo))&&void 0!==e&&e}(e)?[e,...this.printBreakpoints]:[...this.printBreakpoints,e])}clear(){this.printBreakpoints=[]}}let Ne=(()=>{class i{constructor(t,r,y){this.matchMedia=t,this.breakpoints=r,this.hook=y,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Q,this.observeActivations()}get activatedAlias(){var t,r;return null!==(r=null===(t=this.activatedBreakpoints[0])||void 0===t?void 0:t.alias)&&void 0!==r?r:""}set activatedBreakpoints(t){this._activatedBreakpoints=[...t]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(t){this._useFallbacks=t}onMediaChange(t){const r=this.findByQuery(t.mediaQuery);if(r){t=jE(t,r);const y=this.activatedBreakpoints.indexOf(r);t.matches&&-1===y?(this._activatedBreakpoints.push(r),this._activatedBreakpoints.sort(ol),this.updateStyles()):!t.matches&&-1!==y&&(this._activatedBreakpoints.splice(y,1),this._activatedBreakpoints.sort(ol),this.updateStyles())}}init(t,r,y,E,F=[]){tS(this.updateMap,t,r,y),tS(this.clearMap,t,r,E),this.buildElementKeyMap(t,r),this.watchExtraTriggers(t,r,F)}getValue(t,r,y){const E=this.elementMap.get(t);if(E){const F=void 0!==y?E.get(y):this.getActivatedValues(E,r);if(F)return F.get(r)}}hasValue(t,r){const y=this.elementMap.get(t);if(y){const E=this.getActivatedValues(y,r);if(E)return void 0!==E.get(r)||!1}return!1}setValue(t,r,y,E){var F;let O=this.elementMap.get(t);if(O){const U=(null!==(F=O.get(E))&&void 0!==F?F:new Map).set(r,y);O.set(E,U),this.elementMap.set(t,O)}else O=(new Map).set(E,(new Map).set(r,y)),this.elementMap.set(t,O);const N=this.getValue(t,r);void 0!==N&&this.updateElement(t,r,N)}trackValue(t,r){return this.subject.asObservable().pipe(Nn(y=>y.element===t&&y.key===r))}updateStyles(){this.elementMap.forEach((t,r)=>{const y=new Set(this.elementKeyMap.get(r));let E=this.getActivatedValues(t);E&&E.forEach((F,O)=>{this.updateElement(r,O,F),y.delete(O)}),y.forEach(F=>{if(E=this.getActivatedValues(t,F),E){const O=E.get(F);this.updateElement(r,F,O)}else this.clearElement(r,F)})})}clearElement(t,r){const y=this.clearMap.get(t);if(y){const E=y.get(r);E&&(E(),this.subject.next({element:t,key:r,value:""}))}}updateElement(t,r,y){const E=this.updateMap.get(t);if(E){const F=E.get(r);F&&(F(y),this.subject.next({element:t,key:r,value:y}))}}releaseElement(t){const r=this.watcherMap.get(t);r&&(r.forEach(E=>E.unsubscribe()),this.watcherMap.delete(t));const y=this.elementMap.get(t);y&&(y.forEach((E,F)=>y.delete(F)),this.elementMap.delete(t))}triggerUpdate(t,r){const y=this.elementMap.get(t);if(y){const E=this.getActivatedValues(y,r);E&&(r?this.updateElement(t,r,E.get(r)):E.forEach((F,O)=>this.updateElement(t,O,F)))}}buildElementKeyMap(t,r){let y=this.elementKeyMap.get(t);y||(y=new Set,this.elementKeyMap.set(t,y)),y.add(r)}watchExtraTriggers(t,r,y){if(y&&y.length){let E=this.watcherMap.get(t);if(E||(E=new Map,this.watcherMap.set(t,E)),!E.get(r)){const O=El(...y).subscribe(()=>{const N=this.getValue(t,r);this.updateElement(t,r,N)});E.set(r,O)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,r){for(let E=0;E<this.activatedBreakpoints.length;E++){const O=t.get(this.activatedBreakpoints[E].alias);if(O&&(void 0===r||O.has(r)&&null!=O.get(r)))return O}if(!this._useFallbacks)return;const y=t.get("");return void 0===r||y&&y.has(r)?y:void 0}observeActivations(){const t=this.breakpoints.items.map(r=>r.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe(pi(this.hook.interceptEvents(this)),Nn(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return i.\u0275fac=function(t){return new(t||i)(mt(Hp),mt(zp),mt(jG))},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function tS(i,e,t,r){var y;if(void 0!==r){const E=null!==(y=i.get(e))&&void 0!==y?y:new Map;E.set(t,r),i.set(e,E)}}let Ge=(()=>{class i{constructor(t,r,y,E){this.elementRef=t,this.styleBuilder=r,this.styler=y,this.marshal=E,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Q,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(r=>{if(-1!==this.inputs.indexOf(r)){const y=r.split(".").slice(1).join(".");this.setValue(t[r].currentValue,y)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,r){const y=this.styleBuilder,E=y.shouldCache;let F=this.styleCache.get(t);(!F||!E)&&(F=y.buildStyles(t,r),E&&this.styleCache.set(t,F)),this.mru=Object.assign({},F),this.applyStyleToElement(F),y.sideEffect(t,F,r)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,r=!1){if(t){const[y,E]=this.styler.getFlowDirection(t);if(!E&&r){const F=WE(y);this.styler.applyStyleToElements(F,[t])}return y.trim()}return"row"}hasWrap(t){return this.styler.hasWrap(t)}applyStyleToElement(t,r,y=this.nativeElement){this.styler.applyStyleToElement(y,t,r)}setValue(t,r){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,r)}updateWithValue(t){this.currentValue!==t&&(this.addStyles(t),this.currentValue=t)}}return i.\u0275fac=function(t){return new(t||i)(st($t),st(Xe),st(we),st(Ne))},i.\u0275dir=yt({type:i,features:[Ai]}),i})();function eS(i,e="1",t="1"){let r=[e,t,i],y=i.indexOf("calc");if(y>0){r[2]=iS(i.substring(y).trim());let E=i.substr(0,y).trim().split(" ");2==E.length&&(r[0]=E[0],r[1]=E[1])}else if(0==y)r[2]=iS(i.trim());else{let E=i.split(" ");r=3===E.length?E:[e,t,i]}return r}function iS(i){return i.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}function fh(i,e){if(void 0===e)return i;const t=r=>{const y=+r.slice(0,-"x".length);return i.endsWith("x")&&!isNaN(y)?`${y*e.value}${e.unit}`:i};return i.includes(" ")?i.split(" ").map(t).join(" "):t(i)}function nr(i){return ot((e,t)=>{rn(i).subscribe(lt(t,()=>t.complete(),p)),!t.closed&&e.subscribe(t)})}let ZG=(()=>{class i extends Xe{buildStyles(t,{display:r}){const y=WE(t);return Object.assign(Object.assign({},y),{display:"none"===r?r:y.display})}}return i.\u0275fac=function(){let e;return function(r){return(e||(e=Vt(i)))(r||i)}}(),i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const JG=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let qG=(()=>{class i extends Ge{constructor(t,r,y,E,F){super(t,y,r,E),this._config=F,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(t){var r;const E=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=null!==(r=rS.get(E))&&void 0!==r?r:new Map,rS.set(E,this.styleCache),this.currentValue!==t&&(this.addStyles(t,{display:E}),this.currentValue=t)}}return i.\u0275fac=function(t){return new(t||i)(st($t),st(we),st(ZG),st(Ne),st(Vn))},i.\u0275dir=yt({type:i,features:[Dt]}),i})(),xs=(()=>{class i extends qG{constructor(){super(...arguments),this.inputs=JG}}return i.\u0275fac=function(){let e;return function(r){return(e||(e=Vt(i)))(r||i)}}(),i.\u0275dir=yt({type:i,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[Dt]}),i})();const rS=new Map,sS={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let _G=(()=>{class i extends Xe{constructor(t,r){super(),this._styler=t,this._config=r}buildStyles(t,r){return t.endsWith(ch)?function aU(i,e){const[t,r]=i.split(" "),E=U=>`-${U}`;let F="0px",O=E(null!=r?r:t),N="0px";return"rtl"===e?N=E(t):F=E(t),{margin:`0px ${F} ${O} ${N}`}}(t=fh(t=t.slice(0,t.indexOf(ch)),this._config.multiplier),r.directionality):{}}sideEffect(t,r,y){const E=y.items;if(t.endsWith(ch)){const F=function oU(i,e){const[t,r]=i.split(" ");let E="0px",O="0px";return"rtl"===e?O=t:E=t,{padding:`0px ${E} ${null!=r?r:t} ${O}`}}(t=fh(t=t.slice(0,t.indexOf(ch)),this._config.multiplier),y.directionality);this._styler.applyStyleToElements(F,y.items)}else{t=fh(t,this._config.multiplier),t=this.addFallbackUnit(t);const F=E.pop(),O=function lU(i,e){const t=aS(e.directionality,e.layout),r=Object.assign({},sS);return r[t]=i,r}(t,y);this._styler.applyStyleToElements(O,E),this._styler.applyStyleToElements(sS,[F])}}addFallbackUnit(t){return isNaN(+t)?t:`${t}${this._config.defaultUnit}`}}return i.\u0275fac=function(t){return new(t||i)(mt(we),mt(Vn))},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const tU=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let eU=(()=>{class i extends Ge{constructor(t,r,y,E,F,O){super(t,F,E,O),this.zone=r,this.directionality=y,this.styleUtils=E,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new Q;const N=[this.directionality.change,this.observerSubject.asObservable()];this.init(N),this.marshal.trackValue(this.nativeElement,"layout").pipe(nr(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const t=this.nativeElement.children,r=[];for(let y=t.length;y--;)r[y]=t[y];return r}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(t){const y=t.value.split(" ");this.layout=y[0],hh.find(E=>E===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(t){const r=this.childrenNodes.filter(y=>1===y.nodeType&&this.willDisplay(y)).sort((y,E)=>{const F=+this.styler.lookupStyle(y,"order"),O=+this.styler.lookupStyle(E,"order");return isNaN(F)||isNaN(O)||F===O?0:F>O?1:-1});if(r.length>0){const y=this.directionality.value,E=this.layout;"row"===E&&"rtl"===y?this.styleCache=iU:"row"===E&&"rtl"!==y?this.styleCache=rU:"column"===E&&"rtl"===y?this.styleCache=nU:"column"===E&&"rtl"!==y&&(this.styleCache=sU),this.addStyles(t,{directionality:y,items:r,layout:E})}}clearStyles(){const t=Object.keys(this.mru).length>0,r=t?"padding":aS(this.directionality.value,this.layout);t&&super.clearStyles(),this.styleUtils.applyStyleToElements({[r]:""},this.childrenNodes)}willDisplay(t){const r=this.marshal.getValue(t,"show-hide");return!0===r||void 0===r&&"none"!==this.styleUtils.lookupStyle(t,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(t=>{t.some(y=>y.addedNodes&&y.addedNodes.length>0||y.removedNodes&&y.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return i.\u0275fac=function(t){return new(t||i)(st($t),st(pe),st(bp),st(we),st(_G),st(Ne))},i.\u0275dir=yt({type:i,features:[Dt]}),i})(),oS=(()=>{class i extends eU{constructor(){super(...arguments),this.inputs=tU}}return i.\u0275fac=function(){let e;return function(r){return(e||(e=Vt(i)))(r||i)}}(),i.\u0275dir=yt({type:i,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[Dt]}),i})();const iU=new Map,nU=new Map,rU=new Map,sU=new Map,ch=" grid";function aS(i,e){switch(e){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===i?"margin-left":"margin-right";case"row-reverse":return"rtl"===i?"margin-right":"margin-left"}}let uU=(()=>{class i extends Xe{constructor(t){super(),this.layoutConfig=t}buildStyles(t,r){let[y,E,...F]=t.split(" "),O=F.join(" ");const N=r.direction.indexOf("column")>-1?"column":"row",U=sl(N)?"max-width":"max-height",j=sl(N)?"min-width":"min-height",q=String(O).indexOf("calc")>-1,nt=q||"auto"===O,rt=String(O).indexOf("%")>-1&&!q,at=String(O).indexOf("px")>-1||String(O).indexOf("rem")>-1||String(O).indexOf("em")>-1||String(O).indexOf("vw")>-1||String(O).indexOf("vh")>-1;let ut=q||at;y="0"==y?0:y,E="0"==E?0:E;const vt=!y&&!E;let pt={};const ct={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(O||""){case"":const At=!1!==this.layoutConfig.useColumnBasisZero;O="row"===N?"0%":At?"0.000000001px":"auto";break;case"initial":case"nogrow":y=0,O="auto";break;case"grow":O="100%";break;case"noshrink":E=0,O="auto";break;case"auto":break;case"none":y=0,E=0,O="auto";break;default:!ut&&!rt&&!isNaN(O)&&(O+="%"),"0%"===O&&(ut=!0),"0px"===O&&(O="0%"),pt=Ar(ct,q?{"flex-grow":y,"flex-shrink":E,"flex-basis":ut?O:"100%"}:{flex:`${y} ${E} ${ut?O:"100%"}`})}return pt.flex||pt["flex-grow"]||(pt=Ar(ct,q?{"flex-grow":y,"flex-shrink":E,"flex-basis":O}:{flex:`${y} ${E} ${O}`})),"0%"!==O&&"0px"!==O&&"0.000000001px"!==O&&"auto"!==O&&(pt[j]=vt||ut&&y?O:null,pt[U]=vt||!nt&&E?O:null),pt[j]||pt[U]?r.hasWrap&&(pt[q?"flex-basis":"flex"]=pt[U]?q?pt[U]:`${y} ${E} ${pt[U]}`:q?pt[j]:`${y} ${E} ${pt[j]}`):pt=Ar(ct,q?{"flex-grow":y,"flex-shrink":E,"flex-basis":O}:{flex:`${y} ${E} ${O}`}),Ar(pt,{"box-sizing":"border-box"})}}return i.\u0275fac=function(t){return new(t||i)(mt(Vn))},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const hU=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let fU=(()=>{class i extends Ge{constructor(t,r,y,E,F){super(t,E,r,F),this.layoutConfig=y,this.marshal=F,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(t){this.flexShrink=t||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(t){this.flexGrow=t||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(nr(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(nr(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(t){const y=t.value.split(" ");this.direction=y[0],this.wrap=void 0!==y[1]&&"wrap"===y[1],this.triggerUpdate()}updateWithValue(t){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const y=this.direction,E=y.startsWith("row"),F=this.wrap;E&&F?this.styleCache=pU:E&&!F?this.styleCache=cU:!E&&F?this.styleCache=vU:!E&&!F&&(this.styleCache=dU);const N=eS(String(t).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(N.join(" "),{direction:y,hasWrap:F})}triggerReflow(){const t=this.activatedValue;if(void 0!==t){const r=eS(t+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,r.join(" "))}}}return i.\u0275fac=function(t){return new(t||i)(st($t),st(we),st(Vn),st(uU),st(Ne))},i.\u0275dir=yt({type:i,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[Dt]}),i})(),dh=(()=>{class i extends fU{constructor(){super(...arguments),this.inputs=hU}}return i.\u0275fac=function(){let e;return function(r){return(e||(e=Vt(i)))(r||i)}}(),i.\u0275dir=yt({type:i,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[Dt]}),i})();const cU=new Map,dU=new Map,pU=new Map,vU=new Map;let GU=(()=>{class i extends Xe{buildStyles(t,r){const y={},[E,F]=t.split(" ");switch(E){case"center":y["justify-content"]="center";break;case"space-around":y["justify-content"]="space-around";break;case"space-between":y["justify-content"]="space-between";break;case"space-evenly":y["justify-content"]="space-evenly";break;case"end":case"flex-end":y["justify-content"]="flex-end";break;default:y["justify-content"]="flex-start"}switch(F){case"start":case"flex-start":y["align-items"]=y["align-content"]="flex-start";break;case"center":y["align-items"]=y["align-content"]="center";break;case"end":case"flex-end":y["align-items"]=y["align-content"]="flex-end";break;case"space-between":y["align-content"]="space-between",y["align-items"]="stretch";break;case"space-around":y["align-content"]="space-around",y["align-items"]="stretch";break;case"baseline":y["align-content"]="stretch",y["align-items"]="baseline";break;default:y["align-items"]=y["align-content"]="stretch"}return Ar(y,{display:r.inline?"inline-flex":"flex","flex-direction":r.layout,"box-sizing":"border-box","max-width":"stretch"===F?sl(r.layout)?null:"100%":null,"max-height":"stretch"===F&&sl(r.layout)?"100%":null})}}return i.\u0275fac=function(){let e;return function(r){return(e||(e=Vt(i)))(r||i)}}(),i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const UU=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let HU=(()=>{class i extends Ge{constructor(t,r,y,E){super(t,y,r,E),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(nr(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(t){const r=this.layout||"row",y=this.inline;"row"===r&&y?this.styleCache=jU:"row"!==r||y?"row-reverse"===r&&y?this.styleCache=kU:"row-reverse"!==r||y?"column"===r&&y?this.styleCache=$U:"column"!==r||y?"column-reverse"===r&&y?this.styleCache=KU:"column-reverse"===r&&!y&&(this.styleCache=XU):this.styleCache=WU:this.styleCache=YU:this.styleCache=zU,this.addStyles(t,{layout:r,inline:y})}onLayoutChange(t){const r=t.value.split(" ");this.layout=r[0],this.inline=t.value.includes("inline"),hh.find(y=>y===this.layout)||(this.layout="row"),this.triggerUpdate()}}return i.\u0275fac=function(t){return new(t||i)(st($t),st(we),st(GU),st(Ne))},i.\u0275dir=yt({type:i,features:[Dt]}),i})(),No=(()=>{class i extends HU{constructor(){super(...arguments),this.inputs=UU}}return i.\u0275fac=function(){let e;return function(r){return(e||(e=Vt(i)))(r||i)}}(),i.\u0275dir=yt({type:i,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[Dt]}),i})();const zU=new Map,WU=new Map,YU=new Map,XU=new Map,jU=new Map,$U=new Map,kU=new Map,KU=new Map;let Wp,lS=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=ve({type:i}),i.\u0275inj=de({imports:[[Vp,Np]]}),i})();try{Wp="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){Wp=!1}let Bo,Wr=(()=>{class i{constructor(t){this._platformId=t,this.isBrowser=this._platformId?hs(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Wp)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(t){return new(t||i)(mt(Qi))},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const hS=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function fS(){if(Bo)return Bo;if("object"!=typeof document||!document)return Bo=new Set(hS),Bo;let i=document.createElement("input");return Bo=new Set(hS.filter(e=>(i.setAttribute("type",e),i.type===e))),Bo}let al,Yp;function ph(i){return function QU(){if(null==al&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>al=!0}))}finally{al=al||!1}return al}()?i:!!i.capture}function ll(i){return i.composedPath?i.composedPath()[0]:i.target}function a2(i,e){return i===e}function ui(i){return null!=i&&"false"!=`${i}`}function Yr(i){return i instanceof $t?i.nativeElement:i}function vS(i){return 0===i.buttons||0===i.offsetX&&0===i.offsetY}function gS(i){const e=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const m2=new It("cdk-input-modality-detector-options"),y2={ignoreKeys:[18,17,224,91,16]},Vo=ph({passive:!0,capture:!0});let x2=(()=>{class i{constructor(t,r,y,E){this._platform=t,this._mostRecentTarget=null,this._modality=new Zi(null),this._lastTouchMs=0,this._onKeydown=F=>{var O,N;(null===(N=null===(O=this._options)||void 0===O?void 0:O.ignoreKeys)||void 0===N?void 0:N.some(U=>U===F.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=ll(F))},this._onMousedown=F=>{Date.now()-this._lastTouchMs<650||(this._modality.next(vS(F)?"keyboard":"mouse"),this._mostRecentTarget=ll(F))},this._onTouchstart=F=>{gS(F)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ll(F))},this._options=Object.assign(Object.assign({},y2),E),this.modalityDetected=this._modality.pipe(function s2(i){return Nn((e,t)=>i<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(function o2(i,e=J){return i=null!=i?i:a2,ot((t,r)=>{let y,E=!0;t.subscribe(lt(r,F=>{const O=e(F);(E||!i(y,O))&&(E=!1,y=O,r.next(F))}))})}()),t.isBrowser&&r.runOutsideAngular(()=>{y.addEventListener("keydown",this._onKeydown,Vo),y.addEventListener("mousedown",this._onMousedown,Vo),y.addEventListener("touchstart",this._onTouchstart,Vo)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Vo),document.removeEventListener("mousedown",this._onMousedown,Vo),document.removeEventListener("touchstart",this._onTouchstart,Vo))}}return i.\u0275fac=function(t){return new(t||i)(mt(Wr),mt(pe),mt(me),mt(m2,8))},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const T2=new It("cdk-focus-monitor-default-options"),gh=ph({passive:!0,capture:!0});let E2=(()=>{class i{constructor(t,r,y,E,F){this._ngZone=t,this._platform=r,this._inputModalityDetector=y,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Q,this._rootNodeFocusAndBlurListener=O=>{const N=ll(O),U="focus"===O.type?this._onFocus:this._onBlur;for(let j=N;j;j=j.parentElement)U.call(this,O,j)},this._document=E,this._detectionMode=(null==F?void 0:F.detectionMode)||0}monitor(t,r=!1){const y=Yr(t);if(!this._platform.isBrowser||1!==y.nodeType)return Yt(null);const E=function JU(i){if(function ZU(){if(null==Yp){const i="undefined"!=typeof document?document.head:null;Yp=!(!i||!i.createShadowRoot&&!i.attachShadow)}return Yp}()){const e=i.getRootNode?i.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(y)||this._getDocument(),F=this._elementInfo.get(y);if(F)return r&&(F.checkChildren=!0),F.subject;const O={checkChildren:r,subject:new Q,rootNode:E};return this._elementInfo.set(y,O),this._registerGlobalListeners(O),O.subject}stopMonitoring(t){const r=Yr(t),y=this._elementInfo.get(r);y&&(y.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(y))}focusVia(t,r,y){const E=Yr(t);E===this._getDocument().activeElement?this._getClosestElementsInfo(E).forEach(([O,N])=>this._originChanged(O,r,N)):(this._setOrigin(r),"function"==typeof E.focus&&E.focus(y))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const y=this._elementInfo.get(r),E=ll(t);!y||!y.checkChildren&&r!==E||this._originChanged(r,this._getFocusOrigin(E),y)}_onBlur(t,r){const y=this._elementInfo.get(r);!y||y.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(y.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,y=this._rootNodeFocusListenerCount.get(r)||0;y||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,gh),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,gh)}),this._rootNodeFocusListenerCount.set(r,y+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(nr(this._stopInputModalityDetector)).subscribe(E=>{this._setOrigin(E,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const y=this._rootNodeFocusListenerCount.get(r);y>1?this._rootNodeFocusListenerCount.set(r,y-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,gh),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,gh),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,y){this._setClasses(t,r),this._emitOrigin(y.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((y,E)=>{(E===t||y.checkChildren&&E.contains(t))&&r.push([E,y])}),r}}return i.\u0275fac=function(t){return new(t||i)(mt(pe),mt(Wr),mt(x2),mt(me,8),mt(T2,8))},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const yS="cdk-high-contrast-black-on-white",xS="cdk-high-contrast-white-on-black",Xp="cdk-high-contrast-active";let S2=(()=>{class i{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,y=r&&r.getComputedStyle?r.getComputedStyle(t):null,E=(y&&y.backgroundColor||"").replace(/ /g,"");switch(t.remove(),E){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Xp),t.remove(yS),t.remove(xS),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(Xp),t.add(yS)):2===r&&(t.add(Xp),t.add(xS))}}}return i.\u0275fac=function(t){return new(t||i)(mt(Wr),mt(me))},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class CS{}const Dr="*";function M2(i,e){return{type:7,name:i,definitions:e,options:{}}}function D2(i,e=null){return{type:4,styles:e,timings:i}}function TS(i,e=null){return{type:2,steps:i,options:e}}function mh(i){return{type:6,styles:i,offset:null}}function R2(i,e,t){return{type:0,name:i,styles:e,options:t}}function F2(i,e,t=null){return{type:1,expr:i,animation:e,options:t}}function ES(i){Promise.resolve(null).then(i)}class ul{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ES(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class SS{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,y=0;const E=this.players.length;0==E?ES(()=>this._onFinish()):this.players.forEach(F=>{F.onDone(()=>{++t==E&&this._onFinish()}),F.onDestroy(()=>{++r==E&&this._onDestroy()}),F.onStart(()=>{++y==E&&this._onStart()})}),this.totalTime=this.players.reduce((F,O)=>Math.max(F,O.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const y=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(y)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const ae=!1;function AS(i){return new wt(3e3,ae)}function uH(){return"undefined"!=typeof window&&void 0!==window.document}function $p(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Xr(i){switch(i.length){case 0:return new ul;case 1:return i[0];default:return new SS(i)}}function MS(i,e,t,r,y={},E={}){const F=[],O=[];let N=-1,U=null;if(r.forEach(j=>{const q=j.offset,nt=q==N,rt=nt&&U||{};Object.keys(j).forEach(at=>{let ut=at,vt=j[at];if("offset"!==at)switch(ut=e.normalizePropertyName(ut,F),vt){case"!":vt=y[at];break;case Dr:vt=E[at];break;default:vt=e.normalizeStyleValue(at,ut,vt,F)}rt[ut]=vt}),nt||O.push(rt),U=rt,N=q}),F.length)throw function q2(i){return new wt(3502,ae)}();return O}function kp(i,e,t,r){switch(e){case"start":i.onStart(()=>r(t&&Kp(t,"start",i)));break;case"done":i.onDone(()=>r(t&&Kp(t,"done",i)));break;case"destroy":i.onDestroy(()=>r(t&&Kp(t,"destroy",i)))}}function Kp(i,e,t){const r=t.totalTime,E=Qp(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,null==r?i.totalTime:r,!!t.disabled),F=i._data;return null!=F&&(E._data=F),E}function Qp(i,e,t,r,y="",E=0,F){return{element:i,triggerName:e,fromState:t,toState:r,phaseName:y,totalTime:E,disabled:!!F}}function Ji(i,e,t){let r;return i instanceof Map?(r=i.get(e),r||i.set(e,r=t)):(r=i[e],r||(r=i[e]=t)),r}function DS(i){const e=i.indexOf(":");return[i.substring(1,e),i.substr(e+1)]}let Zp=(i,e)=>!1,RS=(i,e,t)=>[];($p()||"undefined"!=typeof Element)&&(Zp=uH()?(i,e)=>{for(;e&&e!==document.documentElement;){if(e===i)return!0;e=e.parentNode||e.host}return!1}:(i,e)=>i.contains(e),RS=(i,e,t)=>{if(t)return Array.from(i.querySelectorAll(e));const r=i.querySelector(e);return r?[r]:[]});let Ts=null,FS=!1;function PS(i){Ts||(Ts=function fH(){return"undefined"!=typeof document?document.body:null}()||{},FS=!!Ts.style&&"WebkitAppearance"in Ts.style);let e=!0;return Ts.style&&!function hH(i){return"ebkit"==i.substring(1,6)}(i)&&(e=i in Ts.style,!e&&FS&&(e="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in Ts.style)),e}const wS=Zp,IS=RS;let OS=(()=>{class i{validateStyleProperty(t){return PS(t)}matchesElement(t,r){return!1}containsElement(t,r){return wS(t,r)}query(t,r,y){return IS(t,r,y)}computeStyle(t,r,y){return y||""}animate(t,r,y,E,F,O=[],N){return new ul(y,E)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})(),Jp=(()=>{class i{}return i.NOOP=new OS,i})();const qp="ng-enter",xh="ng-leave",Ch="ng-trigger",Th=".ng-trigger",bS="ng-animating",_p=".ng-animating";function Es(i){if("number"==typeof i)return i;const e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:tv(parseFloat(e[1]),e[2])}function tv(i,e){return"s"===e?1e3*i:i}function Eh(i,e,t){return i.hasOwnProperty("duration")?i:function pH(i,e,t){let y,E=0,F="";if("string"==typeof i){const O=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===O)return e.push(AS()),{duration:0,delay:0,easing:""};y=tv(parseFloat(O[1]),O[2]);const N=O[3];null!=N&&(E=tv(parseFloat(N),O[4]));const U=O[5];U&&(F=U)}else y=i;if(!t){let O=!1,N=e.length;y<0&&(e.push(function P2(){return new wt(3100,ae)}()),O=!0),E<0&&(e.push(function w2(){return new wt(3101,ae)}()),O=!0),O&&e.splice(N,0,AS())}return{duration:y,delay:E,easing:F}}(i,e,t)}function Go(i,e={}){return Object.keys(i).forEach(t=>{e[t]=i[t]}),e}function jr(i,e,t={}){if(e)for(let r in i)t[r]=i[r];else Go(i,t);return t}function BS(i,e,t){return t?e+":"+t+";":""}function VS(i){let e="";for(let t=0;t<i.style.length;t++){const r=i.style.item(t);e+=BS(0,r,i.style.getPropertyValue(r))}for(const t in i.style)i.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=BS(0,mH(t),i.style[t]));i.setAttribute("style",e)}function rr(i,e,t){i.style&&(Object.keys(e).forEach(r=>{const y=iv(r);t&&!t.hasOwnProperty(r)&&(t[r]=i.style[y]),i.style[y]=e[r]}),$p()&&VS(i))}function Ss(i,e){i.style&&(Object.keys(e).forEach(t=>{const r=iv(t);i.style[r]=""}),$p()&&VS(i))}function hl(i){return Array.isArray(i)?1==i.length?i[0]:TS(i):i}const ev=new RegExp("{{\\s*(.+?)\\s*}}","g");function GS(i){let e=[];if("string"==typeof i){let t;for(;t=ev.exec(i);)e.push(t[1]);ev.lastIndex=0}return e}function Sh(i,e,t){const r=i.toString(),y=r.replace(ev,(E,F)=>{let O=e[F];return e.hasOwnProperty(F)||(t.push(function O2(i){return new wt(3003,ae)}()),O=""),O.toString()});return y==r?i:y}function Ah(i){const e=[];let t=i.next();for(;!t.done;)e.push(t.value),t=i.next();return e}const gH=/-+([a-z0-9])/g;function iv(i){return i.replace(gH,(...e)=>e[1].toUpperCase())}function mH(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function qi(i,e,t){switch(e.type){case 7:return i.visitTrigger(e,t);case 0:return i.visitState(e,t);case 1:return i.visitTransition(e,t);case 2:return i.visitSequence(e,t);case 3:return i.visitGroup(e,t);case 4:return i.visitAnimate(e,t);case 5:return i.visitKeyframes(e,t);case 6:return i.visitStyle(e,t);case 8:return i.visitReference(e,t);case 9:return i.visitAnimateChild(e,t);case 10:return i.visitAnimateRef(e,t);case 11:return i.visitQuery(e,t);case 12:return i.visitStagger(e,t);default:throw function L2(i){return new wt(3004,ae)}()}}function US(i,e){return window.getComputedStyle(i)[e]}function CH(i,e){const t=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(r=>function TH(i,e,t){if(":"==i[0]){const N=function EH(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function K2(i){return new wt(3016,ae)}()),"* => *"}}(i,t);if("function"==typeof N)return void e.push(N);i=N}const r=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function k2(i){return new wt(3015,ae)}()),e;const y=r[1],E=r[2],F=r[3];e.push(HS(y,F));"<"==E[0]&&!("*"==y&&"*"==F)&&e.push(HS(F,y))}(r,t,e)):t.push(i),t}const Dh=new Set(["true","1"]),Rh=new Set(["false","0"]);function HS(i,e){const t=Dh.has(i)||Rh.has(i),r=Dh.has(e)||Rh.has(e);return(y,E)=>{let F="*"==i||i==y,O="*"==e||e==E;return!F&&t&&"boolean"==typeof y&&(F=y?Dh.has(i):Rh.has(i)),!O&&r&&"boolean"==typeof E&&(O=E?Dh.has(e):Rh.has(e)),F&&O}}const SH=new RegExp("s*:selfs*,?","g");function nv(i,e,t){return new AH(i).build(e,t)}class AH{constructor(e){this._driver=e}build(e,t){const r=new RH(t);return this._resetContextStyleTimingState(r),qi(this,hl(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,y=t.depCount=0;const E=[],F=[];return"@"==e.name.charAt(0)&&t.errors.push(function N2(){return new wt(3006,ae)}()),e.definitions.forEach(O=>{if(this._resetContextStyleTimingState(t),0==O.type){const N=O,U=N.name;U.toString().split(/\s*,\s*/).forEach(j=>{N.name=j,E.push(this.visitState(N,t))}),N.name=U}else if(1==O.type){const N=this.visitTransition(O,t);r+=N.queryCount,y+=N.depCount,F.push(N)}else t.errors.push(function B2(){return new wt(3007,ae)}())}),{type:7,name:e.name,states:E,transitions:F,queryCount:r,depCount:y,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),y=e.options&&e.options.params||null;if(r.containsDynamicStyles){const E=new Set,F=y||{};r.styles.forEach(O=>{if(Fh(O)){const N=O;Object.keys(N).forEach(U=>{GS(N[U]).forEach(j=>{F.hasOwnProperty(j)||E.add(j)})})}}),E.size&&(Ah(E.values()),t.errors.push(function V2(i,e){return new wt(3008,ae)}()))}return{type:0,name:e.name,style:r,options:y?{params:y}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=qi(this,hl(e.animation),t);return{type:1,matchers:CH(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:As(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>qi(this,r,t)),options:As(e.options)}}visitGroup(e,t){const r=t.currentTime;let y=0;const E=e.steps.map(F=>{t.currentTime=r;const O=qi(this,F,t);return y=Math.max(y,t.currentTime),O});return t.currentTime=y,{type:3,steps:E,options:As(e.options)}}visitAnimate(e,t){const r=function PH(i,e){let t=null;if(i.hasOwnProperty("duration"))t=i;else if("number"==typeof i)return rv(Eh(i,e).duration,0,"");const r=i;if(r.split(/\s+/).some(E=>"{"==E.charAt(0)&&"{"==E.charAt(1))){const E=rv(0,0,"");return E.dynamic=!0,E.strValue=r,E}return t=t||Eh(r,e),rv(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let y,E=e.styles?e.styles:mh({});if(5==E.type)y=this.visitKeyframes(E,t);else{let F=e.styles,O=!1;if(!F){O=!0;const U={};r.easing&&(U.easing=r.easing),F=mh(U)}t.currentTime+=r.duration+r.delay;const N=this.visitStyle(F,t);N.isEmptyStep=O,y=N}return t.currentAnimateTimings=null,{type:4,timings:r,style:y,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(F=>{"string"==typeof F?F==Dr?r.push(F):t.errors.push(function G2(i){return new wt(3002,ae)}()):r.push(F)}):r.push(e.styles);let y=!1,E=null;return r.forEach(F=>{if(Fh(F)){const O=F,N=O.easing;if(N&&(E=N,delete O.easing),!y)for(let U in O)if(O[U].toString().indexOf("{{")>=0){y=!0;break}}}),{type:6,styles:r,easing:E,offset:e.offset,containsDynamicStyles:y,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let y=t.currentTime,E=t.currentTime;r&&E>0&&(E-=r.duration+r.delay),e.styles.forEach(F=>{"string"!=typeof F&&Object.keys(F).forEach(O=>{if(!this._driver.validateStyleProperty(O))return void t.errors.push(function U2(i){return new wt(3009,ae)}());const N=t.collectedStyles[t.currentQuerySelector],U=N[O];let j=!0;U&&(E!=y&&E>=U.startTime&&y<=U.endTime&&(t.errors.push(function H2(i,e,t,r,y){return new wt(3010,ae)}()),j=!1),E=U.startTime),j&&(N[O]={startTime:E,endTime:y}),t.options&&function vH(i,e,t){const r=e.params||{},y=GS(i);y.length&&y.forEach(E=>{r.hasOwnProperty(E)||t.push(function I2(i){return new wt(3001,ae)}())})}(F[O],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function z2(){return new wt(3011,ae)}()),r;let E=0;const F=[];let O=!1,N=!1,U=0;const j=e.steps.map(pt=>{const ct=this._makeStyleAst(pt,t);let At=null!=ct.offset?ct.offset:function FH(i){if("string"==typeof i)return null;let e=null;if(Array.isArray(i))i.forEach(t=>{if(Fh(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Fh(i)&&i.hasOwnProperty("offset")){const t=i;e=parseFloat(t.offset),delete t.offset}return e}(ct.styles),Pt=0;return null!=At&&(E++,Pt=ct.offset=At),N=N||Pt<0||Pt>1,O=O||Pt<U,U=Pt,F.push(Pt),ct});N&&t.errors.push(function W2(){return new wt(3012,ae)}()),O&&t.errors.push(function Y2(){return new wt(3200,ae)}());const q=e.steps.length;let nt=0;E>0&&E<q?t.errors.push(function X2(){return new wt(3202,ae)}()):0==E&&(nt=1/(q-1));const rt=q-1,at=t.currentTime,ut=t.currentAnimateTimings,vt=ut.duration;return j.forEach((pt,ct)=>{const At=nt>0?ct==rt?1:nt*ct:F[ct],Pt=At*vt;t.currentTime=at+ut.delay+Pt,ut.duration=Pt,this._validateStyleAst(pt,t),pt.offset=At,r.styles.push(pt)}),r}visitReference(e,t){return{type:8,animation:qi(this,hl(e.animation),t),options:As(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:As(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:As(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,y=e.options||{};t.queryCount++,t.currentQuery=e;const[E,F]=function MH(i){const e=!!i.split(/\s*,\s*/).find(t=>":self"==t);return e&&(i=i.replace(SH,"")),i=i.replace(/@\*/g,Th).replace(/@\w+/g,t=>Th+"-"+t.substr(1)).replace(/:animating/g,_p),[i,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+E:E,Ji(t.collectedStyles,t.currentQuerySelector,{});const O=qi(this,hl(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:E,limit:y.limit||0,optional:!!y.optional,includeSelf:F,animation:O,originalSelector:e.selector,options:As(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function j2(){return new wt(3013,ae)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Eh(e.timings,t.errors,!0);return{type:12,animation:qi(this,hl(e.animation),t),timings:r,options:null}}}class RH{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Fh(i){return!Array.isArray(i)&&"object"==typeof i}function As(i){return i?(i=Go(i)).params&&(i.params=function DH(i){return i?Go(i):null}(i.params)):i={},i}function rv(i,e,t){return{duration:i,delay:e,easing:t}}function sv(i,e,t,r,y,E,F=null,O=!1){return{type:1,element:i,keyframes:e,preStyleProps:t,postStyleProps:r,duration:y,delay:E,totalTime:y+E,easing:F,subTimeline:O}}class Ph{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const OH=new RegExp(":enter","g"),bH=new RegExp(":leave","g");function ov(i,e,t,r,y,E={},F={},O,N,U=[]){return(new NH).buildKeyframes(i,e,t,r,y,E,F,O,N,U)}class NH{buildKeyframes(e,t,r,y,E,F,O,N,U,j=[]){U=U||new Ph;const q=new av(e,t,U,y,E,j,[]);q.options=N,q.currentTimeline.setStyles([F],null,q.errors,N),qi(this,r,q);const nt=q.timelines.filter(rt=>rt.containsAnimation());if(Object.keys(O).length){let rt;for(let at=nt.length-1;at>=0;at--){const ut=nt[at];if(ut.element===t){rt=ut;break}}rt&&!rt.allowOnlyTimelineStyles()&&rt.setStyles([O],null,q.errors,N)}return nt.length?nt.map(rt=>rt.buildKeyframes()):[sv(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const y=t.createSubContext(e.options),E=t.currentTimeline.currentTime,F=this._visitSubInstructions(r,y,y.options);E!=F&&t.transformIntoNewTimeline(F)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let E=t.currentTimeline.currentTime;const F=null!=r.duration?Es(r.duration):null,O=null!=r.delay?Es(r.delay):null;return 0!==F&&e.forEach(N=>{const U=t.appendInstructionToTimeline(N,F,O);E=Math.max(E,U.duration+U.delay)}),E}visitReference(e,t){t.updateOptions(e.options,!0),qi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let y=t;const E=e.options;if(E&&(E.params||E.delay)&&(y=t.createSubContext(E),y.transformIntoNewTimeline(),null!=E.delay)){6==y.previousNode.type&&(y.currentTimeline.snapshotCurrentStyles(),y.previousNode=wh);const F=Es(E.delay);y.delayNextStep(F)}e.steps.length&&(e.steps.forEach(F=>qi(this,F,y)),y.currentTimeline.applyStylesToKeyframe(),y.subContextCount>r&&y.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let y=t.currentTimeline.currentTime;const E=e.options&&e.options.delay?Es(e.options.delay):0;e.steps.forEach(F=>{const O=t.createSubContext(e.options);E&&O.delayNextStep(E),qi(this,F,O),y=Math.max(y,O.currentTimeline.currentTime),r.push(O.currentTimeline)}),r.forEach(F=>t.currentTimeline.mergeTimelineCollectedStyles(F)),t.transformIntoNewTimeline(y),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Eh(t.params?Sh(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),y=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),y.snapshotCurrentStyles());const E=e.style;5==E.type?this.visitKeyframes(E,t):(t.incrementTime(r.duration),this.visitStyle(E,t),y.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,y=t.currentAnimateTimings;!y&&r.getCurrentStyleProperties().length&&r.forwardFrame();const E=y&&y.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(E):r.setStyles(e.styles,E,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,y=t.currentTimeline.duration,E=r.duration,O=t.createSubContext().currentTimeline;O.easing=r.easing,e.styles.forEach(N=>{O.forwardTime((N.offset||0)*E),O.setStyles(N.styles,N.easing,t.errors,t.options),O.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(O),t.transformIntoNewTimeline(y+E),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,y=e.options||{},E=y.delay?Es(y.delay):0;E&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=wh);let F=r;const O=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!y.optional,t.errors);t.currentQueryTotal=O.length;let N=null;O.forEach((U,j)=>{t.currentQueryIndex=j;const q=t.createSubContext(e.options,U);E&&q.delayNextStep(E),U===t.element&&(N=q.currentTimeline),qi(this,e.animation,q),q.currentTimeline.applyStylesToKeyframe(),F=Math.max(F,q.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(F),N&&(t.currentTimeline.mergeTimelineCollectedStyles(N),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,y=t.currentTimeline,E=e.timings,F=Math.abs(E.duration),O=F*(t.currentQueryTotal-1);let N=F*t.currentQueryIndex;switch(E.duration<0?"reverse":E.easing){case"reverse":N=O-N;break;case"full":N=r.currentStaggerTime}const j=t.currentTimeline;N&&j.delayNextStep(N);const q=j.currentTime;qi(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=y.currentTime-q+(y.startTime-r.currentTimeline.startTime)}}const wh={};class av{constructor(e,t,r,y,E,F,O,N){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=y,this._leaveClassName=E,this.errors=F,this.timelines=O,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=N||new Ih(this._driver,t,0),O.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let y=this.options;null!=r.duration&&(y.duration=Es(r.duration)),null!=r.delay&&(y.delay=Es(r.delay));const E=r.params;if(E){let F=y.params;F||(F=this.options.params={}),Object.keys(E).forEach(O=>{(!t||!F.hasOwnProperty(O))&&(F[O]=Sh(E[O],F,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(y=>{r[y]=t[y]})}}return e}createSubContext(e=null,t,r){const y=t||this.element,E=new av(this._driver,y,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(y,r||0));return E.previousNode=this.previousNode,E.currentAnimateTimings=this.currentAnimateTimings,E.options=this._copyOptions(),E.updateOptions(e),E.currentQueryIndex=this.currentQueryIndex,E.currentQueryTotal=this.currentQueryTotal,E.parentContext=this,this.subContextCount++,E}transformIntoNewTimeline(e){return this.previousNode=wh,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const y={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},E=new BH(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,y,e.stretchStartingKeyframe);return this.timelines.push(E),y}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,y,E,F){let O=[];if(y&&O.push(this.element),e.length>0){e=(e=e.replace(OH,"."+this._enterClassName)).replace(bH,"."+this._leaveClassName);let U=this._driver.query(this.element,e,1!=r);0!==r&&(U=r<0?U.slice(U.length+r,U.length):U.slice(0,r)),O.push(...U)}return!E&&0==O.length&&F.push(function $2(i){return new wt(3014,ae)}()),O}}class Ih{constructor(e,t,r,y){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=y,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Ih(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Dr,this._currentKeyframe[t]=Dr}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,y){t&&(this._previousKeyframe.easing=t);const E=y&&y.params||{},F=function VH(i,e){const t={};let r;return i.forEach(y=>{"*"===y?(r=r||Object.keys(e),r.forEach(E=>{t[E]=Dr})):jr(y,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(F).forEach(O=>{const N=Sh(F[O],E,r);this._pendingStyles[O]=N,this._localTimelineStyles.hasOwnProperty(O)||(this._backFill[O]=this._globalTimelineStyles.hasOwnProperty(O)?this._globalTimelineStyles[O]:Dr),this._updateStyle(O,N)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],y=e._styleSummary[t];(!r||y.time>r.time)&&this._updateStyle(t,y.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let y=[];this._keyframes.forEach((O,N)=>{const U=jr(O,!0);Object.keys(U).forEach(j=>{const q=U[j];"!"==q?e.add(j):q==Dr&&t.add(j)}),r||(U.offset=N/this.duration),y.push(U)});const E=e.size?Ah(e.values()):[],F=t.size?Ah(t.values()):[];if(r){const O=y[0],N=Go(O);O.offset=0,N.offset=1,y=[O,N]}return sv(this.element,y,E,F,this.duration,this.startTime,this.easing,!1)}}class BH extends Ih{constructor(e,t,r,y,E,F,O=!1){super(e,t,F.delay),this.keyframes=r,this.preStyleProps=y,this.postStyleProps=E,this._stretchStartingKeyframe=O,this.timings={duration:F.duration,delay:F.delay,easing:F.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:y}=this.timings;if(this._stretchStartingKeyframe&&t){const E=[],F=r+t,O=t/F,N=jr(e[0],!1);N.offset=0,E.push(N);const U=jr(e[0],!1);U.offset=YS(O),E.push(U);const j=e.length-1;for(let q=1;q<=j;q++){let nt=jr(e[q],!1);nt.offset=YS((t+nt.offset*r)/F),E.push(nt)}r=F,t=0,y="",e=E}return sv(this.element,e,this.preStyleProps,this.postStyleProps,r,t,y,!0)}}function YS(i,e=3){const t=Math.pow(10,e-1);return Math.round(i*t)/t}class lv{}class GH extends lv{normalizePropertyName(e,t){return iv(e)}normalizeStyleValue(e,t,r,y){let E="";const F=r.toString().trim();if(UH[t]&&0!==r&&"0"!==r)if("number"==typeof r)E="px";else{const O=r.match(/^[+-]?[\d\.]+([a-z]*)$/);O&&0==O[1].length&&y.push(function b2(i,e){return new wt(3005,ae)}())}return F+E}}const UH=(()=>function HH(i){const e={};return i.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function XS(i,e,t,r,y,E,F,O,N,U,j,q,nt){return{type:0,element:i,triggerName:e,isRemovalTransition:y,fromState:t,fromStyles:E,toState:r,toStyles:F,timelines:O,queriedElements:N,preStyleProps:U,postStyleProps:j,totalTime:q,errors:nt}}const uv={};class jS{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,y){return function zH(i,e,t,r,y){return i.some(E=>E(e,t,r,y))}(this.ast.matchers,e,t,r,y)}buildStyles(e,t,r){const y=this._stateStyles["*"],E=this._stateStyles[e],F=y?y.buildStyles(t,r):{};return E?E.buildStyles(t,r):F}build(e,t,r,y,E,F,O,N,U,j){const q=[],nt=this.ast.options&&this.ast.options.params||uv,at=this.buildStyles(r,O&&O.params||uv,q),ut=N&&N.params||uv,vt=this.buildStyles(y,ut,q),pt=new Set,ct=new Map,At=new Map,Pt="void"===y,Jt={params:Object.assign(Object.assign({},nt),ut)},Be=j?[]:ov(e,t,this.ast.animation,E,F,at,vt,Jt,U,q);let Ue=0;if(Be.forEach(tn=>{Ue=Math.max(tn.duration+tn.delay,Ue)}),q.length)return XS(t,this._triggerName,r,y,Pt,at,vt,[],[],ct,At,Ue,q);Be.forEach(tn=>{const en=tn.element,jo=Ji(ct,en,{});tn.preStyleProps.forEach(Gn=>jo[Gn]=!0);const Fr=Ji(At,en,{});tn.postStyleProps.forEach(Gn=>Fr[Gn]=!0),en!==t&&pt.add(en)});const _i=Ah(pt.values());return XS(t,this._triggerName,r,y,Pt,at,vt,Be,_i,ct,At,Ue)}}class WH{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},y=Go(this.defaultParams);return Object.keys(e).forEach(E=>{const F=e[E];null!=F&&(y[E]=F)}),this.styles.styles.forEach(E=>{if("string"!=typeof E){const F=E;Object.keys(F).forEach(O=>{let N=F[O];N.length>1&&(N=Sh(N,y,t));const U=this.normalizer.normalizePropertyName(O,t);N=this.normalizer.normalizeStyleValue(O,U,N,t),r[U]=N})}}),r}}class XH{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(y=>{this.states[y.name]=new WH(y.style,y.options&&y.options.params||{},r)}),$S(this.states,"true","1"),$S(this.states,"false","0"),t.transitions.forEach(y=>{this.transitionFactories.push(new jS(e,y,this.states))}),this.fallbackTransition=function jH(i,e,t){return new jS(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(F,O)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,y){return this.transitionFactories.find(F=>F.match(e,t,r,y))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function $S(i,e,t){i.hasOwnProperty(e)?i.hasOwnProperty(t)||(i[t]=i[e]):i.hasOwnProperty(t)&&(i[e]=i[t])}const $H=new Ph;class kH{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],y=nv(this._driver,t,r);if(r.length)throw function _2(i){return new wt(3503,ae)}();this._animations[e]=y}_buildPlayer(e,t,r){const y=e.element,E=MS(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(y,E,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const y=[],E=this._animations[e];let F;const O=new Map;if(E?(F=ov(this._driver,t,E,qp,xh,{},{},r,$H,y),F.forEach(j=>{const q=Ji(O,j.element,{});j.postStyleProps.forEach(nt=>q[nt]=null)})):(y.push(function tH(){return new wt(3300,ae)}()),F=[]),y.length)throw function eH(i){return new wt(3504,ae)}();O.forEach((j,q)=>{Object.keys(j).forEach(nt=>{j[nt]=this._driver.computeStyle(q,nt,Dr)})});const U=Xr(F.map(j=>{const q=O.get(j.element);return this._buildPlayer(j,{},q)}));return this._playersById[e]=U,U.onDestroy(()=>this.destroy(e)),this.players.push(U),U}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function iH(i){return new wt(3301,ae)}();return t}listen(e,t,r,y){const E=Qp(t,"","","");return kp(this._getPlayer(e),r,E,y),()=>{}}command(e,t,r,y){if("register"==r)return void this.register(e,y[0]);if("create"==r)return void this.create(e,t,y[0]||{});const E=this._getPlayer(e);switch(r){case"play":E.play();break;case"pause":E.pause();break;case"reset":E.reset();break;case"restart":E.restart();break;case"finish":E.finish();break;case"init":E.init();break;case"setPosition":E.setPosition(parseFloat(y[0]));break;case"destroy":this.destroy(e)}}}const kS="ng-animate-queued",hv="ng-animate-disabled",qH=[],KS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_H={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},pn="__ng_removed";class fv{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function nz(i){return null!=i?i:null}(r?e.value:e),r){const E=Go(e);delete E.value,this.options=E}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(y=>{null==r[y]&&(r[y]=t[y])})}}}const fl="void",cv=new fv(fl);class tz{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,vn(t,this._hostClassName)}listen(e,t,r,y){if(!this._triggers.hasOwnProperty(t))throw function nH(i,e){return new wt(3302,ae)}();if(null==r||0==r.length)throw function rH(i){return new wt(3303,ae)}();if(!function rz(i){return"start"==i||"done"==i}(r))throw function sH(i,e){return new wt(3400,ae)}();const E=Ji(this._elementListeners,e,[]),F={name:t,phase:r,callback:y};E.push(F);const O=Ji(this._engine.statesByElement,e,{});return O.hasOwnProperty(t)||(vn(e,Ch),vn(e,Ch+"-"+t),O[t]=cv),()=>{this._engine.afterFlush(()=>{const N=E.indexOf(F);N>=0&&E.splice(N,1),this._triggers[t]||delete O[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function oH(i){return new wt(3401,ae)}();return t}trigger(e,t,r,y=!0){const E=this._getTrigger(t),F=new dv(this.id,t,e);let O=this._engine.statesByElement.get(e);O||(vn(e,Ch),vn(e,Ch+"-"+t),this._engine.statesByElement.set(e,O={}));let N=O[t];const U=new fv(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&N&&U.absorbOptions(N.options),O[t]=U,N||(N=cv),U.value!==fl&&N.value===U.value){if(!function az(i,e){const t=Object.keys(i),r=Object.keys(e);if(t.length!=r.length)return!1;for(let y=0;y<t.length;y++){const E=t[y];if(!e.hasOwnProperty(E)||i[E]!==e[E])return!1}return!0}(N.params,U.params)){const ut=[],vt=E.matchStyles(N.value,N.params,ut),pt=E.matchStyles(U.value,U.params,ut);ut.length?this._engine.reportError(ut):this._engine.afterFlush(()=>{Ss(e,vt),rr(e,pt)})}return}const nt=Ji(this._engine.playersByElement,e,[]);nt.forEach(ut=>{ut.namespaceId==this.id&&ut.triggerName==t&&ut.queued&&ut.destroy()});let rt=E.matchTransition(N.value,U.value,e,U.params),at=!1;if(!rt){if(!y)return;rt=E.fallbackTransition,at=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:rt,fromState:N,toState:U,player:F,isFallbackTransition:at}),at||(vn(e,kS),F.onStart(()=>{Uo(e,kS)})),F.onDone(()=>{let ut=this.players.indexOf(F);ut>=0&&this.players.splice(ut,1);const vt=this._engine.playersByElement.get(e);if(vt){let pt=vt.indexOf(F);pt>=0&&vt.splice(pt,1)}}),this.players.push(F),nt.push(F),F}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(y=>y.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Th,!0);r.forEach(y=>{if(y[pn])return;const E=this._engine.fetchNamespacesByElement(y);E.size?E.forEach(F=>F.triggerLeaveAnimation(y,t,!1,!0)):this.clearElementCache(y)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(y=>this.clearElementCache(y)))}triggerLeaveAnimation(e,t,r,y){const E=this._engine.statesByElement.get(e),F=new Map;if(E){const O=[];if(Object.keys(E).forEach(N=>{if(F.set(N,E[N].value),this._triggers[N]){const U=this.trigger(e,N,fl,y);U&&O.push(U)}}),O.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,F),r&&Xr(O).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const y=new Set;t.forEach(E=>{const F=E.name;if(y.has(F))return;y.add(F);const N=this._triggers[F].fallbackTransition,U=r[F]||cv,j=new fv(fl),q=new dv(this.id,F,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:F,transition:N,fromState:U,toState:j,player:q,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let y=!1;if(r.totalAnimations){const E=r.players.length?r.playersByQueriedElement.get(e):[];if(E&&E.length)y=!0;else{let F=e;for(;F=F.parentNode;)if(r.statesByElement.get(F)){y=!0;break}}}if(this.prepareLeaveAnimationListeners(e),y)r.markElementAsRemoved(this.id,e,!1,t);else{const E=e[pn];(!E||E===KS)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){vn(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const y=r.player;if(y.destroyed)return;const E=r.element,F=this._elementListeners.get(E);F&&F.forEach(O=>{if(O.name==r.triggerName){const N=Qp(E,r.triggerName,r.fromState.value,r.toState.value);N._data=e,kp(r.player,O.phase,N,O.callback)}}),y.markedForDestroy?this._engine.afterFlush(()=>{y.destroy()}):t.push(r)}),this._queue=[],t.sort((r,y)=>{const E=r.transition.ast.depCount,F=y.transition.ast.depCount;return 0==E||0==F?E-F:this._engine.driver.containsElement(r.element,y.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class ez{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(y,E)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new tz(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let y=!1;for(let E=r;E>=0;E--)if(this.driver.containsElement(this._namespaceList[E].hostElement,t)){this._namespaceList.splice(E+1,0,e),y=!0;break}y||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let y=this._namespaceLookup[e];y&&y.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const y=this._namespaceList.indexOf(r);y>=0&&this._namespaceList.splice(y,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const y=Object.keys(r);for(let E=0;E<y.length;E++){const F=r[y[E]].namespaceId;if(F){const O=this._fetchNamespace(F);O&&t.add(O)}}}return t}trigger(e,t,r,y){if(Oh(t)){const E=this._fetchNamespace(e);if(E)return E.trigger(t,r,y),!0}return!1}insertNode(e,t,r,y){if(!Oh(t))return;const E=t[pn];if(E&&E.setForRemoval){E.setForRemoval=!1,E.setForMove=!0;const F=this.collectedLeaveElements.indexOf(t);F>=0&&this.collectedLeaveElements.splice(F,1)}if(e){const F=this._fetchNamespace(e);F&&F.insertNode(t,r)}y&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),vn(e,hv)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Uo(e,hv))}removeNode(e,t,r,y){if(Oh(t)){const E=e?this._fetchNamespace(e):null;if(E?E.removeNode(t,y):this.markElementAsRemoved(e,t,!1,y),r){const F=this.namespacesByHostElement.get(t);F&&F.id!==e&&F.removeNode(t,y)}}else this._onRemovalComplete(t,y)}markElementAsRemoved(e,t,r,y,E){this.collectedLeaveElements.push(t),t[pn]={namespaceId:e,setForRemoval:y,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:E}}listen(e,t,r,y,E){return Oh(t)?this._fetchNamespace(e).listen(t,r,y,E):()=>{}}_buildInstruction(e,t,r,y,E){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,y,e.fromState.options,e.toState.options,t,E)}destroyInnerAnimations(e){let t=this.driver.query(e,Th,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,_p,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Xr(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[pn];if(r&&r.setForRemoval){if(e[pn]=KS,r.namespaceId){this.destroyInnerAnimations(e);const y=this._fetchNamespace(r.namespaceId);y&&y.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(hv))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(y=>{this.markElementAsDisabled(y,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,y)=>this._balanceNamespaceList(r,y)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)vn(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let y=0;y<r.length;y++)r[y]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Xr(t).onDone(()=>{r.forEach(y=>y())}):r.forEach(y=>y())}}reportError(e){throw function aH(i){return new wt(3402,ae)}()}_flushAnimations(e,t){const r=new Ph,y=[],E=new Map,F=[],O=new Map,N=new Map,U=new Map,j=new Set;this.disabledNodes.forEach(Lt=>{j.add(Lt);const Ut=this.driver.query(Lt,".ng-animate-queued",!0);for(let Xt=0;Xt<Ut.length;Xt++)j.add(Ut[Xt])});const q=this.bodyNode,nt=Array.from(this.statesByElement.keys()),rt=JS(nt,this.collectedEnterElements),at=new Map;let ut=0;rt.forEach((Lt,Ut)=>{const Xt=qp+ut++;at.set(Ut,Xt),Lt.forEach(he=>vn(he,Xt))});const vt=[],pt=new Set,ct=new Set;for(let Lt=0;Lt<this.collectedLeaveElements.length;Lt++){const Ut=this.collectedLeaveElements[Lt],Xt=Ut[pn];Xt&&Xt.setForRemoval&&(vt.push(Ut),pt.add(Ut),Xt.hasAnimation?this.driver.query(Ut,".ng-star-inserted",!0).forEach(he=>pt.add(he)):ct.add(Ut))}const At=new Map,Pt=JS(nt,Array.from(pt));Pt.forEach((Lt,Ut)=>{const Xt=xh+ut++;At.set(Ut,Xt),Lt.forEach(he=>vn(he,Xt))}),e.push(()=>{rt.forEach((Lt,Ut)=>{const Xt=at.get(Ut);Lt.forEach(he=>Uo(he,Xt))}),Pt.forEach((Lt,Ut)=>{const Xt=At.get(Ut);Lt.forEach(he=>Uo(he,Xt))}),vt.forEach(Lt=>{this.processLeaveNode(Lt)})});const Jt=[],Be=[];for(let Lt=this._namespaceList.length-1;Lt>=0;Lt--)this._namespaceList[Lt].drainQueuedTransitions(t).forEach(Xt=>{const he=Xt.player,hi=Xt.element;if(Jt.push(he),this.collectedEnterElements.length){const Ni=hi[pn];if(Ni&&Ni.setForMove){if(Ni.previousTriggersValues&&Ni.previousTriggersValues.has(Xt.triggerName)){const ws=Ni.previousTriggersValues.get(Xt.triggerName),Zr=this.statesByElement.get(Xt.element);Zr&&Zr[Xt.triggerName]&&(Zr[Xt.triggerName].value=ws)}return void he.destroy()}}const or=!q||!this.driver.containsElement(q,hi),nn=At.get(hi),Qr=at.get(hi),He=this._buildInstruction(Xt,r,Qr,nn,or);if(He.errors&&He.errors.length)return void Be.push(He);if(or)return he.onStart(()=>Ss(hi,He.fromStyles)),he.onDestroy(()=>rr(hi,He.toStyles)),void y.push(he);if(Xt.isFallbackTransition)return he.onStart(()=>Ss(hi,He.fromStyles)),he.onDestroy(()=>rr(hi,He.toStyles)),void y.push(he);const $M=[];He.timelines.forEach(Ni=>{Ni.stretchStartingKeyframe=!0,this.disabledNodes.has(Ni.element)||$M.push(Ni)}),He.timelines=$M,r.append(hi,He.timelines),F.push({instruction:He,player:he,element:hi}),He.queriedElements.forEach(Ni=>Ji(O,Ni,[]).push(he)),He.preStyleProps.forEach((Ni,ws)=>{const Zr=Object.keys(Ni);if(Zr.length){let Is=N.get(ws);Is||N.set(ws,Is=new Set),Zr.forEach(zv=>Is.add(zv))}}),He.postStyleProps.forEach((Ni,ws)=>{const Zr=Object.keys(Ni);let Is=U.get(ws);Is||U.set(ws,Is=new Set),Zr.forEach(zv=>Is.add(zv))})});if(Be.length){const Lt=[];Be.forEach(Ut=>{Lt.push(function lH(i,e){return new wt(3505,ae)}())}),Jt.forEach(Ut=>Ut.destroy()),this.reportError(Lt)}const Ue=new Map,_i=new Map;F.forEach(Lt=>{const Ut=Lt.element;r.has(Ut)&&(_i.set(Ut,Ut),this._beforeAnimationBuild(Lt.player.namespaceId,Lt.instruction,Ue))}),y.forEach(Lt=>{const Ut=Lt.element;this._getPreviousPlayers(Ut,!1,Lt.namespaceId,Lt.triggerName,null).forEach(he=>{Ji(Ue,Ut,[]).push(he),he.destroy()})});const tn=vt.filter(Lt=>_S(Lt,N,U)),en=new Map;ZS(en,this.driver,ct,U,Dr).forEach(Lt=>{_S(Lt,N,U)&&tn.push(Lt)});const Fr=new Map;rt.forEach((Lt,Ut)=>{ZS(Fr,this.driver,new Set(Lt),N,"!")}),tn.forEach(Lt=>{const Ut=en.get(Lt),Xt=Fr.get(Lt);en.set(Lt,Object.assign(Object.assign({},Ut),Xt))});const Gn=[],$o=[],ko={};F.forEach(Lt=>{const{element:Ut,player:Xt,instruction:he}=Lt;if(r.has(Ut)){if(j.has(Ut))return Xt.onDestroy(()=>rr(Ut,he.toStyles)),Xt.disabled=!0,Xt.overrideTotalTime(he.totalTime),void y.push(Xt);let hi=ko;if(_i.size>1){let nn=Ut;const Qr=[];for(;nn=nn.parentNode;){const He=_i.get(nn);if(He){hi=He;break}Qr.push(nn)}Qr.forEach(He=>_i.set(He,hi))}const or=this._buildAnimation(Xt.namespaceId,he,Ue,E,Fr,en);if(Xt.setRealPlayer(or),hi===ko)Gn.push(Xt);else{const nn=this.playersByElement.get(hi);nn&&nn.length&&(Xt.parentPlayer=Xr(nn)),y.push(Xt)}}else Ss(Ut,he.fromStyles),Xt.onDestroy(()=>rr(Ut,he.toStyles)),$o.push(Xt),j.has(Ut)&&y.push(Xt)}),$o.forEach(Lt=>{const Ut=E.get(Lt.element);if(Ut&&Ut.length){const Xt=Xr(Ut);Lt.setRealPlayer(Xt)}}),y.forEach(Lt=>{Lt.parentPlayer?Lt.syncPlayerEvents(Lt.parentPlayer):Lt.destroy()});for(let Lt=0;Lt<vt.length;Lt++){const Ut=vt[Lt],Xt=Ut[pn];if(Uo(Ut,xh),Xt&&Xt.hasAnimation)continue;let he=[];if(O.size){let or=O.get(Ut);or&&or.length&&he.push(...or);let nn=this.driver.query(Ut,_p,!0);for(let Qr=0;Qr<nn.length;Qr++){let He=O.get(nn[Qr]);He&&He.length&&he.push(...He)}}const hi=he.filter(or=>!or.destroyed);hi.length?sz(this,Ut,hi):this.processLeaveNode(Ut)}return vt.length=0,Gn.forEach(Lt=>{this.players.push(Lt),Lt.onDone(()=>{Lt.destroy();const Ut=this.players.indexOf(Lt);this.players.splice(Ut,1)}),Lt.play()}),Gn}elementContainsData(e,t){let r=!1;const y=t[pn];return y&&y.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,y,E){let F=[];if(t){const O=this.playersByQueriedElement.get(e);O&&(F=O)}else{const O=this.playersByElement.get(e);if(O){const N=!E||E==fl;O.forEach(U=>{U.queued||!N&&U.triggerName!=y||F.push(U)})}}return(r||y)&&(F=F.filter(O=>!(r&&r!=O.namespaceId||y&&y!=O.triggerName))),F}_beforeAnimationBuild(e,t,r){const E=t.element,F=t.isRemovalTransition?void 0:e,O=t.isRemovalTransition?void 0:t.triggerName;for(const N of t.timelines){const U=N.element,j=U!==E,q=Ji(r,U,[]);this._getPreviousPlayers(U,j,F,O,t.toState).forEach(rt=>{const at=rt.getRealPlayer();at.beforeDestroy&&at.beforeDestroy(),rt.destroy(),q.push(rt)})}Ss(E,t.fromStyles)}_buildAnimation(e,t,r,y,E,F){const O=t.triggerName,N=t.element,U=[],j=new Set,q=new Set,nt=t.timelines.map(at=>{const ut=at.element;j.add(ut);const vt=ut[pn];if(vt&&vt.removedBeforeQueried)return new ul(at.duration,at.delay);const pt=ut!==N,ct=function oz(i){const e=[];return qS(i,e),e}((r.get(ut)||qH).map(Ue=>Ue.getRealPlayer())).filter(Ue=>!!Ue.element&&Ue.element===ut),At=E.get(ut),Pt=F.get(ut),Jt=MS(0,this._normalizer,0,at.keyframes,At,Pt),Be=this._buildPlayer(at,Jt,ct);if(at.subTimeline&&y&&q.add(ut),pt){const Ue=new dv(e,O,ut);Ue.setRealPlayer(Be),U.push(Ue)}return Be});U.forEach(at=>{Ji(this.playersByQueriedElement,at.element,[]).push(at),at.onDone(()=>function iz(i,e,t){let r;if(i instanceof Map){if(r=i.get(e),r){if(r.length){const y=r.indexOf(t);r.splice(y,1)}0==r.length&&i.delete(e)}}else if(r=i[e],r){if(r.length){const y=r.indexOf(t);r.splice(y,1)}0==r.length&&delete i[e]}return r}(this.playersByQueriedElement,at.element,at))}),j.forEach(at=>vn(at,bS));const rt=Xr(nt);return rt.onDestroy(()=>{j.forEach(at=>Uo(at,bS)),rr(N,t.toStyles)}),q.forEach(at=>{Ji(y,at,[]).push(rt)}),rt}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new ul(e.duration,e.delay)}}class dv{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new ul,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>kp(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ji(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Oh(i){return i&&1===i.nodeType}function QS(i,e){const t=i.style.display;return i.style.display=null!=e?e:"none",t}function ZS(i,e,t,r,y){const E=[];t.forEach(N=>E.push(QS(N)));const F=[];r.forEach((N,U)=>{const j={};N.forEach(q=>{const nt=j[q]=e.computeStyle(U,q,y);(!nt||0==nt.length)&&(U[pn]=_H,F.push(U))}),i.set(U,j)});let O=0;return t.forEach(N=>QS(N,E[O++])),F}function JS(i,e){const t=new Map;if(i.forEach(O=>t.set(O,[])),0==e.length)return t;const y=new Set(e),E=new Map;function F(O){if(!O)return 1;let N=E.get(O);if(N)return N;const U=O.parentNode;return N=t.has(U)?U:y.has(U)?1:F(U),E.set(O,N),N}return e.forEach(O=>{const N=F(O);1!==N&&t.get(N).push(O)}),t}function vn(i,e){var t;null===(t=i.classList)||void 0===t||t.add(e)}function Uo(i,e){var t;null===(t=i.classList)||void 0===t||t.remove(e)}function sz(i,e,t){Xr(t).onDone(()=>i.processLeaveNode(e))}function qS(i,e){for(let t=0;t<i.length;t++){const r=i[t];r instanceof SS?qS(r.players,e):e.push(r)}}function _S(i,e,t){const r=t.get(i);if(!r)return!1;let y=e.get(i);return y?r.forEach(E=>y.add(E)):e.set(i,r),t.delete(i),!0}class Lh{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(y,E)=>{},this._transitionEngine=new ez(e,t,r),this._timelineEngine=new kH(e,t,r),this._transitionEngine.onRemovalComplete=(y,E)=>this.onRemovalComplete(y,E)}registerTrigger(e,t,r,y,E){const F=e+"-"+y;let O=this._triggerCache[F];if(!O){const N=[],U=nv(this._driver,E,N);if(N.length)throw function J2(i,e){return new wt(3404,ae)}();O=function YH(i,e,t){return new XH(i,e,t)}(y,U,this._normalizer),this._triggerCache[F]=O}this._transitionEngine.registerTrigger(t,y,O)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,y){this._transitionEngine.insertNode(e,t,r,y)}onRemove(e,t,r,y){this._transitionEngine.removeNode(e,t,y||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,y){if("@"==r.charAt(0)){const[E,F]=DS(r);this._timelineEngine.command(E,t,F,y)}else this._transitionEngine.trigger(e,t,r,y)}listen(e,t,r,y,E){if("@"==r.charAt(0)){const[F,O]=DS(r);return this._timelineEngine.listen(F,t,O,E)}return this._transitionEngine.listen(e,t,r,y,E)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let uz=(()=>{class i{constructor(t,r,y){this._element=t,this._startStyles=r,this._endStyles=y,this._state=0;let E=i.initialStylesByElement.get(t);E||i.initialStylesByElement.set(t,E={}),this._initialStyles=E}start(){this._state<1&&(this._startStyles&&rr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(rr(this._element,this._initialStyles),this._endStyles&&(rr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(Ss(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ss(this._element,this._endStyles),this._endStyles=null),rr(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function pv(i){let e=null;const t=Object.keys(i);for(let r=0;r<t.length;r++){const y=t[r];hz(y)&&(e=e||{},e[y]=i[y])}return e}function hz(i){return"display"===i||"position"===i}class tA{constructor(e,t,r,y){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=y,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:US(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class fz{validateStyleProperty(e){return PS(e)}matchesElement(e,t){return!1}containsElement(e,t){return wS(e,t)}query(e,t,r){return IS(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,y,E,F=[]){const N={duration:r,delay:y,fill:0==y?"both":"forwards"};E&&(N.easing=E);const U={},j=F.filter(nt=>nt instanceof tA);(function yH(i,e){return 0===i||0===e})(r,y)&&j.forEach(nt=>{let rt=nt.currentSnapshot;Object.keys(rt).forEach(at=>U[at]=rt[at])}),t=function xH(i,e,t){const r=Object.keys(t);if(r.length&&e.length){let E=e[0],F=[];if(r.forEach(O=>{E.hasOwnProperty(O)||F.push(O),E[O]=t[O]}),F.length)for(var y=1;y<e.length;y++){let O=e[y];F.forEach(function(N){O[N]=US(i,N)})}}return e}(e,t=t.map(nt=>jr(nt,!1)),U);const q=function lz(i,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=pv(e[0]),e.length>1&&(r=pv(e[e.length-1]))):e&&(t=pv(e)),t||r?new uz(i,t,r):null}(e,t);return new tA(e,t,N,q)}}let cz=(()=>{class i extends CS{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Cn.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const y=Array.isArray(t)?TS(t):t;return eA(this._renderer,null,r,"register",[y]),new dz(r,this._renderer)}}return i.\u0275fac=function(t){return new(t||i)(mt(La),mt(me))},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();class dz extends class A2{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new pz(this._id,e,t||{},this._renderer)}}class pz{constructor(e,t,r,y){this.id=e,this.element=t,this._renderer=y,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return eA(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function eA(i,e,t,r,y){return i.setProperty(e,`@@${t}:${r}`,y)}const iA="@.disabled";let vz=(()=>{class i{constructor(t,r,y){this.delegate=t,this.engine=r,this._zone=y,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(E,F)=>{const O=null==F?void 0:F.parentNode(E);O&&F.removeChild(O,E)}}createRenderer(t,r){const E=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let j=this._rendererCache.get(E);return j||(j=new nA("",E,this.engine),this._rendererCache.set(E,j)),j}const F=r.id,O=r.id+"-"+this._currentId;this._currentId++,this.engine.register(O,t);const N=j=>{Array.isArray(j)?j.forEach(N):this.engine.registerTrigger(F,O,t,j.name,j)};return r.data.animation.forEach(N),new gz(this,O,E,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,y){t>=0&&t<this._microtaskId?this._zone.run(()=>r(y)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(E=>{const[F,O]=E;F(O)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,y]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(t){return new(t||i)(mt(La),mt(Lh),mt(pe))},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();class nA{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?y=>t.destroyNode(y):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,y=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,y)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,y){this.delegate.setAttribute(e,t,r,y)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,y){this.delegate.setStyle(e,t,r,y)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==iA?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class gz extends nA{constructor(e,t,r,y){super(t,r,y),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==iA?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const y=function mz(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(e);let E=t.substr(1),F="";return"@"!=E.charAt(0)&&([E,F]=function yz(i){const e=i.indexOf(".");return[i.substring(0,e),i.substr(e+1)]}(E)),this.engine.listen(this.namespaceId,y,E,F,O=>{this.factory.scheduleListenerCallback(O._data||-1,r,O)})}return this.delegate.listen(e,t,r)}}let xz=(()=>{class i extends Lh{constructor(t,r,y){super(t.body,r,y)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(t){return new(t||i)(mt(me),mt(Jp),mt(lv))},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();const Ho=new It("AnimationModuleType"),rA=[{provide:CS,useClass:cz},{provide:lv,useFactory:function Cz(){return new GH}},{provide:Lh,useClass:xz},{provide:La,useFactory:function Tz(i,e,t){return new vz(i,e,t)},deps:[Xu,Lh,pe]}],sA=[{provide:Jp,useFactory:()=>new fz},{provide:Ho,useValue:"BrowserAnimations"},...rA],Ez=[{provide:Jp,useClass:OS},{provide:Ho,useValue:"NoopAnimations"},...rA];let Sz=(()=>{class i{static withConfig(t){return{ngModule:i,providers:t.disableAnimations?Ez:sA}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=ve({type:i}),i.\u0275inj=de({providers:sA,imports:[mT]}),i})();const Mz=new It("mat-sanity-checks",{providedIn:"root",factory:function Az(){return!0}});let Li=(()=>{class i{constructor(t,r,y){this._sanityChecks=r,this._document=y,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function qU(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return i.\u0275fac=function(t){return new(t||i)(mt(S2),mt(Mz,8),mt(me))},i.\u0275mod=ve({type:i}),i.\u0275inj=de({imports:[[Np],Np]}),i})();function Dz(i){return class extends i{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=ui(e)}}}function Nh(i,e){return class extends i{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function Rz(i){return class extends i{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ui(e)}}}function Fz(i){return class extends i{constructor(...e){super(...e),this.stateChanges=new Q,this.errorState=!1}updateErrorState(){const e=this.errorState,E=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);E!==e&&(this.errorState=E,this.stateChanges.next())}}}let aA=(()=>{class i{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class wz{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const lA={enterDuration:225,exitDuration:150},vv=ph({passive:!0}),uA=["mousedown","touchstart"],hA=["mouseup","mouseleave","touchend","touchcancel"];class Oz{constructor(e,t,r,y){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,y.isBrowser&&(this._containerElement=Yr(r))}fadeInRipple(e,t,r={}){const y=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),E=Object.assign(Object.assign({},lA),r.animation);r.centered&&(e=y.left+y.width/2,t=y.top+y.height/2);const F=r.radius||function bz(i,e,t){const r=Math.max(Math.abs(i-t.left),Math.abs(i-t.right)),y=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+y*y)}(e,t,y),O=e-y.left,N=t-y.top,U=E.enterDuration,j=document.createElement("div");j.classList.add("mat-ripple-element"),j.style.left=O-F+"px",j.style.top=N-F+"px",j.style.height=2*F+"px",j.style.width=2*F+"px",null!=r.color&&(j.style.backgroundColor=r.color),j.style.transitionDuration=`${U}ms`,this._containerElement.appendChild(j),function Lz(i){window.getComputedStyle(i).getPropertyValue("opacity")}(j),j.style.transform="scale(1)";const q=new wz(this,j,r);return q.state=0,this._activeRipples.add(q),r.persistent||(this._mostRecentTransientRipple=q),this._runTimeoutOutsideZone(()=>{const nt=q===this._mostRecentTransientRipple;q.state=1,!r.persistent&&(!nt||!this._isPointerDown)&&q.fadeOut()},U),q}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,y=Object.assign(Object.assign({},lA),e.config.animation);r.style.transitionDuration=`${y.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},y.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Yr(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(uA))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(hA),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=vS(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!gS(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,vv)})})}_removeTriggerEvents(){this._triggerElement&&(uA.forEach(e=>{this._triggerElement.removeEventListener(e,this,vv)}),this._pointerUpEventsRegistered&&hA.forEach(e=>{this._triggerElement.removeEventListener(e,this,vv)}))}}const Nz=new It("mat-ripple-global-options");let fA=(()=>{class i{constructor(t,r,y,E,F){this._elementRef=t,this._animationMode=F,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=E||{},this._rippleRenderer=new Oz(this,r,t,y)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,y){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),y)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return i.\u0275fac=function(t){return new(t||i)(st($t),st(pe),st(Wr),st(Nz,8),st(Ho,8))},i.\u0275dir=yt({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&wi("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),i})(),Bz=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=ve({type:i}),i.\u0275inj=de({imports:[[Li],Li]}),i})();const Vz=["mat-button",""],Gz=["*"],Hz=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],zz=Nh(Dz(Rz(class{constructor(i){this._elementRef=i}})));let zo=(()=>{class i extends zz{constructor(t,r,y){super(t),this._focusMonitor=r,this._animationMode=y,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const E of Hz)this._hasHostAttributes(E)&&this._getHostElement().classList.add(E);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return i.\u0275fac=function(t){return new(t||i)(st($t),st(E2),st(Ho,8))},i.\u0275cmp=si({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&Va(fA,5),2&t){let y;ci(y=di())&&(r.ripple=y.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(Fi("disabled",r.disabled||null),wi("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Dt],attrs:Vz,ngContentSelectors:Gz,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(os(),Nt(0,"span",0),li(1),Ot(),Le(2,"span",1)(3,"span",2)),2&t&&(ce(2),wi("mat-button-ripple-round",r.isRoundButton||r.isIconButton),ge("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[fA],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),i})(),Wz=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=ve({type:i}),i.\u0275inj=de({imports:[[Bz,Li],Li]}),i})();function cA(...i){const e=qv(i),{args:t,keys:r}=TT(i),y=new H(E=>{const{length:F}=t;if(!F)return void E.complete();const O=new Array(F);let N=F,U=F;for(let j=0;j<F;j++){let q=!1;rn(t[j]).subscribe(lt(E,nt=>{q||(q=!0,U--),O[j]=nt},()=>N--,void 0,()=>{(!N||!q)&&(U||E.next(r?ET(r,O):O),E.complete())}))}});return e?y.pipe(rp(e)):y}const Xz=["*"];let Bh;function dl(i){var e;return(null===(e=function jz(){if(void 0===Bh&&(Bh=null,"undefined"!=typeof window)){const i=window;void 0!==i.trustedTypes&&(Bh=i.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Bh}())||void 0===e?void 0:e.createHTML(i))||i}function dA(i){return Error(`Unable to find icon with the name "${i}"`)}function pA(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function vA(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class Ms{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let Vh=(()=>{class i{constructor(t,r,y,E){this._httpClient=t,this._sanitizer=r,this._errorHandler=E,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=y}addSvgIcon(t,r,y){return this.addSvgIconInNamespace("",t,r,y)}addSvgIconLiteral(t,r,y){return this.addSvgIconLiteralInNamespace("",t,r,y)}addSvgIconInNamespace(t,r,y,E){return this._addSvgIconConfig(t,r,new Ms(y,null,E))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,y,E){const F=this._sanitizer.sanitize(fe.HTML,y);if(!F)throw vA(y);const O=dl(F);return this._addSvgIconConfig(t,r,new Ms("",O,E))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,y){return this._addSvgIconSetConfig(t,new Ms(r,null,y))}addSvgIconSetLiteralInNamespace(t,r,y){const E=this._sanitizer.sanitize(fe.HTML,r);if(!E)throw vA(r);const F=dl(E);return this._addSvgIconSetConfig(t,new Ms("",F,y))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(fe.RESOURCE_URL,t);if(!r)throw pA(t);const y=this._cachedIconsByUrl.get(r);return y?Yt(Gh(y)):this._loadSvgIconFromConfig(new Ms(t,null)).pipe(pi(E=>this._cachedIconsByUrl.set(r,E)),ft(E=>Gh(E)))}getNamedSvgIcon(t,r=""){const y=gA(r,t);let E=this._svgIconConfigs.get(y);if(E)return this._getSvgFromConfig(E);if(E=this._getIconConfigFromResolvers(r,t),E)return this._svgIconConfigs.set(y,E),this._getSvgFromConfig(E);const F=this._iconSetConfigs.get(r);return F?this._getSvgFromIconSetConfigs(t,F):function Yz(i,e){const t=n(i)?i:()=>i,r=y=>y.error(t());return new H(e?y=>e.schedule(r,0,y):r)}(dA(y))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Yt(Gh(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(ft(r=>Gh(r)))}_getSvgFromIconSetConfigs(t,r){const y=this._extractIconWithNameFromAnySet(t,r);return y?Yt(y):cA(r.filter(F=>!F.svgText).map(F=>this._loadSvgIconSetFromConfig(F).pipe(Cr(O=>{const U=`Loading icon set URL: ${this._sanitizer.sanitize(fe.RESOURCE_URL,F.url)} failed: ${O.message}`;return this._errorHandler.handleError(new Error(U)),Yt(null)})))).pipe(ft(()=>{const F=this._extractIconWithNameFromAnySet(t,r);if(!F)throw dA(t);return F}))}_extractIconWithNameFromAnySet(t,r){for(let y=r.length-1;y>=0;y--){const E=r[y];if(E.svgText&&E.svgText.toString().indexOf(t)>-1){const F=this._svgElementFromConfig(E),O=this._extractSvgIconFromSet(F,t,E.options);if(O)return O}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(pi(r=>t.svgText=r),ft(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Yt(null):this._fetchIcon(t).pipe(pi(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,y){const E=t.querySelector(`[id="${r}"]`);if(!E)return null;const F=E.cloneNode(!0);if(F.removeAttribute("id"),"svg"===F.nodeName.toLowerCase())return this._setSvgAttributes(F,y);if("symbol"===F.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(F),y);const O=this._svgElementFromString(dl("<svg></svg>"));return O.appendChild(F),this._setSvgAttributes(O,y)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const y=r.querySelector("svg");if(!y)throw Error("<svg> tag not found");return y}_toSvgElement(t){const r=this._svgElementFromString(dl("<svg></svg>")),y=t.attributes;for(let E=0;E<y.length;E++){const{name:F,value:O}=y[E];"id"!==F&&r.setAttribute(F,O)}for(let E=0;E<t.childNodes.length;E++)t.childNodes[E].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[E].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){var r;const{url:y,options:E}=t,F=null!==(r=null==E?void 0:E.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw function $z(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==y)throw Error(`Cannot fetch icon from URL "${y}".`);const O=this._sanitizer.sanitize(fe.RESOURCE_URL,y);if(!O)throw pA(y);const N=this._inProgressUrlFetches.get(O);if(N)return N;const U=this._httpClient.get(O,{responseType:"text",withCredentials:F}).pipe(ft(j=>dl(j)),PT(()=>this._inProgressUrlFetches.delete(O)),ig());return this._inProgressUrlFetches.set(O,U),U}_addSvgIconConfig(t,r,y){return this._svgIconConfigs.set(gA(t,r),y),this}_addSvgIconSetConfig(t,r){const y=this._iconSetConfigs.get(t);return y?y.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let y=0;y<this._resolvers.length;y++){const E=this._resolvers[y](r,t);if(E)return Kz(E)?new Ms(E.url,null,E.options):new Ms(E,null)}}}return i.\u0275fac=function(t){return new(t||i)(mt(gs,8),mt(ju),mt(me,8),mt(cr))},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Gh(i){return i.cloneNode(!0)}function gA(i,e){return i+":"+e}function Kz(i){return!(!i.url||!i.options)}const Qz=Nh(class{constructor(i){this._elementRef=i}}),Zz=new It("mat-icon-location",{providedIn:"root",factory:function Jz(){const i=ha(me),e=i?i.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),mA=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],qz=mA.map(i=>`[${i}]`).join(", "),_z=/^url\(['"]?#(.*?)['"]?\)$/;let yA=(()=>{class i extends Qz{constructor(t,r,y,E,F){super(t),this._iconRegistry=r,this._location=E,this._errorHandler=F,this._inline=!1,this._currentIconFetch=h.EMPTY,y||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=ui(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=t.querySelectorAll("style");for(let E=0;E<r.length;E++)r[E].textContent+=" ";const y=this._location.getPathname();this._previousPath=y,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(y),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const y=t.childNodes[r];(1!==y.nodeType||"svg"===y.nodeName.toLowerCase())&&y.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((y,E)=>{y.forEach(F=>{E.setAttribute(F.name,`url('${t}#${F.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(qz),y=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let E=0;E<r.length;E++)mA.forEach(F=>{const O=r[E],N=O.getAttribute(F),U=N?N.match(_z):null;if(U){let j=y.get(O);j||(j=[],y.set(O,j)),j.push({name:F,value:U[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,y]=this._splitIconName(t);r&&(this._svgNamespace=r),y&&(this._svgName=y),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(y,r).pipe(Os(1)).subscribe(E=>this._setSvgElement(E),E=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${y}! ${E.message}`))})}}}return i.\u0275fac=function(t){return new(t||i)(st($t),st(Vh),Ys("aria-hidden"),st(Zz),st(cr))},i.\u0275cmp=si({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(Fi("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),wi("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Dt],ngContentSelectors:Xz,decls:1,vars:0,template:function(t,r){1&t&&(os(),li(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),i})(),tW=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=ve({type:i}),i.\u0275inj=de({imports:[[Li],Li]}),i})(),eW=(()=>{class i{constructor(t,r){this.authSvc=t,this.router=r}ngOnInit(){}triggerOauth(){this.authSvc.authorizeGoogleOauth()}}return i.\u0275fac=function(t){return new(t||i)(st(ms),st(ni))},i.\u0275cmp=si({type:i,selectors:[["app-home"]],decls:9,vars:0,consts:[["fxLayout","","fxLayoutAlign","center center"],["mat-button","","color","primary","routerLink","/game"],["mat-button","","color","accent","routerLink","/share",3,"click"]],template:function(t,r){1&t&&(Nt(0,"div",0)(1,"button",1)(2,"mat-icon"),ie(3,"outlined_flag"),Ot(),ie(4," start game "),Ot(),Nt(5,"button",2),Se("click",function(){return r.triggerOauth()}),Nt(6,"mat-icon"),ie(7,"share"),Ot(),ie(8," share game "),Ot()())},directives:[xs,No,zo,nl,yA],styles:[""]}),i})(),Ds=(()=>{class i{constructor(t,r){this.router=t,this.authSvc=r}canActivate(t,r){if(console.log("in guard start"),"/login"==r.url||"/register"==r.url)return!0;if("/badrequest"==r.url&&this.authSvc.authObs.subscribe(E=>{if(E)return!0}))return!1;let y=sessionStorage.getItem("access-token");return console.log("in guard"),!!y||(console.log("in guard"),this.router.parseUrl("/login"))}}return i.\u0275fac=function(t){return new(t||i)(mt(ni),mt(ms))},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),xA=(()=>{class i{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=y=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return i.\u0275fac=function(t){return new(t||i)(st(wn),st($t))},i.\u0275dir=yt({type:i}),i})(),Rs=(()=>{class i extends xA{}return i.\u0275fac=function(){let e;return function(r){return(e||(e=Vt(i)))(r||i)}}(),i.\u0275dir=yt({type:i,features:[Dt]}),i})();const sr=new It("NgValueAccessor"),nW={provide:sr,useExisting:Me(()=>Fs),multi:!0},sW=new It("CompositionEventMode");let Fs=(()=>{class i extends xA{constructor(t,r,y){super(t,r),this._compositionMode=y,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rW(){const i=tr()?tr().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return i.\u0275fac=function(t){return new(t||i)(st(wn),st($t),st(sW,8))},i.\u0275dir=yt({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&Se("input",function(E){return r._handleInput(E.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(E){return r._compositionEnd(E.target.value)})},features:[Re([nW]),Dt]}),i})();function $r(i){return null==i||0===i.length}function TA(i){return null!=i&&"number"==typeof i.length}const Ti=new It("NgValidators"),kr=new It("NgAsyncValidators"),oW=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class aW{static min(e){return function EA(i){return e=>{if($r(e.value)||$r(i))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<i?{min:{min:i,actual:e.value}}:null}}(e)}static max(e){return function SA(i){return e=>{if($r(e.value)||$r(i))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>i?{max:{max:i,actual:e.value}}:null}}(e)}static required(e){return function AA(i){return $r(i.value)?{required:!0}:null}(e)}static requiredTrue(e){return function MA(i){return!0===i.value?null:{required:!0}}(e)}static email(e){return function DA(i){return $r(i.value)||oW.test(i.value)?null:{email:!0}}(e)}static minLength(e){return function RA(i){return e=>$r(e.value)||!TA(e.value)?null:e.value.length<i?{minlength:{requiredLength:i,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function FA(i){return e=>TA(e.value)&&e.value.length>i?{maxlength:{requiredLength:i,actualLength:e.value.length}}:null}(e)}static pattern(e){return function PA(i){if(!i)return Uh;let e,t;return"string"==typeof i?(t="","^"!==i.charAt(0)&&(t+="^"),t+=i,"$"!==i.charAt(i.length-1)&&(t+="$"),e=new RegExp(t)):(t=i.toString(),e=i),r=>{if($r(r.value))return null;const y=r.value;return e.test(y)?null:{pattern:{requiredPattern:t,actualValue:y}}}}(e)}static nullValidator(e){return null}static compose(e){return NA(e)}static composeAsync(e){return BA(e)}}function Uh(i){return null}function wA(i){return null!=i}function IA(i){const e=Ra(i)?ri(i):i;return Qc(e),e}function OA(i){let e={};return i.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function LA(i,e){return e.map(t=>t(i))}function bA(i){return i.map(e=>function lW(i){return!i.validate}(e)?e:t=>e.validate(t))}function NA(i){if(!i)return null;const e=i.filter(wA);return 0==e.length?null:function(t){return OA(LA(t,e))}}function gv(i){return null!=i?NA(bA(i)):null}function BA(i){if(!i)return null;const e=i.filter(wA);return 0==e.length?null:function(t){return cA(LA(t,e).map(IA)).pipe(ft(OA))}}function mv(i){return null!=i?BA(bA(i)):null}function VA(i,e){return null===i?[e]:Array.isArray(i)?[...i,e]:[i,e]}function GA(i){return i._rawValidators}function UA(i){return i._rawAsyncValidators}function yv(i){return i?Array.isArray(i)?i:[i]:[]}function Hh(i,e){return Array.isArray(i)?i.includes(e):i===e}function HA(i,e){const t=yv(e);return yv(i).forEach(y=>{Hh(t,y)||t.push(y)}),t}function zA(i,e){return yv(e).filter(t=>!Hh(i,t))}class WA{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=gv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=mv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Rr extends WA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class bi extends WA{get formDirective(){return null}get path(){return null}}class YA{constructor(e){this._cd=e}is(e){var t,r,y;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(y=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===y?void 0:y[e])}}let pl=(()=>{class i extends YA{constructor(t){super(t)}}return i.\u0275fac=function(t){return new(t||i)(st(Rr,2))},i.\u0275dir=yt({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&wi("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[Dt]}),i})(),vl=(()=>{class i extends YA{constructor(t){super(t)}}return i.\u0275fac=function(t){return new(t||i)(st(bi,10))},i.\u0275dir=yt({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&wi("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[Dt]}),i})();function gl(i,e){Tv(i,e),e.valueAccessor.writeValue(i.value),function gW(i,e){e.valueAccessor.registerOnChange(t=>{i._pendingValue=t,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&jA(i,e)})}(i,e),function yW(i,e){const t=(r,y)=>{e.valueAccessor.writeValue(r),y&&e.viewToModelUpdate(r)};i.registerOnChange(t),e._registerOnDestroy(()=>{i._unregisterOnChange(t)})}(i,e),function mW(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&jA(i,e),"submit"!==i.updateOn&&i.markAsTouched()})}(i,e),function vW(i,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};i.registerOnDisabledChange(t),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(t)})}}(i,e)}function Yh(i,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),jh(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Xh(i,e){i.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Tv(i,e){const t=GA(i);null!==e.validator?i.setValidators(VA(t,e.validator)):"function"==typeof t&&i.setValidators([t]);const r=UA(i);null!==e.asyncValidator?i.setAsyncValidators(VA(r,e.asyncValidator)):"function"==typeof r&&i.setAsyncValidators([r]);const y=()=>i.updateValueAndValidity();Xh(e._rawValidators,y),Xh(e._rawAsyncValidators,y)}function jh(i,e){let t=!1;if(null!==i){if(null!==e.validator){const y=GA(i);if(Array.isArray(y)&&y.length>0){const E=y.filter(F=>F!==e.validator);E.length!==y.length&&(t=!0,i.setValidators(E))}}if(null!==e.asyncValidator){const y=UA(i);if(Array.isArray(y)&&y.length>0){const E=y.filter(F=>F!==e.asyncValidator);E.length!==y.length&&(t=!0,i.setAsyncValidators(E))}}}const r=()=>{};return Xh(e._rawValidators,r),Xh(e._rawAsyncValidators,r),t}function jA(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function $A(i,e){Tv(i,e)}function kA(i,e){i._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Av(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}const ml="VALID",$h="INVALID",Wo="PENDING",yl="DISABLED";function Dv(i){return(kh(i)?i.validators:i)||null}function KA(i){return Array.isArray(i)?gv(i):i||null}function Rv(i,e){return(kh(e)?e.asyncValidators:i)||null}function QA(i){return Array.isArray(i)?mv(i):i||null}function kh(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}const Fv=i=>i instanceof wv,Kh=i=>i instanceof Qh,ZA=i=>i instanceof tM;function JA(i){return Fv(i)?i.value:i.getRawValue()}function qA(i,e){const t=Kh(i),r=i.controls;if(!(t?Object.keys(r):r).length)throw new wt(1e3,"");if(!r[e])throw new wt(1001,"")}function _A(i,e){Kh(i),i._forEachChild((r,y)=>{if(void 0===e[y])throw new wt(1002,"")})}class Pv{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=KA(this._rawValidators),this._composedAsyncValidatorFn=QA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ml}get invalid(){return this.status===$h}get pending(){return this.status==Wo}get disabled(){return this.status===yl}get enabled(){return this.status!==yl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=KA(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=QA(e)}addValidators(e){this.setValidators(HA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(HA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zA(e,this._rawAsyncValidators))}hasValidator(e){return Hh(this._rawValidators,e)}hasAsyncValidator(e){return Hh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Wo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=yl,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ml,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ml||this.status===Wo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yl:ml}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Wo,this._hasOwnPendingAsyncValidator=!0;const t=IA(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function EW(i,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=i;return e.forEach(y=>{r=Kh(r)?r.controls.hasOwnProperty(y)?r.controls[y]:null:ZA(r)&&r.at(y)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new be,this.statusChanges=new be}_calculateStatus(){return this._allControlsDisabled()?yl:this.errors?$h:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wo)?Wo:this._anyControlsHaveStatus($h)?$h:ml}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){kh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class wv extends Pv{constructor(e=null,t,r){super(Dv(t),Rv(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kh(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Av(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Av(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Qh extends Pv{constructor(e,t,r){super(Dv(t),Rv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){_A(this,e),Object.keys(e).forEach(r=>{qA(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,y)=>{r.reset(e[y],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=JA(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((y,E)=>{r=t(r,y,E)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class tM extends Pv{constructor(e,t,r){super(Dv(t),Rv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){_A(this,e),e.forEach((r,y)=>{qA(this,y),this.at(y).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,y)=>{this.at(y)&&this.at(y).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,y)=>{r.reset(e[y],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>JA(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const SW={provide:bi,useExisting:Me(()=>Zh)},xl=(()=>Promise.resolve(null))();let Zh=(()=>{class i extends bi{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new be,this.form=new Qh({},gv(t),mv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){xl.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),gl(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){xl.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){xl.then(()=>{const r=this._findContainer(t.path),y=new Qh({});$A(y,t),r.registerControl(t.name,y),y.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){xl.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){xl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,kA(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return i.\u0275fac=function(t){return new(t||i)(st(Ti,10),st(kr,10))},i.\u0275dir=yt({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&Se("submit",function(E){return r.onSubmit(E)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Re([SW]),Dt]}),i})(),Cl=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=yt({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),oM=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=ve({type:i}),i.\u0275inj=de({}),i})();const Iv=new It("NgModelWithFormControlWarning"),IW={provide:bi,useExisting:Me(()=>Kr)};let Kr=(()=>{class i extends bi{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new be,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(jh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return gl(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Yh(t.control||null,t,!1),Av(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,kA(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,y=this.form.get(t.path);r!==y&&(Yh(r||null,t),Fv(y)&&(gl(y,t),t.control=y))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);$A(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function xW(i,e){return jh(i,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Tv(this.form,this),this._oldForm&&jh(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(t){return new(t||i)(st(Ti,10),st(kr,10))},i.\u0275dir=yt({type:i,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&Se("submit",function(E){return r.onSubmit(E)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Re([IW]),Dt,Ai]}),i})();const bW={provide:Rr,useExisting:Me(()=>Yo)};let Yo=(()=>{class i extends Rr{constructor(t,r,y,E,F){super(),this._ngModelWarningConfig=F,this._added=!1,this.update=new be,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(y),this.valueAccessor=function Sv(i,e){if(!e)return null;let t,r,y;return Array.isArray(e),e.forEach(E=>{E.constructor===Fs?t=E:function TW(i){return Object.getPrototypeOf(i.constructor)===Rs}(E)?r=E:y=E}),y||r||t||null}(0,E)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Ev(i,e){if(!i.hasOwnProperty("model"))return!1;const t=i.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Wh(i,e){return[...e.path,i]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return i._ngModelWarningSentOnce=!1,i.\u0275fac=function(t){return new(t||i)(st(bi,13),st(Ti,10),st(kr,10),st(sr,10),st(Iv,8))},i.\u0275dir=yt({type:i,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Re([bW]),Dt,Ai]}),i})(),ZW=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=ve({type:i}),i.\u0275inj=de({imports:[[oM]]}),i})(),EM=(()=>{class i{static withConfig(t){return{ngModule:i,providers:[{provide:Iv,useValue:t.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=ve({type:i}),i.\u0275inj=de({imports:[ZW]}),i})(),Jh=(()=>{class i{group(t,r=null){const y=this._reduceControls(t);let O,E=null,F=null;return null!=r&&(function JW(i){return void 0!==i.asyncValidators||void 0!==i.validators||void 0!==i.updateOn}(r)?(E=null!=r.validators?r.validators:null,F=null!=r.asyncValidators?r.asyncValidators:null,O=null!=r.updateOn?r.updateOn:void 0):(E=null!=r.validator?r.validator:null,F=null!=r.asyncValidator?r.asyncValidator:null)),new Qh(y,{asyncValidators:F,updateOn:O,validators:E})}control(t,r,y){return new wv(t,r,y)}array(t,r,y){const E=t.map(F=>this._createControl(F));return new tM(E,r,y)}_reduceControls(t){const r={};return Object.keys(t).forEach(y=>{r[y]=this._createControl(t[y])}),r}_createControl(t){return Fv(t)||Kh(t)||ZA(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:EM}),i})();class qW extends h{constructor(e,t){super()}schedule(e,t=0){return this}}const qh={setInterval(...i){const{delegate:e}=qh;return((null==e?void 0:e.setInterval)||setInterval)(...i)},clearInterval(i){const{delegate:e}=qh;return((null==e?void 0:e.clearInterval)||clearInterval)(i)},delegate:void 0},SM={now:()=>(SM.delegate||Date).now(),delegate:void 0};class Tl{constructor(e,t=Tl.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Tl.now=SM.now;const eY=new class tY extends Tl{constructor(e,t=Tl.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}(class _W extends qW{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,y=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(y,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(y,this.id,t),this}requestAsyncId(e,t,r=0){return qh.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;qh.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let y,r=!1;try{this.work(e)}catch(E){r=!0,y=E||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),y}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,f(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}});let AM=(()=>{class i{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),nY=(()=>{class i{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=Yr(t);return new H(y=>{const F=this._observeElement(r).subscribe(y);return()=>{F.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Q,y=this._mutationObserverFactory.create(E=>r.next(E));y&&y.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:y,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:y}=this._observedElements.get(t);r&&r.disconnect(),y.complete(),this._observedElements.delete(t)}}}return i.\u0275fac=function(t){return new(t||i)(mt(AM))},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),rY=(()=>{class i{constructor(t,r,y){this._contentObserver=t,this._elementRef=r,this._ngZone=y,this.event=new be,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=ui(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function l2(i,e=0){return function u2(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):e}(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(function iY(i,e=eY){return ot((t,r)=>{let y=null,E=null,F=null;const O=()=>{if(y){y.unsubscribe(),y=null;const U=E;E=null,r.next(U)}};function N(){const U=F+i,j=e.now();if(j<U)return y=this.schedule(void 0,U-j),void r.add(y);O()}t.subscribe(lt(r,U=>{E=U,F=e.now(),y||(y=e.schedule(N,i),r.add(y))},()=>{O(),r.complete()},void 0,()=>{E=y=null}))})}(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(st(nY),st($t),st(pe))},i.\u0275dir=yt({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),i})(),sY=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=ve({type:i}),i.\u0275inj=de({providers:[AM]}),i})();const oY=["addListener","removeListener"],aY=["addEventListener","removeEventListener"],lY=["on","off"];function Vv(i,e,t,r){if(n(t)&&(r=t,t=void 0),r)return Vv(i,e,t).pipe(rp(r));const[y,E]=function fY(i){return n(i.addEventListener)&&n(i.removeEventListener)}(i)?aY.map(F=>O=>i[F](e,O,t)):function uY(i){return n(i.addListener)&&n(i.removeListener)}(i)?oY.map(MM(i,e)):function hY(i){return n(i.on)&&n(i.off)}(i)?lY.map(MM(i,e)):[];if(!y&&ef(i))return qe(F=>Vv(F,e,t))(rn(i));if(!y)throw new TypeError("Invalid event target");return new H(F=>{const O=(...N)=>F.next(1<N.length?N:N[0]);return y(O),()=>E(O)})}function MM(i,e){return t=>r=>i[t](e,r)}const cY=["connectionContainer"],dY=["inputContainer"],pY=["label"];function vY(i,e){1&i&&(Ma(0),Nt(1,"div",14),Le(2,"div",15)(3,"div",16)(4,"div",17),Ot(),Nt(5,"div",18),Le(6,"div",15)(7,"div",16)(8,"div",17),Ot(),Da())}function gY(i,e){if(1&i){const t=fu();Nt(0,"div",19),Se("cdkObserveContent",function(){return Ol(t),Rn().updateOutlineGap()}),li(1,1),Ot()}2&i&&ge("cdkObserveContentDisabled","outline"!=Rn().appearance)}function mY(i,e){if(1&i&&(Ma(0),li(1,2),Nt(2,"span"),ie(3),Ot(),Da()),2&i){const t=Rn(2);ce(3),Vr(t._control.placeholder)}}function yY(i,e){1&i&&li(0,3,["*ngSwitchCase","true"])}function xY(i,e){1&i&&(Nt(0,"span",23),ie(1," *"),Ot())}function CY(i,e){if(1&i){const t=fu();Nt(0,"label",20,21),Se("cdkObserveContent",function(){return Ol(t),Rn().updateOutlineGap()}),Pi(2,mY,4,1,"ng-container",12),Pi(3,yY,1,0,"ng-content",12),Pi(4,xY,2,0,"span",22),Ot()}if(2&i){const t=Rn();wi("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),ge("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),Fi("for",t._control.id)("aria-owns",t._control.id),ce(2),ge("ngSwitchCase",!1),ce(1),ge("ngSwitchCase",!0),ce(1),ge("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function TY(i,e){1&i&&(Nt(0,"div",24),li(1,4),Ot())}function EY(i,e){if(1&i&&(Nt(0,"div",25),Le(1,"span",26),Ot()),2&i){const t=Rn();ce(1),wi("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function SY(i,e){1&i&&(Nt(0,"div"),li(1,5),Ot()),2&i&&ge("@transitionMessages",Rn()._subscriptAnimationState)}function AY(i,e){if(1&i&&(Nt(0,"div",30),ie(1),Ot()),2&i){const t=Rn(2);ge("id",t._hintLabelId),ce(1),Vr(t.hintLabel)}}function MY(i,e){if(1&i&&(Nt(0,"div",27),Pi(1,AY,2,2,"div",28),li(2,6),Le(3,"div",29),li(4,7),Ot()),2&i){const t=Rn();ge("@transitionMessages",t._subscriptAnimationState),ce(1),ge("ngIf",t.hintLabel)}}const DY=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],RY=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],FY=new It("MatError"),PY={transitionMessages:M2("transitionMessages",[R2("enter",mh({opacity:1,transform:"translateY(0%)"})),F2("void => enter",[mh({opacity:0,transform:"translateY(-5px)"}),D2("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Gv=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=yt({type:i}),i})();const wY=new It("MatHint");let Xo=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=yt({type:i,selectors:[["mat-label"]]}),i})(),IY=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=yt({type:i,selectors:[["mat-placeholder"]]}),i})();const OY=new It("MatPrefix"),LY=new It("MatSuffix");let DM=0;const NY=Nh(class{constructor(i){this._elementRef=i}},"primary"),BY=new It("MAT_FORM_FIELD_DEFAULT_OPTIONS"),FM=new It("MatFormField");let _h=(()=>{class i extends NY{constructor(t,r,y,E,F,O,N){super(t),this._changeDetectorRef=r,this._dir=y,this._defaults=E,this._platform=F,this._ngZone=O,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Q,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+DM++,this._labelId="mat-form-field-label-"+DM++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==N,this.appearance=E&&E.appearance?E.appearance:"legacy",this._hideRequiredMarker=!(!E||null==E.hideRequiredMarker)&&E.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=ui(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(ku(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(nr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(nr(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),El(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ku(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ku(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(nr(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Vv(this._label.nativeElement,"transitionend").pipe(Os(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(E=>"start"===E.align):null,y=this._hintChildren?this._hintChildren.find(E=>"end"===E.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),y&&t.push(y.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,y=".mat-form-field-outline-start",E=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const j=r.querySelectorAll(`${y}, ${E}`);for(let q=0;q<j.length;q++)j[q].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let F=0,O=0;const N=r.querySelectorAll(y),U=r.querySelectorAll(E);if(this._label&&this._label.nativeElement.children.length){const j=r.getBoundingClientRect();if(0===j.width&&0===j.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const q=this._getStartEnd(j),nt=t.children,rt=this._getStartEnd(nt[0].getBoundingClientRect());let at=0;for(let ut=0;ut<nt.length;ut++)at+=nt[ut].offsetWidth;F=Math.abs(rt-q)-5,O=at>0?.75*at+10:0}for(let j=0;j<N.length;j++)N[j].style.width=`${F}px`;for(let j=0;j<U.length;j++)U[j].style.width=`${O}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return i.\u0275fac=function(t){return new(t||i)(st($t),st(za),st(bp,8),st(BY,8),st(Wr),st(pe),st(Ho,8))},i.\u0275cmp=si({type:i,selectors:[["mat-form-field"]],contentQueries:function(t,r,y){if(1&t&&(Ki(y,Gv,5),Ki(y,Gv,7),Ki(y,Xo,5),Ki(y,Xo,7),Ki(y,IY,5),Ki(y,FY,5),Ki(y,wY,5),Ki(y,OY,5),Ki(y,LY,5)),2&t){let E;ci(E=di())&&(r._controlNonStatic=E.first),ci(E=di())&&(r._controlStatic=E.first),ci(E=di())&&(r._labelChildNonStatic=E.first),ci(E=di())&&(r._labelChildStatic=E.first),ci(E=di())&&(r._placeholderChild=E.first),ci(E=di())&&(r._errorChildren=E),ci(E=di())&&(r._hintChildren=E),ci(E=di())&&(r._prefixChildren=E),ci(E=di())&&(r._suffixChildren=E)}},viewQuery:function(t,r){if(1&t&&(Va(cY,7),Va(dY,5),Va(pY,5)),2&t){let y;ci(y=di())&&(r._connectionContainerRef=y.first),ci(y=di())&&(r._inputContainerRef=y.first),ci(y=di())&&(r._label=y.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&wi("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[Re([{provide:FM,useExisting:i}]),Dt],ngContentSelectors:RY,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(os(DY),Nt(0,"div",0)(1,"div",1,2),Se("click",function(E){return r._control.onContainerClick&&r._control.onContainerClick(E)}),Pi(3,vY,9,0,"ng-container",3),Pi(4,gY,2,1,"div",4),Nt(5,"div",5,6),li(7),Nt(8,"span",7),Pi(9,CY,5,16,"label",8),Ot()(),Pi(10,TY,2,0,"div",9),Ot(),Pi(11,EY,2,4,"div",10),Nt(12,"div",11),Pi(13,SY,2,1,"div",12),Pi(14,MY,5,2,"div",13),Ot()()),2&t&&(ce(3),ge("ngIf","outline"==r.appearance),ce(1),ge("ngIf",r._prefixChildren.length),ce(5),ge("ngIf",r._hasFloatingLabel()),ce(1),ge("ngIf",r._suffixChildren.length),ce(1),ge("ngIf","outline"!=r.appearance),ce(1),ge("ngSwitch",r._getDisplayedMessages()),ce(1),ge("ngSwitchCase","error"),ce(1),ge("ngSwitchCase","hint"))},directives:[JC,rY,Uu,_C],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[PY.transitionMessages]},changeDetection:0}),i})(),Uv=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=ve({type:i}),i.\u0275inj=de({imports:[[nT,Li,sY],Li]}),i})();const PM=ph({passive:!0});let VY=(()=>{class i{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Yn;const r=Yr(t),y=this._monitoredElements.get(r);if(y)return y.subject;const E=new Q,F="cdk-text-field-autofilled",O=N=>{"cdk-text-field-autofill-start"!==N.animationName||r.classList.contains(F)?"cdk-text-field-autofill-end"===N.animationName&&r.classList.contains(F)&&(r.classList.remove(F),this._ngZone.run(()=>E.next({target:N.target,isAutofilled:!1}))):(r.classList.add(F),this._ngZone.run(()=>E.next({target:N.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",O,PM),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:E,unlisten:()=>{r.removeEventListener("animationstart",O,PM)}}),E}stopMonitoring(t){const r=Yr(t),y=this._monitoredElements.get(r);y&&(y.unlisten(),y.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return i.\u0275fac=function(t){return new(t||i)(mt(Wr),mt(pe))},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),wM=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=ve({type:i}),i.\u0275inj=de({}),i})();const GY=new It("MAT_INPUT_VALUE_ACCESSOR"),UY=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let HY=0;const zY=Fz(class{constructor(i,e,t,r){this._defaultErrorStateMatcher=i,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let tf=(()=>{class i extends zY{constructor(t,r,y,E,F,O,N,U,j,q){super(O,E,F,y),this._elementRef=t,this._platform=r,this._autofillMonitor=U,this._formField=q,this._uid="mat-input-"+HY++,this.focused=!1,this.stateChanges=new Q,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(at=>fS().has(at));const nt=this._elementRef.nativeElement,rt=nt.nodeName.toLowerCase();this._inputValueAccessor=N||nt,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&j.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",at=>{const ut=at.target;!ut.value&&0===ut.selectionStart&&0===ut.selectionEnd&&(ut.setSelectionRange(1,1),ut.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===rt,this._isTextarea="textarea"===rt,this._isInFormField=!!q,this._isNativeSelect&&(this.controlType=nt.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=ui(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,r,y,E;return null!==(E=null!==(t=this._required)&&void 0!==t?t:null===(y=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===y?void 0:y.hasValidator(aW.required))&&void 0!==E&&E}set required(t){this._required=ui(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&fS().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=ui(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,r;const y=(null===(r=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===r?void 0:r.call(t))?null:this.placeholder;if(y!==this._previousPlaceholder){const E=this._elementRef.nativeElement;this._previousPlaceholder=y,y?E.setAttribute("placeholder",y):E.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){UY.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return i.\u0275fac=function(t){return new(t||i)(st($t),st(Wr),st(Rr,10),st(Zh,8),st(Kr,8),st(aA),st(GY,10),st(VY),st(pe),st(FM,8))},i.\u0275dir=yt({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,r){1&t&&Se("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(td("disabled",r.disabled)("required",r.required),Fi("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),wi("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Re([{provide:Gv,useExisting:i}]),Dt,Ai]}),i})(),WY=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=ve({type:i}),i.\u0275inj=de({providers:[aA],imports:[[wM,Uv,Li],wM,Uv]}),i})(),YY=(()=>{class i{constructor(t,r,y){this.fb=t,this.router=r,this.authSvc=y}ngOnInit(){this.form=this.fb.group({username:this.fb.control("pipi"),password:this.fb.control("1234")})}onSubmit(){const t=this.form.get("username").value,r=this.form.get("password").value;this.authSvc.login(t,r)}}return i.\u0275fac=function(t){return new(t||i)(st(Jh),st(ni),st(ms))},i.\u0275cmp=si({type:i,selectors:[["app-login"]],decls:11,vars:1,consts:[["fxLayout","column","fxLayoutAlign","center center",3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","formControlName","username"],["matInput","","formControlName","password"],["mat-raised-button","","color","primary","type","submit"]],template:function(t,r){1&t&&(Nt(0,"form",0),Se("ngSubmit",function(){return r.onSubmit()}),Nt(1,"mat-form-field",1)(2,"mat-label"),ie(3,"Username"),Ot(),Le(4,"input",2),Ot(),Nt(5,"mat-form-field",1)(6,"mat-label"),ie(7,"password"),Ot(),Le(8,"input",3),Ot(),Nt(9,"button",4),ie(10,"Login"),Ot()()),2&t&&ge("formGroup",r.form)},directives:[Cl,vl,xs,No,Kr,_h,Xo,tf,Fs,pl,Yo,zo],styles:[""]}),i})(),XY=(()=>{class i{constructor(t){this.authSvc=t}ngOnInit(){this.errorMsg=this.authSvc.errorMsg}}return i.\u0275fac=function(t){return new(t||i)(st(ms))},i.\u0275cmp=si({type:i,selectors:[["app-badreq"]],decls:2,vars:1,template:function(t,r){1&t&&(Nt(0,"p"),ie(1),Ot()),2&t&&(ce(1),du("error msg ",r.errorMsg,""))},styles:[""]}),i})(),jY=(()=>{class i{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=ui(t)}get inset(){return this._inset}set inset(t){this._inset=ui(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=si({type:i,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,r){2&t&&(Fi("aria-orientation",r.vertical?"vertical":"horizontal"),wi("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,r){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),i})(),$Y=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=ve({type:i}),i.\u0275inj=de({imports:[[Li],Li]}),i})(),kY=(()=>{class i{constructor(t,r,y){this.fb=t,this.router=r,this.authSvc=y}ngOnInit(){this.form=this.fb.group({email:this.fb.control("miffy@gmail.com"),username:this.fb.control("miffy"),password:this.fb.control("1234")}),this.formVerify=this.fb.group({email:this.fb.control(""),verifyId:this.fb.control("")})}onSubmit(){const t=this.form.get("username").value,r=this.form.get("password").value,y=this.form.get("email").value;this.authSvc.register(t,r,y),this.formVerify.get("email").setValue(y)}onSubmitVerify(){const t=this.formVerify.get("email").value,r=this.formVerify.get("verifyId").value;console.log(r),this.authSvc.verify(t,r)}}return i.\u0275fac=function(t){return new(t||i)(st(Jh),st(ni),st(ms))},i.\u0275cmp=si({type:i,selectors:[["app-register"]],decls:27,vars:2,consts:[["fxLayout","column","fxLayoutAlign","center center",2,"margin-bottom","15px",3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","formControlName","email"],["matInput","","formControlName","username"],["matInput","","formControlName","password"],["mat-raised-button","","color","primary","type","submit"],["fxLayout","column","fxLayoutAlign","center center",2,"margin-top","15px",3,"formGroup","ngSubmit"],["matInput","","formControlName","verifyId"],["mat-raised-button","","color","accent","type","submit"]],template:function(t,r){1&t&&(Nt(0,"form",0),Se("ngSubmit",function(){return r.onSubmit()}),Nt(1,"mat-form-field",1)(2,"mat-label"),ie(3,"Email"),Ot(),Le(4,"input",2),Ot(),Nt(5,"mat-form-field",1)(6,"mat-label"),ie(7,"Username"),Ot(),Le(8,"input",3),Ot(),Nt(9,"mat-form-field",1)(10,"mat-label"),ie(11,"password"),Ot(),Le(12,"input",4),Ot(),Nt(13,"button",5),ie(14,"register"),Ot()(),Le(15,"mat-divider"),Nt(16,"form",6),Se("ngSubmit",function(){return r.onSubmitVerify()}),Nt(17,"mat-form-field",1)(18,"mat-label"),ie(19,"Email"),Ot(),Le(20,"input",2),Ot(),Nt(21,"mat-form-field",1)(22,"mat-label"),ie(23,"pin"),Ot(),Le(24,"input",7),Ot(),Nt(25,"button",8),ie(26,"verify"),Ot()()),2&t&&(ge("formGroup",r.form),ce(16),ge("formGroup",r.formVerify))},directives:[Cl,vl,xs,No,Kr,_h,Xo,tf,Fs,pl,Yo,zo,jY],styles:[""]}),i})();var KY=w(322),QY=w(209);let IM=(()=>{class i{constructor(t){this.http=t,this.Sub=new Q,this.abc=123}storeScore(t){this.Sub.next(t)}}return i.\u0275fac=function(t){return new(t||i)(mt(gs))},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var gn=w(8472);let qY=(()=>{class i{constructor(t){this.gameSvc=t,this.config={type:gn.AUTO,height:600,width:800,parent:"gameContainer",physics:{default:"arcade",arcade:{gravity:{y:300}}},scale:{parent:"mygame",autoCenter:gn.Scale.CENTER_BOTH}},this.gameSvcfield=t,this.config.scene=[new _Y(this),new tX(this)],t.Sub.subscribe(r=>console.log(r))}ngOnInit(){this.phaserGame=new gn.Game(this.config)}}return i.\u0275fac=function(t){return new(t||i)(st(IM))},i.\u0275cmp=si({type:i,selectors:[["app-singleplayergame"]],decls:1,vars:0,consts:[["id","mygame"]],template:function(t,r){1&t&&Le(0,"div",0)},styles:[""]}),i})();class _Y extends gn.Scene{constructor(e){super({key:"main"})}preload(){this.load.image("button","../../assets/green_button02.png"),this.load.image("button_pressed","../../assets/green_button03.png")}create(){const e=this.add.image(400,500,"button").setInteractive(),t=this.add.text(0,0,"start game",{color:"#000",fontSize:"28px"});gn.Display.Align.In.Center(t,e),e.on("pointerdown",()=>{e.setTexture("button_pressed")}).on("pointerup",()=>{e.setTexture("button"),this.scene.launch("game"),this.scene.stop()})}}class tX extends gn.Scene{constructor(e){super({key:"game"}),this.score=0,this.gameOver=!1,console.log(e.gameSvcfield.abc),this.context=e}preload(){this.load.image("man","../../assets/character.png"),this.load.image("sky","../../assets/sky.png"),this.load.image("ground","../../assets/platform.png"),this.load.image("star","../../assets/star.png"),this.load.image("bomb","../../assets/bomb.png"),this.load.spritesheet("dude","../../assets/dude.png",{frameWidth:32,frameHeight:48})}create(){this.add.image(400,300,"sky"),this.platforms=this.physics.add.staticGroup(),this.platforms.create(400,586,"ground").setScale(2).refreshBody(),this.platforms.create(600,400,"ground"),this.platforms.create(50,250,"ground"),this.platforms.create(750,220,"ground"),this.player=this.physics.add.sprite(100,450,"dude"),this.player.setBounce(.2),this.player.setCollideWorldBounds(!0),this.anims.create({key:"turn",frames:[{key:"dude",frame:4}],frameRate:20}),this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("dude",{start:0,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("dude",{start:5,end:8}),frameRate:10,repeat:-1}),this.physics.add.collider(this.player,this.platforms),this.add.text(250,40,"startgame",{fontSize:"56px",color:"#ffffff"}),this.renderBackButton(),this.stars=this.physics.add.group({key:"star",repeat:11,setXY:{x:12,y:0,stepX:70}}),this.stars.children.iterate(function(t){t.setBounceY(gn.Math.FloatBetween(.4,.8))}),this.physics.add.collider(this.stars,this.platforms),this.physics.add.overlap(this.player,this.stars,this.handleCollectStar,null,this),this.scoreText=this.add.text(16,16,"score: 0",{fontSize:"32px",color:"#000"}),this.bombs=this.physics.add.group(),this.physics.add.collider(this.bombs,this.platforms),this.physics.add.collider(this.bombs,this.player,this.handleHitBombs,null,this),this.cursorKeys=this.input.keyboard.createCursorKeys()}handleCollectStar(e,t){if(t.disableBody(!0,!0),this.score+=10,this.scoreText.setText("Score: "+this.score),0===this.stars.countActive(!0)){this.stars.children.iterate(function(E){E.enableBody(!0,E.x,0,!0,!0)});const r=this.player.x<400?gn.Math.Between(400,800):gn.Math.Between(0,400),y=this.bombs.create(r,16,"bomb");y.setBounce(1),y.setCollideWorldBounds(!0),y.setVelocity(gn.Math.Between(-200,200),20)}}handleHitBombs(e,t){this.physics.pause(),this.player.setTint(16711680),this.player.anims.play("turn"),this.gameOver=!0,this.scene.launch("main"),this.scene.stop(),this.context.gameSvcfield.storeScore(this.score)}update(){const e=new gn.Math.Vector2(0,0);this.cursorKeys.left.isDown?(e.x-=1,this.player.anims.play("left",!0)):this.cursorKeys.right.isDown?(e.x+=1,this.player.anims.play("right",!0)):(e.x=0,this.player.anims.play("turn")),this.cursorKeys.up.isDown&&this.player.body.touching.down&&this.player.setVelocityY(-330),this.player.setVelocityX(160*e.x)}renderBackButton(){const e=this.add.image(700,570,"button").setInteractive(),t=this.add.text(0,0,"back",{color:"#000",fontSize:"28px"});gn.Display.Align.In.Center(t,e),e.on("pointerdown",()=>{e.setTexture("button_pressed")}).on("pointerup",()=>{e.setTexture("button"),this.scene.launch("main"),this.scene.stop(),this.context.gameSvcfield.storeScore(this.score)})}}function eX(i,e){if(1&i&&(Nt(0,"li",13)(1,"ul"),ie(2),Ot()()),2&i){const t=e.$implicit;ce(2),_c("",t.user," : ",t.message,"")}}function iX(i,e){if(1&i&&(Nt(0,"tr")(1,"td"),ie(2),Ot(),Nt(3,"td"),ie(4),function H0(i,e){const t=ue();let r;const y=i+20;t.firstCreatePass?(r=function cO(i,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(i===r.name)return r}}(e,t.pipeRegistry),t.data[y]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(y,r.onDestroy)):r=t.data[y];const E=r.factory||(r.factory=es(r.type)),F=Pr(st);try{const O=Wl(!1),N=E();return Wl(O),function OP(i,e,t,r){t>=i.data.length&&(i.data[t]=null,i.blueprint[t]=null),e[t]=r}(t,xt(),y,N),N}finally{Pr(F)}}(5,"date"),Ot()()),2&i){const t=e.$implicit;ce(2),Vr(t.score),ce(2),Vr(z0(5,2,t.time,"shortTime"))}}let nX=(()=>{class i{constructor(t,r,y){this.fb=t,this.authSvc=r,this.gameSvc=y,this.webSocketEndPoint="http://localhost:8080/our-websocket",this.topic="/topic/receivemsg",this.receivedMsgs=[],this.isConnected=!1,this.oldScores=[],this.form=this.fb.group({message:this.fb.control("default msg")}),this.gameSvc.Sub.subscribe(E=>this.oldScores.push({score:E,time:new Date})),this.user=r.user}ngOnInit(){}sendMessage(){let t=this.form.get("message").value;console.log(t),console.log("sending out message over websocket");const r=t+"|"+this.user;console.log(r),this.stompClient.send("/ws/sendmessage",{},r)}handleMessage(t){console.log("Message Recieved from Server :: "+t);const r=JSON.parse(t.body);this.receivedMsgs.push(r)}connect(){console.log("initialize websocket connection");let t=new QY(this.webSocketEndPoint);this.stompClient=KY.over(t),this.stompClient.connect({"access-token":"Bearer "+this.authSvc.getToken()},r=>{this.stompClient.subscribe(this.topic,y=>{this.handleMessage(y)})},this.errorCallBack)}disconnect(){null!==this.stompClient&&this.stompClient.disconnect(),console.log("Disconnected")}errorCallBack(t){console.log("errorCallBack -> "+t),setTimeout(()=>{this.connect()},5e3)}}return i.\u0275fac=function(t){return new(t||i)(st(Jh),st(ms),st(IM))},i.\u0275cmp=si({type:i,selectors:[["app-main"]],decls:26,vars:4,consts:[["fxLayout","row","fxLayoutAlign","end"],[2,"object-position","top left","flex","1 1 auto"],["fxFlex","30"],["mat-raised-button","","color","primary","type","button",2,"margin","5px",3,"click"],["mat-raised-button","","color","accent","type","button",3,"disabled","click"],["fxLayout","column",3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","formControlName","message","cols","30","rows","10",2,"background-color","darkgray","border-radius","3px"],["fxFlex",""],["mat-raised-button","","color","primary","type","submit",2,"width","30px","margin","5px"],["style","border: #000066 solid 2px; border-radius: 3px; list-style-type: none; margin: 0px; padding: 0px",4,"ngFor","ngForOf"],[2,"width","30%","margin-top","10px"],[4,"ngFor","ngForOf"],[2,"border","#000066 solid 2px","border-radius","3px","list-style-type","none","margin","0px","padding","0px"]],template:function(t,r){1&t&&(Nt(0,"div",0),Le(1,"app-singleplayergame",1),Nt(2,"div",2)(3,"button",3),Se("click",function(){return r.connect()}),ie(4,"Join Chat"),Ot(),Nt(5,"button",4),Se("click",function(){return r.disconnect()}),ie(6,"Quit Chat "),Ot(),Nt(7,"form",5),Se("ngSubmit",function(){return r.sendMessage()}),Nt(8,"mat-form-field",6)(9,"mat-label"),ie(10,"message"),Ot(),Le(11,"textarea",7),Ot(),Nt(12,"div"),Le(13,"span",8),Nt(14,"button",9),ie(15,"Send"),Ot()()(),Nt(16,"p"),ie(17,"chat:"),Ot(),Pi(18,eX,3,2,"li",10),Ot()(),Nt(19,"table",11)(20,"tr")(21,"th"),ie(22,"Score"),Ot(),Nt(23,"th"),ie(24,"Date"),Ot()(),Pi(25,iX,6,5,"tr",12),Ot()),2&t&&(ce(5),ge("disabled",r.isConnected),ce(2),ge("formGroup",r.form),ce(11),ge("ngForOf",r.receivedMsgs),ce(7),ge("ngForOf",r.oldScores))},directives:[xs,No,qY,dh,zo,Cl,vl,Kr,_h,Xo,tf,Fs,pl,Yo,kd],pipes:[eT],styles:[""]}),i})();const rX=["*",[["mat-card-footer"]]],sX=["*","mat-card-footer"],oX=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],aX=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let lX=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=yt({type:i,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),i})(),uX=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=yt({type:i,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),i})(),hX=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=yt({type:i,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),i})(),fX=(()=>{class i{constructor(t){this._animationMode=t}}return i.\u0275fac=function(t){return new(t||i)(st(Ho,8))},i.\u0275cmp=si({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,r){2&t&&wi("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:sX,decls:2,vars:0,template:function(t,r){1&t&&(os(rX),li(0),li(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),i})(),cX=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=si({type:i,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:aX,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,r){1&t&&(os(oX),li(0),Nt(1,"div",0),li(2,1),Ot(),li(3,2))},encapsulation:2,changeDetection:0}),i})(),dX=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=ve({type:i}),i.\u0275inj=de({imports:[[Li],Li]}),i})();function pX(i,e){if(1&i){const t=fu();Nt(0,"tr")(1,"td")(2,"mat-card",7)(3,"mat-card-header"),Le(4,"div",8),Nt(5,"mat-card-title"),ie(6),Ot(),Nt(7,"mat-card-subtitle"),ie(8),Ot()()(),Nt(9,"button",9),Se("click",function(){const E=Ol(t).$implicit;return Rn().sendInvitation(E.email)}),ie(10,"invite to play"),Ot()()()}if(2&i){const t=e.$implicit;ce(4),function Wx(i,e,t){qn(oo(xt(),i,e,t))}("background-image: url(",t.photoURL,")"),ce(2),Vr(t.name),ce(2),Vr(t.email)}}const vX=[{path:"home",component:eW,canActivate:[Ds]},{path:"game",component:nX,canActivate:[Ds]},{path:"share",component:(()=>{class i{constructor(t,r,y,E){this.fb=t,this.router=r,this.authSvc=y,this.http=E,this.successfulAuth=!1,this.people=[]}ngOnInit(){this.form=this.fb.group({code:this.fb.control("")})}onSubmit(){const t=this.form.get("code").value;this.authSvc.oauthAuthorize(t).subscribe(r=>{console.log(r.accessToken),this.successfulAuth=!0})}getPeople(){this.http.get("/api/contacts").subscribe(t=>{console.log(t[0].photoURL),this.people=t})}sendInvitation(t){console.log(t),this.http.post("/api/messages",t).subscribe(r=>console.log(r))}}return i.\u0275fac=function(t){return new(t||i)(st(Jh),st(ni),st(ms),st(gs))},i.\u0275cmp=si({type:i,selectors:[["app-share"]],decls:12,vars:3,consts:[["fxLayout","column","fxLayoutAlign","center center"],[3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","formControlName","code"],["mat-raised-button","","color","primary","type","submit"],["fxFlex","50","mat-raised-button","","color","accent","type","button",3,"disabled","click"],[4,"ngFor","ngForOf"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["mat-button","","color","accent",3,"click"]],template:function(t,r){1&t&&(Nt(0,"div",0)(1,"form",1),Se("ngSubmit",function(){return r.onSubmit()}),Nt(2,"mat-form-field",2)(3,"mat-label"),ie(4,"Authorization code"),Ot(),Le(5,"input",3),Ot(),Nt(6,"button",4),ie(7,"Authorize"),Ot()(),Nt(8,"button",5),Se("click",function(){return r.getPeople()}),ie(9," get contacts "),Ot(),Nt(10,"table"),Pi(11,pX,11,5,"tr",6),Ot()()),2&t&&(ce(1),ge("formGroup",r.form),ce(7),ge("disabled",!r.successfulAuth),ce(3),ge("ngForOf",r.people))},directives:[xs,No,Cl,vl,Kr,_h,Xo,tf,Fs,pl,Yo,zo,dh,kd,fX,cX,hX,lX,uX],styles:[".example-card[_ngcontent-%COMP%]{max-width:400px}.example-header-image[_ngcontent-%COMP%]{background-size:cover}"]}),i})(),canActivate:[Ds]},{path:"register",component:kY,canActivate:[Ds]},{path:"login",component:YY,canActivate:[Ds]},{path:"badrequest",component:XY,canActivate:[Ds]},{path:"**",redirectTo:"home"}];let gX=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=ve({type:i}),i.\u0275inj=de({imports:[[RE.forRoot(vX)],RE]}),i})();const mX=["*",[["mat-toolbar-row"]]],yX=["*","mat-toolbar-row"],xX=Nh(class{constructor(i){this._elementRef=i}});let CX=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=yt({type:i,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),i})(),TX=(()=>{class i extends xX{constructor(t,r,y){super(t),this._platform=r,this._document=y}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return i.\u0275fac=function(t){return new(t||i)(st($t),st(Wr),st(me))},i.\u0275cmp=si({type:i,selectors:[["mat-toolbar"]],contentQueries:function(t,r,y){if(1&t&&Ki(y,CX,5),2&t){let E;ci(E=di())&&(r._toolbarRows=E)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&wi("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Dt],ngContentSelectors:yX,decls:2,vars:0,template:function(t,r){1&t&&(os(mX),li(0),li(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),i})(),EX=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=ve({type:i}),i.\u0275inj=de({imports:[[Li],Li]}),i})(),SX=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=si({type:i,selectors:[["app-root"]],decls:12,vars:0,consts:[["color","primary","fxLayout","","fxLayoutGap","15px",2,"margin-bottom","15px"],["mat-icon-button","","aria-label","Example icon-button with menu icon","routerLink","/home",1,"example-icon"],["fxFlex",""],["mat-icon-button","","aria-label","Example icon-button with heart icon","routerLink","/register",1,"example-icon","favorite-icon"],["mat-icon-button","","aria-label","Example icon-button with share icon","routerLink","/login",1,"example-icon"]],template:function(t,r){1&t&&(Nt(0,"mat-toolbar",0)(1,"button",1)(2,"mat-icon"),ie(3,"home"),Ot()(),Nt(4,"span"),ie(5,"mini game"),Ot(),Le(6,"span",2),Nt(7,"button",3),ie(8," Register "),Ot(),Nt(9,"button",4),ie(10," Login "),Ot()(),Le(11,"router-outlet"))},directives:[TX,xs,oS,zo,nl,yA,dh,xp],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),i})(),AX=(()=>{class i{constructor(t){this.http=t}}return i.\u0275fac=function(t){return new(t||i)(mt(gs))},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})(),MX=(()=>{class i{constructor(){}intercept(t,r){let y=!1;if(t.headers.get("expired")&&(y=!0),y){let E=sessionStorage.getItem("refresh-token");E&&(t=t.clone({headers:t.headers.set("Authorization",`Bearer ${E}`)}))}else{let E=sessionStorage.getItem("access-token");E&&(t=t.clone({headers:t.headers.set("Authorization",`Bearer ${E}`)}))}return r.handle(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})(),VM=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=ve({type:i}),i.\u0275inj=de({imports:[[Vp]]}),i})(),jM=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=ve({type:i}),i.\u0275inj=de({imports:[[Vp]]}),i})(),f$=(()=>{class i{constructor(t,r){Do(r)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(t,r=[]){return{ngModule:i,providers:t.serverLoaded?[{provide:Vn,useValue:Object.assign(Object.assign({},Gp),t)},{provide:Up,useValue:r,multi:!0},{provide:Lo,useValue:!0}]:[{provide:Vn,useValue:Object.assign(Object.assign({},Gp),t)},{provide:Up,useValue:r,multi:!0}]}}}return i.\u0275fac=function(t){return new(t||i)(mt(Lo),mt(Qi))},i.\u0275mod=ve({type:i}),i.\u0275inj=de({imports:[[lS,VM,jM],lS,VM,jM]}),i})(),c$=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=ve({type:i,bootstrap:[SX]}),i.\u0275inj=de({providers:[AX,{provide:wp,useClass:MX,multi:!0},Ds],imports:[[mT,gX,CG,EM,Sz,EX,tW,Wz,f$,Uv,WY,$Y,dX]]}),i})();(function pL(){MC=!1})(),IN().bootstrapModule(c$).catch(i=>console.error(i))},8878:dt=>{var C=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};dt.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(w){return C()}try{return __global__||C()}finally{delete Object.prototype.__global__}}()},3894:dt=>{dt.exports="function"==typeof Object.create?function(w,n){n&&(w.super_=n,w.prototype=Object.create(n.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}))}:function(w,n){if(n){w.super_=n;var l=function(){};l.prototype=n.prototype,w.prototype=new l,w.prototype.constructor=w}}},5253:(dt,C,w)=>{var n=w(5253);for(k in n)global[k]=n[k]},8472:function(dt){dt.exports=function(C){var w={};function n(l){if(w[l])return w[l].exports;var m=w[l]={i:l,l:!1,exports:{}};return C[l].call(m.exports,m,m.exports,n),m.l=!0,m.exports}return n.m=C,n.c=w,n.d=function(l,m,f){n.o(l,m)||Object.defineProperty(l,m,{enumerable:!0,get:f})},n.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},n.t=function(l,m){if(1&m&&(l=n(l)),8&m||4&m&&"object"==typeof l&&l&&l.__esModule)return l;var f=Object.create(null);if(n.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:l}),2&m&&"string"!=typeof l)for(var h in l)n.d(f,h,function(u){return l[u]}.bind(null,h));return f},n.n=function(l){var m=l&&l.__esModule?function(){return l.default}:function(){return l};return n.d(m,"a",m),m},n.o=function(l,m){return Object.prototype.hasOwnProperty.call(l,m)},n.p="",n(n.s=1528)}([function(C,w){function l(s,o,d){var a=d?s[o]:Object.getOwnPropertyDescriptor(s,o);return!d&&a.value&&"object"==typeof a.value&&(a=a.value),!(!a||!function n(s){return!!s.get&&"function"==typeof s.get||!!s.set&&"function"==typeof s.set}(a))&&(void 0===a.enumerable&&(a.enumerable=!0),void 0===a.configurable&&(a.configurable=!0),a)}function m(s,o){var d=Object.getOwnPropertyDescriptor(s,o);return!!d&&(d.value&&"object"==typeof d.value&&(d=d.value),!1===d.configurable)}function f(s,o,d,a){for(var c in o)if(o.hasOwnProperty(c)){var p=l(o,c,d);if(!1!==p){if(m((a||s).prototype,c)){if(u.ignoreFinals)continue;throw new Error("cannot override final property '"+c+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(s.prototype,c,p)}else s.prototype[c]=o[c]}}function h(s,o){if(o){Array.isArray(o)||(o=[o]);for(var d=0;d<o.length;d++)f(s,o[d].prototype||o[d])}}function u(s){var o,d;if(s||(s={}),s.initialize){if("function"!=typeof s.initialize)throw new Error("initialize must be a function");o=s.initialize,delete s.initialize}else if(s.Extends){var a=s.Extends;o=function(){a.apply(this,arguments)}}else o=function(){};s.Extends?(o.prototype=Object.create(s.Extends.prototype),o.prototype.constructor=o,d=s.Extends,delete s.Extends):o.prototype.constructor=o;var c=null;return s.Mixins&&(c=s.Mixins,delete s.Mixins),h(o,c),f(o,s,!0,d),o}u.extend=f,u.mixin=h,u.ignoreFinals=!1,C.exports=u},function(C,w){C.exports=function(){}},function(C,w){C.exports=function(l,m,f){var h=typeof l;return l&&"number"!==h&&"string"!==h&&l.hasOwnProperty(m)&&void 0!==l[m]?l[m]:f}},function(C,w,n){var l=n(0),m=n(124),f=new l({initialize:function(u,s){this.x=0,this.y=0,"object"==typeof u?(this.x=u.x||0,this.y=u.y||0):(void 0===s&&(s=u),this.x=u||0,this.y=s||0)},clone:function(){return new f(this.x,this.y)},copy:function(h){return this.x=h.x||0,this.y=h.y||0,this},setFromObject:function(h){return this.x=h.x||0,this.y=h.y||0,this},set:function(h,u){return void 0===u&&(u=h),this.x=h,this.y=u,this},setTo:function(h,u){return this.set(h,u)},setToPolar:function(h,u){return null==u&&(u=1),this.x=Math.cos(h)*u,this.y=Math.sin(h)*u,this},equals:function(h){return this.x===h.x&&this.y===h.y},fuzzyEquals:function(h,u){return m(this.x,h.x,u)&&m(this.y,h.y,u)},angle:function(){var h=Math.atan2(this.y,this.x);return h<0&&(h+=2*Math.PI),h},setAngle:function(h){return this.setToPolar(h,this.length())},add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.x-=h.x,this.y-=h.y,this},multiply:function(h){return this.x*=h.x,this.y*=h.y,this},scale:function(h){return isFinite(h)?(this.x*=h,this.y*=h):(this.x=0,this.y=0),this},divide:function(h){return this.x/=h.x,this.y/=h.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(h){var u=h.x-this.x,s=h.y-this.y;return Math.sqrt(u*u+s*s)},distanceSq:function(h){var u=h.x-this.x,s=h.y-this.y;return u*u+s*s},length:function(){var h=this.x,u=this.y;return Math.sqrt(h*h+u*u)},setLength:function(h){return this.normalize().scale(h)},lengthSq:function(){var h=this.x,u=this.y;return h*h+u*u},normalize:function(){var h=this.x,u=this.y,s=h*h+u*u;return s>0&&(s=1/Math.sqrt(s),this.x=h*s,this.y=u*s),this},normalizeRightHand:function(){var h=this.x;return this.x=-1*this.y,this.y=h,this},normalizeLeftHand:function(){var h=this.x;return this.x=this.y,this.y=-1*h,this},dot:function(h){return this.x*h.x+this.y*h.y},cross:function(h){return this.x*h.y-this.y*h.x},lerp:function(h,u){void 0===u&&(u=0);var s=this.x,o=this.y;return this.x=s+u*(h.x-s),this.y=o+u*(h.y-o),this},transformMat3:function(h){var u=this.x,s=this.y,o=h.val;return this.x=o[0]*u+o[3]*s+o[6],this.y=o[1]*u+o[4]*s+o[7],this},transformMat4:function(h){var u=this.x,s=this.y,o=h.val;return this.x=o[0]*u+o[4]*s+o[12],this.y=o[1]*u+o[5]*s+o[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(h){var u=this.length();return u&&u>h&&this.scale(h/u),this},reflect:function(h){return h=h.clone().normalize(),this.subtract(h.scale(2*this.dot(h)))},mirror:function(h){return this.reflect(h).negate()},rotate:function(h){var u=Math.cos(h),s=Math.sin(h);return this.set(u*this.x-s*this.y,s*this.x+u*this.y)}});f.ZERO=new f,f.RIGHT=new f(1,0),f.LEFT=new f(-1,0),f.UP=new f(0,-1),f.DOWN=new f(0,1),f.ONE=new f(1,1),C.exports=f},function(C,w,n){var l=n(0),m=n(56),f=new l({initialize:function(u,s){void 0===u&&(u=0),void 0===s&&(s=u),this.type=m.POINT,this.x=u,this.y=s},setTo:function(h,u){return void 0===h&&(h=0),void 0===u&&(u=h),this.x=h,this.y=u,this}});C.exports=f},function(C,w,n){var l=n(0),m=n(24),f=n(20),h=new l({initialize:function(s){this.scene=s,this.systems=s.sys,this.events=s.sys.events,this.events.once(f.BOOT,this.boot,this),this.events.on(f.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(f.DESTROY,this.destroy,this)},start:function(){this.events.once(f.SHUTDOWN,this.shutdown,this)},existing:function(u){return(u.renderCanvas||u.renderWebGL)&&this.displayList.add(u),u.preUpdate&&this.updateList.add(u),u},shutdown:function(){this.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});h.register=function(u,s){h.prototype.hasOwnProperty(u)||(h.prototype[u]=s)},h.remove=function(u){h.prototype.hasOwnProperty(u)&&delete h.prototype[u]},m.register("GameObjectFactory",h,"add"),C.exports=h},function(C,w){C.exports=function(l,m,f){if(!l||"number"==typeof l)return f;if(l.hasOwnProperty(m))return l[m];if(-1!==m.indexOf(".")){for(var h=m.split("."),u=l,s=f,o=0;o<h.length;o++){if(!u.hasOwnProperty(h[o])){s=f;break}s=u[h[o]],u=u[h[o]]}return s}return f}},function(C,w){C.exports=function(l){if("object"!=typeof l||l.nodeType||l===l.window)return!1;try{if(l.constructor&&!{}.hasOwnProperty.call(l.constructor.prototype,"isPrototypeOf"))return!1}catch(m){return!1}return!0}},function(C,w){var n={};C.exports={install:function(m){for(var f in n)m[f]=n[f]},register:function(m,f){n[m]=f},destroy:function(){n={}}}},function(C,w,n){"use strict";var l=Object.prototype.hasOwnProperty,m="~";function f(){}function h(d,a,c){this.fn=d,this.context=a,this.once=c||!1}function u(d,a,c,p,v){if("function"!=typeof c)throw new TypeError("The listener must be a function");var g=new h(c,p||d,v),x=m?m+a:a;return d._events[x]?d._events[x].fn?d._events[x]=[d._events[x],g]:d._events[x].push(g):(d._events[x]=g,d._eventsCount++),d}function s(d,a){0==--d._eventsCount?d._events=new f:delete d._events[a]}function o(){this._events=new f,this._eventsCount=0}Object.create&&(f.prototype=Object.create(null),(new f).__proto__||(m=!1)),o.prototype.eventNames=function(){var c,p,a=[];if(0===this._eventsCount)return a;for(p in c=this._events)l.call(c,p)&&a.push(m?p.slice(1):p);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(c)):a},o.prototype.listeners=function(a){var p=this._events[m?m+a:a];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,g=p.length,x=new Array(g);v<g;v++)x[v]=p[v].fn;return x},o.prototype.listenerCount=function(a){var p=this._events[m?m+a:a];return p?p.fn?1:p.length:0},o.prototype.emit=function(a,c,p,v,g,x){var T=m?m+a:a;if(!this._events[T])return!1;var M,R,S=this._events[T],D=arguments.length;if(S.fn){switch(S.once&&this.removeListener(a,S.fn,void 0,!0),D){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,c),!0;case 3:return S.fn.call(S.context,c,p),!0;case 4:return S.fn.call(S.context,c,p,v),!0;case 5:return S.fn.call(S.context,c,p,v,g),!0;case 6:return S.fn.call(S.context,c,p,v,g,x),!0}for(R=1,M=new Array(D-1);R<D;R++)M[R-1]=arguments[R];S.fn.apply(S.context,M)}else{var I,P=S.length;for(R=0;R<P;R++)switch(S[R].once&&this.removeListener(a,S[R].fn,void 0,!0),D){case 1:S[R].fn.call(S[R].context);break;case 2:S[R].fn.call(S[R].context,c);break;case 3:S[R].fn.call(S[R].context,c,p);break;case 4:S[R].fn.call(S[R].context,c,p,v);break;default:if(!M)for(I=1,M=new Array(D-1);I<D;I++)M[I-1]=arguments[I];S[R].fn.apply(S[R].context,M)}}return!0},o.prototype.on=function(a,c,p){return u(this,a,c,p,!1)},o.prototype.once=function(a,c,p){return u(this,a,c,p,!0)},o.prototype.removeListener=function(a,c,p,v){var g=m?m+a:a;if(!this._events[g])return this;if(!c)return s(this,g),this;var x=this._events[g];if(x.fn)x.fn===c&&(!v||x.once)&&(!p||x.context===p)&&s(this,g);else{for(var T=0,S=[],D=x.length;T<D;T++)(x[T].fn!==c||v&&!x[T].once||p&&x[T].context!==p)&&S.push(x[T]);S.length?this._events[g]=1===S.length?S[0]:S:s(this,g)}return this},o.prototype.removeAllListeners=function(a){var c;return a?this._events[c=m?m+a:a]&&s(this,c):(this._events=new f,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=m,o.EventEmitter=o,C.exports=o},function(C,w,n){var l=n(0),m=n(57),f=n(171),h=n(306),u=n(56),s=n(47),o=n(174),d=new l({initialize:function(c,p,v,g){void 0===c&&(c=0),void 0===p&&(p=0),void 0===v&&(v=0),void 0===g&&(g=0),this.type=u.RECTANGLE,this.x=c,this.y=p,this.width=v,this.height=g},contains:function(a,c){return m(this,a,c)},getPoint:function(a,c){return f(this,a,c)},getPoints:function(a,c,p){return h(this,a,c,p)},getRandomPoint:function(a){return o(this,a)},setTo:function(a,c,p,v){return this.x=a,this.y=c,this.width=p,this.height=v,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(a,c){return void 0===c&&(c=a),this.x=a,this.y=c,this},setSize:function(a,c){return void 0===c&&(c=a),this.width=a,this.height=c,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(a){return void 0===a&&(a=new s),a.setTo(this.x,this.y,this.right,this.y),a},getLineB:function(a){return void 0===a&&(a=new s),a.setTo(this.right,this.y,this.right,this.bottom),a},getLineC:function(a){return void 0===a&&(a=new s),a.setTo(this.right,this.bottom,this.x,this.bottom),a},getLineD:function(a){return void 0===a&&(a=new s),a.setTo(this.x,this.bottom,this.x,this.y),a},left:{get:function(){return this.x},set:function(a){this.width=a>=this.right?0:this.right-a,this.x=a}},right:{get:function(){return this.x+this.width},set:function(a){this.width=a<=this.x?0:a-this.x}},top:{get:function(){return this.y},set:function(a){this.height=a>=this.bottom?0:this.bottom-a,this.y=a}},bottom:{get:function(){return this.y+this.height},set:function(a){this.height=a<=this.y?0:a-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(a){this.x=a-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(a){this.y=a-this.height/2}}});C.exports=d},function(C,w,n){C.exports={Alpha:n(607),AlphaSingle:n(303),BlendMode:n(304),ComputedSize:n(608),Crop:n(609),Depth:n(305),Flip:n(610),GetBounds:n(611),Mask:n(309),Origin:n(632),PathFollower:n(633),Pipeline:n(167),ScrollFactor:n(312),Size:n(634),Texture:n(635),TextureCrop:n(636),Tint:n(637),ToJSON:n(176),Transform:n(313),TransformMatrix:n(25),Visible:n(314)}},function(C,w){function n(l){for(var m="",f=0;f<l;++f)f>0&&(m+="\nelse "),f<l-1&&(m+="if(test == "+f+".0){}");return m}C.exports={getTintFromFloats:function(l,m,f,h){return((255&(255*h|0))<<24|(255&(255*l|0))<<16|(255&(255*m|0))<<8|255&(255*f|0))>>>0},getTintAppendFloatAlpha:function(l,m){return((255&(255*m|0))<<24|l)>>>0},getTintAppendFloatAlphaAndSwap:function(l,m){return((255&(255*m|0))<<24|(255&(0|l))<<16|(255&(l>>8|0))<<8|255&(l>>16|0))>>>0},getFloatsFromUintRGB:function(l){return[(255&(l>>16|0))/255,(255&(l>>8|0))/255,(255&(0|l))/255]},checkShaderMax:function(l,m){(!m||-1===m)&&(m=l.getParameter(l.MAX_TEXTURE_IMAGE_UNITS));for(var f=l.createShader(l.FRAGMENT_SHADER),h=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");;){var u=h.replace(/%forloop%/gi,n(m));if(l.shaderSource(f,u),l.compileShader(f),l.getShaderParameter(f,l.COMPILE_STATUS))break;m=m/2|0}return m},parseFragmentShaderMaxTextures:function(l,m){if(!l)return"";for(var f="",h=0;h<m;h++)h>0&&(f+="\n\telse "),h<m-1&&(f+="if (outTexId < "+h+".5)"),f+="\n\t{",f+="\n\t\ttexture = texture2D(uMainSampler["+h+"], outTexCoord);",f+="\n\t}";return(l=l.replace(/%count%/gi,m.toString())).replace(/%forloop%/gi,f)}}},function(C,w,n){var l=n(193),m=n(6);C.exports=function(h,u,s){var o=m(h,u,null);if(null===o)return s;if(Array.isArray(o))return l.RND.pick(o);if("object"==typeof o){if(o.hasOwnProperty("randInt"))return l.RND.integerInRange(o.randInt[0],o.randInt[1]);if(o.hasOwnProperty("randFloat"))return l.RND.realInRange(o.randFloat[0],o.randFloat[1])}else if("function"==typeof o)return o(u);return o}},function(C,w){var n={PI2:2*Math.PI,TAU:.5*Math.PI,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};C.exports=n},function(C,w,n){var l=n(0),m=n(176),f=n(101),h=n(9),u=n(75),s=n(20),o=new l({Extends:h,initialize:function(a,c){h.call(this),this.scene=a,this.displayList=null,this.type=c,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(u.ADDED_TO_SCENE,this.addedToScene,this),this.on(u.REMOVED_FROM_SCENE,this.removedFromScene,this),a.sys.queueDepthSort()},setActive:function(d){return this.active=d,this},setName:function(d){return this.name=d,this},setState:function(d){return this.state=d,this},setDataEnabled:function(){return this.data||(this.data=new f(this)),this},setData:function(d,a){return this.data||(this.data=new f(this)),this.data.set(d,a),this},incData:function(d,a){return this.data||(this.data=new f(this)),this.data.inc(d,a),this},toggleData:function(d){return this.data||(this.data=new f(this)),this.data.toggle(d),this},getData:function(d){return this.data||(this.data=new f(this)),this.data.get(d)},setInteractive:function(d,a,c){return this.scene.sys.input.enable(this,d,a,c),this},disableInteractive:function(){return this.input&&(this.input.enabled=!1),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return m(this)},willRender:function(d){return!(o.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&d.id)},getIndexList:function(){for(var d=this,a=this.parentContainer,c=[];a&&(c.unshift(a.getIndex(d)),d=a,a.parentContainer);)a=a.parentContainer;return c.unshift(this.displayList?this.displayList.getIndex(d):this.scene.sys.displayList.getIndex(d)),c},addToDisplayList:function(d){return void 0===d&&(d=this.scene.sys.displayList),this.displayList&&this.displayList!==d&&this.removeFromDisplayList(),d.exists(this)||(this.displayList=d,d.add(this,!0),d.queueDepthSort(),this.emit(u.ADDED_TO_SCENE,this,this.scene),d.events.emit(s.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var d=this.displayList||this.scene.sys.displayList;return d.exists(this)&&(d.remove(this,!0),d.queueDepthSort(),this.displayList=null,this.emit(u.REMOVED_FROM_SCENE,this,this.scene),d.events.emit(s.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(d){!this.scene||this.ignoreDestroy||(void 0===d&&(d=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(u.DESTROY,this,d),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});o.RENDER_MASK=15,C.exports=o},function(C,w,n){var l=n(0),m=n(24),f=n(20),h=new l({initialize:function(s){this.scene=s,this.systems=s.sys,this.events=s.sys.events,this.events.once(f.BOOT,this.boot,this),this.events.on(f.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(f.DESTROY,this.destroy,this)},start:function(){this.events.once(f.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});h.register=function(u,s){h.prototype.hasOwnProperty(u)||(h.prototype[u]=s)},h.remove=function(u){h.prototype.hasOwnProperty(u)&&delete h.prototype[u]},m.register("GameObjectCreator",h,"make"),C.exports=h},function(C,w,n){var l=n(7),m=function(){var f,h,u,s,o,d,a=arguments[0]||{},c=1,p=arguments.length,v=!1;for("boolean"==typeof a&&(v=a,a=arguments[1]||{},c=2),p===c&&(a=this,--c);c<p;c++)if(null!=(f=arguments[c]))for(h in f)u=a[h],a!==(s=f[h])&&(v&&s&&(l(s)||(o=Array.isArray(s)))?(o?(o=!1,d=u&&Array.isArray(u)?u:[]):d=u&&l(u)?u:{},a[h]=m(v,d,s)):void 0!==s&&(a[h]=s));return a};C.exports=m},function(C,w){C.exports=function(l,m,f){return Math.max(m,Math.min(f,l))}},function(C,w,n){var l=n(25),m=new l,f=new l,h=new l,u={camera:m,sprite:f,calc:h};C.exports=function(o,d,a){var c=m,p=f,v=h;return p.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY),c.copyFrom(d.matrix),a?(c.multiplyWithOffset(a,-d.scrollX*o.scrollFactorX,-d.scrollY*o.scrollFactorY),p.e=o.x,p.f=o.y):(p.e-=d.scrollX*o.scrollFactorX,p.f-=d.scrollY*o.scrollFactorY),c.multiply(p,v),u}},function(C,w,n){C.exports={ADDED_TO_SCENE:n(656),BOOT:n(657),CREATE:n(658),DESTROY:n(659),PAUSE:n(660),POST_UPDATE:n(661),PRE_RENDER:n(662),PRE_UPDATE:n(663),READY:n(664),REMOVED_FROM_SCENE:n(665),RENDER:n(666),RESUME:n(667),SHUTDOWN:n(668),SLEEP:n(669),START:n(670),TRANSITION_COMPLETE:n(671),TRANSITION_INIT:n(672),TRANSITION_OUT:n(673),TRANSITION_START:n(674),TRANSITION_WAKE:n(675),UPDATE:n(676),WAKE:n(677)}},function(C,w){C.exports={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19}},function(C,w,n){C.exports={BLUR:n(612),BOOT:n(613),CONTEXT_LOST:n(614),CONTEXT_RESTORED:n(615),DESTROY:n(616),FOCUS:n(617),HIDDEN:n(618),PAUSE:n(619),POST_RENDER:n(620),POST_STEP:n(621),PRE_RENDER:n(622),PRE_STEP:n(623),READY:n(624),RESUME:n(625),STEP:n(626),VISIBLE:n(627)}},function(C,w,n){var l=n(0),m=n(21),f=n(95),h=n(2),u=n(155),s=n(240),o=n(517),d=n(156),a=new l({initialize:function(p,v){this.loader=p,this.cache=h(v,"cache",!1),this.type=h(v,"type",!1),this.key=h(v,"key",!1);var g=this.key;if(p.prefix&&""!==p.prefix&&(this.key=p.prefix+g),!this.type||!this.key)throw new Error("Invalid Loader."+this.type+" key");var x=h(v,"url");void 0===x?x=p.path+g+"."+h(v,"extension",""):"string"==typeof x&&!x.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)&&(x=p.path+x),this.url=x,this.src="",this.xhrSettings=d(h(v,"responseType",void 0)),h(v,"xhrSettings",!1)&&(this.xhrSettings=s(this.xhrSettings,h(v,"xhrSettings",{}))),this.xhrLoader=null,this.state="function"==typeof this.url?m.FILE_POPULATED:m.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=h(v,"config",{})},setLink:function(c){this.linkFile=c,c.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===m.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=m.FILE_LOADING,this.src=u(this,this.loader.baseURL),0===this.src.indexOf("data:")?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=o(this,this.loader.xhr))},onLoad:function(c,p){var v=c.responseURL&&(0===c.responseURL.indexOf("file://")||0===c.responseURL.indexOf("capacitor://")),x=!(p.target&&200!==p.target.status)||v&&0===p.target.status;4===c.readyState&&c.status>=400&&c.status<=599&&(x=!1),this.state=m.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,x)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(c){c.lengthComputable&&(this.bytesLoaded=c.loaded,this.bytesTotal=c.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(f.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=m.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=m.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){this.state=m.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.cache.add(this.key,this.data),this.pendingDestroy()},pendingDestroy:function(c){void 0===c&&(c=this.data);var p=this.key,v=this.type;this.loader.emit(f.FILE_COMPLETE,p,v,c),this.loader.emit(f.FILE_KEY_COMPLETE+v+"-"+p,p,v,c),this.loader.flagForRemoval(this)},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});a.createObjectURL=function(c,p,v){if("function"==typeof URL)c.src=URL.createObjectURL(p);else{var g=new FileReader;g.onload=function(){c.removeAttribute("crossOrigin"),c.src="data:"+(p.type||v)+";base64,"+g.result.split(",")[1]},g.onerror=c.onerror,g.readAsDataURL(p)}},a.revokeObjectURL=function(c){"function"==typeof URL&&URL.revokeObjectURL(c.src)},C.exports=a},function(C,w){var n={},l={};C.exports={register:function(f,h,u,s){void 0===s&&(s=!1),n[f]={plugin:h,mapping:u,custom:s}},registerCustom:function(f,h,u,s){l[f]={plugin:h,mapping:u,data:s}},hasCore:function(f){return n.hasOwnProperty(f)},hasCustom:function(f){return l.hasOwnProperty(f)},getCore:function(f){return n[f]},getCustom:function(f){return l[f]},getCustomClass:function(f){return l.hasOwnProperty(f)?l[f].plugin:null},remove:function(f){n.hasOwnProperty(f)&&delete n[f]},removeCustom:function(f){l.hasOwnProperty(f)&&delete l[f]},destroyCorePlugins:function(){for(var f in n)n.hasOwnProperty(f)&&delete n[f]},destroyCustomPlugins:function(){for(var f in l)l.hasOwnProperty(f)&&delete l[f]}}},function(C,w,n){var l=n(0),m=n(14),f=n(3),h=new l({initialize:function(s,o,d,a,c,p){void 0===s&&(s=1),void 0===o&&(o=0),void 0===d&&(d=0),void 0===a&&(a=1),void 0===c&&(c=0),void 0===p&&(p=0),this.matrix=new Float32Array([s,o,d,a,c,p,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0}},a:{get:function(){return this.matrix[0]},set:function(u){this.matrix[0]=u}},b:{get:function(){return this.matrix[1]},set:function(u){this.matrix[1]=u}},c:{get:function(){return this.matrix[2]},set:function(u){this.matrix[2]=u}},d:{get:function(){return this.matrix[3]},set:function(u){this.matrix[3]=u}},e:{get:function(){return this.matrix[4]},set:function(u){this.matrix[4]=u}},f:{get:function(){return this.matrix[5]},set:function(u){this.matrix[5]=u}},tx:{get:function(){return this.matrix[4]},set:function(u){this.matrix[4]=u}},ty:{get:function(){return this.matrix[5]},set:function(u){this.matrix[5]=u}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var u=this.matrix,s=u[0],o=u[1],d=u[2],a=u[3];return s||o?o>0?Math.acos(s/this.scaleX):-Math.acos(s/this.scaleX):d||a?m.TAU-(a>0?Math.acos(-d/this.scaleY):-Math.acos(d/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var u=this.matrix;return u[0]=1,u[1]=0,u[2]=0,u[3]=1,u[4]=0,u[5]=0,this},translate:function(u,s){var o=this.matrix;return o[4]=o[0]*u+o[2]*s+o[4],o[5]=o[1]*u+o[3]*s+o[5],this},scale:function(u,s){var o=this.matrix;return o[0]*=u,o[1]*=u,o[2]*=s,o[3]*=s,this},rotate:function(u){var s=Math.sin(u),o=Math.cos(u),d=this.matrix,a=d[0],c=d[1],p=d[2],v=d[3];return d[0]=a*o+p*s,d[1]=c*o+v*s,d[2]=a*-s+p*o,d[3]=c*-s+v*o,this},multiply:function(u,s){var o=this.matrix,d=u.matrix,a=o[0],c=o[1],p=o[2],v=o[3],g=o[4],x=o[5],T=d[0],S=d[1],D=d[2],M=d[3],R=d[4],P=d[5],I=void 0===s?this:s;return I.a=T*a+S*p,I.b=T*c+S*v,I.c=D*a+M*p,I.d=D*c+M*v,I.e=R*a+P*p+g,I.f=R*c+P*v+x,I},multiplyWithOffset:function(u,s,o){var d=this.matrix,a=u.matrix,c=d[0],p=d[1],v=d[2],g=d[3],S=s*c+o*v+d[4],D=s*p+o*g+d[5],M=a[0],R=a[1],P=a[2],I=a[3],b=a[4],L=a[5];return d[0]=M*c+R*v,d[1]=M*p+R*g,d[2]=P*c+I*v,d[3]=P*p+I*g,d[4]=b*c+L*v+S,d[5]=b*p+L*g+D,this},transform:function(u,s,o,d,a,c){var p=this.matrix,v=p[0],g=p[1],x=p[2],T=p[3],S=p[4],D=p[5];return p[0]=u*v+s*x,p[1]=u*g+s*T,p[2]=o*v+d*x,p[3]=o*g+d*T,p[4]=a*v+c*x+S,p[5]=a*g+c*T+D,this},transformPoint:function(u,s,o){void 0===o&&(o={x:0,y:0});var d=this.matrix,c=d[1],v=d[3],x=d[5];return o.x=u*d[0]+s*d[2]+d[4],o.y=u*c+s*v+x,o},invert:function(){var u=this.matrix,s=u[0],o=u[1],d=u[2],a=u[3],c=u[4],p=u[5],v=s*a-o*d;return u[0]=a/v,u[1]=-o/v,u[2]=-d/v,u[3]=s/v,u[4]=(d*p-a*c)/v,u[5]=-(s*p-o*c)/v,this},copyFrom:function(u){var s=this.matrix;return s[0]=u.a,s[1]=u.b,s[2]=u.c,s[3]=u.d,s[4]=u.e,s[5]=u.f,this},copyFromArray:function(u){var s=this.matrix;return s[0]=u[0],s[1]=u[1],s[2]=u[2],s[3]=u[3],s[4]=u[4],s[5]=u[5],this},copyToContext:function(u){var s=this.matrix;return u.transform(s[0],s[1],s[2],s[3],s[4],s[5]),u},setToContext:function(u){var s=this.matrix;return u.setTransform(s[0],s[1],s[2],s[3],s[4],s[5]),u},copyToArray:function(u){var s=this.matrix;return void 0===u?u=[s[0],s[1],s[2],s[3],s[4],s[5]]:(u[0]=s[0],u[1]=s[1],u[2]=s[2],u[3]=s[3],u[4]=s[4],u[5]=s[5]),u},setTransform:function(u,s,o,d,a,c){var p=this.matrix;return p[0]=u,p[1]=s,p[2]=o,p[3]=d,p[4]=a,p[5]=c,this},decomposeMatrix:function(){var u=this.decomposedMatrix,s=this.matrix,o=s[0],d=s[1],a=s[2],c=s[3],p=o*c-d*a;if(u.translateX=s[4],u.translateY=s[5],o||d){var v=Math.sqrt(o*o+d*d);u.rotation=d>0?Math.acos(o/v):-Math.acos(o/v),u.scaleX=v,u.scaleY=p/v}else if(a||c){var g=Math.sqrt(a*a+c*c);u.rotation=.5*Math.PI-(c>0?Math.acos(-a/g):-Math.acos(a/g)),u.scaleX=p/g,u.scaleY=g}else u.rotation=0,u.scaleX=0,u.scaleY=0;return u},applyITRS:function(u,s,o,d,a){var c=this.matrix,p=Math.sin(o),v=Math.cos(o);return c[4]=u,c[5]=s,c[0]=v*d,c[1]=p*d,c[2]=-p*a,c[3]=v*a,this},applyInverse:function(u,s,o){void 0===o&&(o=new f);var d=this.matrix,a=d[0],c=d[1],p=d[2],v=d[3],g=d[4],x=d[5],T=1/(a*v+p*-c);return o.x=v*T*u+-p*T*s+(x*p-g*v)*T,o.y=a*T*s+-c*T*u+(-x*a+g*c)*T,o},getX:function(u,s){return u*this.a+s*this.c+this.e},getY:function(u,s){return u*this.b+s*this.d+this.f},getXRound:function(u,s,o){var d=this.getX(u,s);return o&&(d=Math.round(d)),d},getYRound:function(u,s,o){var d=this.getY(u,s);return o&&(d=Math.round(d)),d},getCSSMatrix:function(){var u=this.matrix;return"matrix("+u[0]+","+u[1]+","+u[2]+","+u[3]+","+u[4]+","+u[5]+")"},destroy:function(){this.matrix=null,this.decomposedMatrix=null}});C.exports=h},function(C,w,n){var l=n(2);C.exports=function(f,h,u,s,o,d){void 0===f&&(f=0),void 0===h&&(h=0),void 0===u&&(u=d.width),void 0===s&&(s=d.height),o||(o={});var a=l(o,"isNotEmpty",!1),c=l(o,"isColliding",!1),p=l(o,"hasInterestingFace",!1);f<0&&(u+=f,f=0),h<0&&(s+=h,h=0),f+u>d.width&&(u=Math.max(d.width-f,0)),h+s>d.height&&(s=Math.max(d.height-h,0));for(var v=[],g=h;g<h+s;g++)for(var x=f;x<f+u;x++){var T=d.data[g][x];if(null!==T){if(a&&-1===T.index||c&&!T.collides||p&&!T.hasInterestingFace)continue;v.push(T)}}return v}},function(C,w){C.exports=function(l,m,f,h,u,s){void 0===h&&(h=0),void 0===u&&(u=0),void 0===s&&(s=1);var o,d=0,a=l.length;if(1===s)for(o=u;o<a;o++)l[o][m]=f+d*h,d++;else for(o=u;o>=0;o--)l[o][m]=f+d*h,d++;return l}},function(C,w,n){var l=n(35),m=n(13);C.exports=function(h,u,s){u.x=m(s,"x",0),u.y=m(s,"y",0),u.depth=m(s,"depth",0),u.flipX=m(s,"flipX",!1),u.flipY=m(s,"flipY",!1);var o=m(s,"scale",null);"number"==typeof o?u.setScale(o):null!==o&&(u.scaleX=m(o,"x",1),u.scaleY=m(o,"y",1));var d=m(s,"scrollFactor",null);"number"==typeof d?u.setScrollFactor(d):null!==d&&(u.scrollFactorX=m(d,"x",1),u.scrollFactorY=m(d,"y",1)),u.rotation=m(s,"rotation",0);var a=m(s,"angle",null);null!==a&&(u.angle=a),u.alpha=m(s,"alpha",1);var c=m(s,"origin",null);if("number"==typeof c)u.setOrigin(c);else if(null!==c){var p=m(c,"x",.5),v=m(c,"y",.5);u.setOrigin(p,v)}return u.blendMode=m(s,"blendMode",l.NORMAL),u.visible=m(s,"visible",!0),m(s,"add",!0)&&h.sys.displayList.add(u),u.preUpdate&&h.sys.updateList.add(u),u}},function(C,w){C.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},function(C,w,n){var l=n(19);C.exports=function(f,h,u,s,o){var d=s.alpha*u.alpha;if(d<=0)return!1;var a=l(u,s,o).calc;return h.globalCompositeOperation=f.blendModes[u.blendMode],h.globalAlpha=d,h.save(),a.setToContext(h),h.imageSmoothingEnabled=!(!f.antialias||u.frame&&u.frame.source.scaleMode),!0}},function(C,w,n){var s,d,a,c,p,l=n(33),m=n(192),f=[],h=!1;C.exports=(d=function(T,S,D){return s(T,S,D,l.WEBGL)},c=function(T){var S=T instanceof HTMLCanvasElement;f.forEach(function(D){(S&&D.canvas===T||!S&&D.parent===T)&&(D.parent=null,D.canvas.width=1,D.canvas.height=1)})},p=function(){var T=0;return f.forEach(function(S){S.parent&&T++}),T},{create2D:function(T,S,D){return s(T,S,D,l.CANVAS)},create:s=function(T,S,D,M,R){void 0===S&&(S=1),void 0===D&&(D=1),void 0===M&&(M=l.CANVAS),void 0===R&&(R=!1);var P,I=a(M);return null===I?(I={parent:T,canvas:document.createElement("canvas"),type:M},M===l.CANVAS&&f.push(I),P=I.canvas):(I.parent=T,P=I.canvas),R&&(I.parent=P),P.width=S,P.height=D,h&&M===l.CANVAS&&m.disable(P.getContext("2d")),P},createWebGL:d,disableSmoothing:function(){h=!0},enableSmoothing:function(){h=!1},first:a=function(T){if(void 0===T&&(T=l.CANVAS),T===l.WEBGL)return null;for(var S=0;S<f.length;S++){var D=f[S];if(!D.parent&&D.type===T)return D}return null},free:function(){return f.length-p()},pool:f,remove:c,total:p})},function(C,w){var n={};C.exports=n,function(){n._nextId=0,n._seed=0,n._nowStartTime=+new Date,n.extend=function(m,f){var h,s;"boolean"==typeof f?(h=2,s=f):(h=1,s=!0);for(var o=h;o<arguments.length;o++){var d=arguments[o];if(d)for(var a in d)!s||!d[a]||d[a].constructor!==Object||m[a]&&m[a].constructor!==Object?m[a]=d[a]:(m[a]=m[a]||{},n.extend(m[a],s,d[a]))}return m},n.clone=function(m,f){return n.extend({},f,m)},n.keys=function(m){if(Object.keys)return Object.keys(m);var f=[];for(var h in m)f.push(h);return f},n.values=function(m){var f=[];if(Object.keys){for(var h=Object.keys(m),u=0;u<h.length;u++)f.push(m[h[u]]);return f}for(var s in m)f.push(m[s]);return f},n.get=function(m,f,h,u){f=f.split(".").slice(h,u);for(var s=0;s<f.length;s+=1)m=m[f[s]];return m},n.set=function(m,f,h,u,s){var o=f.split(".").slice(u,s);return n.get(m,f,0,-1)[o[o.length-1]]=h,h},n.shuffle=function(m){for(var f=m.length-1;f>0;f--){var h=Math.floor(n.random()*(f+1)),u=m[f];m[f]=m[h],m[h]=u}return m},n.choose=function(m){return m[Math.floor(n.random()*m.length)]},n.isElement=function(m){return"undefined"!=typeof HTMLElement?m instanceof HTMLElement:!!(m&&m.nodeType&&m.nodeName)},n.isArray=function(m){return"[object Array]"===Object.prototype.toString.call(m)},n.isFunction=function(m){return"function"==typeof m},n.isPlainObject=function(m){return"object"==typeof m&&m.constructor===Object},n.isString=function(m){return"[object String]"===Object.prototype.toString.call(m)},n.clamp=function(m,f,h){return m<f?f:m>h?h:m},n.sign=function(m){return m<0?-1:1},n.now=function(){if("undefined"!=typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-n._nowStartTime},n.random=function(m,f){return f=void 0!==f?f:1,(m=void 0!==m?m:0)+l()*(f-m)};var l=function(){return n._seed=(9301*n._seed+49297)%233280,n._seed/233280};n.colorToNumber=function(m){return 3==(m=m.replace("#","")).length&&(m=m.charAt(0)+m.charAt(0)+m.charAt(1)+m.charAt(1)+m.charAt(2)+m.charAt(2)),parseInt(m,16)},n.logLevel=1,n.log=function(){console&&n.logLevel>0&&n.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.info=function(){console&&n.logLevel>0&&n.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.warn=function(){console&&n.logLevel>0&&n.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.nextId=function(){return n._nextId++},n.indexOf=function(m,f){if(m.indexOf)return m.indexOf(f);for(var h=0;h<m.length;h++)if(m[h]===f)return h;return-1},n.map=function(m,f){if(m.map)return m.map(f);for(var h=[],u=0;u<m.length;u+=1)h.push(f(m[u]));return h},n.topologicalSort=function(m){var f=[],h=[],u=[];for(var s in m)!h[s]&&!u[s]&&n._topologicalSort(s,h,u,m,f);return f},n._topologicalSort=function(m,f,h,u,s){var o=u[m]||[];h[m]=!0;for(var d=0;d<o.length;d+=1){var a=o[d];h[a]||f[a]||n._topologicalSort(a,f,h,u,s)}h[m]=!1,f[m]=!0,s.push(m)},n.chain=function(){for(var m=[],f=0;f<arguments.length;f+=1){var h=arguments[f];h._chained?m.push.apply(m,h._chained):m.push(h)}var u=function(){for(var s,o=new Array(arguments.length),d=0,a=arguments.length;d<a;d++)o[d]=arguments[d];for(d=0;d<m.length;d+=1){var c=m[d].apply(s,o);void 0!==c&&(s=c)}return s};return u._chained=m,u},n.chainPathBefore=function(m,f,h){return n.set(m,f,n.chain(h,n.get(m,f)))},n.chainPathAfter=function(m,f,h){return n.set(m,f,n.chain(n.get(m,f),h))}}()},function(C,w,n){var l={VERSION:"3.55.2",BlendModes:n(35),ScaleModes:n(168),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};C.exports=l},function(C,w,n){var l=n(0),m=n(11),f=n(15),h=n(47),u=new l({Extends:f,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.ScrollFactor,m.Transform,m.Visible],initialize:function(o,d,a){void 0===d&&(d="Shape"),f.call(this,o,d),this.geom=a,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new h,this.width=0,this.height=0,this.initPipeline()},setFillStyle:function(s,o){return void 0===o&&(o=1),void 0===s?this.isFilled=!1:(this.fillColor=s,this.fillAlpha=o,this.isFilled=!0),this},setStrokeStyle:function(s,o,d){return void 0===d&&(d=1),void 0===s?this.isStroked=!1:(this.lineWidth=s,this.strokeColor=o,this.strokeAlpha=d,this.isStroked=!0),this},setClosePath:function(s){return this.closePath=s,this},setSize:function(s,o){return this.width=s,this.height=o,this},setDisplaySize:function(s,o){return this.displayWidth=s,this.displayHeight=o,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(s){this.scaleX=s/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(s){this.scaleY=s/this.height}}});C.exports=u},function(C,w){C.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},function(C,w,n){var l=n(14);C.exports=function(f){return f*l.DEG_TO_RAD}},function(C,w,n){C.exports={DESTROY:n(743),FADE_IN_COMPLETE:n(744),FADE_IN_START:n(745),FADE_OUT_COMPLETE:n(746),FADE_OUT_START:n(747),FLASH_COMPLETE:n(748),FLASH_START:n(749),FOLLOW_UPDATE:n(750),PAN_COMPLETE:n(751),PAN_START:n(752),POST_RENDER:n(753),PRE_RENDER:n(754),ROTATE_COMPLETE:n(755),ROTATE_START:n(756),SHAKE_COMPLETE:n(757),SHAKE_START:n(758),ZOOM_COMPLETE:n(759),ZOOM_START:n(760)}},function(C,w,n){var l=n(0),m=n(103),f=n(328),h=n(188),u=n(329),s=new l({initialize:function(d,a,c,p){void 0===d&&(d=0),void 0===a&&(a=0),void 0===c&&(c=0),void 0===p&&(p=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(d,a,c,p)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(o,d,a,c,p){return void 0===c&&(c=255),void 0===p&&(p=!0),this._locked=!0,this.red=o,this.green=d,this.blue=a,this.alpha=c,this._locked=!1,this.update(p)},setGLTo:function(o,d,a,c){return void 0===c&&(c=1),this._locked=!0,this.redGL=o,this.greenGL=d,this.blueGL=a,this.alphaGL=c,this._locked=!1,this.update(!0)},setFromRGB:function(o){return this._locked=!0,this.red=o.r,this.green=o.g,this.blue=o.b,o.hasOwnProperty("a")&&(this.alpha=o.a),this._locked=!1,this.update(!0)},setFromHSV:function(o,d,a){return h(o,d,a,this)},update:function(o){if(void 0===o&&(o=!1),this._locked)return this;var d=this.r,a=this.g,c=this.b,p=this.a;return this._color=m(d,a,c),this._color32=f(d,a,c,p),this._rgba="rgba("+d+","+a+","+c+","+p/255+")",o&&u(d,a,c,this),this},updateHSV:function(){return u(this.r,this.g,this.b,this),this},clone:function(){return new s(this.r,this.g,this.b,this.a)},gray:function(o){return this.setTo(o,o,o)},random:function(o,d){void 0===o&&(o=0),void 0===d&&(d=255);var a=Math.floor(o+Math.random()*(d-o)),c=Math.floor(o+Math.random()*(d-o)),p=Math.floor(o+Math.random()*(d-o));return this.setTo(a,c,p)},randomGray:function(o,d){void 0===o&&(o=0),void 0===d&&(d=255);var a=Math.floor(o+Math.random()*(d-o));return this.setTo(a,a,a)},saturate:function(o){return this.s+=o/100,this},desaturate:function(o){return this.s-=o/100,this},lighten:function(o){return this.v+=o/100,this},darken:function(o){return this.v-=o/100,this},brighten:function(o){var d=this.r,a=this.g,c=this.b;return d=Math.max(0,Math.min(255,d-Math.round(-o/100*255))),a=Math.max(0,Math.min(255,a-Math.round(-o/100*255))),c=Math.max(0,Math.min(255,c-Math.round(-o/100*255))),this.setTo(d,a,c)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(o){this.gl[0]=Math.min(Math.abs(o),1),this.r=Math.floor(255*this.gl[0]),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(o){this.gl[1]=Math.min(Math.abs(o),1),this.g=Math.floor(255*this.gl[1]),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(o){this.gl[2]=Math.min(Math.abs(o),1),this.b=Math.floor(255*this.gl[2]),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(o){this.gl[3]=Math.min(Math.abs(o),1),this.a=Math.floor(255*this.gl[3]),this.update()}},red:{get:function(){return this.r},set:function(o){o=Math.floor(Math.abs(o)),this.r=Math.min(o,255),this.gl[0]=o/255,this.update(!0)}},green:{get:function(){return this.g},set:function(o){o=Math.floor(Math.abs(o)),this.g=Math.min(o,255),this.gl[1]=o/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(o){o=Math.floor(Math.abs(o)),this.b=Math.min(o,255),this.gl[2]=o/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(o){o=Math.floor(Math.abs(o)),this.a=Math.min(o,255),this.gl[3]=o/255,this.update()}},h:{get:function(){return this._h},set:function(o){this._h=o,h(o,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(o){this._s=o,h(this._h,o,this._v,this)}},v:{get:function(){return this._v},set:function(o){this._v=o,h(this._h,this._s,o,this)}}});C.exports=s},function(C,w,n){var m=new(n(0))({initialize:function(h,u,s){this.x=0,this.y=0,this.z=0,"object"==typeof h?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0):(this.x=h||0,this.y=u||0,this.z=s||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(f){return this.x=Math.min(this.x,f.x),this.y=Math.min(this.y,f.y),this.z=Math.min(this.z,f.z),this},max:function(f){return this.x=Math.max(this.x,f.x),this.y=Math.max(this.y,f.y),this.z=Math.max(this.z,f.z),this},clone:function(){return new m(this.x,this.y,this.z)},addVectors:function(f,h){return this.x=f.x+h.x,this.y=f.y+h.y,this.z=f.z+h.z,this},crossVectors:function(f,h){var u=f.x,s=f.y,o=f.z,d=h.x,a=h.y,c=h.z;return this.x=s*c-o*a,this.y=o*d-u*c,this.z=u*a-s*d,this},equals:function(f){return this.x===f.x&&this.y===f.y&&this.z===f.z},copy:function(f){return this.x=f.x,this.y=f.y,this.z=f.z||0,this},set:function(f,h,u){return"object"==typeof f?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0):(this.x=f||0,this.y=h||0,this.z=u||0),this},setFromMatrixPosition:function(f){return this.fromArray(f.val,12)},setFromMatrixColumn:function(f,h){return this.fromArray(f.val,4*h)},fromArray:function(f,h){return void 0===h&&(h=0),this.x=f[h],this.y=f[h+1],this.z=f[h+2],this},add:function(f){return this.x+=f.x,this.y+=f.y,this.z+=f.z||0,this},addScalar:function(f){return this.x+=f,this.y+=f,this.z+=f,this},addScale:function(f,h){return this.x+=f.x*h,this.y+=f.y*h,this.z+=f.z*h||0,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this.z-=f.z||0,this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this.z*=f.z||1,this},scale:function(f){return isFinite(f)?(this.x*=f,this.y*=f,this.z*=f):(this.x=0,this.y=0,this.z=0),this},divide:function(f){return this.x/=f.x,this.y/=f.y,this.z/=f.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(f){var h=f.x-this.x,u=f.y-this.y,s=f.z-this.z||0;return Math.sqrt(h*h+u*u+s*s)},distanceSq:function(f){var h=f.x-this.x,u=f.y-this.y,s=f.z-this.z||0;return h*h+u*u+s*s},length:function(){var f=this.x,h=this.y,u=this.z;return Math.sqrt(f*f+h*h+u*u)},lengthSq:function(){var f=this.x,h=this.y,u=this.z;return f*f+h*h+u*u},normalize:function(){var f=this.x,h=this.y,u=this.z,s=f*f+h*h+u*u;return s>0&&(s=1/Math.sqrt(s),this.x=f*s,this.y=h*s,this.z=u*s),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z},cross:function(f){var h=this.x,u=this.y,s=this.z,o=f.x,d=f.y,a=f.z;return this.x=u*a-s*d,this.y=s*o-h*a,this.z=h*d-u*o,this},lerp:function(f,h){void 0===h&&(h=0);var u=this.x,s=this.y,o=this.z;return this.x=u+h*(f.x-u),this.y=s+h*(f.y-s),this.z=o+h*(f.z-o),this},applyMatrix3:function(f){var h=this.x,u=this.y,s=this.z,o=f.val;return this.x=o[0]*h+o[3]*u+o[6]*s,this.y=o[1]*h+o[4]*u+o[7]*s,this.z=o[2]*h+o[5]*u+o[8]*s,this},applyMatrix4:function(f){var h=this.x,u=this.y,s=this.z,o=f.val,d=1/(o[3]*h+o[7]*u+o[11]*s+o[15]);return this.x=(o[0]*h+o[4]*u+o[8]*s+o[12])*d,this.y=(o[1]*h+o[5]*u+o[9]*s+o[13])*d,this.z=(o[2]*h+o[6]*u+o[10]*s+o[14])*d,this},transformMat3:function(f){var h=this.x,u=this.y,s=this.z,o=f.val;return this.x=h*o[0]+u*o[3]+s*o[6],this.y=h*o[1]+u*o[4]+s*o[7],this.z=h*o[2]+u*o[5]+s*o[8],this},transformMat4:function(f){var h=this.x,u=this.y,s=this.z,o=f.val;return this.x=o[0]*h+o[4]*u+o[8]*s+o[12],this.y=o[1]*h+o[5]*u+o[9]*s+o[13],this.z=o[2]*h+o[6]*u+o[10]*s+o[14],this},transformCoordinates:function(f){var h=this.x,u=this.y,s=this.z,o=f.val,a=h*o[1]+u*o[5]+s*o[9]+o[13],c=h*o[2]+u*o[6]+s*o[10]+o[14],p=h*o[3]+u*o[7]+s*o[11]+o[15];return this.x=(h*o[0]+u*o[4]+s*o[8]+o[12])/p,this.y=a/p,this.z=c/p,this},transformQuat:function(f){var h=this.x,u=this.y,s=this.z,o=f.x,d=f.y,a=f.z,c=f.w,p=c*h+d*s-a*u,v=c*u+a*h-o*s,g=c*s+o*u-d*h,x=-o*h-d*u-a*s;return this.x=p*c+x*-o+v*-a-g*-d,this.y=v*c+x*-d+g*-o-p*-a,this.z=g*c+x*-a+p*-d-v*-o,this},project:function(f){var h=this.x,u=this.y,s=this.z,o=f.val,a=o[1],c=o[2],g=o[5],x=o[6],D=o[9],M=o[10],I=o[13],b=o[14],B=1/(h*o[3]+u*o[7]+s*o[11]+o[15]);return this.x=(h*o[0]+u*o[4]+s*o[8]+o[12])*B,this.y=(h*a+u*g+s*D+I)*B,this.z=(h*c+u*x+s*M+b)*B,this},projectViewMatrix:function(f,h){return this.applyMatrix4(f).applyMatrix4(h)},unprojectViewMatrix:function(f,h){return this.applyMatrix4(f).applyMatrix4(h)},unproject:function(f,h){var d=f.w,c=d-this.y-1-f.y,p=this.z;return this.x=2*(this.x-f.x)/f.z-1,this.y=2*c/d-1,this.z=2*p-1,this.project(h)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});m.ZERO=new m,m.RIGHT=new m(1,0,0),m.LEFT=new m(-1,0,0),m.UP=new m(0,-1,0),m.DOWN=new m(0,1,0),m.FORWARD=new m(0,0,1),m.BACK=new m(0,0,-1),m.ONE=new m(1,1,1),C.exports=m},function(C,w){C.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},function(C,w,n){var l={};C.exports=l;var m=n(64),f=n(83),h=n(165),u=n(32),s=n(84),o=n(271);!function(){l._inertiaScale=4,l._nextCollidingGroupId=1,l._nextNonCollidingGroupId=-1,l._nextCategory=1,l.create=function(a){var c={id:u.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},previousPositionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!a.hasOwnProperty("position")&&a.hasOwnProperty("vertices")?a.position=m.centre(a.vertices):a.hasOwnProperty("vertices")||(c.vertices=m.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var p=u.extend(c,a);return d(p,a),p.setOnCollideWith=function(v,g){return g?this.onCollideWith[v.id]=g:delete this.onCollideWith[v.id],this},p},l.nextGroup=function(a){return a?l._nextNonCollidingGroupId--:l._nextCollidingGroupId++},l.nextCategory=function(){return l._nextCategory=l._nextCategory<<1,l._nextCategory};var d=function(a,c){c=c||{},l.set(a,{bounds:a.bounds||s.create(a.vertices),positionPrev:a.positionPrev||f.clone(a.position),anglePrev:a.anglePrev||a.angle,vertices:a.vertices,parts:a.parts||[a],isStatic:a.isStatic,isSleeping:a.isSleeping,parent:a.parent||a});var p=a.bounds;if(m.rotate(a.vertices,a.angle,a.position),o.rotate(a.axes,a.angle),s.update(p,a.vertices,a.velocity),l.set(a,{axes:c.axes||a.axes,area:c.area||a.area,mass:c.mass||a.mass,inertia:c.inertia||a.inertia}),1===a.parts.length){var v=a.centerOfMass,g=a.centerOffset,x=p.max.x-p.min.x,T=p.max.y-p.min.y;v.x=-(p.min.x-a.position.x)/x,v.y=-(p.min.y-a.position.y)/T,g.x=x*v.x,g.y=T*v.y}};l.set=function(a,c,p){var v;for(v in"string"==typeof c&&(v=c,(c={})[v]=p),c)if(Object.prototype.hasOwnProperty.call(c,v))switch(p=c[v],v){case"isStatic":l.setStatic(a,p);break;case"isSleeping":h.set(a,p);break;case"mass":l.setMass(a,p);break;case"density":l.setDensity(a,p);break;case"inertia":l.setInertia(a,p);break;case"vertices":l.setVertices(a,p);break;case"position":l.setPosition(a,p);break;case"angle":l.setAngle(a,p);break;case"velocity":l.setVelocity(a,p);break;case"angularVelocity":l.setAngularVelocity(a,p);break;case"parts":l.setParts(a,p);break;case"centre":l.setCentre(a,p);break;default:a[v]=p}},l.setStatic=function(a,c){for(var p=0;p<a.parts.length;p++){var v=a.parts[p];v.isStatic=c,c?(v._original={restitution:v.restitution,friction:v.friction,mass:v.mass,inertia:v.inertia,density:v.density,inverseMass:v.inverseMass,inverseInertia:v.inverseInertia},v.restitution=0,v.friction=1,v.mass=v.inertia=v.density=1/0,v.inverseMass=v.inverseInertia=0,v.positionPrev.x=v.position.x,v.positionPrev.y=v.position.y,v.anglePrev=v.angle,v.angularVelocity=0,v.speed=0,v.angularSpeed=0,v.motion=0):v._original&&(v.restitution=v._original.restitution,v.friction=v._original.friction,v.mass=v._original.mass,v.inertia=v._original.inertia,v.density=v._original.density,v.inverseMass=v._original.inverseMass,v.inverseInertia=v._original.inverseInertia,v._original=null)}},l.setMass=function(a,c){a.inertia=a.inertia/(a.mass/6)*(c/6),a.inverseInertia=1/a.inertia,a.mass=c,a.inverseMass=1/a.mass,a.density=a.mass/a.area},l.setDensity=function(a,c){l.setMass(a,c*a.area),a.density=c},l.setInertia=function(a,c){a.inertia=c,a.inverseInertia=1/a.inertia},l.setVertices=function(a,c){a.vertices=c[0].body===a?c:m.create(c,a),a.axes=o.fromVertices(a.vertices),a.area=m.area(a.vertices),l.setMass(a,a.density*a.area);var p=m.centre(a.vertices);m.translate(a.vertices,p,-1),l.setInertia(a,l._inertiaScale*m.inertia(a.vertices,a.mass)),m.translate(a.vertices,a.position),s.update(a.bounds,a.vertices,a.velocity)},l.setParts=function(a,c,p){var v;for(c=c.slice(0),a.parts.length=0,a.parts.push(a),a.parent=a,v=0;v<c.length;v++){var g=c[v];g!==a&&(g.parent=a,a.parts.push(g))}if(1!==a.parts.length){if(p=void 0===p||p){var x=[];for(v=0;v<c.length;v++)x=x.concat(c[v].vertices);m.clockwiseSort(x);var T=m.hull(x),S=m.centre(T);l.setVertices(a,T),m.translate(a.vertices,S)}var D=l._totalProperties(a),M=D.centre.x,R=D.centre.y,P=a.bounds,I=a.centerOfMass,b=a.centerOffset;s.update(P,a.vertices,a.velocity),I.x=-(P.min.x-M)/(P.max.x-P.min.x),I.y=-(P.min.y-R)/(P.max.y-P.min.y),b.x=M,b.y=R,a.area=D.area,a.parent=a,a.position.x=M,a.position.y=R,a.positionPrev.x=M,a.positionPrev.y=R,l.setMass(a,D.mass),l.setInertia(a,D.inertia),l.setPosition(a,D.centre)}},l.setCentre=function(a,c,p){p?(a.positionPrev.x+=c.x,a.positionPrev.y+=c.y,a.position.x+=c.x,a.position.y+=c.y):(a.positionPrev.x=c.x-(a.position.x-a.positionPrev.x),a.positionPrev.y=c.y-(a.position.y-a.positionPrev.y),a.position.x=c.x,a.position.y=c.y)},l.setPosition=function(a,c){var p=f.sub(c,a.position);a.positionPrev.x+=p.x,a.positionPrev.y+=p.y;for(var v=0;v<a.parts.length;v++){var g=a.parts[v];g.position.x+=p.x,g.position.y+=p.y,m.translate(g.vertices,p),s.update(g.bounds,g.vertices,a.velocity)}},l.setAngle=function(a,c){var p=c-a.angle;a.anglePrev+=p;for(var v=0;v<a.parts.length;v++){var g=a.parts[v];g.angle+=p,m.rotate(g.vertices,p,a.position),o.rotate(g.axes,p),s.update(g.bounds,g.vertices,a.velocity),v>0&&f.rotateAbout(g.position,p,a.position,g.position)}},l.setVelocity=function(a,c){a.positionPrev.x=a.position.x-c.x,a.positionPrev.y=a.position.y-c.y,a.velocity.x=c.x,a.velocity.y=c.y,a.speed=f.magnitude(a.velocity)},l.setAngularVelocity=function(a,c){a.anglePrev=a.angle-c,a.angularVelocity=c,a.angularSpeed=Math.abs(a.angularVelocity)},l.translate=function(a,c){l.setPosition(a,f.add(a.position,c))},l.rotate=function(a,c,p){if(p){var v=Math.cos(c),g=Math.sin(c),x=a.position.x-p.x,T=a.position.y-p.y;l.setPosition(a,{x:p.x+(x*v-T*g),y:p.y+(x*g+T*v)}),l.setAngle(a,a.angle+c)}else l.setAngle(a,a.angle+c)},l.scale=function(a,c,p,v){var g=0,x=0;v=v||a.position;for(var T=0;T<a.parts.length;T++){var S=a.parts[T];S.scale.x=c,S.scale.y=p,m.scale(S.vertices,c,p,v),S.axes=o.fromVertices(S.vertices),S.area=m.area(S.vertices),l.setMass(S,a.density*S.area),m.translate(S.vertices,{x:-S.position.x,y:-S.position.y}),l.setInertia(S,l._inertiaScale*m.inertia(S.vertices,S.mass)),m.translate(S.vertices,{x:S.position.x,y:S.position.y}),T>0&&(g+=S.area,x+=S.inertia),S.position.x=v.x+(S.position.x-v.x)*c,S.position.y=v.y+(S.position.y-v.y)*p,s.update(S.bounds,S.vertices,a.velocity)}a.parts.length>1&&(a.area=g,a.isStatic||(l.setMass(a,a.density*g),l.setInertia(a,x))),a.circleRadius&&(c===p?a.circleRadius*=c:a.circleRadius=null)},l.update=function(a,c,p,v){var g=Math.pow(c*p*a.timeScale,2),x=1-a.frictionAir*p*a.timeScale,S=a.position.y-a.positionPrev.y;a.velocity.x=(a.position.x-a.positionPrev.x)*x*v+a.force.x/a.mass*g,a.velocity.y=S*x*v+a.force.y/a.mass*g,a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.position.x+=a.velocity.x,a.position.y+=a.velocity.y,a.angularVelocity=(a.angle-a.anglePrev)*x*v+a.torque/a.inertia*g,a.anglePrev=a.angle,a.angle+=a.angularVelocity,a.speed=f.magnitude(a.velocity),a.angularSpeed=Math.abs(a.angularVelocity);for(var D=0;D<a.parts.length;D++){var M=a.parts[D];m.translate(M.vertices,a.velocity),D>0&&(M.position.x+=a.velocity.x,M.position.y+=a.velocity.y),0!==a.angularVelocity&&(m.rotate(M.vertices,a.angularVelocity,a.position),o.rotate(M.axes,a.angularVelocity),D>0&&f.rotateAbout(M.position,a.angularVelocity,a.position,M.position)),s.update(M.bounds,M.vertices,a.velocity)}},l.applyForce=function(a,c,p){a.force.x+=p.x,a.force.y+=p.y,a.torque+=(c.x-a.position.x)*p.y-(c.y-a.position.y)*p.x},l._totalProperties=function(a){for(var c={mass:0,area:0,inertia:0,centre:{x:0,y:0}},p=1===a.parts.length?0:1;p<a.parts.length;p++){var v=a.parts[p],g=v.mass!==1/0?v.mass:1;c.mass+=g,c.area+=v.area,c.inertia+=v.inertia,c.centre=f.add(c.centre,f.mult(v.position,g))}return c.centre=f.div(c.centre,c.mass),c}}()},function(C,w){C.exports=function(l){return l.y+l.height-l.height*l.originY}},function(C,w){C.exports=function(l){return l.x-l.width*l.originX}},function(C,w){C.exports=function(l){return l.x+l.width-l.width*l.originX}},function(C,w){C.exports=function(l){return l.y-l.height*l.originY}},function(C,w){C.exports=function(l,m,f,h,u,s){void 0===h&&(h=0),void 0===u&&(u=0),void 0===s&&(s=1);var o,d=0,a=l.length;if(1===s)for(o=u;o<a;o++)l[o][m]+=f+d*h,d++;else for(o=u;o>=0;o--)l[o][m]+=f+d*h,d++;return l}},function(C,w,n){var l=n(0),m=n(307),f=n(172),h=n(56),u=n(173),s=n(3),o=new l({initialize:function(a,c,p,v){void 0===a&&(a=0),void 0===c&&(c=0),void 0===p&&(p=0),void 0===v&&(v=0),this.type=h.LINE,this.x1=a,this.y1=c,this.x2=p,this.y2=v},getPoint:function(d,a){return m(this,d,a)},getPoints:function(d,a,c){return f(this,d,a,c)},getRandomPoint:function(d){return u(this,d)},setTo:function(d,a,c,p){return void 0===d&&(d=0),void 0===a&&(a=0),void 0===c&&(c=0),void 0===p&&(p=0),this.x1=d,this.y1=a,this.x2=c,this.y2=p,this},getPointA:function(d){return void 0===d&&(d=new s),d.set(this.x1,this.y1),d},getPointB:function(d){return void 0===d&&(d=new s),d.set(this.x2,this.y2),d},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(d){this.x1<=this.x2?this.x1=d:this.x2=d}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(d){this.x1>this.x2?this.x1=d:this.x2=d}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(d){this.y1<=this.y2?this.y1=d:this.y2=d}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(d){this.y1>this.y2?this.y1=d:this.y2=d}}});C.exports=o},function(C,w){C.exports=function(l,m,f,h){var u=f||m.fillColor;l.fillStyle="rgba("+((16711680&u)>>>16)+","+((65280&u)>>>8)+","+(255&u)+","+(h||m.fillAlpha)+")"}},function(C,w,n){var m=new(n(0))({initialize:function(h,u,s,o){var d=[];o.forEach(function(c){c&&d.push(c)}),this.loader=h,this.type=u,this.key=s,this.multiKeyIndex=h.multiKeyIndex++,this.files=d,this.complete=!1,this.pending=d.length,this.failed=0,this.config={},this.baseURL=h.baseURL,this.path=h.path,this.prefix=h.prefix;for(var a=0;a<d.length;a++)d[a].multiFile=this},isReadyToProcess:function(){return 0===this.pending&&0===this.failed&&!this.complete},addToMultiFile:function(f){return this.files.push(f),f.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(f){-1!==this.files.indexOf(f)&&this.pending--},onFileFailed:function(f){-1!==this.files.indexOf(f)&&this.failed++}});C.exports=m},function(C,w){C.exports=function(l,m,f,h){var u=l-f,s=m-h;return Math.sqrt(u*u+s*s)}},function(C,w,n){C.exports={BOOT:n(922),DESTROY:n(923),DRAG_END:n(924),DRAG_ENTER:n(925),DRAG:n(926),DRAG_LEAVE:n(927),DRAG_OVER:n(928),DRAG_START:n(929),DROP:n(930),GAME_OUT:n(931),GAME_OVER:n(932),GAMEOBJECT_DOWN:n(933),GAMEOBJECT_DRAG_END:n(934),GAMEOBJECT_DRAG_ENTER:n(935),GAMEOBJECT_DRAG:n(936),GAMEOBJECT_DRAG_LEAVE:n(937),GAMEOBJECT_DRAG_OVER:n(938),GAMEOBJECT_DRAG_START:n(939),GAMEOBJECT_DROP:n(940),GAMEOBJECT_MOVE:n(941),GAMEOBJECT_OUT:n(942),GAMEOBJECT_OVER:n(943),GAMEOBJECT_POINTER_DOWN:n(944),GAMEOBJECT_POINTER_MOVE:n(945),GAMEOBJECT_POINTER_OUT:n(946),GAMEOBJECT_POINTER_OVER:n(947),GAMEOBJECT_POINTER_UP:n(948),GAMEOBJECT_POINTER_WHEEL:n(949),GAMEOBJECT_UP:n(950),GAMEOBJECT_WHEEL:n(951),MANAGER_BOOT:n(952),MANAGER_PROCESS:n(953),MANAGER_UPDATE:n(954),POINTER_DOWN:n(955),POINTER_DOWN_OUTSIDE:n(956),POINTER_MOVE:n(957),POINTER_OUT:n(958),POINTER_OVER:n(959),POINTER_UP:n(960),POINTER_UP_OUTSIDE:n(961),POINTER_WHEEL:n(962),POINTERLOCK_CHANGE:n(963),PRE_UPDATE:n(964),SHUTDOWN:n(965),START:n(966),UPDATE:n(967)}},function(C,w){C.exports=function(l,m){return l.y=m+l.height*l.originY,l}},function(C,w){C.exports=function(l,m){return l.x=m+l.width*l.originX,l}},function(C,w){C.exports=function(l,m){return l.x=m-l.width+l.width*l.originX,l}},function(C,w){C.exports=function(l,m){return l.y=m-l.height+l.height*l.originY,l}},function(C,w){C.exports={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6}},function(C,w){C.exports=function(l,m,f){return!(l.width<=0||l.height<=0)&&l.x<=m&&l.x+l.width>=m&&l.y<=f&&l.y+l.height>=f}},function(C,w,n){var l=n(0),m=n(175),f=n(9),h=n(374),u=n(2),s=n(69),o=n(91),d=n(141),a=n(12),c=n(375),p=new l({Extends:f,initialize:function(g){f.call(this);var x=g.game,T=x.renderer,S=T.gl;this.name=u(g,"name","WebGLPipeline"),this.game=x,this.renderer=T,this.gl=S,this.view=x.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.topology=u(g,"topology",S.TRIANGLES),this.active=!0,this.currentUnit=0,this.forceZero=u(g,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.renderTargets=[],this.shaders=[],this.projectionWidth=0,this.projectionHeight=0,this.config=g,this.glReset=!1},boot:function(){var v,g=this.gl,x=this.config,T=this.renderer;this.isPostFX||(this.projectionMatrix=(new s).identity());var S=this.renderTargets,D=u(x,"renderTarget",!1);"boolean"==typeof D&&D&&(D=1);var M=T.width,R=T.height;if("number"==typeof D)for(v=0;v<D;v++)S.push(new d(T,M,R,1,0,!0));else if(Array.isArray(D))for(v=0;v<D.length;v++){var P=u(D[v],"scale",1),I=u(D[v],"minFilter",0),b=u(D[v],"autoClear",1);S.push(new d(T,M,R,P,I,b))}S.length&&(this.currentRenderTarget=S[0]),this.setShadersFromConfig(x);var L=this.shaders,B=0;for(v=0;v<L.length;v++)L[v].vertexSize>B&&(B=L[v].vertexSize);var V=u(x,"batchSize",T.config.batchSize);this.vertexCapacity=6*V;var z=new ArrayBuffer(this.vertexCapacity*B);this.vertexData=z,this.bytes=new Uint8Array(z),this.vertexViewF32=new Float32Array(z),this.vertexViewU32=new Uint32Array(z);var W=u(x,"vertices",null);for(W?(this.vertexViewF32.set(W),this.vertexBuffer=T.createVertexBuffer(z,g.STATIC_DRAW)):this.vertexBuffer=T.createVertexBuffer(z.byteLength,g.DYNAMIC_DRAW),this.setVertexBuffer(),v=L.length-1;v>=0;v--)L[v].rebind();this.hasBooted=!0,T.on(o.RESIZE,this.resize,this),T.on(o.PRE_RENDER,this.onPreRender,this),T.on(o.RENDER,this.onRender,this),T.on(o.POST_RENDER,this.onPostRender,this),this.emit(h.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(v,g){var x=this.renderer;return v===this.currentShader&&x.currentProgram===this.currentShader.program||(this.flush(),x.resetTextures(),this.setVertexBuffer()&&!g&&(g=!0),v.bind(g,!1),this.currentShader=v),this},getShaderByName:function(v){for(var g=this.shaders,x=0;x<g.length;x++)if(g[x].name===v)return g[x]},setShadersFromConfig:function(v){var g,x=this.shaders,T=this.renderer;for(g=0;g<x.length;g++)x[g].destroy();var S="vertShader",D="fragShader",M="attributes",R=u(v,S,null),P=a.parseFragmentShaderMaxTextures(u(v,D,null),T.maxTextures),I=u(v,M,null),b=u(v,"shaders",[]),L=b.length;if(0===L)R&&P&&(this.shaders=[new c(this,"default",R,P,m(I))]);else{var B=[];for(g=0;g<L;g++){var V=b[g],z=u(V,"name","default"),W=u(V,S,R),K=a.parseFragmentShaderMaxTextures(u(V,D,P),T.maxTextures),J=u(V,M,I);W&&K&&B.push(new c(this,z,W,K,m(J)))}this.shaders=B}return 0===this.shaders.length?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},setGameObject:function(v,g){return void 0===g&&(g=v.frame),this.currentUnit=this.renderer.setTextureSource(g.source),this.currentUnit},shouldFlush:function(v){return void 0===v&&(v=0),this.vertexCount+v>this.vertexCapacity},resize:function(v,g){(v!==this.width||g!==this.height)&&this.flush(),this.width=v,this.height=g;for(var x=this.renderTargets,T=0;T<x.length;T++)x[T].resize(v,g);return this.setProjectionMatrix(v,g),this.emit(h.RESIZE,v,g,this),this.onResize(v,g),this},setProjectionMatrix:function(v,g){var x=this.projectionMatrix;if(!x)return this;this.projectionWidth=v,this.projectionHeight=g,x.ortho(0,v,g,0,-1e3,1e3);for(var T=this.shaders,S="uProjectionMatrix",D=0;D<T.length;D++){var M=T[D];M.hasUniform(S)&&(M.resetUniform(S),M.setMatrix4fv(S,!1,x.val,M))}return this},updateProjectionMatrix:function(){if(this.projectionMatrix){var v=this.renderer.projectionWidth,g=this.renderer.projectionHeight;(this.projectionWidth!==v||this.projectionHeight!==g)&&this.setProjectionMatrix(v,g)}},bind:function(v){if(void 0===v&&(v=this.currentShader),this.glReset)return this.rebind(v);var g=this.setVertexBuffer();return v.bind(g),this.currentShader=v,this.emit(h.BIND,this,v),this.onActive(v),this},rebind:function(v){this.setVertexBuffer();for(var g=this.shaders,x=g.length-1;x>=0;x--){var T=g[x].rebind();(!v||T===v)&&(this.currentShader=T)}return this.emit(h.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},setVertexBuffer:function(){var v=this.gl,g=this.vertexBuffer;return v.getParameter(v.ARRAY_BUFFER_BINDING)!==g&&(v.bindBuffer(v.ARRAY_BUFFER,g),!0)},preBatch:function(v){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(v),this},postBatch:function(v){return this.onDraw(this.currentRenderTarget),this.onPostBatch(v),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(v){if(void 0===v&&(v=!1),this.vertexCount>0){this.emit(h.BEFORE_FLUSH,this,v),this.onBeforeFlush(v);var g=this.gl,x=this.vertexCount,T=this.currentShader.vertexSize;this.active&&(this.setVertexBuffer(),x===this.vertexCapacity?g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.DYNAMIC_DRAW):g.bufferSubData(g.ARRAY_BUFFER,0,this.bytes.subarray(0,x*T)),g.drawArrays(this.topology,0,x)),this.vertexCount=0,this.emit(h.AFTER_FLUSH,this,v),this.onAfterFlush(v)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(v,g,x,T,S,D,M){var R=this.vertexViewF32,P=this.vertexViewU32,I=this.vertexCount*this.currentShader.vertexComponentCount-1;R[++I]=v,R[++I]=g,R[++I]=x,R[++I]=T,R[++I]=S,R[++I]=D,P[++I]=M,this.vertexCount++},batchQuad:function(v,g,x,T,S,D,M,R,P,I,b,L,B,V,z,W,K,J,tt,it){void 0===it&&(it=this.currentUnit);var H=!1;return this.shouldFlush(6)&&(this.flush(),H=!0,it=this.setTexture2D(tt)),this.batchVert(g,x,I,b,it,J,V),this.batchVert(T,S,I,B,it,J,W),this.batchVert(D,M,L,B,it,J,K),this.batchVert(g,x,I,b,it,J,V),this.batchVert(D,M,L,B,it,J,K),this.batchVert(R,P,L,b,it,J,z),this.onBatch(v),H},batchTri:function(v,g,x,T,S,D,M,R,P,I,b,L,B,V,z,W,K){void 0===K&&(K=this.currentUnit);var J=!1;return this.shouldFlush(3)&&(this.flush(),J=!0,K=this.setTexture2D(W)),this.batchVert(g,x,R,P,K,z,L),this.batchVert(T,S,R,b,K,z,B),this.batchVert(D,M,I,b,K,z,V),this.onBatch(v),J},drawFillRect:function(v,g,x,T,S,D,M,R){void 0===M&&(M=this.renderer.whiteTexture.glTexture),void 0===R&&(R=!0),v=Math.floor(v),g=Math.floor(g);var P=Math.floor(v+x),I=Math.floor(g+T),b=this.setTexture2D(M),L=a.getTintAppendFloatAlphaAndSwap(S,D),V=0,W=1;R&&(V=1,W=0),this.batchQuad(null,v,g,v,I,P,I,P,g,0,V,1,W,L,L,L,L,0,M,b)},setTexture2D:function(v){return void 0===v&&(v=this.renderer.whiteTexture.glTexture),this.currentUnit=this.renderer.setTexture2D(v),this.currentUnit},bindTexture:function(v,g){void 0===g&&(g=0);var x=this.gl;return x.activeTexture(x.TEXTURE0+g),x.bindTexture(x.TEXTURE_2D,v),this},bindRenderTarget:function(v,g){return this.bindTexture(v.texture,g)},setTime:function(v){return this.set1f(v,this.game.loop.getDuration()),this},set1f:function(v,g,x){return void 0===x&&(x=this.currentShader),x.set1f(v,g),this},set2f:function(v,g,x,T){return void 0===T&&(T=this.currentShader),T.set2f(v,g,x),this},set3f:function(v,g,x,T,S){return void 0===S&&(S=this.currentShader),S.set3f(v,g,x,T),this},set4f:function(v,g,x,T,S,D){return void 0===D&&(D=this.currentShader),D.set4f(v,g,x,T,S),this},set1fv:function(v,g,x){return void 0===x&&(x=this.currentShader),x.set1fv(v,g),this},set2fv:function(v,g,x){return void 0===x&&(x=this.currentShader),x.set2fv(v,g),this},set3fv:function(v,g,x){return void 0===x&&(x=this.currentShader),x.set3fv(v,g),this},set4fv:function(v,g,x){return void 0===x&&(x=this.currentShader),x.set4fv(v,g),this},set1iv:function(v,g,x){return void 0===x&&(x=this.currentShader),x.set1iv(v,g),this},set2iv:function(v,g,x){return void 0===x&&(x=this.currentShader),x.set2iv(v,g),this},set3iv:function(v,g,x){return void 0===x&&(x=this.currentShader),x.set3iv(v,g),this},set4iv:function(v,g,x){return void 0===x&&(x=this.currentShader),x.set4iv(v,g),this},set1i:function(v,g,x){return void 0===x&&(x=this.currentShader),x.set1i(v,g),this},set2i:function(v,g,x,T){return void 0===T&&(T=this.currentShader),T.set2i(v,g,x),this},set3i:function(v,g,x,T,S){return void 0===S&&(S=this.currentShader),S.set3i(v,g,x,T),this},set4i:function(v,g,x,T,S,D){return void 0===D&&(D=this.currentShader),D.set4i(v,g,x,T,S),this},setMatrix2fv:function(v,g,x,T){return void 0===T&&(T=this.currentShader),T.setMatrix2fv(v,g,x),this},setMatrix3fv:function(v,g,x,T){return void 0===T&&(T=this.currentShader),T.setMatrix3fv(v,g,x),this},setMatrix4fv:function(v,g,x,T){return void 0===T&&(T=this.currentShader),T.setMatrix4fv(v,g,x),this},destroy:function(){this.emit(h.DESTROY,this);var v,g=this.shaders;for(v=0;v<g.length;v++)g[v].destroy();var x=this.renderTargets;for(v=0;v<x.length;v++)x[v].destroy();this.gl.deleteBuffer(this.vertexBuffer);var T=this.renderer;return T.off(o.RESIZE,this.resize,this),T.off(o.PRE_RENDER,this.onPreRender,this),T.off(o.RENDER,this.onRender,this),T.off(o.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this}});C.exports=p},function(C,w,n){"use strict";function l(G,Y,X){X=X||2;var ot,lt,ht,ft,gt,Et,Ct,$=Y&&Y.length,Q=$?Y[0]*X:G.length,_=m(G,0,Q,X,!0),et=[];if(!_||_.next===_.prev)return et;if($&&(_=function a(G,Y,X,$){var _,et,ht,Q=[];for(_=0,et=Y.length;_<et;_++)(ht=m(G,Y[_]*$,_<et-1?Y[_+1]*$:G.length,$,!1))===ht.next&&(ht.steiner=!0),Q.push(D(ht));for(Q.sort(c),_=0;_<Q.length;_++)p(Q[_],X),X=f(X,X.next);return X}(G,Y,_,X)),G.length>80*X){ot=ht=G[0],lt=ft=G[1];for(var Mt=X;Mt<Q;Mt+=X)(gt=G[Mt])<ot&&(ot=gt),(Et=G[Mt+1])<lt&&(lt=Et),gt>ht&&(ht=gt),Et>ft&&(ft=Et);Ct=0!==(Ct=Math.max(ht-ot,ft-lt))?1/Ct:0}return h(_,et,X,ot,lt,Ct),et}function m(G,Y,X,$,Q){var _,et;if(Q===H(G,Y,X,$)>0)for(_=Y;_<X;_+=$)et=J(_,G[_],G[_+1],et);else for(_=X-$;_>=Y;_-=$)et=J(_,G[_],G[_+1],et);return et&&I(et,et.next)&&(tt(et),et=et.next),et}function f(G,Y){if(!G)return G;Y||(Y=G);var $,X=G;do{if($=!1,X.steiner||!I(X,X.next)&&0!==P(X.prev,X,X.next))X=X.next;else{if(tt(X),(X=Y=X.prev)===X.next)break;$=!0}}while($||X!==Y);return Y}function h(G,Y,X,$,Q,_,et){if(G){!et&&_&&function x(G,Y,X,$){var Q=G;do{null===Q.z&&(Q.z=S(Q.x,Q.y,Y,X,$)),Q.prevZ=Q.prev,Q.nextZ=Q.next,Q=Q.next}while(Q!==G);Q.prevZ.nextZ=null,Q.prevZ=null,function T(G){var Y,X,$,Q,_,et,ot,lt,ht=1;do{for(X=G,G=null,_=null,et=0;X;){for(et++,$=X,ot=0,Y=0;Y<ht&&(ot++,$=$.nextZ);Y++);for(lt=ht;ot>0||lt>0&&$;)0!==ot&&(0===lt||!$||X.z<=$.z)?(Q=X,X=X.nextZ,ot--):(Q=$,$=$.nextZ,lt--),_?_.nextZ=Q:G=Q,Q.prevZ=_,_=Q;X=$}_.nextZ=null,ht*=2}while(et>1);return G}(Q)}(G,$,Q,_);for(var lt,ht,ot=G;G.prev!==G.next;)if(lt=G.prev,ht=G.next,_?s(G,$,Q,_):u(G))Y.push(lt.i/X),Y.push(G.i/X),Y.push(ht.i/X),tt(G),G=ht.next,ot=ht.next;else if((G=ht)===ot){et?1===et?h(G=o(f(G),Y,X),Y,X,$,Q,_,2):2===et&&d(G,Y,X,$,Q,_):h(f(G),Y,X,$,Q,_,1);break}}}function u(G){var Y=G.prev,X=G,$=G.next;if(P(Y,X,$)>=0)return!1;for(var Q=G.next.next;Q!==G.prev;){if(M(Y.x,Y.y,X.x,X.y,$.x,$.y,Q.x,Q.y)&&P(Q.prev,Q,Q.next)>=0)return!1;Q=Q.next}return!0}function s(G,Y,X,$){var Q=G.prev,_=G,et=G.next;if(P(Q,_,et)>=0)return!1;for(var ht=Q.x>_.x?Q.x>et.x?Q.x:et.x:_.x>et.x?_.x:et.x,ft=Q.y>_.y?Q.y>et.y?Q.y:et.y:_.y>et.y?_.y:et.y,gt=S(Q.x<_.x?Q.x<et.x?Q.x:et.x:_.x<et.x?_.x:et.x,Q.y<_.y?Q.y<et.y?Q.y:et.y:_.y<et.y?_.y:et.y,Y,X,$),Et=S(ht,ft,Y,X,$),Ct=G.prevZ,Mt=G.nextZ;Ct&&Ct.z>=gt&&Mt&&Mt.z<=Et;){if(Ct!==G.prev&&Ct!==G.next&&M(Q.x,Q.y,_.x,_.y,et.x,et.y,Ct.x,Ct.y)&&P(Ct.prev,Ct,Ct.next)>=0||(Ct=Ct.prevZ,Mt!==G.prev&&Mt!==G.next&&M(Q.x,Q.y,_.x,_.y,et.x,et.y,Mt.x,Mt.y)&&P(Mt.prev,Mt,Mt.next)>=0))return!1;Mt=Mt.nextZ}for(;Ct&&Ct.z>=gt;){if(Ct!==G.prev&&Ct!==G.next&&M(Q.x,Q.y,_.x,_.y,et.x,et.y,Ct.x,Ct.y)&&P(Ct.prev,Ct,Ct.next)>=0)return!1;Ct=Ct.prevZ}for(;Mt&&Mt.z<=Et;){if(Mt!==G.prev&&Mt!==G.next&&M(Q.x,Q.y,_.x,_.y,et.x,et.y,Mt.x,Mt.y)&&P(Mt.prev,Mt,Mt.next)>=0)return!1;Mt=Mt.nextZ}return!0}function o(G,Y,X){var $=G;do{var Q=$.prev,_=$.next.next;!I(Q,_)&&b(Q,$,$.next,_)&&z(Q,_)&&z(_,Q)&&(Y.push(Q.i/X),Y.push($.i/X),Y.push(_.i/X),tt($),tt($.next),$=G=_),$=$.next}while($!==G);return f($)}function d(G,Y,X,$,Q,_){var et=G;do{for(var ot=et.next.next;ot!==et.prev;){if(et.i!==ot.i&&R(et,ot)){var lt=K(et,ot);return et=f(et,et.next),lt=f(lt,lt.next),h(et,Y,X,$,Q,_),void h(lt,Y,X,$,Q,_)}ot=ot.next}et=et.next}while(et!==G)}function c(G,Y){return G.x-Y.x}function p(G,Y){if(Y=function v(G,Y){var et,X=Y,$=G.x,Q=G.y,_=-1/0;do{if(Q<=X.y&&Q>=X.next.y&&X.next.y!==X.y){var ot=X.x+(Q-X.y)*(X.next.x-X.x)/(X.next.y-X.y);if(ot<=$&&ot>_){if(_=ot,ot===$){if(Q===X.y)return X;if(Q===X.next.y)return X.next}et=X.x<X.next.x?X:X.next}}X=X.next}while(X!==Y);if(!et)return null;if($===_)return et;var Et,lt=et,ht=et.x,ft=et.y,gt=1/0;X=et;do{$>=X.x&&X.x>=ht&&$!==X.x&&M(Q<ft?$:_,Q,ht,ft,Q<ft?_:$,Q,X.x,X.y)&&(Et=Math.abs(Q-X.y)/($-X.x),z(X,G)&&(Et<gt||Et===gt&&(X.x>et.x||X.x===et.x&&g(et,X)))&&(et=X,gt=Et)),X=X.next}while(X!==lt);return et}(G,Y)){var X=K(Y,G);f(Y,Y.next),f(X,X.next)}}function g(G,Y){return P(G.prev,G,Y.prev)<0&&P(Y.next,G,G.next)<0}function S(G,Y,X,$,Q){return(G=1431655765&((G=858993459&((G=252645135&((G=16711935&((G=32767*(G-X)*Q)|G<<8))|G<<4))|G<<2))|G<<1))|(Y=1431655765&((Y=858993459&((Y=252645135&((Y=16711935&((Y=32767*(Y-$)*Q)|Y<<8))|Y<<4))|Y<<2))|Y<<1))<<1}function D(G){var Y=G,X=G;do{(Y.x<X.x||Y.x===X.x&&Y.y<X.y)&&(X=Y),Y=Y.next}while(Y!==G);return X}function M(G,Y,X,$,Q,_,et,ot){return(Q-et)*(Y-ot)-(G-et)*(_-ot)>=0&&(G-et)*($-ot)-(X-et)*(Y-ot)>=0&&(X-et)*(_-ot)-(Q-et)*($-ot)>=0}function R(G,Y){return G.next.i!==Y.i&&G.prev.i!==Y.i&&!function V(G,Y){var X=G;do{if(X.i!==G.i&&X.next.i!==G.i&&X.i!==Y.i&&X.next.i!==Y.i&&b(X,X.next,G,Y))return!0;X=X.next}while(X!==G);return!1}(G,Y)&&(z(G,Y)&&z(Y,G)&&function W(G,Y){var X=G,$=!1,Q=(G.x+Y.x)/2,_=(G.y+Y.y)/2;do{X.y>_!=X.next.y>_&&X.next.y!==X.y&&Q<(X.next.x-X.x)*(_-X.y)/(X.next.y-X.y)+X.x&&($=!$),X=X.next}while(X!==G);return $}(G,Y)&&(P(G.prev,G,Y.prev)||P(G,Y.prev,Y))||I(G,Y)&&P(G.prev,G,G.next)>0&&P(Y.prev,Y,Y.next)>0)}function P(G,Y,X){return(Y.y-G.y)*(X.x-Y.x)-(Y.x-G.x)*(X.y-Y.y)}function I(G,Y){return G.x===Y.x&&G.y===Y.y}function b(G,Y,X,$){var Q=B(P(G,Y,X)),_=B(P(G,Y,$)),et=B(P(X,$,G)),ot=B(P(X,$,Y));return!!(Q!==_&&et!==ot||0===Q&&L(G,X,Y)||0===_&&L(G,$,Y)||0===et&&L(X,G,$)||0===ot&&L(X,Y,$))}function L(G,Y,X){return Y.x<=Math.max(G.x,X.x)&&Y.x>=Math.min(G.x,X.x)&&Y.y<=Math.max(G.y,X.y)&&Y.y>=Math.min(G.y,X.y)}function B(G){return G>0?1:G<0?-1:0}function z(G,Y){return P(G.prev,G,G.next)<0?P(G,Y,G.next)>=0&&P(G,G.prev,Y)>=0:P(G,Y,G.prev)<0||P(G,G.next,Y)<0}function K(G,Y){var X=new it(G.i,G.x,G.y),$=new it(Y.i,Y.x,Y.y),Q=G.next,_=Y.prev;return G.next=Y,Y.prev=G,X.next=Q,Q.prev=X,$.next=X,X.prev=$,_.next=$,$.prev=_,$}function J(G,Y,X,$){var Q=new it(G,Y,X);return $?(Q.next=$.next,Q.prev=$,$.next.prev=Q,$.next=Q):(Q.prev=Q,Q.next=Q),Q}function tt(G){G.next.prev=G.prev,G.prev.next=G.next,G.prevZ&&(G.prevZ.nextZ=G.nextZ),G.nextZ&&(G.nextZ.prevZ=G.prevZ)}function it(G,Y,X){this.i=G,this.x=Y,this.y=X,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function H(G,Y,X,$){for(var Q=0,_=Y,et=X-$;_<X;_+=$)Q+=(G[et]-G[_])*(G[_+1]+G[et+1]),et=_;return Q}l.deviation=function(G,Y,X,$){var Q=Y&&Y.length,et=Math.abs(H(G,0,Q?Y[0]*X:G.length,X));if(Q)for(var ot=0,lt=Y.length;ot<lt;ot++)et-=Math.abs(H(G,Y[ot]*X,ot<lt-1?Y[ot+1]*X:G.length,X));var gt=0;for(ot=0;ot<$.length;ot+=3){var Et=$[ot]*X,Ct=$[ot+1]*X,Mt=$[ot+2]*X;gt+=Math.abs((G[Et]-G[Mt])*(G[Ct+1]-G[Et+1])-(G[Et]-G[Ct])*(G[Mt+1]-G[Et+1]))}return 0===et&&0===gt?0:Math.abs((gt-et)/et)},l.flatten=function(G){for(var Y=G[0][0].length,X={vertices:[],holes:[],dimensions:Y},$=0,Q=0;Q<G.length;Q++){for(var _=0;_<G[Q].length;_++)for(var et=0;et<Y;et++)X.vertices.push(G[Q][_][et]);Q>0&&X.holes.push($+=G[Q-1].length)}return X},C.exports=l},function(C,w){C.exports=function(l,m,f,h){var u=f||m.strokeColor;l.strokeStyle="rgba("+((16711680&u)>>>16)+","+((65280&u)>>>8)+","+(255&u)+","+(h||m.strokeAlpha)+")",l.lineWidth=m.lineWidth}},function(C,w,n){var l=n(0),m=n(21),f=n(23),h=n(8),u=n(2),s=n(6),o=n(7),d=new l({Extends:f,initialize:function(c,p,v,g,x){var T="json";if(o(p)){var S=p;p=u(S,"key"),v=u(S,"url"),g=u(S,"xhrSettings"),T=u(S,"extension",T),x=u(S,"dataKey",x)}f.call(this,c,{type:"json",cache:c.cacheManager.json,extension:T,responseType:"text",key:p,url:v,xhrSettings:g,config:x}),o(v)&&(this.data=x?s(v,x):v,this.state=m.FILE_POPULATED)},onProcess:function(){if(this.state!==m.FILE_POPULATED){this.state=m.FILE_PROCESSING;try{var a=JSON.parse(this.xhrLoader.responseText)}catch(p){throw console.warn("Invalid JSON: "+this.key),this.onProcessError(),p}var c=this.config;this.data="string"==typeof c?s(a,c,a):a}this.onProcessComplete()}});h.register("json",function(a,c,p,v){if(Array.isArray(a))for(var g=0;g<a.length;g++)this.addFile(new d(this,a[g]));else this.addFile(new d(this,a,c,v,p));return this}),C.exports=d},function(C,w){C.exports={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14}},function(C,w,n){var l=n(158),m=n(26);C.exports=function(h,u,s,o,d){for(var a=null,c=null,p=null,v=null,g=m(h,u,s,o,null,d),x=0;x<g.length;x++){var T=g[x];T&&(T.collides?(a=l(T.x,T.y-1,!0,d),c=l(T.x,T.y+1,!0,d),p=l(T.x-1,T.y,!0,d),v=l(T.x+1,T.y,!0,d),T.faceTop=!(a&&a.collides),T.faceBottom=!(c&&c.collides),T.faceLeft=!(p&&p.collides),T.faceRight=!(v&&v.collides)):T.resetFaces())}}},function(C,w,n){var l={};C.exports=l;var m=n(83),f=n(32);l.create=function(h,u){for(var s=[],o=0;o<h.length;o++){var d=h[o],a={x:d.x,y:d.y,index:o,body:u,isInternal:!1,contact:null,offset:null};a.contact={vertex:a,normalImpulse:0,tangentImpulse:0},s.push(a)}return s},l.fromPath=function(h,u){var o=[];return h.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,function(d,a,c){o.push({x:parseFloat(a),y:parseFloat(c)})}),l.create(o,u)},l.centre=function(h){for(var o,d,a,u=l.area(h,!0),s={x:0,y:0},c=0;c<h.length;c++)o=m.cross(h[c],h[a=(c+1)%h.length]),d=m.mult(m.add(h[c],h[a]),o),s=m.add(s,d);return m.div(s,6*u)},l.mean=function(h){for(var u={x:0,y:0},s=0;s<h.length;s++)u.x+=h[s].x,u.y+=h[s].y;return m.div(u,h.length)},l.area=function(h,u){for(var s=0,o=h.length-1,d=0;d<h.length;d++)s+=(h[o].x-h[d].x)*(h[o].y+h[d].y),o=d;return u?s/2:Math.abs(s)/2},l.inertia=function(h,u){for(var a,c,s=0,o=0,d=h,p=0;p<d.length;p++)c=(p+1)%d.length,s+=(a=Math.abs(m.cross(d[c],d[p])))*(m.dot(d[c],d[c])+m.dot(d[c],d[p])+m.dot(d[p],d[p])),o+=a;return u/6*(s/o)},l.translate=function(h,u,s){var o;if(s)for(o=0;o<h.length;o++)h[o].x+=u.x*s,h[o].y+=u.y*s;else for(o=0;o<h.length;o++)h[o].x+=u.x,h[o].y+=u.y;return h},l.rotate=function(h,u,s){if(0!==u){for(var o=Math.cos(u),d=Math.sin(u),a=0;a<h.length;a++){var c=h[a],p=c.x-s.x,v=c.y-s.y;c.x=s.x+(p*o-v*d),c.y=s.y+(p*d+v*o)}return h}},l.contains=function(h,u){for(var s=0;s<h.length;s++){var o=h[s],d=h[(s+1)%h.length];if((u.x-o.x)*(d.y-o.y)+(u.y-o.y)*(o.x-d.x)>0)return!1}return!0},l.scale=function(h,u,s,o){if(1===u&&1===s)return h;o=o||l.centre(h);for(var a,c=0;c<h.length;c++)a=m.sub(h[c],o),h[c].x=o.x+a.x*u,h[c].y=o.y+a.y*s;return h},l.chamfer=function(h,u,s,o,d){u="number"==typeof u?[u]:u||[8],s=void 0!==s?s:-1,o=o||2,d=d||14;for(var a=[],c=0;c<h.length;c++){var p=h[c-1>=0?c-1:h.length-1],v=h[c],g=h[(c+1)%h.length],x=u[c<u.length?c:u.length-1];if(0!==x){var T=m.normalise({x:v.y-p.y,y:p.x-v.x}),S=m.normalise({x:g.y-v.y,y:v.x-g.x}),D=Math.sqrt(2*Math.pow(x,2)),M=m.mult(f.clone(T),x),R=m.normalise(m.mult(m.add(T,S),.5)),P=m.sub(v,m.mult(R,D)),I=s;-1===s&&(I=1.75*Math.pow(x,.32)),(I=f.clamp(I,o,d))%2==1&&(I+=1);for(var L=Math.acos(m.dot(T,S))/I,B=0;B<I;B++)a.push(m.add(m.rotate(M,L*B),P))}else a.push(v)}return a},l.clockwiseSort=function(h){var u=l.mean(h);return h.sort(function(s,o){return m.angle(u,s)-m.angle(u,o)}),h},l.isConvex=function(h){var o,d,a,c,u=0,s=h.length;if(s<3)return null;for(o=0;o<s;o++)if(c=(h[d=(o+1)%s].x-h[o].x)*(h[a=(o+2)%s].y-h[d].y),(c-=(h[d].y-h[o].y)*(h[a].x-h[d].x))<0?u|=1:c>0&&(u|=2),3===u)return!1;return 0!==u||null},l.hull=function(h){var o,d,u=[],s=[];for((h=h.slice(0)).sort(function(a,c){var p=a.x-c.x;return 0!==p?p:a.y-c.y}),d=0;d<h.length;d+=1){for(o=h[d];s.length>=2&&m.cross3(s[s.length-2],s[s.length-1],o)<=0;)s.pop();s.push(o)}for(d=h.length-1;d>=0;d-=1){for(o=h[d];u.length>=2&&m.cross3(u[u.length-2],u[u.length-1],o)<=0;)u.pop();u.push(o)}return u.pop(),s.pop(),u.concat(s)}},function(C,w,n){var l=n(0),m=n(66),f=n(300),h=n(301),u=n(56),s=n(170),o=new l({initialize:function(a,c,p){void 0===a&&(a=0),void 0===c&&(c=0),void 0===p&&(p=0),this.type=u.CIRCLE,this.x=a,this.y=c,this._radius=p,this._diameter=2*p},contains:function(d,a){return m(this,d,a)},getPoint:function(d,a){return f(this,d,a)},getPoints:function(d,a,c){return h(this,d,a,c)},getRandomPoint:function(d){return s(this,d)},setTo:function(d,a,c){return this.x=d,this.y=a,this._radius=c,this._diameter=2*c,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(d,a){return void 0===a&&(a=d),this.x=d,this.y=a,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(d){this._radius=d,this._diameter=2*d}},diameter:{get:function(){return this._diameter},set:function(d){this._diameter=d,this._radius=.5*d}},left:{get:function(){return this.x-this._radius},set:function(d){this.x=d+this._radius}},right:{get:function(){return this.x+this._radius},set:function(d){this.x=d-this._radius}},top:{get:function(){return this.y-this._radius},set:function(d){this.y=d+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(d){this.y=d-this._radius}}});C.exports=o},function(C,w){C.exports=function(l,m,f){return l.radius>0&&m>=l.left&&m<=l.right&&f>=l.top&&f<=l.bottom&&(l.x-m)*(l.x-m)+(l.y-f)*(l.y-f)<=l.radius*l.radius}},function(C,w){C.exports=function(l){return Math.sqrt((l.x2-l.x1)*(l.x2-l.x1)+(l.y2-l.y1)*(l.y2-l.y1))}},function(C,w){C.exports=function(l,m,f){var h=f-m;return m+((l-m)%h+h)%h}},function(C,w,n){var l=n(0),m=n(39),f=1e-6,h=new l({initialize:function(p){this.val=new Float32Array(16),p?this.copy(p):this.identity()},clone:function(){return new h(this)},set:function(c){return this.copy(c)},setValues:function(c,p,v,g,x,T,S,D,M,R,P,I,b,L,B,V){var z=this.val;return z[0]=c,z[1]=p,z[2]=v,z[3]=g,z[4]=x,z[5]=T,z[6]=S,z[7]=D,z[8]=M,z[9]=R,z[10]=P,z[11]=I,z[12]=b,z[13]=L,z[14]=B,z[15]=V,this},copy:function(c){var p=c.val;return this.setValues(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15])},fromArray:function(c){return this.setValues(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(c,p,v){var x=u.fromQuat(v).val,T=p.x,S=p.y,D=p.z;return this.setValues(x[0]*T,x[1]*T,x[2]*T,0,x[4]*S,x[5]*S,x[6]*S,0,x[8]*D,x[9]*D,x[10]*D,0,c.x,c.y,c.z,1)},xyz:function(c,p,v){this.identity();var g=this.val;return g[12]=c,g[13]=p,g[14]=v,this},scaling:function(c,p,v){this.zero();var g=this.val;return g[0]=c,g[5]=p,g[10]=v,g[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var c=this.val,p=c[1],v=c[2],g=c[3],x=c[6],T=c[7],S=c[11];return c[1]=c[4],c[2]=c[8],c[3]=c[12],c[4]=p,c[6]=c[9],c[7]=c[13],c[8]=v,c[9]=x,c[11]=c[14],c[12]=g,c[13]=T,c[14]=S,this},getInverse:function(c){return this.copy(c),this.invert()},invert:function(){var c=this.val,p=c[0],v=c[1],g=c[2],x=c[3],T=c[4],S=c[5],D=c[6],M=c[7],R=c[8],P=c[9],I=c[10],b=c[11],L=c[12],B=c[13],V=c[14],z=c[15],W=p*S-v*T,K=p*D-g*T,J=p*M-x*T,tt=v*D-g*S,it=v*M-x*S,H=g*M-x*D,G=R*B-P*L,Y=R*V-I*L,X=R*z-b*L,$=P*V-I*B,Q=P*z-b*B,_=I*z-b*V,et=W*_-K*Q+J*$+tt*X-it*Y+H*G;return et?this.setValues((S*_-D*Q+M*$)*(et=1/et),(g*Q-v*_-x*$)*et,(B*H-V*it+z*tt)*et,(I*it-P*H-b*tt)*et,(D*X-T*_-M*Y)*et,(p*_-g*X+x*Y)*et,(V*J-L*H-z*K)*et,(R*H-I*J+b*K)*et,(T*Q-S*X+M*G)*et,(v*X-p*Q-x*G)*et,(L*it-B*J+z*W)*et,(P*J-R*it-b*W)*et,(S*Y-T*$-D*G)*et,(p*$-v*Y+g*G)*et,(B*K-L*tt-V*W)*et,(R*tt-P*K+I*W)*et):this},adjoint:function(){var c=this.val,p=c[0],v=c[1],g=c[2],x=c[3],T=c[4],S=c[5],D=c[6],M=c[7],R=c[8],P=c[9],I=c[10],b=c[11],L=c[12],B=c[13],V=c[14],z=c[15];return this.setValues(S*(I*z-b*V)-P*(D*z-M*V)+B*(D*b-M*I),-(v*(I*z-b*V)-P*(g*z-x*V)+B*(g*b-x*I)),v*(D*z-M*V)-S*(g*z-x*V)+B*(g*M-x*D),-(v*(D*b-M*I)-S*(g*b-x*I)+P*(g*M-x*D)),-(T*(I*z-b*V)-R*(D*z-M*V)+L*(D*b-M*I)),p*(I*z-b*V)-R*(g*z-x*V)+L*(g*b-x*I),-(p*(D*z-M*V)-T*(g*z-x*V)+L*(g*M-x*D)),p*(D*b-M*I)-T*(g*b-x*I)+R*(g*M-x*D),T*(P*z-b*B)-R*(S*z-M*B)+L*(S*b-M*P),-(p*(P*z-b*B)-R*(v*z-x*B)+L*(v*b-x*P)),p*(S*z-M*B)-T*(v*z-x*B)+L*(v*M-x*S),-(p*(S*b-M*P)-T*(v*b-x*P)+R*(v*M-x*S)),-(T*(P*V-I*B)-R*(S*V-D*B)+L*(S*I-D*P)),p*(P*V-I*B)-R*(v*V-g*B)+L*(v*I-g*P),-(p*(S*V-D*B)-T*(v*V-g*B)+L*(v*D-g*S)),p*(S*I-D*P)-T*(v*I-g*P)+R*(v*D-g*S))},determinant:function(){var c=this.val,p=c[0],v=c[1],g=c[2],x=c[3],T=c[4],S=c[5],D=c[6],M=c[7],R=c[8],P=c[9],I=c[10],b=c[11],L=c[12],B=c[13],V=c[14],z=c[15];return(p*S-v*T)*(I*z-b*V)-(p*D-g*T)*(P*z-b*B)+(p*M-x*T)*(P*V-I*B)+(v*D-g*S)*(R*z-b*L)-(v*M-x*S)*(R*V-I*L)+(g*M-x*D)*(R*B-P*L)},multiply:function(c){var p=this.val,v=p[0],g=p[1],x=p[2],T=p[3],S=p[4],D=p[5],M=p[6],R=p[7],P=p[8],I=p[9],b=p[10],L=p[11],B=p[12],V=p[13],z=p[14],W=p[15],K=c.val,J=K[0],tt=K[1],it=K[2],H=K[3];return p[0]=J*v+tt*S+it*P+H*B,p[1]=J*g+tt*D+it*I+H*V,p[2]=J*x+tt*M+it*b+H*z,p[3]=J*T+tt*R+it*L+H*W,p[4]=(J=K[4])*v+(tt=K[5])*S+(it=K[6])*P+(H=K[7])*B,p[5]=J*g+tt*D+it*I+H*V,p[6]=J*x+tt*M+it*b+H*z,p[7]=J*T+tt*R+it*L+H*W,p[8]=(J=K[8])*v+(tt=K[9])*S+(it=K[10])*P+(H=K[11])*B,p[9]=J*g+tt*D+it*I+H*V,p[10]=J*x+tt*M+it*b+H*z,p[11]=J*T+tt*R+it*L+H*W,p[12]=(J=K[12])*v+(tt=K[13])*S+(it=K[14])*P+(H=K[15])*B,p[13]=J*g+tt*D+it*I+H*V,p[14]=J*x+tt*M+it*b+H*z,p[15]=J*T+tt*R+it*L+H*W,this},multiplyLocal:function(c){var p=this.val,v=c.val;return this.setValues(p[0]*v[0]+p[1]*v[4]+p[2]*v[8]+p[3]*v[12],p[0]*v[1]+p[1]*v[5]+p[2]*v[9]+p[3]*v[13],p[0]*v[2]+p[1]*v[6]+p[2]*v[10]+p[3]*v[14],p[0]*v[3]+p[1]*v[7]+p[2]*v[11]+p[3]*v[15],p[4]*v[0]+p[5]*v[4]+p[6]*v[8]+p[7]*v[12],p[4]*v[1]+p[5]*v[5]+p[6]*v[9]+p[7]*v[13],p[4]*v[2]+p[5]*v[6]+p[6]*v[10]+p[7]*v[14],p[4]*v[3]+p[5]*v[7]+p[6]*v[11]+p[7]*v[15],p[8]*v[0]+p[9]*v[4]+p[10]*v[8]+p[11]*v[12],p[8]*v[1]+p[9]*v[5]+p[10]*v[9]+p[11]*v[13],p[8]*v[2]+p[9]*v[6]+p[10]*v[10]+p[11]*v[14],p[8]*v[3]+p[9]*v[7]+p[10]*v[11]+p[11]*v[15],p[12]*v[0]+p[13]*v[4]+p[14]*v[8]+p[15]*v[12],p[12]*v[1]+p[13]*v[5]+p[14]*v[9]+p[15]*v[13],p[12]*v[2]+p[13]*v[6]+p[14]*v[10]+p[15]*v[14],p[12]*v[3]+p[13]*v[7]+p[14]*v[11]+p[15]*v[15])},premultiply:function(c){return this.multiplyMatrices(c,this)},multiplyMatrices:function(c,p){var v=c.val,g=p.val,x=v[0],T=v[4],S=v[8],D=v[12],M=v[1],R=v[5],P=v[9],I=v[13],b=v[2],L=v[6],B=v[10],V=v[14],z=v[3],W=v[7],K=v[11],J=v[15],tt=g[0],it=g[4],H=g[8],G=g[12],Y=g[1],X=g[5],$=g[9],Q=g[13],_=g[2],et=g[6],ot=g[10],lt=g[14],ht=g[3],ft=g[7],gt=g[11],Et=g[15];return this.setValues(x*tt+T*Y+S*_+D*ht,M*tt+R*Y+P*_+I*ht,b*tt+L*Y+B*_+V*ht,z*tt+W*Y+K*_+J*ht,x*it+T*X+S*et+D*ft,M*it+R*X+P*et+I*ft,b*it+L*X+B*et+V*ft,z*it+W*X+K*et+J*ft,x*H+T*$+S*ot+D*gt,M*H+R*$+P*ot+I*gt,b*H+L*$+B*ot+V*gt,z*H+W*$+K*ot+J*gt,x*G+T*Q+S*lt+D*Et,M*G+R*Q+P*lt+I*Et,b*G+L*Q+B*lt+V*Et,z*G+W*Q+K*lt+J*Et)},translate:function(c){return this.translateXYZ(c.x,c.y,c.z)},translateXYZ:function(c,p,v){var g=this.val;return g[12]=g[0]*c+g[4]*p+g[8]*v+g[12],g[13]=g[1]*c+g[5]*p+g[9]*v+g[13],g[14]=g[2]*c+g[6]*p+g[10]*v+g[14],g[15]=g[3]*c+g[7]*p+g[11]*v+g[15],this},scale:function(c){return this.scaleXYZ(c.x,c.y,c.z)},scaleXYZ:function(c,p,v){var g=this.val;return g[0]=g[0]*c,g[1]=g[1]*c,g[2]=g[2]*c,g[3]=g[3]*c,g[4]=g[4]*p,g[5]=g[5]*p,g[6]=g[6]*p,g[7]=g[7]*p,g[8]=g[8]*v,g[9]=g[9]*v,g[10]=g[10]*v,g[11]=g[11]*v,this},makeRotationAxis:function(c,p){var v=Math.cos(p),g=Math.sin(p),x=1-v,T=c.x,S=c.y,D=c.z,M=x*T,R=x*S;return this.setValues(M*T+v,M*S-g*D,M*D+g*S,0,M*S+g*D,R*S+v,R*D-g*T,0,M*D-g*S,R*D+g*T,x*D*D+v,0,0,0,0,1)},rotate:function(c,p){var v=this.val,g=p.x,x=p.y,T=p.z,S=Math.sqrt(g*g+x*x+T*T);if(Math.abs(S)<f)return this;g*=S=1/S,x*=S,T*=S;var D=Math.sin(c),M=Math.cos(c),R=1-M,P=v[0],I=v[1],b=v[2],L=v[3],B=v[4],V=v[5],z=v[6],W=v[7],K=v[8],J=v[9],tt=v[10],it=v[11],$=g*g*R+M,Q=x*g*R+T*D,_=T*g*R-x*D,et=g*x*R-T*D,ot=x*x*R+M,lt=T*x*R+g*D,ht=g*T*R+x*D,ft=x*T*R-g*D,gt=T*T*R+M;return this.setValues(P*$+B*Q+K*_,I*$+V*Q+J*_,b*$+z*Q+tt*_,L*$+W*Q+it*_,P*et+B*ot+K*lt,I*et+V*ot+J*lt,b*et+z*ot+tt*lt,L*et+W*ot+it*lt,P*ht+B*ft+K*gt,I*ht+V*ft+J*gt,b*ht+z*ft+tt*gt,L*ht+W*ft+it*gt,v[12],v[13],v[14],v[15])},rotateX:function(c){var p=this.val,v=Math.sin(c),g=Math.cos(c),x=p[4],T=p[5],S=p[6],D=p[7],M=p[8],R=p[9],P=p[10],I=p[11];return p[4]=x*g+M*v,p[5]=T*g+R*v,p[6]=S*g+P*v,p[7]=D*g+I*v,p[8]=M*g-x*v,p[9]=R*g-T*v,p[10]=P*g-S*v,p[11]=I*g-D*v,this},rotateY:function(c){var p=this.val,v=Math.sin(c),g=Math.cos(c),x=p[0],T=p[1],S=p[2],D=p[3],M=p[8],R=p[9],P=p[10],I=p[11];return p[0]=x*g-M*v,p[1]=T*g-R*v,p[2]=S*g-P*v,p[3]=D*g-I*v,p[8]=x*v+M*g,p[9]=T*v+R*g,p[10]=S*v+P*g,p[11]=D*v+I*g,this},rotateZ:function(c){var p=this.val,v=Math.sin(c),g=Math.cos(c),x=p[0],T=p[1],S=p[2],D=p[3],M=p[4],R=p[5],P=p[6],I=p[7];return p[0]=x*g+M*v,p[1]=T*g+R*v,p[2]=S*g+P*v,p[3]=D*g+I*v,p[4]=M*g-x*v,p[5]=R*g-T*v,p[6]=P*g-S*v,p[7]=I*g-D*v,this},fromRotationTranslation:function(c,p){var v=c.x,g=c.y,x=c.z,T=c.w,S=v+v,D=g+g,M=x+x,R=v*S,P=v*D,I=v*M,b=g*D,L=g*M,B=x*M,V=T*S,z=T*D,W=T*M;return this.setValues(1-(b+B),P+W,I-z,0,P-W,1-(R+B),L+V,0,I+z,L-V,1-(R+b),0,p.x,p.y,p.z,1)},fromQuat:function(c){var p=c.x,v=c.y,g=c.z,x=c.w,T=p+p,S=v+v,D=g+g,M=p*T,R=p*S,P=p*D,I=v*S,b=v*D,L=g*D,B=x*T,V=x*S,z=x*D;return this.setValues(1-(I+L),R+z,P-V,0,R-z,1-(M+L),b+B,0,P+V,b-B,1-(M+I),0,0,0,0,1)},frustum:function(c,p,v,g,x,T){var S=1/(p-c),D=1/(g-v),M=1/(x-T);return this.setValues(2*x*S,0,0,0,0,2*x*D,0,0,(p+c)*S,(g+v)*D,(T+x)*M,-1,0,0,T*x*2*M,0)},perspective:function(c,p,v,g){var x=1/Math.tan(c/2),T=1/(v-g);return this.setValues(x/p,0,0,0,0,x,0,0,0,0,(g+v)*T,-1,0,0,2*g*v*T,0)},perspectiveLH:function(c,p,v,g){return this.setValues(2*v/c,0,0,0,0,2*v/p,0,0,0,0,-g/(v-g),1,0,0,v*g/(v-g),0)},ortho:function(c,p,v,g,x,T){var S=c-p,D=v-g,M=x-T;return this.setValues(-2*(S=0===S?S:1/S),0,0,0,0,-2*(D=0===D?D:1/D),0,0,0,0,2*(M=0===M?M:1/M),0,(c+p)*S,(g+v)*D,(T+x)*M,1)},lookAtRH:function(c,p,v){var g=this.val;return a.subVectors(c,p),0===a.getLengthSquared()&&(a.z=1),a.normalize(),o.crossVectors(v,a),0===o.getLengthSquared()&&(1===Math.abs(v.z)?a.x+=1e-4:a.z+=1e-4,a.normalize(),o.crossVectors(v,a)),o.normalize(),d.crossVectors(a,o),g[0]=o.x,g[1]=o.y,g[2]=o.z,g[4]=d.x,g[5]=d.y,g[6]=d.z,g[8]=a.x,g[9]=a.y,g[10]=a.z,this},lookAt:function(c,p,v){var g=c.x,x=c.y,T=c.z,S=v.x,D=v.y,M=v.z,R=p.x,P=p.y,I=p.z;if(Math.abs(g-R)<f&&Math.abs(x-P)<f&&Math.abs(T-I)<f)return this.identity();var b=g-R,L=x-P,B=T-I,V=1/Math.sqrt(b*b+L*L+B*B),z=D*(B*=V)-M*(L*=V),W=M*(b*=V)-S*B,K=S*L-D*b;(V=Math.sqrt(z*z+W*W+K*K))?(z*=V=1/V,W*=V,K*=V):(z=0,W=0,K=0);var J=L*K-B*W,tt=B*z-b*K,it=b*W-L*z;return(V=Math.sqrt(J*J+tt*tt+it*it))?(J*=V=1/V,tt*=V,it*=V):(J=0,tt=0,it=0),this.setValues(z,J,b,0,W,tt,L,0,K,it,B,0,-(z*g+W*x+K*T),-(J*g+tt*x+it*T),-(b*g+L*x+B*T),1)},yawPitchRoll:function(c,p,v){this.zero(),u.zero(),s.zero();var g=this.val,x=u.val,T=s.val,S=Math.sin(v),D=Math.cos(v);return g[10]=1,g[15]=1,g[0]=D,g[1]=S,g[4]=-S,g[5]=D,S=Math.sin(p),D=Math.cos(p),x[0]=1,x[15]=1,x[5]=D,x[10]=D,x[9]=-S,x[6]=S,S=Math.sin(c),D=Math.cos(c),T[5]=1,T[15]=1,T[0]=D,T[2]=-S,T[8]=S,T[10]=D,this.multiplyLocal(u),this.multiplyLocal(s),this},setWorldMatrix:function(c,p,v,g,x){return this.yawPitchRoll(c.y,c.x,c.z),u.scaling(v.x,v.y,v.z),s.xyz(p.x,p.y,p.z),this.multiplyLocal(u),this.multiplyLocal(s),g&&this.multiplyLocal(g),x&&this.multiplyLocal(x),this},multiplyToMat4:function(c,p){var v=this.val,g=c.val,x=v[0],T=v[1],S=v[2],D=v[3],M=v[4],R=v[5],P=v[6],I=v[7],b=v[8],L=v[9],B=v[10],V=v[11],z=v[12],W=v[13],K=v[14],J=v[15],it=g[1],H=g[2],G=g[3],Y=g[4],X=g[5],$=g[6],Q=g[7],_=g[8],et=g[9],ot=g[10],lt=g[11],ht=g[12],ft=g[13],gt=g[14],Et=g[15];return p.setValues(g[0]*x+it*M+H*b+G*z,it*T+it*R+H*L+G*W,H*S+it*P+H*B+G*K,G*D+it*I+H*V+G*J,Y*x+X*M+$*b+Q*z,Y*T+X*R+$*L+Q*W,Y*S+X*P+$*B+Q*K,Y*D+X*I+$*V+Q*J,_*x+et*M+ot*b+lt*z,_*T+et*R+ot*L+lt*W,_*S+et*P+ot*B+lt*K,_*D+et*I+ot*V+lt*J,ht*x+ft*M+gt*b+Et*z,ht*T+ft*R+gt*L+Et*W,ht*S+ft*P+gt*B+Et*K,ht*D+ft*I+gt*V+Et*J)},fromRotationXYTranslation:function(c,p,v){var g=p.x,x=p.y,T=p.z,S=Math.sin(c.x),D=Math.cos(c.x),M=Math.sin(c.y),R=Math.cos(c.y),P=g,I=x,b=T,L=-S,B=0-L*M,V=0-D*M,z=L*R,W=D*R;return v||(P=R*g+M*T,I=B*g+D*x+z*T,b=V*g+S*x+W*T),this.setValues(R,B,V,0,0,D,S,0,M,z,W,0,P,I,b,1)},getMaxScaleOnAxis:function(){var c=this.val;return Math.sqrt(Math.max(c[0]*c[0]+c[1]*c[1]+c[2]*c[2],c[4]*c[4]+c[5]*c[5]+c[6]*c[6],c[8]*c[8]+c[9]*c[9]+c[10]*c[10]))}}),u=new h,s=new h,o=new m,d=new m,a=new m;C.exports=h},function(C,w,n){C.exports={COMPLETE:n(987),DECODED:n(988),DECODED_ALL:n(989),DESTROY:n(990),DETUNE:n(991),GLOBAL_DETUNE:n(992),GLOBAL_MUTE:n(993),GLOBAL_RATE:n(994),GLOBAL_VOLUME:n(995),LOOP:n(996),LOOPED:n(997),MUTE:n(998),PAN:n(999),PAUSE_ALL:n(1e3),PAUSE:n(1001),PLAY:n(1002),RATE:n(1003),RESUME_ALL:n(1004),RESUME:n(1005),SEEK:n(1006),STOP_ALL:n(1007),STOP:n(1008),UNLOCKED:n(1009),VOLUME:n(1010)}},function(C,w,n){var l=n(0),m=n(21),f=n(23),h=n(8),u=n(2),s=n(7),o=new l({Extends:f,initialize:function d(a,c,p,v,g){var T,x="png";if(s(c)){var S=c;c=u(S,"key"),p=u(S,"url"),T=u(S,"normalMap"),v=u(S,"xhrSettings"),x=u(S,"extension",x),g=u(S,"frameConfig")}if(Array.isArray(p)&&(T=p[1],p=p[0]),f.call(this,a,{type:"image",cache:a.textureManager,extension:x,responseType:"blob",key:c,url:p,xhrSettings:v,config:g}),T){var M=new d(a,this.key,T,v,g);M.type="normalMap",this.setLink(M),a.addFile(M)}},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var d=this;this.data.onload=function(){f.revokeObjectURL(d.data),d.onProcessComplete()},this.data.onerror=function(){f.revokeObjectURL(d.data),d.onProcessError()},f.createObjectURL(this.data,this.xhrLoader.response,"image/png")},addToCache:function(){var d,a=this.linkFile;a&&a.state===m.FILE_COMPLETE?(d="image"===this.type?this.cache.addImage(this.key,this.data,a.data):this.cache.addImage(a.key,a.data,this.data),this.pendingDestroy(d),a.pendingDestroy(d)):a||(d=this.cache.addImage(this.key,this.data),this.pendingDestroy(d))}});h.register("image",function(d,a,c){if(Array.isArray(d))for(var p=0;p<d.length;p++)this.addFile(new o(this,d[p]));else this.addFile(new o(this,d,a,c));return this}),C.exports=o},function(C,w){C.exports=function(l,m){m?l.setCollision(!0,!0,!0,!0,!1):l.resetCollision(!1)}},function(C,w,n){var l=n(164),m=n(0),f=n(11),h=n(15),u=n(1065),s=new m({Extends:h,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.ScrollFactor,f.Size,f.TextureCrop,f.Tint,f.Transform,f.Visible,u],initialize:function(d,a,c,p,v){h.call(this,d,"Sprite"),this._crop=this.resetCropObject(),this.anims=new l(this),this.setTexture(p,v),this.setPosition(a,c),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(o,d){this.anims.update(o,d)},play:function(o,d){return this.anims.play(o,d)},playReverse:function(o,d){return this.anims.playReverse(o,d)},playAfterDelay:function(o,d){return this.anims.playAfterDelay(o,d)},playAfterRepeat:function(o,d){return this.anims.playAfterRepeat(o,d)},chain:function(o){return this.anims.chain(o)},stop:function(){return this.anims.stop()},stopAfterDelay:function(o){return this.anims.stopAfterDelay(o)},stopAfterRepeat:function(o){return this.anims.stopAfterRepeat(o)},stopOnFrame:function(o){return this.anims.stopOnFrame(o)},toJSON:function(){return f.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});C.exports=s},function(C,w){C.exports=function(l,m){if(!(m>=l.length)){for(var f=l.length-1,h=l[m],u=m;u<f;u++)l[u]=l[u+1];return l.length=f,h}}},function(C,w,n){C.exports={ADDED_TO_SCENE:n(643),DESTROY:n(644),REMOVED_FROM_SCENE:n(645),VIDEO_COMPLETE:n(646),VIDEO_CREATED:n(647),VIDEO_ERROR:n(648),VIDEO_LOOP:n(649),VIDEO_PLAY:n(650),VIDEO_SEEKED:n(651),VIDEO_SEEKING:n(652),VIDEO_STOP:n(653),VIDEO_TIMEOUT:n(654),VIDEO_UNLOCKED:n(655)}},function(C,w){C.exports=function(l,m,f,h){return void 0===f&&(f=0),0===m?l:(l-=f,l=m*Math.floor(l/m),h?(f+l)/m:f+l)}},function(C,w){C.exports=function(l){var m={};for(var f in l)m[f]=Array.isArray(l[f])?l[f].slice(0):l[f];return m}},function(C,w){C.exports=function(l,m,f,h){var u=l.length;if(m<0||m>u||m>=f||f>u||m+f>u){if(h)throw new Error("Range Error: Values outside acceptable range");return!1}return!0}},function(C,w){function n(h,u){return String(h).localeCompare(u)}function m(h,u,s,o){var p,v,g,x,T,d=h.length,a=0,c=2*s;for(p=0;p<d;p+=c)for(g=(v=p+s)+s,v>d&&(v=d),g>d&&(g=d),x=p,T=v;;)if(x<v&&T<g)u(h[x],h[T])<=0?o[a++]=h[x++]:o[a++]=h[T++];else if(x<v)o[a++]=h[x++];else{if(!(T<g))break;o[a++]=h[T++]}}C.exports=function(h,u){void 0===u&&(u=n);var s=function l(h,u){var s=h.length;if(s<=1)return h;for(var o=new Array(s),d=1;d<s;d*=2){m(h,u,d,o);var a=h;h=o,o=a}return h}(h,u);return s!==h&&m(s,null,h.length,h),h}},function(C,w,n){var l=n(134),m=n(205);C.exports=function(h,u){var s=l.Power0;if("string"==typeof h)if(l.hasOwnProperty(h))s=l[h];else{var o="";h.indexOf(".")&&("in"===(o=h.substr(h.indexOf(".")+1)).toLowerCase()?o="easeIn":"out"===o.toLowerCase()?o="easeOut":"inout"===o.toLowerCase()&&(o="easeInOut")),h=m(h.substr(0,h.indexOf(".")+1)+o),l.hasOwnProperty(h)&&(s=l[h])}else"function"==typeof h?s=h:Array.isArray(h);if(!u)return s;var d=u.slice(0);return d.unshift(0),function(a){return d[0]=a,s.apply(this,d)}}},function(C,w,n){var l=n(12);C.exports=function(f,h,u,s,o){var d=f.strokeTint,a=l.getTintAppendFloatAlpha(h.strokeColor,h.strokeAlpha*u);d.TL=a,d.TR=a,d.BL=a,d.BR=a;var c=h.pathData,p=c.length-1,v=h.lineWidth,g=v/2,x=c[0]-s,T=c[1]-o;h.closePath||(p-=2);for(var S=2;S<p;S+=2){var D=c[S]-s,M=c[S+1]-o;f.batchLine(x,T,D,M,g,g,v,S-2,!!h.closePath&&S===p-1),x=D,T=M}}},function(C,w,n){var l=n(0),m=n(115),f=n(476),h=n(477),u=n(56),s=n(47),o=n(181),d=new l({initialize:function(c,p,v,g,x,T){void 0===c&&(c=0),void 0===p&&(p=0),void 0===v&&(v=0),void 0===g&&(g=0),void 0===x&&(x=0),void 0===T&&(T=0),this.type=u.TRIANGLE,this.x1=c,this.y1=p,this.x2=v,this.y2=g,this.x3=x,this.y3=T},contains:function(a,c){return m(this,a,c)},getPoint:function(a,c){return f(this,a,c)},getPoints:function(a,c,p){return h(this,a,c,p)},getRandomPoint:function(a){return o(this,a)},setTo:function(a,c,p,v,g,x){return void 0===a&&(a=0),void 0===c&&(c=0),void 0===p&&(p=0),void 0===v&&(v=0),void 0===g&&(g=0),void 0===x&&(x=0),this.x1=a,this.y1=c,this.x2=p,this.y2=v,this.x3=g,this.y3=x,this},getLineA:function(a){return void 0===a&&(a=new s),a.setTo(this.x1,this.y1,this.x2,this.y2),a},getLineB:function(a){return void 0===a&&(a=new s),a.setTo(this.x2,this.y2,this.x3,this.y3),a},getLineC:function(a){return void 0===a&&(a=new s),a.setTo(this.x3,this.y3,this.x1,this.y1),a},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(a){var c;this.x1-=c=this.x1<=this.x2&&this.x1<=this.x3?this.x1-a:this.x2<=this.x1&&this.x2<=this.x3?this.x2-a:this.x3-a,this.x2-=c,this.x3-=c}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(a){var c;this.x1-=c=this.x1>=this.x2&&this.x1>=this.x3?this.x1-a:this.x2>=this.x1&&this.x2>=this.x3?this.x2-a:this.x3-a,this.x2-=c,this.x3-=c}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(a){var c;this.y1-=c=this.y1<=this.y2&&this.y1<=this.y3?this.y1-a:this.y2<=this.y1&&this.y2<=this.y3?this.y2-a:this.y3-a,this.y2-=c,this.y3-=c}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(a){var c;this.y1-=c=this.y1>=this.y2&&this.y1>=this.y3?this.y1-a:this.y2>=this.y1&&this.y2>=this.y3?this.y2-a:this.y3-a,this.y2-=c,this.y3-=c}}});C.exports=d},function(C,w){var n={};C.exports=n,n.create=function(l,m){return{x:l||0,y:m||0}},n.clone=function(l){return{x:l.x,y:l.y}},n.magnitude=function(l){return Math.sqrt(l.x*l.x+l.y*l.y)},n.magnitudeSquared=function(l){return l.x*l.x+l.y*l.y},n.rotate=function(l,m,f){var h=Math.cos(m),u=Math.sin(m);f||(f={});var s=l.x*h-l.y*u;return f.y=l.x*u+l.y*h,f.x=s,f},n.rotateAbout=function(l,m,f,h){var u=Math.cos(m),s=Math.sin(m);h||(h={});var o=f.x+((l.x-f.x)*u-(l.y-f.y)*s);return h.y=f.y+((l.x-f.x)*s+(l.y-f.y)*u),h.x=o,h},n.normalise=function(l){var m=n.magnitude(l);return 0===m?{x:0,y:0}:{x:l.x/m,y:l.y/m}},n.dot=function(l,m){return l.x*m.x+l.y*m.y},n.cross=function(l,m){return l.x*m.y-l.y*m.x},n.cross3=function(l,m,f){return(m.x-l.x)*(f.y-l.y)-(m.y-l.y)*(f.x-l.x)},n.add=function(l,m,f){return f||(f={}),f.x=l.x+m.x,f.y=l.y+m.y,f},n.sub=function(l,m,f){return f||(f={}),f.x=l.x-m.x,f.y=l.y-m.y,f},n.mult=function(l,m){return{x:l.x*m,y:l.y*m}},n.div=function(l,m){return{x:l.x/m,y:l.y/m}},n.perp=function(l,m){return{x:(m=!0===m?-1:1)*-l.y,y:m*l.x}},n.neg=function(l){return{x:-l.x,y:-l.y}},n.angle=function(l,m){return Math.atan2(m.y-l.y,m.x-l.x)},n._temp=[n.create(),n.create(),n.create(),n.create(),n.create(),n.create()]},function(C,w){var n={};C.exports=n,n.create=function(l){var m={min:{x:0,y:0},max:{x:0,y:0}};return l&&n.update(m,l),m},n.update=function(l,m,f){l.min.x=1/0,l.max.x=-1/0,l.min.y=1/0,l.max.y=-1/0;for(var h=0;h<m.length;h++){var u=m[h];u.x>l.max.x&&(l.max.x=u.x),u.x<l.min.x&&(l.min.x=u.x),u.y>l.max.y&&(l.max.y=u.y),u.y<l.min.y&&(l.min.y=u.y)}f&&(f.x>0?l.max.x+=f.x:l.min.x+=f.x,f.y>0?l.max.y+=f.y:l.min.y+=f.y)},n.contains=function(l,m){return m.x>=l.min.x&&m.x<=l.max.x&&m.y>=l.min.y&&m.y<=l.max.y},n.overlaps=function(l,m){return l.min.x<=m.max.x&&l.max.x>=m.min.x&&l.max.y>=m.min.y&&l.min.y<=m.max.y},n.translate=function(l,m){l.min.x+=m.x,l.max.x+=m.x,l.min.y+=m.y,l.max.y+=m.y},n.shift=function(l,m){var f=l.max.x-l.min.x,h=l.max.y-l.min.y;l.min.x=m.x,l.max.x=m.x+f,l.min.y=m.y,l.max.y=m.y+h}},function(C,w,n){var l=n(29),m=n(0),f=n(11),h=n(502),u=new m({Mixins:[f.Alpha,f.Flip,f.Visible],initialize:function(o,d,a,c,p,v,g,x){this.layer=o,this.index=d,this.x=a,this.y=c,this.width=p,this.height=v,this.baseWidth=void 0!==g?g:p,this.baseHeight=void 0!==x?x:v,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(s,o){return!(s<this.pixelX||o<this.pixelY||s>this.right||o>this.bottom)},copy:function(s){return this.index=s.index,this.alpha=s.alpha,this.properties=s.properties,this.visible=s.visible,this.setFlip(s.flipX,s.flipY),this.tint=s.tint,this.rotation=s.rotation,this.collideUp=s.collideUp,this.collideDown=s.collideDown,this.collideLeft=s.collideLeft,this.collideRight=s.collideRight,this.collisionCallback=s.collisionCallback,this.collisionCallbackContext=s.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(s){var o=this.tilemapLayer;return o?o.tileToWorldX(this.x,s):this.x*this.baseWidth},getRight:function(s){var o=this.tilemapLayer;return o?this.getLeft(s)+this.width*o.scaleX:this.getLeft(s)+this.width},getTop:function(s){var o=this.tilemapLayer;return o?o.tileToWorldY(this.y,s)-(this.height-this.baseHeight)*o.scaleY:this.y*this.baseHeight-(this.height-this.baseHeight)},getBottom:function(s){var o=this.tilemapLayer;return o?this.getTop(s)+this.height*o.scaleY:this.getTop(s)+this.height},getBounds:function(s,o){return void 0===o&&(o=new h),o.x=this.getLeft(),o.y=this.getTop(),o.width=this.getRight()-o.x,o.height=this.getBottom()-o.y,o},getCenterX:function(s){return(this.getLeft(s)+this.getRight(s))/2},getCenterY:function(s){return(this.getTop(s)+this.getBottom(s))/2},intersects:function(s,o,d,a){return!(d<=this.pixelX||a<=this.pixelY||s>=this.right||o>=this.bottom)},isInteresting:function(s,o){return s&&o?this.canCollide||this.hasInterestingFace:s?this.collides:!!o&&this.hasInterestingFace},resetCollision:function(s){return void 0===s&&(s=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,s&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(s,o,d,a,c){return void 0===o&&(o=s),void 0===d&&(d=s),void 0===a&&(a=s),void 0===c&&(c=!0),this.collideLeft=s,this.collideRight=o,this.collideUp=d,this.collideDown=a,this.faceLeft=s,this.faceRight=o,this.faceTop=d,this.faceBottom=a,c&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},setCollisionCallback:function(s,o){return null===s?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=s,this.collisionCallbackContext=o),this},setSize:function(s,o,d,a){return void 0!==s&&(this.width=s),void 0!==o&&(this.height=o),void 0!==d&&(this.baseWidth=d),void 0!==a&&(this.baseHeight=a),this.updatePixelXY(),this},updatePixelXY:function(){var s=this.layer.orientation;if(s===l.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(s===l.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(s===l.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(s===l.HEXAGONAL){var o=this.layer.hexSideLength,d=(this.baseHeight-o)/2+o;this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*d}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||void 0!==this.collisionCallback}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var s=this.layer.tilemapLayer;if(s){var o=s.gidMap[this.index];if(o)return o}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var s=this.tilemapLayer;return s?s.tilemap:null}}});C.exports=u},function(C,w,n){var l={};C.exports=l;var m=n(64),f=n(32),h=n(41),u=n(84),s=n(83),o=n(1393);l.rectangle=function(d,a,c,p,v){v=v||{};var g={label:"Rectangle Body",position:{x:d,y:a},vertices:m.fromPath("L 0 0 L "+c+" 0 L "+c+" "+p+" L 0 "+p)};if(v.chamfer){var x=v.chamfer;g.vertices=m.chamfer(g.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete v.chamfer}return h.create(f.extend({},g,v))},l.trapezoid=function(d,a,c,p,v,g){g=g||{};var T=c*(v*=.5),S=T+(1-2*v)*c,D=S+T,R={label:"Trapezoid Body",position:{x:d,y:a},vertices:m.fromPath(v<.5?"L 0 0 L "+T+" "+-p+" L "+S+" "+-p+" L "+D+" 0":"L 0 0 L "+S+" "+-p+" L "+D+" 0")};if(g.chamfer){var P=g.chamfer;R.vertices=m.chamfer(R.vertices,P.radius,P.quality,P.qualityMin,P.qualityMax),delete g.chamfer}return h.create(f.extend({},R,g))},l.circle=function(d,a,c,p,v){p=p||{};var g={label:"Circle Body",circleRadius:c};v=v||25;var x=Math.ceil(Math.max(10,Math.min(v,c)));return x%2==1&&(x+=1),l.polygon(d,a,x,c,f.extend({},g,p))},l.polygon=function(d,a,c,p,v){if(v=v||{},c<3)return l.circle(d,a,p,v);for(var g=2*Math.PI/c,x="",T=.5*g,S=0;S<c;S+=1){var D=T+S*g,M=Math.cos(D)*p,R=Math.sin(D)*p;x+="L "+M.toFixed(3)+" "+R.toFixed(3)+" "}var P={label:"Polygon Body",position:{x:d,y:a},vertices:m.fromPath(x)};if(v.chamfer){var I=v.chamfer;P.vertices=m.chamfer(P.vertices,I.radius,I.quality,I.qualityMin,I.qualityMax),delete v.chamfer}return h.create(f.extend({},P,v))},l.fromVertices=function(d,a,c,p,v,g,x){var T,S,D,M,R,b;for(p=p||{},S=[],v=void 0!==v&&v,g=void 0!==g?g:.01,x=void 0!==x?x:10,o||f.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),f.isArray(c[0])||(c=[c]),b=0;b<c.length;b+=1)if((D=m.isConvex(M=c[b]))||!o)M=D?m.clockwiseSort(M):m.hull(M),S.push({position:{x:d,y:a},vertices:M});else{var B=M.map(function(K){return[K.x,K.y]});o.makeCCW(B),!1!==g&&o.removeCollinearPoints(B,g);var V=o.quickDecomp(B);for(R=0;R<V.length;R++){var W=V[R].map(function(K){return{x:K[0],y:K[1]}});x>0&&m.area(W)<x||S.push({position:m.centre(W),vertices:W})}}for(R=0;R<S.length;R++)S[R]=h.create(f.extend(S[R],p));return v&&l.flagCoincidentParts(S,5),S.length>1?(T=h.create(f.extend({parts:S.slice(0)},p)),h.setPosition(T,{x:d,y:a}),T):S[0]},l.flagCoincidentParts=function(d,a){void 0===a&&(a=5);for(var c=0;c<d.length;c++)for(var p=d[c],v=c+1;v<d.length;v++){var g=d[v];if(u.overlaps(p.bounds,g.bounds))for(var x=p.vertices,T=g.vertices,S=0;S<p.vertices.length;S++)for(var D=0;D<g.vertices.length;D++){var M=s.magnitudeSquared(s.sub(x[(S+1)%x.length],T[D])),R=s.magnitudeSquared(s.sub(x[S],T[(D+1)%T.length]));M<a&&R<a&&(x[S].isInternal=!0,T[D].isInternal=!0)}}return d}},function(C,w){C.exports=function(l){return l.x-l.width*l.originX+.5*l.width}},function(C,w){C.exports=function(l,m){return l.x=m+l.width*l.originX-.5*l.width,l}},function(C,w){C.exports=function(l){return l.y-l.height*l.originY+.5*l.height}},function(C,w){C.exports=function(l,m){return l.y=m+l.height*l.originY-.5*l.height,l}},function(C,w,n){C.exports={POST_RENDER:n(628),PRE_RENDER:n(629),RENDER:n(630),RESIZE:n(631)}},function(C,w){C.exports={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline"}},function(C,w,n){var l=n(74);C.exports=function(f,h,u,s){var o;if(void 0===s&&(s=f),!Array.isArray(h))return-1!==(o=f.indexOf(h))?(l(f,o),u&&u.call(s,h),h):null;for(var d=h.length-1,a=[];d>=0;){var c=h[d];-1!==(o=f.indexOf(c))&&(l(f,o),a.push(c),u&&u.call(s,c)),d--}return a}},function(C,w,n){var l=n(0),m=n(199),f=n(10),h=n(3),u=new l({initialize:function(o){this.type=o,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new h,this._tmpVec2B=new h},draw:function(s,o){return void 0===o&&(o=32),s.strokePoints(this.getPoints(o))},getBounds:function(s,o){s||(s=new f),void 0===o&&(o=16);var d=this.getLength();o>d&&(o=d/2);var a=Math.max(1,Math.round(d/o));return m(this.getSpacedPoints(a),s)},getDistancePoints:function(s){var o=this.getLength(),d=Math.max(1,o/s);return this.getSpacedPoints(d)},getEndPoint:function(s){return void 0===s&&(s=new h),this.getPointAt(1,s)},getLength:function(){var s=this.getLengths();return s[s.length-1]},getLengths:function(s){if(void 0===s&&(s=this.arcLengthDivisions),this.cacheArcLengths.length===s+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var d,o=[],a=this.getPoint(0,this._tmpVec2A),c=0;o.push(0);for(var p=1;p<=s;p++)c+=(d=this.getPoint(p/s,this._tmpVec2B)).distance(a),o.push(c),a.copy(d);return this.cacheArcLengths=o,o},getPointAt:function(s,o){var d=this.getUtoTmapping(s);return this.getPoint(d,o)},getPoints:function(s,o,d){void 0===d&&(d=[]),s||(s=o?this.getLength()/o:this.defaultDivisions);for(var a=0;a<=s;a++)d.push(this.getPoint(a/s));return d},getRandomPoint:function(s){return void 0===s&&(s=new h),this.getPoint(Math.random(),s)},getSpacedPoints:function(s,o,d){void 0===d&&(d=[]),s||(s=o?this.getLength()/o:this.defaultDivisions);for(var a=0;a<=s;a++){var c=this.getUtoTmapping(a/s,null,s);d.push(this.getPoint(c))}return d},getStartPoint:function(s){return void 0===s&&(s=new h),this.getPointAt(0,s)},getTangent:function(s,o){void 0===o&&(o=new h);var d=1e-4,a=s-d,c=s+d;return a<0&&(a=0),c>1&&(c=1),this.getPoint(a,this._tmpVec2A),this.getPoint(c,o),o.subtract(this._tmpVec2A).normalize()},getTangentAt:function(s,o){var d=this.getUtoTmapping(s);return this.getTangent(d,o)},getTFromDistance:function(s,o){return s<=0?0:this.getUtoTmapping(0,s,o)},getUtoTmapping:function(s,o,d){var v,a=this.getLengths(d),c=0,p=a.length;v=o?Math.min(o,a[p-1]):s*a[p-1];for(var T,g=0,x=p-1;g<=x;)if((T=a[c=Math.floor(g+(x-g)/2)]-v)<0)g=c+1;else{if(!(T>0)){x=c;break}x=c-1}if(a[c=x]===v)return c/(p-1);var S=a[c];return(c+(v-S)/(a[c+1]-S))/(p-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});C.exports=u},function(C,w,n){C.exports={ADD:n(968),COMPLETE:n(969),FILE_COMPLETE:n(970),FILE_KEY_COMPLETE:n(971),FILE_LOAD_ERROR:n(972),FILE_LOAD:n(973),FILE_PROGRESS:n(974),POST_PROCESS:n(975),PROGRESS:n(976),START:n(977)}},function(C,w,n){var l=n(4);C.exports=function(f,h,u){void 0===u&&(u=new l);var s=f.x1,o=f.y1,d=f.x2,a=f.y2,c=h.x1,p=h.y1,v=h.x2,g=h.y2,S=(g-p)*(d-s)-(v-c)*(a-o);if(0===S)return!1;var D=((v-c)*(o-p)-(g-p)*(s-c))/S,M=((d-s)*(o-p)-(a-o)*(s-c))/S;return D>=0&&D<=1&&M>=0&&M<=1&&(u.x=s+D*(d-s),u.y=o+D*(a-o),!0)}},function(C,w){C.exports=function(l){return Math.atan2(l.y2-l.y1,l.x2-l.x1)}},function(C,w,n){var l=n(18);C.exports=function(f,h,u){return(u-h)*(f=l(f,0,1))+h}},function(C,w){C.exports=function(l,m,f){return l&&l.hasOwnProperty(m)?l[m]:f}},function(C,w){C.exports={CREATED:0,INIT:1,DELAY:2,OFFSET_DELAY:3,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING_ADD:20,PAUSED:21,LOOP_DELAY:22,ACTIVE:23,COMPLETE_DELAY:24,PENDING_REMOVE:25,REMOVED:26}},function(C,w,n){var l=n(0),m=n(315),f=new l({initialize:function(u,s){this.parent=u,this.events=s,s||(this.events=u.events?u.events:u),this.list={},this.values={},this._frozen=!1,!u.hasOwnProperty("sys")&&this.events&&this.events.once(m.DESTROY,this.destroy,this)},get:function(h){var u=this.list;if(Array.isArray(h)){for(var s=[],o=0;o<h.length;o++)s.push(u[h[o]]);return s}return u[h]},getAll:function(){var h={};for(var u in this.list)this.list.hasOwnProperty(u)&&(h[u]=this.list[u]);return h},query:function(h){var u={};for(var s in this.list)this.list.hasOwnProperty(s)&&s.match(h)&&(u[s]=this.list[s]);return u},set:function(h,u){if(this._frozen)return this;if("string"==typeof h)return this.setValue(h,u);for(var s in h)this.setValue(s,h[s]);return this},inc:function(h,u){if(this._frozen)return this;void 0===u&&(u=1);var s=this.get(h);return void 0===s&&(s=0),this.set(h,s+u),this},toggle:function(h){return this._frozen||this.set(h,!this.get(h)),this},setValue:function(h,u){if(this._frozen)return this;if(this.has(h))this.values[h]=u;else{var s=this,o=this.list,d=this.events,a=this.parent;Object.defineProperty(this.values,h,{enumerable:!0,configurable:!0,get:function(){return o[h]},set:function(c){if(!s._frozen){var p=o[h];o[h]=c,d.emit(m.CHANGE_DATA,a,h,c,p),d.emit(m.CHANGE_DATA_KEY+h,a,c,p)}}}),o[h]=u,d.emit(m.SET_DATA,a,h,u)}return this},each:function(h,u){for(var s=[this.parent,null,void 0],o=1;o<arguments.length;o++)s.push(arguments[o]);for(var d in this.list)s[1]=d,s[2]=this.list[d],h.apply(u,s);return this},merge:function(h,u){for(var s in void 0===u&&(u=!0),h)h.hasOwnProperty(s)&&(u||!u&&!this.has(s))&&this.setValue(s,h[s]);return this},remove:function(h){if(this._frozen)return this;if(!Array.isArray(h))return this.removeValue(h);for(var u=0;u<h.length;u++)this.removeValue(h[u]);return this},removeValue:function(h){if(this.has(h)){var u=this.list[h];delete this.list[h],delete this.values[h],this.events.emit(m.REMOVE_DATA,this.parent,h,u)}return this},pop:function(h){var u=void 0;return!this._frozen&&this.has(h)&&(u=this.list[h],delete this.list[h],delete this.values[h],this.events.emit(m.REMOVE_DATA,this.parent,h,u)),u},has:function(h){return this.list.hasOwnProperty(h)},setFreeze:function(h){return this._frozen=h,this},reset:function(){for(var h in this.list)delete this.list[h],delete this.values[h];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(m.CHANGE_DATA),this.events.off(m.SET_DATA),this.events.off(m.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(h){this._frozen=!!h}},count:{get:function(){var h=0;for(var u in this.list)void 0!==this.list[u]&&h++;return h}}});C.exports=f},function(C,w,n){var m=new(n(0))({initialize:function(h){if(this.entries={},this.size=0,Array.isArray(h))for(var u=0;u<h.length;u++)this.set(h[u][0],h[u][1])},set:function(f,h){return this.has(f)||this.size++,this.entries[f]=h,this},get:function(f){if(this.has(f))return this.entries[f]},getArray:function(){var f=[],h=this.entries;for(var u in h)f.push(h[u]);return f},has:function(f){return this.entries.hasOwnProperty(f)},delete:function(f){return this.has(f)&&(delete this.entries[f],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(f){delete this.entries[f]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var f=[],h=this.entries;for(var u in h)f.push(h[u]);return f},dump:function(){var f=this.entries;for(var h in console.group("Map"),f)console.log(h,f[h]);console.groupEnd()},each:function(f){var h=this.entries;for(var u in h)if(!1===f(u,h[u]))break;return this},contains:function(f){var h=this.entries;for(var u in h)if(h[u]===f)return!0;return!1},merge:function(f,h){void 0===h&&(h=!1);var u=this.entries,s=f.entries;for(var o in s)u.hasOwnProperty(o)&&h?u[o]=s[o]:this.set(o,s[o]);return this}});C.exports=m},function(C,w){C.exports=function(l,m,f){return l<<16|m<<8|f}},function(C,w,n){C.exports={ENTER_FULLSCREEN:n(800),FULLSCREEN_FAILED:n(801),FULLSCREEN_UNSUPPORTED:n(802),LEAVE_FULLSCREEN:n(803),ORIENTATION_CHANGE:n(804),RESIZE:n(805)}},function(C,w,n){(function(l){var m={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};C.exports=function f(){if("function"==typeof importScripts)return m;var h=navigator.userAgent;/Windows/.test(h)?m.windows=!0:/Mac OS/.test(h)&&!/like Mac OS/.test(h)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(m.iOS=!0,m.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),m.iOSVersion=parseInt(RegExp.$1,10)):m.macOS=!0:/Android/.test(h)?m.android=!0:/Linux/.test(h)?m.linux=!0:/iP[ao]d|iPhone/i.test(h)?(m.iOS=!0,navigator.appVersion.match(/OS (\d+)/),m.iOSVersion=parseInt(RegExp.$1,10),m.iPhone=-1!==h.toLowerCase().indexOf("iphone"),m.iPad=-1!==h.toLowerCase().indexOf("ipad")):/Kindle/.test(h)||/\bKF[A-Z][A-Z]+/.test(h)||/Silk.*Mobile Safari/.test(h)?m.kindle=!0:/CrOS/.test(h)&&(m.chromeOS=!0),(/Windows Phone/i.test(h)||/IEMobile/i.test(h))&&(m.android=!1,m.iOS=!1,m.macOS=!1,m.windows=!0,m.windowsPhone=!0);var u=/Silk/.test(h);return(m.windows||m.macOS||m.linux&&!u||m.chromeOS)&&(m.desktop=!0),(m.windowsPhone||/Windows NT/i.test(h)&&/Touch/i.test(h))&&(m.desktop=!1),navigator.standalone&&(m.webApp=!0),"function"!=typeof importScripts&&(void 0!==window.cordova&&(m.cordova=!0),void 0!==window.ejecta&&(m.ejecta=!0)),void 0!==l&&l.versions&&l.versions.node&&(m.node=!0),m.node&&"object"==typeof l.versions&&(m.nodeWebkit=!!l.versions["node-webkit"],m.electron=!!l.versions.electron),/Crosswalk/.test(h)&&(m.crosswalk=!0),m.pixelRatio=window.devicePixelRatio||1,m}()}).call(this,n(807))},function(C,w,n){C.exports={ADD:n(861),ERROR:n(862),LOAD:n(863),READY:n(864),REMOVE:n(865)}},function(C,w){C.exports={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}}},function(C,w,n){var l=n(0),m=n(59),f=n(2),h=n(878),u=n(879),s=n(25),o=n(12),d=n(107),a=n(58),c=new l({Extends:a,initialize:function(v){var g=v.game.renderer,x=f(v,"fragShader",h);v.fragShader=o.parseFragmentShaderMaxTextures(x,g.maxTextures),v.vertShader=f(v,"vertShader",u),v.attributes=f(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:d.UNSIGNED_BYTE,normalized:!0}]),a.call(this,v),this._tempMatrix1=new s,this._tempMatrix2=new s,this._tempMatrix3=new s,this.calcMatrix=new s,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){a.prototype.boot.call(this),this.currentShader.set1iv("uMainSampler",this.renderer.textureIndexes)},batchSprite:function(p,v,g){this.manager.set(this,p);var x=this._tempMatrix1,T=this._tempMatrix2,S=this._tempMatrix3,D=p.frame,M=D.glTexture,R=D.u0,P=D.v0,I=D.u1,b=D.v1,L=D.x,B=D.y,V=D.cutWidth,z=D.cutHeight,W=D.customPivot,K=p.displayOriginX,J=p.displayOriginY,tt=-K+L,it=-J+B;if(p.isCropped){var H=p._crop;(H.flipX!==p.flipX||H.flipY!==p.flipY)&&D.updateCropUVs(H,p.flipX,p.flipY),R=H.u0,P=H.v0,I=H.u1,b=H.v1,V=H.width,z=H.height,tt=-K+(L=H.x),it=-J+(B=H.y)}var G=1,Y=1;p.flipX&&(W||(tt+=2*K-D.realWidth),G=-1),(p.flipY||D.source.isGLTexture&&!M.flipY)&&(W||(it+=2*J-D.realHeight),Y=-1),T.applyITRS(p.x,p.y,p.rotation,p.scaleX*G,p.scaleY*Y),x.copyFrom(v.matrix),g?(x.multiplyWithOffset(g,-v.scrollX*p.scrollFactorX,-v.scrollY*p.scrollFactorY),T.e=p.x,T.f=p.y):(T.e-=v.scrollX*p.scrollFactorX,T.f-=v.scrollY*p.scrollFactorY),x.multiply(T,S);var X=tt+V,$=it+z,Q=v.roundPixels,_=S.getXRound(tt,it,Q),et=S.getYRound(tt,it,Q),ot=S.getXRound(tt,$,Q),lt=S.getYRound(tt,$,Q),ht=S.getXRound(X,$,Q),ft=S.getYRound(X,$,Q),gt=S.getXRound(X,it,Q),Et=S.getYRound(X,it,Q),Ct=o.getTintAppendFloatAlpha,Mt=v.alpha,kt=Ct(p.tintTopLeft,Mt*p._alphaTL),Gt=Ct(p.tintTopRight,Mt*p._alphaTR),Bt=Ct(p.tintBottomLeft,Mt*p._alphaBL),Tt=Ct(p.tintBottomRight,Mt*p._alphaBR);this.shouldFlush(6)&&this.flush();var ee=this.setGameObject(p,D);this.manager.preBatch(p),this.batchQuad(p,_,et,ot,lt,ht,ft,gt,Et,R,P,I,b,kt,Gt,Bt,Tt,p.tintFill,M,ee),this.manager.postBatch(p)},batchTexture:function(p,v,g,x,T,S,D,M,R,P,I,b,L,B,V,z,W,K,J,tt,it,H,G,Y,X,$,Q,_,et,ot,lt,ht){this.manager.set(this,p);var ft=this._tempMatrix1,gt=this._tempMatrix2,Et=this._tempMatrix3,Ct=K/g+Q,Mt=J/x+_,kt=(K+tt)/g+Q,Gt=(J+it)/x+_,Bt=D,Tt=M,ee=-z,bt=-W;if(p.isCropped){var Ht=p._crop,fi=Ht.width,gi=Ht.height;Bt=fi,Tt=gi,D=fi,M=gi;var Ae=K=Ht.x,le=J=Ht.y;b&&(Ae=tt-Ht.x-fi),L&&(le=it-Ht.y-gi),Ct=Ae/g+Q,Mt=le/x+_,kt=(Ae+fi)/g+Q,Gt=(le+gi)/x+_,ee=-z+K,bt=-W+J}b&&(Bt*=-1,ee+=D),(L^=!lt&&v.isRenderTexture?1:0)&&(Tt*=-1,bt+=M);var je=ee+Bt,ye=bt+Tt;gt.applyITRS(T,S,I,R,P),ft.copyFrom(et.matrix),ot?(ft.multiplyWithOffset(ot,-et.scrollX*B,-et.scrollY*V),gt.e=T,gt.f=S):(gt.e-=et.scrollX*B,gt.f-=et.scrollY*V),ft.multiply(gt,Et);var Ie=et.roundPixels,Ei=Et.getXRound(ee,bt,Ie),mn=Et.getYRound(ee,bt,Ie),Un=Et.getXRound(ee,ye,Ie),yn=Et.getYRound(ee,ye,Ie),Hn=Et.getXRound(je,ye,Ie),zn=Et.getYRound(je,ye,Ie),Wn=Et.getXRound(je,bt,Ie),Wv=Et.getYRound(je,bt,Ie);void 0===ht&&(ht=this.renderer.setTexture2D(v)),p&&this.manager.preBatch(p),this.batchQuad(p,Ei,mn,Un,yn,Hn,zn,Wn,Wv,Ct,Mt,kt,Gt,H,G,Y,X,$,v,ht),p&&this.manager.postBatch(p)},batchTextureFrame:function(p,v,g,x,T,S,D){this.manager.set(this);var M=this._tempMatrix1.copyFrom(S),R=this._tempMatrix2,P=v+p.width,I=g+p.height;D?M.multiply(D,R):R=M;var b=R.getX(v,g),L=R.getY(v,g),B=R.getX(v,I),V=R.getY(v,I),z=R.getX(P,I),W=R.getY(P,I),K=R.getX(P,g),J=R.getY(P,g),tt=this.renderer.setTextureSource(p.source);x=o.getTintAppendFloatAlpha(x,T),this.batchQuad(null,b,L,B,V,z,W,K,J,p.u0,p.v0,p.u1,p.v1,x,x,x,x,0,p.glTexture,tt)},batchFillRect:function(p,v,g,x,T,S){this.renderer.pipelines.set(this);var D=this.calcMatrix;S&&S.multiply(T,D);var M=p+g,R=v+x,P=D.getX(p,v),I=D.getY(p,v),b=D.getX(p,R),L=D.getY(p,R),B=D.getX(M,R),V=D.getY(M,R),z=D.getX(M,v),W=D.getY(M,v),K=this.fillTint;this.batchQuad(null,P,I,b,L,B,V,z,W,0,0,1,1,K.TL,K.TR,K.BL,K.BR,2)},batchFillTriangle:function(p,v,g,x,T,S,D,M){this.renderer.pipelines.set(this);var R=this.calcMatrix;M&&M.multiply(D,R);var P=R.getX(p,v),I=R.getY(p,v),b=R.getX(g,x),L=R.getY(g,x),B=R.getX(T,S),V=R.getY(T,S),z=this.fillTint;this.batchTri(null,P,I,b,L,B,V,0,0,1,1,z.TL,z.TR,z.BL,2)},batchStrokeTriangle:function(p,v,g,x,T,S,D,M,R){var P=this.tempTriangle;P[0].x=p,P[0].y=v,P[0].width=D,P[1].x=g,P[1].y=x,P[1].width=D,P[2].x=T,P[2].y=S,P[2].width=D,P[3].x=p,P[3].y=v,P[3].width=D,this.batchStrokePath(P,D,!1,M,R)},batchFillPath:function(p,v,g){this.renderer.pipelines.set(this);var x=this.calcMatrix;g&&g.multiply(v,x);for(var D,M,T=p.length,S=this.polygonCache,R=this.fillTint.TL,P=this.fillTint.TR,I=this.fillTint.BL,b=0;b<T;++b)S.push((M=p[b]).x,M.y);T=(D=m(S)).length;for(var L=0;L<T;L+=3){var B=2*D[L+0],V=2*D[L+1],z=2*D[L+2],W=S[B+0],K=S[B+1],J=S[V+0],tt=S[V+1],it=S[z+0],H=S[z+1],G=x.getX(W,K),Y=x.getY(W,K),X=x.getX(J,tt),$=x.getY(J,tt),Q=x.getX(it,H),_=x.getY(it,H);this.batchTri(null,G,Y,X,$,Q,_,0,0,1,1,R,P,I,2)}S.length=0},batchStrokePath:function(p,v,g,x,T){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var S=p.length-1,D=0;D<S;D++){var M=p[D],R=p[D+1];this.batchLine(M.x,M.y,R.x,R.y,M.width/2,R.width/2,v,D,!g&&D===S-1,x,T)}},batchLine:function(p,v,g,x,T,S,D,M,R,P,I){this.renderer.pipelines.set(this);var b=this.calcMatrix;I&&I.multiply(P,b);var L=g-p,B=x-v,V=Math.sqrt(L*L+B*B),z=T*(x-v)/V,W=T*(p-g)/V,K=S*(x-v)/V,J=S*(p-g)/V,tt=g-K,it=x-J,H=p-z,G=v-W,Y=g+K,X=x+J,$=p+z,Q=v+W,_=b.getX(tt,it),et=b.getY(tt,it),ot=b.getX(H,G),lt=b.getY(H,G),ht=b.getX(Y,X),ft=b.getY(Y,X),gt=b.getX($,Q),Et=b.getY($,Q),Ct=this.strokeTint,Mt=Ct.TL,kt=Ct.TR,Gt=Ct.BL,Bt=Ct.BR;if(this.batchQuad(null,gt,Et,ot,lt,_,et,ht,ft,0,0,1,1,Mt,kt,Gt,Bt,2),!(D<=2)){var Tt=this.prevQuad,ee=this.firstQuad;M>0&&Tt[4]?this.batchQuad(null,gt,Et,ot,lt,Tt[0],Tt[1],Tt[2],Tt[3],0,0,1,1,Mt,kt,Gt,Bt,2):(ee[0]=gt,ee[1]=Et,ee[2]=ot,ee[3]=lt,ee[4]=1),R&&ee[4]?this.batchQuad(null,_,et,ht,ft,ee[0],ee[1],ee[2],ee[3],0,0,1,1,Mt,kt,Gt,Bt,2):(Tt[0]=_,Tt[1]=et,Tt[2]=ht,Tt[3]=ft,Tt[4]=1)}}});C.exports=c},function(C,w,n){var l=n(0),m=n(18),f=n(17),h=new l({initialize:function(s,o,d,a,c,p,v){this.texture=s,this.name=o,this.source=s.source[d],this.sourceIndex=d,this.glTexture=this.source.glTexture,this.x=0,this.y=0,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(p,v,a,c)},setSize:function(u,s,o,d){void 0===o&&(o=0),void 0===d&&(d=0),this.cutX=o,this.cutY=d,this.cutWidth=u,this.cutHeight=s,this.width=u,this.height=s,this.halfWidth=Math.floor(.5*u),this.halfHeight=Math.floor(.5*s),this.centerX=Math.floor(u/2),this.centerY=Math.floor(s/2);var a=this.data,c=a.cut;c.x=o,c.y=d,c.w=u,c.h=s,c.r=o+u,c.b=d+s,a.sourceSize.w=u,a.sourceSize.h=s,a.spriteSourceSize.w=u,a.spriteSourceSize.h=s,a.radius=.5*Math.sqrt(u*u+s*s);var p=a.drawImage;return p.x=o,p.y=d,p.width=u,p.height=s,this.updateUVs()},setTrim:function(u,s,o,d,a,c){var p=this.data,v=p.spriteSourceSize;return p.trim=!0,p.sourceSize.w=u,p.sourceSize.h=s,v.x=o,v.y=d,v.w=a,v.h=c,v.r=o+a,v.b=d+c,this.x=o,this.y=d,this.width=a,this.height=c,this.halfWidth=.5*a,this.halfHeight=.5*c,this.centerX=Math.floor(a/2),this.centerY=Math.floor(c/2),this.updateUVs()},setCropUVs:function(u,s,o,d,a,c,p){var v=this.cutX,g=this.cutY,x=this.cutWidth,T=this.cutHeight,S=this.realWidth,D=this.realHeight,M=v+(s=m(s,0,S)),R=g+(o=m(o,0,D)),P=d=m(d,0,S-s),I=a=m(a,0,D-o),b=this.data;if(b.trim){var L=b.spriteSourceSize,B=s+(d=m(d,0,x-s)),V=o+(a=m(a,0,T-o));if(L.r<s||L.b<o||L.x>B||L.y>V)M=0,R=0,P=0,I=0;else{var W=Math.max(L.x,s),K=Math.max(L.y,o),J=Math.min(L.r,B)-W,tt=Math.min(L.b,V)-K;P=J,I=tt,M=c?v+(x-(W-L.x)-J):v+(W-L.x),R=p?g+(T-(K-L.y)-tt):g+(K-L.y),s=W,o=K,d=J,a=tt}}else c&&(M=v+(x-s-d)),p&&(R=g+(T-o-a));var it=this.source.width,H=this.source.height;return u.u0=Math.max(0,M/it),u.v0=Math.max(0,R/H),u.u1=Math.min(1,(M+P)/it),u.v1=Math.min(1,(R+I)/H),u.x=s,u.y=o,u.cx=M,u.cy=R,u.cw=P,u.ch=I,u.width=d,u.height=a,u.flipX=c,u.flipY=p,u},updateCropUVs:function(u,s,o){return this.setCropUVs(u,u.x,u.y,u.width,u.height,s,o)},setUVs:function(u,s,o,d,a,c){var p=this.data.drawImage;return p.width=u,p.height=s,this.u0=o,this.v0=d,this.u1=a,this.v1=c,this},updateUVs:function(){var u=this.cutX,s=this.cutY,o=this.cutWidth,d=this.cutHeight,a=this.data.drawImage;a.width=o,a.height=d;var c=this.source.width,p=this.source.height;return this.u0=u/c,this.v0=s/p,this.u1=(u+o)/c,this.v1=(s+d)/p,this},updateUVsInverted:function(){var u=this.source.width,s=this.source.height;return this.u0=(this.cutX+this.cutHeight)/u,this.v0=this.cutY/s,this.u1=this.cutX/u,this.v1=(this.cutY+this.cutWidth)/s,this},clone:function(){var u=new h(this.texture,this.name,this.sourceIndex);return u.cutX=this.cutX,u.cutY=this.cutY,u.cutWidth=this.cutWidth,u.cutHeight=this.cutHeight,u.x=this.x,u.y=this.y,u.width=this.width,u.height=this.height,u.halfWidth=this.halfWidth,u.halfHeight=this.halfHeight,u.centerX=this.centerX,u.centerY=this.centerY,u.rotated=this.rotated,u.data=f(!0,u.data,this.data),u.updateUVs(),u},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});C.exports=h},function(C,w,n){var l=n(208),m=n(0),f=n(1),h=n(79),u=new m({initialize:function(o){this.parent=o,this.list=[],this.position=0,this.addCallback=f,this.removeCallback=f,this._sortKey=""},add:function(s,o){return o?l.Add(this.list,s):l.Add(this.list,s,0,this.addCallback,this)},addAt:function(s,o,d){return d?l.AddAt(this.list,s,o):l.AddAt(this.list,s,o,0,this.addCallback,this)},getAt:function(s){return this.list[s]},getIndex:function(s){return this.list.indexOf(s)},sort:function(s,o){return s?(void 0===o&&(o=function(d,a){return d[s]-a[s]}),h(this.list,o),this):this},getByName:function(s){return l.GetFirst(this.list,"name",s)},getRandom:function(s,o){return l.GetRandom(this.list,s,o)},getFirst:function(s,o,d,a){return l.GetFirst(this.list,s,o,d,a)},getAll:function(s,o,d,a){return l.GetAll(this.list,s,o,d,a)},count:function(s,o){return l.CountAllMatching(this.list,s,o)},swap:function(s,o){l.Swap(this.list,s,o)},moveTo:function(s,o){return l.MoveTo(this.list,s,o)},moveAbove:function(s,o){return l.MoveAbove(this.list,s,o)},moveBelow:function(s,o){return l.MoveBelow(this.list,s,o)},remove:function(s,o){return o?l.Remove(this.list,s):l.Remove(this.list,s,this.removeCallback,this)},removeAt:function(s,o){return o?l.RemoveAt(this.list,s):l.RemoveAt(this.list,s,this.removeCallback,this)},removeBetween:function(s,o,d){return d?l.RemoveBetween(this.list,s,o):l.RemoveBetween(this.list,s,o,this.removeCallback,this)},removeAll:function(s){for(var o=this.list.length;o--;)this.remove(this.list[o],s);return this},bringToTop:function(s){return l.BringToTop(this.list,s)},sendToBack:function(s){return l.SendToBack(this.list,s)},moveUp:function(s){return l.MoveUp(this.list,s),s},moveDown:function(s){return l.MoveDown(this.list,s),s},reverse:function(){return this.list.reverse(),this},shuffle:function(){return l.Shuffle(this.list),this},replace:function(s,o){return l.Replace(this.list,s,o)},exists:function(s){return this.list.indexOf(s)>-1},setAll:function(s,o,d,a){return l.SetAll(this.list,s,o,d,a),this},each:function(s,o){for(var d=[null],a=2;a<arguments.length;a++)d.push(arguments[a]);for(a=0;a<this.list.length;a++)d[0]=this.list[a],s.apply(o,d)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});C.exports=u},function(C,w,n){var l=n(0),m=n(112),f=n(445),h=n(446),u=n(56),s=n(180),o=new l({initialize:function(a,c,p,v){void 0===a&&(a=0),void 0===c&&(c=0),void 0===p&&(p=0),void 0===v&&(v=0),this.type=u.ELLIPSE,this.x=a,this.y=c,this.width=p,this.height=v},contains:function(d,a){return m(this,d,a)},getPoint:function(d,a){return f(this,d,a)},getPoints:function(d,a,c){return h(this,d,a,c)},getRandomPoint:function(d){return s(this,d)},setTo:function(d,a,c,p){return this.x=d,this.y=a,this.width=c,this.height=p,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(d,a){return void 0===a&&(a=d),this.x=d,this.y=a,this},setSize:function(d,a){return void 0===a&&(a=d),this.width=d,this.height=a,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(d){this.x=d+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(d){this.x=d-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(d){this.y=d+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(d){this.y=d-this.height/2}}});C.exports=o},function(C,w){C.exports=function(l,m,f){if(l.width<=0||l.height<=0)return!1;var h=(m-l.x)/l.width,u=(f-l.y)/l.height;return(h*=h)+(u*=u)<.25}},function(C,w,n){var l=n(275),m=n(0),f=n(75),h=n(9),u=n(207),s=n(2),o=n(6),d=n(7),a=n(437),c=n(149),p=n(73),v=new m({Extends:h,initialize:function(x,T,S){h.call(this),S?T&&!Array.isArray(T)&&(T=[T]):Array.isArray(T)?d(T[0])&&(S=T,T=null):d(T)&&(S=T,T=null),this.scene=x,this.children=new c,this.isParent=!0,this.type="Group",this.classType=s(S,"classType",p),this.name=s(S,"name",""),this.active=s(S,"active",!0),this.maxSize=s(S,"maxSize",-1),this.defaultKey=s(S,"defaultKey",null),this.defaultFrame=s(S,"defaultFrame",null),this.runChildUpdate=s(S,"runChildUpdate",!1),this.createCallback=s(S,"createCallback",null),this.removeCallback=s(S,"removeCallback",null),this.createMultipleCallback=s(S,"createMultipleCallback",null),this.internalCreateCallback=s(S,"internalCreateCallback",null),this.internalRemoveCallback=s(S,"internalRemoveCallback",null),T&&this.addMultiple(T),S&&this.createMultiple(S),this.on(f.ADDED_TO_SCENE,this.addedToScene,this),this.on(f.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(g,x,T,S,D,M){if(void 0===g&&(g=0),void 0===x&&(x=0),void 0===T&&(T=this.defaultKey),void 0===S&&(S=this.defaultFrame),void 0===D&&(D=!0),void 0===M&&(M=!0),this.isFull())return null;var R=new this.classType(this.scene,g,x,T,S);return R.addToDisplayList(this.scene.sys.displayList),R.addToUpdateList(),R.visible=D,R.setActive(M),this.add(R),R},createMultiple:function(g){if(this.isFull())return[];Array.isArray(g)||(g=[g]);var x=[];if(g[0].key)for(var T=0;T<g.length;T++){var S=this.createFromConfig(g[T]);x=x.concat(S)}return x},createFromConfig:function(g){if(this.isFull())return[];this.classType=s(g,"classType",this.classType);var x=s(g,"key",void 0),T=s(g,"frame",null),S=s(g,"visible",!0),D=s(g,"active",!0),M=[];if(void 0===x)return M;Array.isArray(x)||(x=[x]),Array.isArray(T)||(T=[T]);var R=s(g,"repeat",0),P=s(g,"randomKey",!1),I=s(g,"randomFrame",!1),b=s(g,"yoyo",!1),L=s(g,"quantity",!1),B=s(g,"frameQuantity",1),V=s(g,"max",0),z=a(x,T,{max:V,qty:L||B,random:P,randomB:I,repeat:R,yoyo:b});g.createCallback&&(this.createCallback=g.createCallback),g.removeCallback&&(this.removeCallback=g.removeCallback);for(var W=0;W<z.length;W++){var K=this.create(0,0,z[W].a,z[W].b,S,D);if(!K)break;M.push(K)}var J=o(g,"setXY.x",0),tt=o(g,"setXY.y",0),it=o(g,"setXY.stepX",0),H=o(g,"setXY.stepY",0);l.SetXY(M,J,tt,it,H);var G=o(g,"setRotation.value",0),Y=o(g,"setRotation.step",0);l.SetRotation(M,G,Y);var X=o(g,"setScale.x",1),$=o(g,"setScale.y",X),Q=o(g,"setScale.stepX",0),_=o(g,"setScale.stepY",0);l.SetScale(M,X,$,Q,_);var et=o(g,"setOrigin.x",.5),ot=o(g,"setOrigin.y",et),lt=o(g,"setOrigin.stepX",0),ht=o(g,"setOrigin.stepY",0);l.SetOrigin(M,et,ot,lt,ht);var ft=o(g,"setAlpha.value",1),gt=o(g,"setAlpha.step",0);l.SetAlpha(M,ft,gt);var Et=o(g,"setDepth.value",0),Ct=o(g,"setDepth.step",0);l.SetDepth(M,Et,Ct);var Mt=o(g,"setScrollFactor.x",1),kt=o(g,"setScrollFactor.y",Mt),Gt=o(g,"setScrollFactor.stepX",0),Bt=o(g,"setScrollFactor.stepY",0);l.SetScrollFactor(M,Mt,kt,Gt,Bt);var Tt=s(g,"hitArea",null),ee=s(g,"hitAreaCallback",null);Tt&&l.SetHitArea(M,Tt,ee);var bt=s(g,"gridAlign",!1);return bt&&l.GridAlign(M,bt),this.createMultipleCallback&&this.createMultipleCallback.call(this,M),M},preUpdate:function(g,x){if(this.runChildUpdate&&0!==this.children.size)for(var T=this.children.entries.slice(),S=0;S<T.length;S++){var D=T[S];D.active&&D.update(g,x)}},add:function(g,x){return void 0===x&&(x=!1),this.isFull()||(this.children.set(g),this.internalCreateCallback&&this.internalCreateCallback.call(this,g),this.createCallback&&this.createCallback.call(this,g),x&&(g.addToDisplayList(this.scene.sys.displayList),g.addToUpdateList()),g.on(f.DESTROY,this.remove,this)),this},addMultiple:function(g,x){if(void 0===x&&(x=!1),Array.isArray(g))for(var T=0;T<g.length;T++)this.add(g[T],x);return this},remove:function(g,x,T){return void 0===x&&(x=!1),void 0===T&&(T=!1),this.children.contains(g)?(this.children.delete(g),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,g),this.removeCallback&&this.removeCallback.call(this,g),g.off(f.DESTROY,this.remove,this),T?g.destroy():x&&(g.removeFromDisplayList(),g.removeFromUpdateList()),this):this},clear:function(g,x){void 0===g&&(g=!1),void 0===x&&(x=!1);for(var T=this.children,S=0;S<T.size;S++){var D=T.entries[S];D.off(f.DESTROY,this.remove,this),x?D.destroy():g&&(D.removeFromDisplayList(),D.removeFromUpdateList())}return this.children.clear(),this},contains:function(g){return this.children.contains(g)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(g,x,T,S){return u(this.children.entries,g,x,T,S)},getFirst:function(g,x,T,S,D,M,R){return this.getHandler(!0,1,g,x,T,S,D,M,R)},getFirstNth:function(g,x,T,S,D,M,R,P){return this.getHandler(!0,g,x,T,S,D,M,R,P)},getLast:function(g,x,T,S,D,M,R){return this.getHandler(!1,1,g,x,T,S,D,M,R)},getLastNth:function(g,x,T,S,D,M,R,P){return this.getHandler(!1,g,x,T,S,D,M,R,P)},getHandler:function(g,x,T,S,D,M,R,P,I){void 0===T&&(T=!1),void 0===S&&(S=!1);var b,L,B=0,V=this.children.entries;if(g)for(L=0;L<V.length;L++)if((b=V[L]).active===T){if(++B===x)break}else b=null;else for(L=V.length-1;L>=0;L--)if((b=V[L]).active===T){if(++B===x)break}else b=null;return b?("number"==typeof D&&(b.x=D),"number"==typeof M&&(b.y=M),b):S?this.create(D,M,R,P,I):null},get:function(g,x,T,S,D){return this.getFirst(!1,!0,g,x,T,S,D)},getFirstAlive:function(g,x,T,S,D,M){return this.getFirst(!0,g,x,T,S,D,M)},getFirstDead:function(g,x,T,S,D,M){return this.getFirst(!1,g,x,T,S,D,M)},playAnimation:function(g,x){return l.PlayAnimation(this.children.entries,g,x),this},isFull:function(){return-1!==this.maxSize&&this.children.size>=this.maxSize},countActive:function(g){void 0===g&&(g=!0);for(var x=0,T=0;T<this.children.size;T++)this.children.entries[T].active===g&&x++;return x},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var g=this.getTotalUsed();return(-1===this.maxSize?999999999999:this.maxSize)-g},setActive:function(g){return this.active=g,this},setName:function(g){return this.name=g,this},propertyValueSet:function(g,x,T,S,D){return l.PropertyValueSet(this.children.entries,g,x,T,S,D),this},propertyValueInc:function(g,x,T,S,D){return l.PropertyValueInc(this.children.entries,g,x,T,S,D),this},setX:function(g,x){return l.SetX(this.children.entries,g,x),this},setY:function(g,x){return l.SetY(this.children.entries,g,x),this},setXY:function(g,x,T,S){return l.SetXY(this.children.entries,g,x,T,S),this},incX:function(g,x){return l.IncX(this.children.entries,g,x),this},incY:function(g,x){return l.IncY(this.children.entries,g,x),this},incXY:function(g,x,T,S){return l.IncXY(this.children.entries,g,x,T,S),this},shiftPosition:function(g,x,T){return l.ShiftPosition(this.children.entries,g,x,T),this},angle:function(g,x){return l.Angle(this.children.entries,g,x),this},rotate:function(g,x){return l.Rotate(this.children.entries,g,x),this},rotateAround:function(g,x){return l.RotateAround(this.children.entries,g,x),this},rotateAroundDistance:function(g,x,T){return l.RotateAroundDistance(this.children.entries,g,x,T),this},setAlpha:function(g,x){return l.SetAlpha(this.children.entries,g,x),this},setTint:function(g,x,T,S){return l.SetTint(this.children.entries,g,x,T,S),this},setOrigin:function(g,x,T,S){return l.SetOrigin(this.children.entries,g,x,T,S),this},scaleX:function(g,x){return l.ScaleX(this.children.entries,g,x),this},scaleY:function(g,x){return l.ScaleY(this.children.entries,g,x),this},scaleXY:function(g,x,T,S){return l.ScaleXY(this.children.entries,g,x,T,S),this},setDepth:function(g,x){return l.SetDepth(this.children.entries,g,x),this},setBlendMode:function(g){return l.SetBlendMode(this.children.entries,g),this},setHitArea:function(g,x){return l.SetHitArea(this.children.entries,g,x),this},shuffle:function(){return l.Shuffle(this.children.entries),this},kill:function(g){this.children.contains(g)&&g.setActive(!1)},killAndHide:function(g){this.children.contains(g)&&(g.setActive(!1),g.setVisible(!1))},setVisible:function(g,x,T){return l.SetVisible(this.children.entries,g,x,T),this},toggleVisible:function(){return l.ToggleVisible(this.children.entries),this},destroy:function(g,x){void 0===g&&(g=!1),void 0===x&&(x=!1),this.scene&&!this.ignoreDestroy&&(this.emit(f.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(x,g),this.scene=void 0,this.children=void 0)}});C.exports=v},function(C,w,n){var l=n(12);C.exports=function(f,h,u,s,o,d){for(var a=l.getTintAppendFloatAlpha(u.fillColor,u.fillAlpha*s),c=u.pathData,p=u.pathIndexes,v=0;v<p.length;v+=3){var g=2*p[v],x=2*p[v+1],T=2*p[v+2],S=c[g+0]-o,D=c[g+1]-d,M=c[x+0]-o,R=c[x+1]-d,P=c[T+0]-o,I=c[T+1]-d,b=h.getX(S,D),L=h.getY(S,D),B=h.getX(M,R),V=h.getY(M,R),z=h.getX(P,I),W=h.getY(P,I);f.batchTri(u,b,L,B,V,z,W,0,0,1,1,a,a,a,2)}}},function(C,w){C.exports=function(l,m,f){var h=l.x3-l.x1,u=l.y3-l.y1,s=l.x2-l.x1,o=l.y2-l.y1,d=m-l.x1,a=f-l.y1,c=h*h+u*u,p=h*s+u*o,v=h*d+u*a,g=s*s+o*o,x=s*d+o*a,T=c*g-p*p,S=0===T?0:1/T,D=(g*v-p*x)*S,M=(c*x-p*v)*S;return D>=0&&M>=0&&D+M<1}},function(C,w,n){var l=n(0),m=n(10),f=n(3);function h(s,o,d,a){var c=s-d,p=o-a;return Math.sqrt(c*c+p*p)}var u=new l({initialize:function(o,d,a){this.vertex1=o,this.vertex2=d,this.vertex3=a,this.bounds=new m,this._inCenter=new f},getInCenter:function(s){void 0===s&&(s=!0);var c,p,v,g,x,T,o=this.vertex1,d=this.vertex2,a=this.vertex3;s?(c=o.x,p=o.y,v=d.x,g=d.y,x=a.x,T=a.y):(c=o.vx,p=o.vy,v=d.vx,g=d.vy,x=a.vx,T=a.vy);var S=h(x,T,v,g),D=h(c,p,x,T),M=h(v,g,c,p),R=S+D+M;return this._inCenter.set((c*S+v*D+x*M)/R,(p*S+g*D+T*M)/R)},contains:function(s,o,d){var a=this.vertex1,c=this.vertex2,p=this.vertex3,v=a.vx,g=a.vy,x=c.vx,T=c.vy,S=p.vx,D=p.vy;if(d){var M=d.a,R=d.b,P=d.c,I=d.d,b=d.e,L=d.f;v=a.vx*M+a.vy*P+b,g=a.vx*R+a.vy*I+L,x=c.vx*M+c.vy*P+b,T=c.vx*R+c.vy*I+L,S=p.vx*M+p.vy*P+b,D=p.vx*R+p.vy*I+L}var B=S-v,V=D-g,z=x-v,W=T-g,K=s-v,J=o-g,tt=B*B+V*V,it=B*z+V*W,H=B*K+V*J,G=z*z+W*W,Y=z*K+W*J,X=tt*G-it*it,$=0===X?0:1/X,Q=(G*H-it*Y)*$,_=(tt*Y-it*H)*$;return Q>=0&&_>=0&&Q+_<1},isCounterClockwise:function(s){var o=this.vertex1,d=this.vertex2,a=this.vertex3,c=(d.vx-o.vx)*(a.vy-o.vy)-(d.vy-o.vy)*(a.vx-o.vx);return s<=0?c>=0:c<0},load:function(s,o,d,a,c){return d=this.vertex1.load(s,o,d,a,c),d=this.vertex2.load(s,o,d,a,c),this.vertex3.load(s,o,d,a,c)},transformCoordinatesLocal:function(s,o,d,a){return this.vertex1.transformCoordinatesLocal(s,o,d,a),this.vertex2.transformCoordinatesLocal(s,o,d,a),this.vertex3.transformCoordinatesLocal(s,o,d,a),this},updateBounds:function(){var s=this.vertex1,o=this.vertex2,d=this.vertex3,a=this.bounds;return a.x=Math.min(s.vx,o.vx,d.vx),a.y=Math.min(s.vy,o.vy,d.vy),a.width=Math.max(s.vx,o.vx,d.vx)-a.x,a.height=Math.max(s.vy,o.vy,d.vy)-a.y,this},isInView:function(s,o,d,a,c,p,v,g,x,T,S){var D=this.vertex1.update(c,p,v,g,x,T,S,a),M=this.vertex2.update(c,p,v,g,x,T,S,a),R=this.vertex3.update(c,p,v,g,x,T,S,a);if(D.ta<=0&&M.ta<=0&&R.ta<=0||o&&!this.isCounterClockwise(d))return!1;var P=this.bounds;return P.x=Math.min(D.tx,M.tx,R.tx),P.y=Math.min(D.ty,M.ty,R.ty),P.width=Math.max(D.tx,M.tx,R.tx)-P.x,P.height=Math.max(D.ty,M.ty,R.ty)-P.y,!(P.width<=0||P.height<=0||s.width<=0||s.height<=0||P.right<s.x||P.bottom<s.y||P.x>s.x+s.width||P.y>s.y+s.height)},translate:function(s,o){void 0===o&&(o=0);var d=this.vertex1,a=this.vertex2,c=this.vertex3;return d.x+=s,d.y+=o,a.x+=s,a.y+=o,c.x+=s,c.y+=o,this},x:{get:function(){return this.getInCenter().x},set:function(s){var o=this.getInCenter();this.translate(s-o.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(s){var o=this.getInCenter();this.translate(0,s-o.y)}},alpha:{get:function(){return(this.vertex1.alpha+this.vertex2.alpha+this.vertex3.alpha)/3},set:function(s){this.vertex1.alpha=s,this.vertex2.alpha=s,this.vertex3.alpha=s}},depth:{get:function(){return(this.vertex1.vz+this.vertex2.vz+this.vertex3.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});C.exports=u},function(C,w,n){var l=n(0),m=n(12),f=n(39),h=new l({Extends:f,initialize:function(s,o,d,a,c,p,v,g,x,T){void 0===p&&(p=16777215),void 0===v&&(v=1),void 0===g&&(g=0),void 0===x&&(x=0),void 0===T&&(T=0),f.call(this,s,o,d),this.vx=0,this.vy=0,this.vz=0,this.nx=g,this.ny=x,this.nz=T,this.u=a,this.v=c,this.color=p,this.alpha=v,this.tx=0,this.ty=0,this.ta=0},setUVs:function(u,s){return this.u=u,this.v=s,this},transformCoordinatesLocal:function(u,s,o,d){var a=this.x,c=this.y,p=this.z,v=u.val,x=a*v[1]+c*v[5]+p*v[9]+v[13],T=a*v[2]+c*v[6]+p*v[10]+v[14],S=a*v[3]+c*v[7]+p*v[11]+v[15];this.vx=(a*v[0]+c*v[4]+p*v[8]+v[12])/S*s,this.vy=-x/S*o,this.vz=d<=0?T/S:-T/S},update:function(u,s,o,d,a,c,p,v){var g=this.vx*u+this.vy*o+a,x=this.vx*s+this.vy*d+c;return p&&(g=Math.round(g),x=Math.round(x)),this.tx=g,this.ty=x,this.ta=this.alpha*v,this},load:function(u,s,o,d,a){return u[++o]=this.tx,u[++o]=this.ty,u[++o]=this.u,u[++o]=this.v,u[++o]=d,u[++o]=a,s[++o]=m.getTintAppendFloatAlpha(this.color,this.ta),o}});C.exports=h},function(C,w,n){var l={};C.exports=l;var m=n(166),f=n(32),h=n(84),u=n(41);l.create=function(s){return f.extend({id:f.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},s)},l.setModified=function(s,o,d,a){if(m.trigger(s,"compositeModified",s),s.isModified=o,d&&s.parent&&l.setModified(s.parent,o,d,a),a)for(var c=0;c<s.composites.length;c++)l.setModified(s.composites[c],o,d,a)},l.add=function(s,o){var d=[].concat(o);m.trigger(s,"beforeAdd",{object:o});for(var a=0;a<d.length;a++){var c=d[a];switch(c.type){case"body":if(c.parent!==c){f.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}l.addBody(s,c);break;case"constraint":l.addConstraint(s,c);break;case"composite":l.addComposite(s,c);break;case"mouseConstraint":l.addConstraint(s,c.constraint)}}return m.trigger(s,"afterAdd",{object:o}),s},l.remove=function(s,o,d){var a=[].concat(o);m.trigger(s,"beforeRemove",{object:o});for(var c=0;c<a.length;c++){var p=a[c];switch(p.type){case"body":l.removeBody(s,p,d);break;case"constraint":l.removeConstraint(s,p,d);break;case"composite":l.removeComposite(s,p,d);break;case"mouseConstraint":l.removeConstraint(s,p.constraint)}}return m.trigger(s,"afterRemove",{object:o}),s},l.addComposite=function(s,o){return s.composites.push(o),o.parent=s,l.setModified(s,!0,!0,!1),s},l.removeComposite=function(s,o,d){var a=s.composites.indexOf(o);if(-1!==a&&(l.removeCompositeAt(s,a),l.setModified(s,!0,!0,!1)),d)for(var c=0;c<s.composites.length;c++)l.removeComposite(s.composites[c],o,!0);return s},l.removeCompositeAt=function(s,o){return s.composites.splice(o,1),l.setModified(s,!0,!0,!1),s},l.addBody=function(s,o){return s.bodies.push(o),l.setModified(s,!0,!0,!1),s},l.removeBody=function(s,o,d){var a=s.bodies.indexOf(o);if(-1!==a&&(l.removeBodyAt(s,a),l.setModified(s,!0,!0,!1)),d)for(var c=0;c<s.composites.length;c++)l.removeBody(s.composites[c],o,!0);return s},l.removeBodyAt=function(s,o){return s.bodies.splice(o,1),l.setModified(s,!0,!0,!1),s},l.addConstraint=function(s,o){return s.constraints.push(o),l.setModified(s,!0,!0,!1),s},l.removeConstraint=function(s,o,d){var a=s.constraints.indexOf(o);if(-1!==a&&l.removeConstraintAt(s,a),d)for(var c=0;c<s.composites.length;c++)l.removeConstraint(s.composites[c],o,!0);return s},l.removeConstraintAt=function(s,o){return s.constraints.splice(o,1),l.setModified(s,!0,!0,!1),s},l.clear=function(s,o,d){if(d)for(var a=0;a<s.composites.length;a++)l.clear(s.composites[a],o,!0);return o?s.bodies=s.bodies.filter(function(c){return c.isStatic}):s.bodies.length=0,s.constraints.length=0,s.composites.length=0,l.setModified(s,!0,!0,!1),s},l.allBodies=function(s){for(var o=[].concat(s.bodies),d=0;d<s.composites.length;d++)o=o.concat(l.allBodies(s.composites[d]));return o},l.allConstraints=function(s){for(var o=[].concat(s.constraints),d=0;d<s.composites.length;d++)o=o.concat(l.allConstraints(s.composites[d]));return o},l.allComposites=function(s){for(var o=[].concat(s.composites),d=0;d<s.composites.length;d++)o=o.concat(l.allComposites(s.composites[d]));return o},l.get=function(s,o,d){var a,c;switch(d){case"body":a=l.allBodies(s);break;case"constraint":a=l.allConstraints(s);break;case"composite":a=l.allComposites(s).concat(s)}return a?0===(c=a.filter(function(p){return p.id.toString()===o.toString()})).length?null:c[0]:null},l.move=function(s,o,d){return l.remove(s,o),l.add(d,o),s},l.rebase=function(s){for(var o=l.allBodies(s).concat(l.allConstraints(s)).concat(l.allComposites(s)),d=0;d<o.length;d++)o[d].id=f.nextId();return l.setModified(s,!0,!0,!1),s},l.translate=function(s,o,d){for(var a=d?l.allBodies(s):s.bodies,c=0;c<a.length;c++)u.translate(a[c],o);return l.setModified(s,!0,!0,!1),s},l.rotate=function(s,o,d,a){for(var c=Math.cos(o),p=Math.sin(o),v=a?l.allBodies(s):s.bodies,g=0;g<v.length;g++){var x=v[g],T=x.position.x-d.x,S=x.position.y-d.y;u.setPosition(x,{x:d.x+(T*c-S*p),y:d.y+(T*p+S*c)}),u.rotate(x,o)}return l.setModified(s,!0,!0,!1),s},l.scale=function(s,o,d,a,c){for(var p=c?l.allBodies(s):s.bodies,v=0;v<p.length;v++){var g=p[v];u.setPosition(g,{x:a.x+(g.position.x-a.x)*o,y:a.y+(g.position.y-a.y)*d}),u.scale(g,o,d)}return l.setModified(s,!0,!0,!1),s},l.bounds=function(s){for(var o=l.allBodies(s),d=[],a=0;a<o.length;a+=1){var c=o[a];d.push(c.bounds.min,c.bounds.max)}return h.create(d)}},function(C,w){C.exports=function(l,m,f){return l>=0&&l<f.width&&m>=0&&m<f.height}},function(C,w,n){var l=n(0),m=n(29),f=n(2),h=new l({initialize:function(s){void 0===s&&(s={}),this.name=f(s,"name","layer"),this.x=f(s,"x",0),this.y=f(s,"y",0),this.width=f(s,"width",0),this.height=f(s,"height",0),this.tileWidth=f(s,"tileWidth",0),this.tileHeight=f(s,"tileHeight",0),this.baseTileWidth=f(s,"baseTileWidth",this.tileWidth),this.baseTileHeight=f(s,"baseTileHeight",this.tileHeight),this.orientation=f(s,"orientation",m.ORTHOGONAL),this.widthInPixels=f(s,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=f(s,"heightInPixels",this.height*this.baseTileHeight),this.alpha=f(s,"alpha",1),this.visible=f(s,"visible",!0),this.properties=f(s,"properties",[]),this.indexes=f(s,"indexes",[]),this.collideIndexes=f(s,"collideIndexes",[]),this.callbacks=f(s,"callbacks",[]),this.bodies=f(s,"bodies",[]),this.data=f(s,"data",[]),this.tilemapLayer=f(s,"tilemapLayer",null),this.hexSideLength=f(s,"hexSideLength",0)}});C.exports=h},function(C,w,n){var l=n(0),m=n(29),f=n(2),h=new l({initialize:function(s){void 0===s&&(s={}),this.name=f(s,"name","map"),this.width=f(s,"width",0),this.height=f(s,"height",0),this.infinite=f(s,"infinite",!1),this.tileWidth=f(s,"tileWidth",0),this.tileHeight=f(s,"tileHeight",0),this.widthInPixels=f(s,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=f(s,"heightInPixels",this.height*this.tileHeight),this.format=f(s,"format",null),this.orientation=f(s,"orientation",m.ORTHOGONAL),this.renderOrder=f(s,"renderOrder","right-down"),this.version=f(s,"version","1"),this.properties=f(s,"properties",{}),this.layers=f(s,"layers",[]),this.images=f(s,"images",[]),this.objects=f(s,"objects",{}),this.collision=f(s,"collision",{}),this.tilesets=f(s,"tilesets",[]),this.imageCollections=f(s,"imageCollections",[]),this.tiles=f(s,"tiles",[]),this.hexSideLength=f(s,"hexSideLength",0)}});C.exports=h},function(C,w,n){var m=new(n(0))({initialize:function(h,u,s,o,d,a,c,p){(void 0===s||s<=0)&&(s=32),(void 0===o||o<=0)&&(o=32),void 0===d&&(d=0),void 0===a&&(a=0),void 0===c&&(c={}),void 0===p&&(p={}),this.name=h,this.firstgid=u,this.tileWidth=s,this.tileHeight=o,this.tileMargin=d,this.tileSpacing=a,this.tileProperties=c,this.tileData=p,this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(f){return this.containsTileIndex(f)?this.tileProperties[f-this.firstgid]:null},getTileData:function(f){return this.containsTileIndex(f)?this.tileData[f-this.firstgid]:null},getTileCollisionGroup:function(f){var h=this.getTileData(f);return h&&h.objectgroup?h.objectgroup:null},containsTileIndex:function(f){return f>=this.firstgid&&f<this.firstgid+this.total},getTileTextureCoordinates:function(f){return this.containsTileIndex(f)?this.texCoordinates[f-this.firstgid]:null},setImage:function(f){return this.image=f,this.glTexture=f.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(f,h){return void 0!==f&&(this.tileWidth=f),void 0!==h&&(this.tileHeight=h),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(f,h){return void 0!==f&&(this.tileMargin=f),void 0!==h&&(this.tileSpacing=h),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(f,h){var u=(h-2*this.tileMargin+this.tileSpacing)/(this.tileHeight+this.tileSpacing),s=(f-2*this.tileMargin+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(u%1!=0||s%1!=0)&&console.warn("Image tile area not tile size multiple in: "+this.name),u=Math.floor(u),s=Math.floor(s),this.rows=u,this.columns=s,this.total=u*s,this.texCoordinates.length=0;for(var o=this.tileMargin,d=this.tileMargin,a=0;a<this.rows;a++){for(var c=0;c<this.columns;c++)this.texCoordinates.push({x:o,y:d}),o+=this.tileWidth+this.tileSpacing;o=this.tileMargin,d+=this.tileHeight+this.tileSpacing}return this}});C.exports=m},function(C,w){C.exports={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12}},function(C,w){C.exports=function(l,m,f){return void 0===f&&(f=1e-4),Math.abs(l-m)<f}},function(C,w,n){var l=n(0),m=n(11),f=n(15),h=n(1068),u=new l({Extends:f,Mixins:[m.Alpha,m.BlendMode,m.Depth,m.Flip,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.ScrollFactor,m.Size,m.TextureCrop,m.Tint,m.Transform,m.Visible,h],initialize:function(o,d,a,c,p){f.call(this,o,"Image"),this._crop=this.resetCropObject(),this.setTexture(c,p),this.setPosition(d,a),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()}});C.exports=u},function(C,w){C.exports=function(l,m){return l.hasOwnProperty(m)}},function(C,w,n){var l=n(77);C.exports=function(f,h){var u=l(f);for(var s in h)u.hasOwnProperty(s)||(u[s]=h[s]);return u}},function(C,w,n){var l={};C.exports=l;var m=n(64),f=n(83),h=n(165),u=n(84),s=n(271),o=n(32);l._warming=.4,l._torqueDampen=1,l._minLength=1e-6,l.create=function(d){var a=d;a.bodyA&&!a.pointA&&(a.pointA={x:0,y:0}),a.bodyB&&!a.pointB&&(a.pointB={x:0,y:0});var c=a.bodyA?f.add(a.bodyA.position,a.pointA):a.pointA,p=a.bodyB?f.add(a.bodyB.position,a.pointB):a.pointB,v=f.magnitude(f.sub(c,p));a.length=void 0!==a.length?a.length:v,a.id=a.id||o.nextId(),a.label=a.label||"Constraint",a.type="constraint",a.stiffness=a.stiffness||(a.length>0?1:.7),a.damping=a.damping||0,a.angularStiffness=a.angularStiffness||0,a.angleA=a.bodyA?a.bodyA.angle:a.angleA,a.angleB=a.bodyB?a.bodyB.angle:a.angleB,a.plugin={};var g={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return 0===a.length&&a.stiffness>.1?(g.type="pin",g.anchors=!1):a.stiffness<.9&&(g.type="spring"),a.render=o.extend(g,a.render),a},l.preSolveAll=function(d){for(var a=0;a<d.length;a+=1){var c=d[a],p=c.constraintImpulse;c.isStatic||0===p.x&&0===p.y&&0===p.angle||(c.position.x+=p.x,c.position.y+=p.y,c.angle+=p.angle)}},l.solveAll=function(d,a){for(var c=0;c<d.length;c+=1){var p=d[c],v=!p.bodyA||p.bodyA&&p.bodyA.isStatic,g=!p.bodyB||p.bodyB&&p.bodyB.isStatic;(v||g)&&l.solve(d[c],a)}for(c=0;c<d.length;c+=1)g=!(p=d[c]).bodyB||p.bodyB&&p.bodyB.isStatic,!(v=!p.bodyA||p.bodyA&&p.bodyA.isStatic)&&!g&&l.solve(d[c],a)},l.solve=function(d,a){var c=d.bodyA,p=d.bodyB,v=d.pointA,g=d.pointB;if(c||p){c&&!c.isStatic&&(f.rotate(v,c.angle-d.angleA,v),d.angleA=c.angle),p&&!p.isStatic&&(f.rotate(g,p.angle-d.angleB,g),d.angleB=p.angle);var x=v,T=g;if(c&&(x=f.add(c.position,v)),p&&(T=f.add(p.position,g)),x&&T){var S=f.sub(x,T),D=f.magnitude(S);D<l._minLength&&(D=l._minLength);var B,V,z,W,K,P=f.mult(S,(D-d.length)/D*(d.stiffness<1?d.stiffness*a:d.stiffness)),I=(c?c.inverseMass:0)+(p?p.inverseMass:0),L=I+((c?c.inverseInertia:0)+(p?p.inverseInertia:0));if(d.damping){var J=f.create();z=f.div(S,D),K=f.sub(p&&f.sub(p.position,p.positionPrev)||J,c&&f.sub(c.position,c.positionPrev)||J),W=f.dot(z,K)}c&&!c.isStatic&&(c.constraintImpulse.x-=P.x*(V=c.inverseMass/I),c.constraintImpulse.y-=P.y*V,c.position.x-=P.x*V,c.position.y-=P.y*V,d.damping&&(c.positionPrev.x-=d.damping*z.x*W*V,c.positionPrev.y-=d.damping*z.y*W*V),B=f.cross(v,P)/L*l._torqueDampen*c.inverseInertia*(1-d.angularStiffness),c.constraintImpulse.angle-=B,c.angle-=B),p&&!p.isStatic&&(p.constraintImpulse.x+=P.x*(V=p.inverseMass/I),p.constraintImpulse.y+=P.y*V,p.position.x+=P.x*V,p.position.y+=P.y*V,d.damping&&(p.positionPrev.x+=d.damping*z.x*W*V,p.positionPrev.y+=d.damping*z.y*W*V),B=f.cross(g,P)/L*l._torqueDampen*p.inverseInertia*(1-d.angularStiffness),p.constraintImpulse.angle+=B,p.angle+=B)}}},l.postSolveAll=function(d){for(var a=0;a<d.length;a++){var c=d[a],p=c.constraintImpulse;if(!(c.isStatic||0===p.x&&0===p.y&&0===p.angle)){h.set(c,!1);for(var v=0;v<c.parts.length;v++){var g=c.parts[v];m.translate(g.vertices,p),v>0&&(g.position.x+=p.x,g.position.y+=p.y),0!==p.angle&&(m.rotate(g.vertices,p.angle,c.position),s.rotate(g.axes,p.angle),v>0&&f.rotateAbout(g.position,p.angle,c.position,g.position)),u.update(g.bounds,g.vertices,c.velocity)}p.angle*=l._warming,p.x*=l._warming,p.y*=l._warming}}},l.pointAWorld=function(d){return{x:(d.bodyA?d.bodyA.position.x:0)+d.pointA.x,y:(d.bodyA?d.bodyA.position.y:0)+d.pointA.y}},l.pointBWorld=function(d){return{x:(d.bodyB?d.bodyB.position.x:0)+d.pointB.x,y:(d.bodyB?d.bodyB.position.y:0)+d.pointB.y}}},function(C,w,n){var l=n(35),m=n(65),f=n(66),h=n(0),u=n(11),s=n(15),o=n(10),d=n(57),a=new h({Extends:s,Mixins:[u.Depth,u.GetBounds,u.Origin,u.Transform,u.ScrollFactor,u.Visible],initialize:function(p,v,g,x,T){void 0===x&&(x=1),void 0===T&&(T=x),s.call(this,p,"Zone"),this.setPosition(v,g),this.width=x,this.height=T,this.blendMode=l.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(c){this.scaleX=c/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(c){this.scaleY=c/this.height}},setSize:function(c,p,v){void 0===v&&(v=!0),this.width=c,this.height=p,this.updateDisplayOrigin();var g=this.input;return v&&g&&!g.customHitArea&&(g.hitArea.width=c,g.hitArea.height=p),this},setDisplaySize:function(c,p){return this.displayWidth=c,this.displayHeight=p,this},setCircleDropZone:function(c){return this.setDropZone(new m(0,0,c),f)},setRectangleDropZone:function(c,p){return this.setDropZone(new o(0,0,c,p),d)},setDropZone:function(c,p){return void 0===c?this.setRectangleDropZone(this.width,this.height):this.input||this.setInteractive(c,p,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(c,p,v){v.addToRenderList(p)},renderWebGL:function(c,p,v){v.addToRenderList(p)}});C.exports=a},function(C,w){C.exports=function(l){return 2*(l.width+l.height)}},function(C,w){C.exports=function(l){for(var m=l.length-1;m>0;m--){var f=Math.floor(Math.random()*(m+1)),h=l[m];l[m]=l[f],l[f]=h}return l}},function(C,w,n){C.exports={ADD_ANIMATION:n(724),ANIMATION_COMPLETE:n(725),ANIMATION_COMPLETE_KEY:n(726),ANIMATION_REPEAT:n(727),ANIMATION_RESTART:n(728),ANIMATION_START:n(729),ANIMATION_STOP:n(730),ANIMATION_UPDATE:n(731),PAUSE_ALL:n(732),REMOVE_ANIMATION:n(733),RESUME_ALL:n(734)}},function(C,w,n){var l=n(0),m=n(11),f=n(36),h=n(9),u=n(37),s=n(10),o=n(25),d=n(187),a=n(3),c=new l({Extends:h,Mixins:[m.Alpha,m.Visible],initialize:function(v,g,x,T){void 0===v&&(v=0),void 0===g&&(g=0),void 0===x&&(x=0),void 0===T&&(T=0),h.call(this),this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new s,this.dirty=!0,this._x=v,this._y=g,this._width=x,this._height=T,this._bounds=new s,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new o,this.transparent=!0,this.backgroundColor=d("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new a(x/2,T/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[]},addToRenderList:function(p){this.renderList.push(p)},setOrigin:function(p,v){return void 0===p&&(p=.5),void 0===v&&(v=p),this.originX=p,this.originY=v,this},getScroll:function(p,v,g){void 0===g&&(g=new a);var T=.5*this.height;return g.x=p-.5*this.width,g.y=v-T,this.useBounds&&(g.x=this.clampX(g.x),g.y=this.clampY(g.y)),g},centerOnX:function(p){var v=.5*this.width;return this.midPoint.x=p,this.scrollX=p-v,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(p){var v=.5*this.height;return this.midPoint.y=p,this.scrollY=p-v,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(p,v){return this.centerOnX(p),this.centerOnY(v),this},centerToBounds:function(){if(this.useBounds){var p=this._bounds,v=.5*this.width,g=.5*this.height;this.midPoint.set(p.centerX,p.centerY),this.scrollX=p.centerX-v,this.scrollY=p.centerY-g}return this},centerToSize:function(){return this.scrollX=.5*this.width,this.scrollY=.5*this.height,this},cull:function(p){if(this.disableCull)return p;var v=this.matrix.matrix,g=v[0],x=v[1],T=v[2],S=v[3],D=g*S-x*T;if(!D)return p;var M=v[4],R=v[5],P=this.scrollX,I=this.scrollY,B=this.y,V=B+this.height,z=this.x,W=z+this.width,K=this.culledObjects,J=p.length;D=1/D,K.length=0;for(var tt=0;tt<J;++tt){var it=p[tt];if(it.hasOwnProperty("width")&&!it.parentContainer){var H=it.width,G=it.height,Y=it.x-P*it.scrollFactorX-H*it.originX,X=it.y-I*it.scrollFactorY-G*it.originY;(Y+H)*g+(X+G)*T+M>z&&Y*g+X*T+M<W&&(Y+H)*x+(X+G)*S+R>B&&Y*x+X*S+R<V&&K.push(it)}else K.push(it)}return K},getWorldPoint:function(p,v,g){void 0===g&&(g=new a);var x=this.matrix.matrix,T=x[0],S=x[1],D=x[2],M=x[3],R=x[4],P=x[5],I=T*M-S*D;if(!I)return g.x=p,g.y=v,g;var b=M*(I=1/I),L=-S*I,B=-D*I,V=T*I,z=(D*P-M*R)*I,W=(S*R-T*P)*I,K=Math.cos(this.rotation),J=Math.sin(this.rotation),H=this.scrollX,G=this.scrollY,Y=p+(H*K-G*J)*this.zoomX,X=v+(H*J+G*K)*this.zoomY;return g.x=Y*b+X*B+z,g.y=Y*L+X*V+W,g},ignore:function(p){var v=this.id;Array.isArray(p)||(p=[p]);for(var g=0;g<p.length;g++){var x=p[g];Array.isArray(x)?this.ignore(x):x.isParent?this.ignore(x.getChildren()):x.cameraFilter|=v}return this},preRender:function(){this.renderList.length=0;var p=this.width,v=this.height,g=.5*p,x=.5*v,T=this.zoomX,S=this.zoomY,D=this.matrix,M=p*this.originX,R=v*this.originY,P=this.scrollX,I=this.scrollY;this.useBounds&&(P=this.clampX(P),I=this.clampY(I)),this.roundPixels&&(M=Math.round(M),R=Math.round(R)),this.scrollX=P,this.scrollY=I;var b=P+g,L=I+x;this.midPoint.set(b,L);var B=p/T,V=v/S;this.worldView.setTo(b-B/2,L-V/2,B,V),D.applyITRS(this.x+M,this.y+R,this.rotation,T,S),D.translate(-M,-R)},clampX:function(p){var v=this._bounds,g=this.displayWidth,x=v.x+(g-this.width)/2,T=Math.max(x,x+v.width-g);return p<x?p=x:p>T&&(p=T),p},clampY:function(p){var v=this._bounds,g=this.displayHeight,x=v.y+(g-this.height)/2,T=Math.max(x,x+v.height-g);return p<x?p=x:p>T&&(p=T),p},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(p){return void 0===p&&(p=0),this.rotation=f(p),this},setBackgroundColor:function(p){return void 0===p&&(p="rgba(0,0,0,0)"),this.backgroundColor=d(p),this.transparent=0===this.backgroundColor.alpha,this},setBounds:function(p,v,g,x,T){return void 0===T&&(T=!1),this._bounds.setTo(p,v,g,x),this.dirty=!0,this.useBounds=!0,T?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(p){void 0===p&&(p=new s);var v=this._bounds;return p.setTo(v.x,v.y,v.width,v.height),p},setName:function(p){return void 0===p&&(p=""),this.name=p,this},setPosition:function(p,v){return void 0===v&&(v=p),this.x=p,this.y=v,this},setRotation:function(p){return void 0===p&&(p=0),this.rotation=p,this},setRoundPixels:function(p){return this.roundPixels=p,this},setScene:function(p){this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=p;var v=p.sys;return this.sceneManager=v.game.scene,this.scaleManager=v.scale,this.cameraManager=v.cameras,this.updateSystem(),this},setScroll:function(p,v){return void 0===v&&(v=p),this.scrollX=p,this.scrollY=v,this},setSize:function(p,v){return void 0===v&&(v=p),this.width=p,this.height=v,this},setViewport:function(p,v,g,x){return this.x=p,this.y=v,this.width=g,this.height=x,this},setZoom:function(p,v){return void 0===p&&(p=1),void 0===v&&(v=p),0===p&&(p=.001),0===v&&(v=.001),this.zoomX=p,this.zoomY=v,this},setMask:function(p,v){return void 0===v&&(v=!0),this.mask=p,this._maskCamera=v?this.cameraManager.default:this,this},clearMask:function(p){return void 0===p&&(p=!1),p&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var p={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(p.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),p},update:function(){},updateSystem:function(){if(this.scaleManager){var p=0!==this._x||0!==this._y||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,v=this.sceneManager;p&&!this._customViewport?v.customViewports++:!p&&this._customViewport&&v.customViewports--,this.dirty=!0,this._customViewport=p}},destroy:function(){this.emit(u.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(p){this._x=p,this.updateSystem()}},y:{get:function(){return this._y},set:function(p){this._y=p,this.updateSystem()}},width:{get:function(){return this._width},set:function(p){this._width=p,this.updateSystem()}},height:{get:function(){return this._height},set:function(p){this._height=p,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(p){this._scrollX=p,this.dirty=!0}},scrollY:{get:function(){return this._scrollY},set:function(p){this._scrollY=p,this.dirty=!0}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(p){this._zoomX=p,this._zoomY=p,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(p){this._zoomX=p,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(p){this._zoomY=p,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(p){this._rotation=p,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});C.exports=c},function(C,w,n){var l=n(334),m=n(335),f=n(336),h=n(337),u=n(338),s=n(339),o=n(340),d=n(341),a=n(342),c=n(343),p=n(344),v=n(345);C.exports={Power0:o,Power1:d.Out,Power2:h.Out,Power3:a.Out,Power4:c.Out,Linear:o,Quad:d.Out,Cubic:h.Out,Quart:a.Out,Quint:c.Out,Sine:p.Out,Expo:s.Out,Circ:f.Out,Elastic:u.Out,Back:l.Out,Bounce:m.Out,Stepped:v,"Quad.easeIn":d.In,"Cubic.easeIn":h.In,"Quart.easeIn":a.In,"Quint.easeIn":c.In,"Sine.easeIn":p.In,"Expo.easeIn":s.In,"Circ.easeIn":f.In,"Elastic.easeIn":u.In,"Back.easeIn":l.In,"Bounce.easeIn":m.In,"Quad.easeOut":d.Out,"Cubic.easeOut":h.Out,"Quart.easeOut":a.Out,"Quint.easeOut":c.Out,"Sine.easeOut":p.Out,"Expo.easeOut":s.Out,"Circ.easeOut":f.Out,"Elastic.easeOut":u.Out,"Back.easeOut":l.Out,"Bounce.easeOut":m.Out,"Quad.easeInOut":d.InOut,"Cubic.easeInOut":h.InOut,"Quart.easeInOut":a.InOut,"Quint.easeInOut":c.InOut,"Sine.easeInOut":p.InOut,"Expo.easeInOut":s.InOut,"Circ.easeInOut":f.InOut,"Elastic.easeInOut":u.InOut,"Back.easeInOut":l.InOut,"Bounce.easeInOut":m.InOut}},function(C,w){C.exports=function(l,m,f){return(m-l)*f+l}},function(C,w,n){var l=n(105),m={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0};C.exports=function f(){var h=navigator.userAgent;return/Edge\/\d+/.test(h)?m.edge=!0:/Chrome\/(\d+)/.test(h)&&!l.windowsPhone?(m.chrome=!0,m.chromeVersion=parseInt(RegExp.$1,10)):/Firefox\D+(\d+)/.test(h)?(m.firefox=!0,m.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(h)&&l.iOS?m.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(h)?(m.ie=!0,m.ieVersion=parseInt(RegExp.$1,10)):/Opera/.test(h)?m.opera=!0:/Safari/.test(h)&&!l.windowsPhone?m.safari=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(h)&&(m.ie=!0,m.trident=!0,m.tridentVersion=parseInt(RegExp.$1,10),m.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(h)&&(m.silk=!0),m}()},function(C,w){C.exports=function(l,m){return Math.random()*(m-l)+l}},function(C,w){C.exports=function(l,m){return l>0&&0==(l&l-1)&&m>0&&0==(m&m-1)}},function(C,w){C.exports=function(l,m,f,h){return void 0===f&&(f=0),0===m?l:(l-=f,l=m*Math.ceil(l/m),h?(f+l)/m:f+l)}},function(C,w,n){var m=new(n(0))({initialize:function(h,u,s,o){this.x=0,this.y=0,this.z=0,this.w=0,"object"==typeof h?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0,this.w=h.w||0):(this.x=h||0,this.y=u||0,this.z=s||0,this.w=o||0)},clone:function(){return new m(this.x,this.y,this.z,this.w)},copy:function(f){return this.x=f.x,this.y=f.y,this.z=f.z||0,this.w=f.w||0,this},equals:function(f){return this.x===f.x&&this.y===f.y&&this.z===f.z&&this.w===f.w},set:function(f,h,u,s){return"object"==typeof f?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0,this.w=f.w||0):(this.x=f||0,this.y=h||0,this.z=u||0,this.w=s||0),this},add:function(f){return this.x+=f.x,this.y+=f.y,this.z+=f.z||0,this.w+=f.w||0,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this.z-=f.z||0,this.w-=f.w||0,this},scale:function(f){return this.x*=f,this.y*=f,this.z*=f,this.w*=f,this},length:function(){var f=this.x,h=this.y,u=this.z,s=this.w;return Math.sqrt(f*f+h*h+u*u+s*s)},lengthSq:function(){var f=this.x,h=this.y,u=this.z,s=this.w;return f*f+h*h+u*u+s*s},normalize:function(){var f=this.x,h=this.y,u=this.z,s=this.w,o=f*f+h*h+u*u+s*s;return o>0&&(o=1/Math.sqrt(o),this.x=f*o,this.y=h*o,this.z=u*o,this.w=s*o),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z+this.w*f.w},lerp:function(f,h){void 0===h&&(h=0);var u=this.x,s=this.y,o=this.z,d=this.w;return this.x=u+h*(f.x-u),this.y=s+h*(f.y-s),this.z=o+h*(f.z-o),this.w=d+h*(f.w-d),this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this.z*=f.z||1,this.w*=f.w||1,this},divide:function(f){return this.x/=f.x,this.y/=f.y,this.z/=f.z||1,this.w/=f.w||1,this},distance:function(f){var h=f.x-this.x,u=f.y-this.y,s=f.z-this.z||0,o=f.w-this.w||0;return Math.sqrt(h*h+u*u+s*s+o*o)},distanceSq:function(f){var h=f.x-this.x,u=f.y-this.y,s=f.z-this.z||0,o=f.w-this.w||0;return h*h+u*u+s*s+o*o},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(f){var h=this.x,u=this.y,s=this.z,o=this.w,d=f.val;return this.x=d[0]*h+d[4]*u+d[8]*s+d[12]*o,this.y=d[1]*h+d[5]*u+d[9]*s+d[13]*o,this.z=d[2]*h+d[6]*u+d[10]*s+d[14]*o,this.w=d[3]*h+d[7]*u+d[11]*s+d[15]*o,this},transformQuat:function(f){var h=this.x,u=this.y,s=this.z,o=f.x,d=f.y,a=f.z,c=f.w,p=c*h+d*s-a*u,v=c*u+a*h-o*s,g=c*s+o*u-d*h,x=-o*h-d*u-a*s;return this.x=p*c+x*-o+v*-a-g*-d,this.y=v*c+x*-d+g*-o-p*-a,this.z=g*c+x*-a+p*-d-v*-o,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});m.prototype.sub=m.prototype.subtract,m.prototype.mul=m.prototype.multiply,m.prototype.div=m.prototype.divide,m.prototype.dist=m.prototype.distance,m.prototype.distSq=m.prototype.distanceSq,m.prototype.len=m.prototype.length,m.prototype.lenSq=m.prototype.lengthSq,C.exports=m},function(C,w,n){var l=n(0),m=n(91),f=new l({initialize:function(u,s,o,d,a,c,p){void 0===d&&(d=1),void 0===a&&(a=0),void 0===c&&(c=!0),void 0===p&&(p=!1),this.renderer=u,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=d,this.minFilter=a,this.autoClear=c,this.autoResize=!1,this.resize(s,o),p&&this.setAutoResize(!0)},setAutoResize:function(h){return h&&!this.autoResize?(this.renderer.on(m.RESIZE,this.resize,this),this.autoResize=!0):!h&&this.autoResize&&(this.renderer.off(m.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(h,u){if(h*this.scale!==this.width||u*this.scale!==this.height){var d=this.renderer;d.deleteFramebuffer(this.framebuffer),d.deleteTexture(this.texture),h*=this.scale,u*=this.scale,(h=Math.round(h))<=0&&(h=1),(u=Math.round(u))<=0&&(u=1),this.texture=d.createTextureFromSource(null,h,u,this.minFilter),this.framebuffer=d.createFramebuffer(h,u,this.texture,!1),this.width=h,this.height=u}return this},bind:function(h,u,s){if(void 0===h&&(h=!1),h&&this.renderer.flush(),u&&s&&this.resize(u,s),this.renderer.pushFramebuffer(this.framebuffer,!1,!1,!1),h&&this.adjustViewport(),this.autoClear){var o=this.renderer.gl;o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT)}},adjustViewport:function(){var h=this.renderer.gl;h.viewport(0,0,this.width,this.height),h.disable(h.SCISSOR_TEST)},clear:function(){var h=this.renderer,u=h.gl;h.pushFramebuffer(this.framebuffer),u.disable(u.SCISSOR_TEST),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT),h.popFramebuffer(),h.resetScissor()},unbind:function(h){void 0===h&&(h=!1);var u=this.renderer;return h&&u.flush(),u.popFramebuffer()},destroy:function(){var h=this.renderer;h.deleteFramebuffer(this.framebuffer),h.deleteTexture(this.texture),h.off(m.RESIZE,this.resize,this),this.renderer=null,this.framebuffer=null,this.texture=null}});C.exports=f},function(C,w){C.exports=function(l,m){var f;if(m)"string"==typeof m?f=document.getElementById(m):"object"==typeof m&&1===m.nodeType&&(f=m);else if(l.parentElement||null===m)return l;return f||(f=document.body),f.appendChild(l),l}},function(C,w){C.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175}},function(C,w){C.exports={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9}},function(C,w,n){var l=n(0),m=n(77),f=n(9),h=n(70),u=n(22),s=n(1),o=n(207),d=n(428),a=new l({Extends:f,initialize:function(p){f.call(this),this.game=p,this.jsonCache=p.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,p.events.on(u.BLUR,this.onGameBlur,this),p.events.on(u.FOCUS,this.onGameFocus,this),p.events.on(u.PRE_STEP,this.update,this),p.events.once(u.DESTROY,this.destroy,this)},add:s,addAudioSprite:function(c,p){void 0===p&&(p={});var v=this.add(c,p);for(var g in v.spritemap=this.jsonCache.get(c).spritemap,v.spritemap)if(v.spritemap.hasOwnProperty(g)){var x=m(p),T=v.spritemap[g];x.loop=!!T.hasOwnProperty("loop")&&T.loop,v.addMarker({name:g,start:T.start,duration:T.end-T.start,config:x})}return v},get:function(c){return d(this.sounds,"key",c)},getAll:function(c){return o(this.sounds,"key",c)},play:function(c,p){var v=this.add(c);return v.once(h.COMPLETE,v.destroy,v),p?p.name?(v.addMarker(p),v.play(p.name)):v.play(p):v.play()},playAudioSprite:function(c,p,v){var g=this.addAudioSprite(c);return g.once(h.COMPLETE,g.destroy,g),g.play(p,v)},remove:function(c){var p=this.sounds.indexOf(c);return-1!==p&&(c.destroy(),this.sounds.splice(p,1),!0)},removeAll:function(){this.sounds.forEach(function(c){c.destroy()}),this.sounds.length=0},removeByKey:function(c){for(var p=0,v=this.sounds.length-1;v>=0;v--){var g=this.sounds[v];g.key===c&&(g.destroy(),this.sounds.splice(v,1),p++)}return p},pauseAll:function(){this.forEachActiveSound(function(c){c.pause()}),this.emit(h.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(c){c.resume()}),this.emit(h.RESUME_ALL,this)},stopAll:function(){this.forEachActiveSound(function(c){c.stop()}),this.emit(h.STOP_ALL,this)},stopByKey:function(c){var p=0;return this.getAll(c).forEach(function(v){v.stop()&&p++}),p},unlock:s,onBlur:s,onFocus:s,onGameBlur:function(){this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.pauseOnBlur&&this.onFocus()},update:function(c,p){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(h.UNLOCKED,this));for(var v=this.sounds.length-1;v>=0;v--)this.sounds[v].pendingRemove&&this.sounds.splice(v,1);this.sounds.forEach(function(g){g.update(c,p)})},destroy:function(){this.game.events.off(u.BLUR,this.onGameBlur,this),this.game.events.off(u.FOCUS,this.onGameFocus,this),this.game.events.off(u.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.game=null},forEachActiveSound:function(c,p){var v=this;this.sounds.forEach(function(g,x){g&&!g.pendingRemove&&c.call(p||v,g,x,v.sounds)})},setRate:function(c){return this.rate=c,this},rate:{get:function(){return this._rate},set:function(c){this._rate=c,this.forEachActiveSound(function(p){p.calculateRate()}),this.emit(h.GLOBAL_RATE,this,c)}},setDetune:function(c){return this.detune=c,this},detune:{get:function(){return this._detune},set:function(c){this._detune=c,this.forEachActiveSound(function(p){p.calculateRate()}),this.emit(h.GLOBAL_DETUNE,this,c)}}});C.exports=a},function(C,w,n){var l=n(0),m=n(9),f=n(70),h=n(17),u=n(1),s=new l({Extends:m,initialize:function(d,a,c){m.call(this),this.manager=d,this.key=a,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=h(this.config,c),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(o){return!(!o||!o.name||"string"!=typeof o.name||(this.markers[o.name]?(console.error("addMarker "+o.name+" already exists in Sound"),1):(o=h(!0,{name:"",start:0,duration:this.totalDuration-(o.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},o),this.markers[o.name]=o,0)))},updateMarker:function(o){return!(!o||!o.name||"string"!=typeof o.name||(this.markers[o.name]?(this.markers[o.name]=h(!0,this.markers[o.name],o),0):(console.warn("Audio Marker: "+o.name+" missing in Sound: "+this.key),1)))},removeMarker:function(o){var d=this.markers[o];return d?(this.markers[o]=null,d):null},play:function(o,d){if(void 0===o&&(o=""),"object"==typeof o&&(d=o,o=""),"string"!=typeof o)return!1;if(o){if(!this.markers[o])return console.warn("Marker: "+o+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[o],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}else this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;return this.resetConfig(),this.currentConfig=h(this.currentConfig,d),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return!(this.isPaused||!this.isPlaying||(this.isPlaying=!1,this.isPaused=!0,0))},resume:function(){return!(!this.isPaused||this.isPlaying||(this.isPlaying=!0,this.isPaused=!1,0))},stop:function(){return!(!this.isPaused&&!this.isPlaying||(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),0))},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:u,calculateRate:function(){var a=Math.pow(1.0005777895065548,this.currentConfig.detune+this.manager.detune);this.totalRate=this.currentConfig.rate*this.manager.rate*a},destroy:function(){this.pendingRemove||(this.emit(f.DESTROY,this),this.pendingRemove=!0,this.manager=null,this.key="",this.removeAllListeners(),this.isPlaying=!1,this.isPaused=!1,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});C.exports=s},function(C,w,n){var l=n(209),m=n(435);C.exports=function(h,u){if(void 0===u&&(u=90),!l(h))return null;if("string"!=typeof u&&(u=(u%360+360)%360),90===u||-270===u||"rotateLeft"===u)(h=m(h)).reverse();else if(-90===u||270===u||"rotateRight"===u)h.reverse(),h=m(h);else if(180===Math.abs(u)||"rotate180"===u){for(var s=0;s<h.length;s++)h[s].reverse();h.reverse()}return h}},function(C,w,n){var l=n(0),m=n(18),f=n(11),h=n(15),u=n(1043),s=n(1044),o=n(212),d=n(10),a=n(1045),c=new l({Extends:h,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.Mask,f.Origin,f.Pipeline,f.ScrollFactor,f.Texture,f.Tint,f.Transform,f.Visible,a],initialize:function(v,g,x,T,S,D,M){void 0===S&&(S=""),void 0===M&&(M=0),h.call(this,v,"BitmapText"),this.font=T;var R=this.scene.sys.cache.bitmapFont.get(T);R||console.warn("Invalid BitmapText key: "+T),this.fontData=R.data,this._text="",this._fontSize=D||this.fontData.size,this._letterSpacing=0,this._align=M,this._bounds=u(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=R.fromAtlas,this.setTexture(R.texture,R.frame),this.setPosition(g,x),this.setOrigin(0,0),this.initPipeline(),this.setText(S)},setLeftAlign:function(){return this._align=c.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=c.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=c.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(p){return this._fontSize=p,this._dirty=!0,this},setLetterSpacing:function(p){return void 0===p&&(p=0),this._letterSpacing=p,this._dirty=!0,this},setText:function(p){return!p&&0!==p&&(p=""),Array.isArray(p)&&(p=p.join("\n")),p!==this.text&&(this._text=p.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(p,v,g,x){return void 0===p&&(p=0),void 0===v&&(v=0),void 0===g&&(g=0),void 0===x&&(x=.5),this.dropShadowX=p,this.dropShadowY=v,this.dropShadowColor=g,this.dropShadowAlpha=x,this},setCharacterTint:function(p,v,g,x,T,S,D){void 0===p&&(p=0),void 0===v&&(v=1),void 0===g&&(g=!1),void 0===x&&(x=-1),void 0===T&&(T=x,S=x,D=x);var M=this.text.length;-1===v&&(v=M),p<0&&(p=M+p),p=m(p,0,M-1);for(var R=m(p+v,p,M),P=this.charColors,I=p;I<R;I++){var b=P[I];if(-1===x)P[I]=null;else{var L=g?1:0;b?(b.tintEffect=L,b.tintTL=x,b.tintTR=T,b.tintBL=S,b.tintBR=D):P[I]={tintEffect:L,tintTL:x,tintTR:T,tintBL:S,tintBR:D}}}return this},setWordTint:function(p,v,g,x,T,S,D){void 0===v&&(v=1);for(var R=this.getTextBounds().words,P="number"==typeof p,I=0,b=0;b<R.length;b++){var L=R[b];if((P&&b===p||!P&&L.word===p)&&(this.setCharacterTint(L.i,L.word.length,g,x,T,S,D),++I===v))return this}return this},getTextBounds:function(p){var v=this._bounds;return(this._dirty||p||this.scaleX!==v.scaleX||this.scaleY!==v.scaleY)&&(u(this,p,!0,v),this._dirty=!1),v},getCharacterAt:function(p,v,g){for(var x=this.getLocalPoint(p,v,null,g),S=this.getTextBounds().characters,D=new d,M=0;M<S.length;M++){var R=S[M];if(D.setTo(R.x,R.t,R.r-R.x,R.b),D.contains(x.x,x.y))return R}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(p,v,g){if(void 0===v&&(v=this._fontSize),void 0===g&&(g=this._align),p!==this.font){var x=this.scene.sys.cache.bitmapFont.get(p);x&&(this.font=p,this.fontData=x.data,this._fontSize=v,this._align=g,this.fromAtlas=!0===x.fromAtlas,this.setTexture(x.texture,x.frame),u(this,!1,!0,this._bounds))}return this},setMaxWidth:function(p,v){return this._maxWidth=p,this._dirty=!0,void 0!==v&&(this.wordWrapCharCode=v),this},align:{set:function(p){this._align=p,this._dirty=!0},get:function(){return this._align}},text:{set:function(p){this.setText(p)},get:function(){return this._text}},fontSize:{set:function(p){this._fontSize=p,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(p){this._letterSpacing=p,this._dirty=!0},get:function(){return this._letterSpacing}},maxWidth:{set:function(p){this._maxWidth=p,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},toJSON:function(){var p=f.ToJSON(this);return p.data={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,align:this.align},p},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});c.ALIGN_LEFT=0,c.ALIGN_CENTER=1,c.ALIGN_RIGHT=2,c.ParseFromAtlas=s,c.ParseXMLBitmapFont=o,C.exports=c},function(C,w,n){var m=new(n(0))({initialize:function(h){if(this.entries=[],Array.isArray(h))for(var u=0;u<h.length;u++)this.set(h[u])},set:function(f){return-1===this.entries.indexOf(f)&&this.entries.push(f),this},get:function(f,h){for(var u=0;u<this.entries.length;u++){var s=this.entries[u];if(s[f]===h)return s}},getArray:function(){return this.entries.slice(0)},delete:function(f){var h=this.entries.indexOf(f);return h>-1&&this.entries.splice(h,1),this},dump:function(){console.group("Set");for(var f=0;f<this.entries.length;f++)console.log(this.entries[f]);console.groupEnd()},each:function(f,h){var u,s=this.entries.slice(),o=s.length;if(h)for(u=0;u<o&&!1!==f.call(h,s[u],u);u++);else for(u=0;u<o&&!1!==f(s[u],u);u++);return this},iterate:function(f,h){var u,s=this.entries.length;if(h)for(u=0;u<s&&!1!==f.call(h,this.entries[u],u);u++);else for(u=0;u<s&&!1!==f(this.entries[u],u);u++);return this},iterateLocal:function(f){var h,u=[];for(h=1;h<arguments.length;h++)u.push(arguments[h]);var s=this.entries.length;for(h=0;h<s;h++){var o=this.entries[h];o[f].apply(o,u)}return this},clear:function(){return this.entries.length=0,this},contains:function(f){return this.entries.indexOf(f)>-1},union:function(f){var h=new m;return f.entries.forEach(function(u){h.set(u)}),this.entries.forEach(function(u){h.set(u)}),h},intersect:function(f){var h=new m;return this.entries.forEach(function(u){f.contains(u)&&h.set(u)}),h},difference:function(f){var h=new m;return this.entries.forEach(function(u){f.contains(u)||h.set(u)}),h},size:{get:function(){return this.entries.length},set:function(f){return f<this.entries.length?this.entries.length=f:this.entries.length}}});C.exports=m},function(C,w,n){var l=n(0),m=n(11),f=n(15),h=n(189),u=n(92),s=n(1182),o=new l({Extends:f,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.GetBounds,m.Mask,m.Pipeline,m.ScrollFactor,m.Transform,m.Visible,s],initialize:function(a,c,p,v,g,x,T){void 0===v&&(v=16777215),void 0===g&&(g=128),void 0===x&&(x=1),void 0===T&&(T=.1),f.call(this,a,"PointLight"),this.initPipeline(u.POINTLIGHT_PIPELINE),this.setPosition(c,p),this.color=h(v),this.intensity=x,this.attenuation=T,this.width=2*g,this.height=2*g,this._radius=g},radius:{get:function(){return this._radius},set:function(d){this._radius=d,this.width=2*d,this.height=2*d}},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});C.exports=o},function(C,w){C.exports=function(l,m){var f=m.width/2,h=m.height/2,u=Math.abs(l.x-m.x-f),s=Math.abs(l.y-m.y-h);if(u>f+l.radius||s>h+l.radius)return!1;if(u<=f||s<=h)return!0;var a=u-f,c=s-h;return a*a+c*c<=l.radius*l.radius}},function(C,w){C.exports=function(l,m){return!(l.width<=0||l.height<=0||m.width<=0||m.height<=0||l.right<m.x||l.bottom<m.y||l.x>m.right||l.y>m.bottom)}},function(C,w,n){var l=n(6),m={};C.exports={register:function(h,u,s,o,d){m[h]={plugin:u,mapping:s,settingsKey:o,configKey:d}},getPlugin:function(h){return m[h]},install:function(h){var u=h.scene.sys,s=u.settings.input,o=u.game.config;for(var d in m){var a=m[d].plugin,c=m[d].mapping;l(s,m[d].settingsKey,o[m[d].configKey])&&(h[c]=new a(h))}},remove:function(h){m.hasOwnProperty(h)&&delete m[h]}}},function(C,w,n){C.exports={ANY_KEY_DOWN:n(1323),ANY_KEY_UP:n(1324),COMBO_MATCH:n(1325),DOWN:n(1326),KEY_DOWN:n(1327),KEY_UP:n(1328),UP:n(1329)}},function(C,w){C.exports=function(l,m){return!!l.url&&(l.url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?l.url:m+l.url)}},function(C,w){C.exports=function(l,m,f,h,u,s){return void 0===l&&(l=""),void 0===m&&(m=!0),void 0===f&&(f=""),void 0===h&&(h=""),void 0===u&&(u=0),void 0===s&&(s=!1),{responseType:l,async:m,user:f,password:h,timeout:u,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:s}}},function(C,w,n){var l=n(0),m=n(243),f=n(73),h=new l({Extends:f,Mixins:[m.Acceleration,m.Angular,m.Bounce,m.Debug,m.Drag,m.Enable,m.Friction,m.Gravity,m.Immovable,m.Mass,m.Pushable,m.Size,m.Velocity],initialize:function(s,o,d,a,c){f.call(this,s,o,d,a,c),this.body=null}});C.exports=h},function(C,w,n){var l=n(119);C.exports=function(f,h,u,s){if(void 0===u&&(u=!1),l(f,h,s)){var o=s.data[h][f]||null;return o?-1===o.index?u?o:null:o:null}return null}},function(C,w){C.exports=function(l,m,f,h){var g,x,T,u=l.data,s=l.width,o=l.height,d=l.tilemapLayer,a=Math.max(0,m.left),c=Math.min(s,m.right),p=Math.max(0,m.top),v=Math.min(o,m.bottom);if(0===f)for(x=p;x<v;x++)for(g=a;u[x]&&g<c;g++)(T=u[x][g])&&-1!==T.index&&T.visible&&0!==T.alpha&&h.push(T);else if(1===f)for(x=p;x<v;x++)for(g=c;u[x]&&g>=a;g--)(T=u[x][g])&&-1!==T.index&&T.visible&&0!==T.alpha&&h.push(T);else if(2===f)for(x=v;x>=p;x--)for(g=a;u[x]&&g<c;g++)(T=u[x][g])&&-1!==T.index&&T.visible&&0!==T.alpha&&h.push(T);else if(3===f)for(x=v;x>=p;x--)for(g=c;u[x]&&g>=a;g--)(T=u[x][g])&&-1!==T.index&&T.visible&&0!==T.alpha&&h.push(T);return d.tilesDrawn=h.length,d.tilesTotal=s*o,h}},function(C,w){C.exports=function(l,m,f){var h=f.collideIndexes.indexOf(l);m&&-1===h?f.collideIndexes.push(l):!m&&-1!==h&&f.collideIndexes.splice(h,1)}},function(C,w,n){var l=n(2);C.exports=function(f,h,u){if(!h)return{i:0,layers:f.layers,name:"",opacity:1,visible:!0,x:0,y:0};var s=h.x+l(h,"startx",0)*f.tilewidth+l(h,"offsetx",0),o=h.y+l(h,"starty",0)*f.tileheight+l(h,"offsety",0);return{i:0,layers:h.layers,name:u.name+h.name+"/",opacity:u.opacity*h.opacity,visible:u.visible&&h.visible,x:u.x+s,y:u.y+o}}},function(C,w){C.exports=function(l,m,f){return l.hasOwnProperty(m)?"function"==typeof l[m]?function(s,o,d,a,c,p){return l[m](s,o,d,a,c,p)}:function(){return l[m]}:"function"==typeof f?f:function(){return f}}},function(C,w,n){var l=n(265),m=n(13),f=n(99),h=n(80),u=n(162),s=n(583),o=n(263),d=n(6),a=n(264),c=n(266),p=n(268);C.exports=function(g,x,T){void 0===T&&(T=l);for(var S=T.targets?T.targets:o(x),D=s(x),M=u(x,"delay",T.delay),R=u(x,"duration",T.duration),P=d(x,"easeParams",T.easeParams),I=h(d(x,"ease",T.ease),P),b=u(x,"hold",T.hold),L=u(x,"repeat",T.repeat),B=u(x,"repeatDelay",T.repeatDelay),V=f(x,"yoyo",T.yoyo),z=f(x,"flipX",T.flipX),W=f(x,"flipY",T.flipY),K=[],J=0;J<D.length;J++)for(var tt=D[J].key,it=D[J].value,H=0;H<S.length;H++){var G=a(tt,it),Y=p(S[H],H,tt,G.getEnd,G.getStart,G.getActive,h(d(it,"ease",I),d(it,"easeParams",P)),u(it,"delay",M),u(it,"duration",R),f(it,"yoyo",V),u(it,"hold",b),u(it,"repeat",L),u(it,"repeatDelay",B),f(it,"flipX",z),f(it,"flipY",W));K.push(Y)}var X=new c(g,K,S);X.offset=m(x,"offset",null),X.completeDelay=m(x,"completeDelay",0),X.loop=Math.round(m(x,"loop",0)),X.loopDelay=Math.round(m(x,"loopDelay",0)),X.paused=f(x,"paused",!1),X.useFrames=f(x,"useFrames",!1);for(var $=d(x,"callbackScope",X),Q=[X,null],_=c.TYPES,et=0;et<_.length;et++){var ot=_[et],lt=d(x,ot,!1);if(lt){var ht=d(x,ot+"Scope",$),ft=d(x,ot+"Params",[]);X.setCallback(ot,lt,Q.concat(ft),ht)}}return X}},function(C,w,n){var l=n(0),m=n(102),f=n(2),h=n(132),u=n(185),s=new l({initialize:function(d){this.parent=d,this.animationManager=d.scene.sys.anims,this.animationManager.on(h.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0},chain:function(o){var d=this.parent;if(void 0===o)return this.nextAnimsQueue.length=0,this.nextAnim=null,d;Array.isArray(o)||(o=[o]);for(var a=0;a<o.length;a++){var c=o[a];null===this.nextAnim?this.nextAnim=c:this.nextAnimsQueue.push(c)}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(o){this.isPlaying&&this.stop();var d=this.animationManager,a="string"==typeof o?o:f(o,"key",null),c=this.exists(a)?this.get(a):d.get(a);if(c){this.currentAnim=c;var p=c.getTotalFrames(),v=f(o,"frameRate",c.frameRate),g=f(o,"duration",c.duration);c.calculateDuration(this,p,g,v),this.delay=f(o,"delay",c.delay),this.repeat=f(o,"repeat",c.repeat),this.repeatDelay=f(o,"repeatDelay",c.repeatDelay),this.yoyo=f(o,"yoyo",c.yoyo),this.showOnStart=f(o,"showOnStart",c.showOnStart),this.hideOnComplete=f(o,"hideOnComplete",c.hideOnComplete),this.skipMissedFrames=f(o,"skipMissedFrames",c.skipMissedFrames),this.timeScale=f(o,"timeScale",this.timeScale);var x=f(o,"startFrame",0);x>c.getTotalFrames()&&(x=0);var T=c.frames[x];0===x&&!this.forward&&(T=c.getLastFrame()),this.currentFrame=T}else console.warn("Missing animation: "+a);return this.parent},pause:function(o){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),void 0!==o&&this.setCurrentFrame(o),this.parent},resume:function(o){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),void 0!==o&&this.setCurrentFrame(o),this.parent},playAfterDelay:function(o,d){if(this.isPlaying){var a=this.nextAnim;a&&this.nextAnimsQueue.unshift(a),this.nextAnim=o,this._pendingStop=1,this._pendingStopValue=d}else this.delayCounter=d,this.play(o,!0);return this.parent},playAfterRepeat:function(o,d){if(void 0===d&&(d=1),this.isPlaying){var a=this.nextAnim;a&&this.nextAnimsQueue.unshift(a),-1!==this.repeatCounter&&d>this.repeatCounter&&(d=this.repeatCounter),this.nextAnim=o,this._pendingStop=2,this._pendingStopValue=d}else this.play(o);return this.parent},play:function(o,d){void 0===d&&(d=!1);var a=this.currentAnim;if(d&&this.isPlaying&&a.key===("string"==typeof o?o:o.key))return this.parent;if(a&&this.isPlaying){var v=this.animationManager.getMix(a.key,o);if(v>0)return this.playAfterDelay(o,v)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(o)},playReverse:function(o,d){return void 0===d&&(d=!1),d&&this.isPlaying&&this.currentAnim.key===("string"==typeof o?o:o.key)?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(o))},startAnimation:function(o){this.load(o);var d=this.currentAnim,a=this.parent;return d&&(this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat,d.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,0===this.delayCounter&&this.handleStart()),a},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(h.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(h.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(h.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(h.ANIMATION_COMPLETE,h.ANIMATION_COMPLETE_KEY)},emitEvents:function(o,d){var a=this.currentAnim,c=this.currentFrame,p=this.parent,v=c.textureFrame;p.emit(o,a,c,p,v),d&&p.emit(d+a.key,a,c,p,v)},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var o=this.currentFrame;if(!o)return 0;var d=o.progress;return this.inReverse&&(d*=-1),d},setProgress:function(o){return this.forward||(o=1-o),this.setCurrentFrame(this.currentAnim.getFrameByProgress(o)),this.parent},setRepeat:function(o){return this.repeatCounter=-1===o?Number.MAX_VALUE:o,this.parent},globalRemove:function(o,d){void 0===d&&(d=this.currentAnim),this.isPlaying&&d.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(o,d){void 0===o&&(o=!1),void 0===d&&(d=!1);var a=this.currentAnim,c=this.parent;return a?(d&&(this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat),a.getFirstTick(this),this.emitEvents(h.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!o,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(a.frames[0]),this.parent):c},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var o=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(o)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleStop(),this.nextAnim){var o=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(o)}return this.parent},stopAfterDelay:function(o){return this._pendingStop=1,this._pendingStopValue=o,this.parent},stopAfterRepeat:function(o){return void 0===o&&(o=1),-1!==this.repeatCounter&&o>this.repeatCounter&&(o=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=o,this.parent},stopOnFrame:function(o){return this._pendingStop=3,this._pendingStopValue=o,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(o,d){var a=this.currentAnim;if(this.isPlaying&&a&&!a.paused){if(this.accumulator+=d*this.timeScale,1===this._pendingStop&&(this._pendingStopValue-=d,this._pendingStopValue<=0))return this.stop();if(this.hasStarted){if(this.accumulator>=this.nextTick&&(this.forward?a.nextFrame(this):a.previousFrame(this),this.isPlaying&&0===this._pendingStop&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var c=0;do{this.forward?a.nextFrame(this):a.previousFrame(this),c++}while(this.isPlaying&&this.accumulator>this.nextTick&&c<60)}}else this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart())}},setCurrentFrame:function(o){var d=this.parent;return this.currentFrame=o,d.texture=o.frame.texture,d.frame=o.frame,d.isCropped&&d.frame.updateCropUVs(d._crop,d.flipX,d.flipY),o.setAlpha&&(d.alpha=o.alpha),d.setSizeToFrame(),d._originComponent&&(o.frame.customPivot?d.setOrigin(o.frame.pivotX,o.frame.pivotY):d.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(h.ANIMATION_UPDATE),3===this._pendingStop&&this._pendingStopValue===o&&this.stop()),d},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(o){return this.anims?this.anims.get(o):null},exists:function(o){return!!this.anims&&this.anims.has(o)},create:function(o){var d=o.key,a=!1;return d&&((a=this.get(d))||(a=new u(this,d,o),this.anims||(this.anims=new m),this.anims.set(d,a))),a},generateFrameNames:function(o,d){return this.animationManager.generateFrameNames(o,d)},generateFrameNumbers:function(o,d){return this.animationManager.generateFrameNumbers(o,d)},remove:function(o){var d=this.get(o);return d&&(this.currentAnim===d&&this.stop(),this.anims.delete(o)),d},destroy:function(){this.animationManager.off(h.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});C.exports=s},function(C,w,n){var l={};C.exports=l;var m=n(166);l._motionWakeThreshold=.18,l._motionSleepThreshold=.08,l._minBias=.9,l.update=function(f,h){for(var u=h*h*h,s=0;s<f.length;s++){var o=f[s],d=o.speed*o.speed+o.angularSpeed*o.angularSpeed;if(0===o.force.x&&0===o.force.y){var a=Math.min(o.motion,d),c=Math.max(o.motion,d);o.motion=l._minBias*a+(1-l._minBias)*c,o.sleepThreshold>0&&o.motion<l._motionSleepThreshold*u?(o.sleepCounter+=1,o.sleepCounter>=o.sleepThreshold&&l.set(o,!0)):o.sleepCounter>0&&(o.sleepCounter-=1)}else l.set(o,!1)}},l.afterCollisions=function(f,h){for(var u=h*h*h,s=0;s<f.length;s++){var o=f[s];if(o.isActive){var d=o.collision,a=d.bodyA.parent,c=d.bodyB.parent;if(!(a.isSleeping&&c.isSleeping||a.isStatic||c.isStatic)&&(a.isSleeping||c.isSleeping)){var p=a.isSleeping&&!a.isStatic?a:c;!p.isStatic&&(p===a?c:a).motion>l._motionWakeThreshold*u&&l.set(p,!1)}}}},l.set=function(f,h){var u=f.isSleeping;h?(f.isSleeping=!0,f.sleepCounter=f.sleepThreshold,f.positionImpulse.x=0,f.positionImpulse.y=0,f.positionPrev.x=f.position.x,f.positionPrev.y=f.position.y,f.anglePrev=f.angle,f.speed=0,f.angularSpeed=0,f.motion=0,u||m.trigger(f,"sleepStart")):(f.isSleeping=!1,f.sleepCounter=0,u&&m.trigger(f,"sleepEnd"))}},function(C,w,n){var l={};C.exports=l;var m=n(32);l.on=function(f,h,u){for(var o,s=h.split(" "),d=0;d<s.length;d++)o=s[d],f.events=f.events||{},f.events[o]=f.events[o]||[],f.events[o].push(u);return u},l.off=function(f,h,u){if(h){"function"==typeof h&&(u=h,h=m.keys(f.events).join(" "));for(var s=h.split(" "),o=0;o<s.length;o++){var d=f.events[s[o]],a=[];if(u&&d)for(var c=0;c<d.length;c++)d[c]!==u&&a.push(d[c]);f.events[s[o]]=a}}else f.events={}},l.trigger=function(f,h,u){var s,o,d,a,c=f.events;if(c&&m.keys(c).length>0){u||(u={}),s=h.split(" ");for(var p=0;p<s.length;p++)if(d=c[o=s[p]]){(a=m.clone(u,!1)).name=o,a.source=f;for(var v=0;v<d.length;v++)d[v].apply(f,[a])}}}},function(C,w,n){var l=n(175),m=n(92),f=n(74);C.exports={defaultPipeline:null,pipeline:null,hasPostPipeline:!1,postPipelines:null,pipelineData:null,initPipeline:function(u){void 0===u&&(u=m.MULTI_PIPELINE);var s=this.scene.sys.renderer;if(!s)return!1;var o=s.pipelines;if(this.postPipelines=[],this.pipelineData={},o){var d=o.get(u);if(d)return this.defaultPipeline=d,this.pipeline=d,!0}return!1},setPipeline:function(u,s,o){var d=this.scene.sys.renderer;if(!d)return this;var a=d.pipelines;if(a){var c=a.get(u);c&&(this.pipeline=c),s&&(this.pipelineData=o?l(s):s)}return this},setPostPipeline:function(u,s,o){var d=this.scene.sys.renderer;if(!d)return this;var a=d.pipelines;if(a){Array.isArray(u)||(u=[u]);for(var c=0;c<u.length;c++){var p=a.getPostPipeline(u[c],this);p&&this.postPipelines.push(p)}s&&(this.pipelineData=o?l(s):s)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPipelineData:function(u,s){var o=this.pipelineData;return void 0===s?delete o[u]:o[u]=s,this},getPostPipeline:function(u){for(var s=this.postPipelines,o=[],d=0;d<s.length;d++){var a=s[d];("string"==typeof u&&a.name===u||a instanceof u)&&o.push(a)}return 1===o.length?o[0]:o},resetPipeline:function(u,s){return void 0===u&&(u=!1),void 0===s&&(s=!1),this.pipeline=this.defaultPipeline,u&&(this.postPipelines=[],this.hasPostPipeline=!1),s&&(this.pipelineData={}),null!==this.pipeline},resetPostPipeline:function(u){void 0===u&&(u=!1);for(var s=this.postPipelines,o=0;o<s.length;o++)s[o].destroy();this.postPipelines=[],this.hasPostPipeline=!1,u&&(this.pipelineData={})},removePostPipeline:function(u){for(var s=this.postPipelines,o=s.length-1;o>=0;o--){var d=s[o];("string"==typeof u&&d.name===u||"string"!=typeof u&&d instanceof u)&&(d.destroy(),f(s,o))}return this.hasPostPipeline=this.postPipelines.length>0,this},getPipelineName:function(){return this.pipeline.name}}},function(C,w){C.exports={DEFAULT:0,LINEAR:0,NEAREST:1}},function(C,w,n){var l=n(4);C.exports=function(f,h,u){return void 0===u&&(u=new l),u.x=f.x+f.radius*Math.cos(h),u.y=f.y+f.radius*Math.sin(h),u}},function(C,w,n){var l=n(4);C.exports=function(f,h){void 0===h&&(h=new l);var u=2*Math.PI*Math.random(),s=Math.random()+Math.random(),o=s>1?2-s:s,d=o*Math.cos(u),a=o*Math.sin(u);return h.x=f.x+d*f.radius,h.y=f.y+a*f.radius,h}},function(C,w,n){var l=n(130),m=n(4);C.exports=function(h,u,s){if(void 0===s&&(s=new m),u<=0||u>=1)return s.x=h.x,s.y=h.y,s;var o=l(h)*u;return u>.5?(o-=h.width+h.height)<=h.width?(s.x=h.right-o,s.y=h.bottom):(s.x=h.x,s.y=h.bottom-(o-h.width)):o<=h.width?(s.x=h.x+o,s.y=h.y):(s.x=h.right,s.y=h.y+(o-h.width)),s}},function(C,w,n){var l=n(67),m=n(4);C.exports=function(h,u,s,o){void 0===o&&(o=[]),!u&&s>0&&(u=l(h)/s);for(var d=h.x1,a=h.y1,c=h.x2,p=h.y2,v=0;v<u;v++){var g=v/u;o.push(new m(d+(c-d)*g,a+(p-a)*g))}return o}},function(C,w,n){var l=n(4);C.exports=function(f,h){void 0===h&&(h=new l);var u=Math.random();return h.x=f.x1+u*(f.x2-f.x1),h.y=f.y1+u*(f.y2-f.y1),h}},function(C,w,n){var l=n(4);C.exports=function(f,h){return void 0===h&&(h=new l),h.x=f.x+Math.random()*f.width,h.y=f.y+Math.random()*f.height,h}},function(C,w){var n=function(l){var m,h;if("object"!=typeof l||null===l)return l;for(h in m=Array.isArray(l)?[]:{},l)m[h]=n(l[h]);return m};C.exports=n},function(C,w){C.exports=function(l){var m={name:l.name,type:l.type,x:l.x,y:l.y,depth:l.depth,scale:{x:l.scaleX,y:l.scaleY},origin:{x:l.originX,y:l.originY},flipX:l.flipX,flipY:l.flipY,rotation:l.rotation,alpha:l.alpha,visible:l.visible,blendMode:l.blendMode,textureKey:"",frameKey:"",data:{}};return l.texture&&(m.textureKey=l.texture.key,m.frameKey=l.frame.name),m}},function(C,w,n){var l=n(3);C.exports=function(f,h,u,s,o,d,a,c){void 0===c&&(c=new l);var p=Math.sin(o),v=Math.cos(o),g=v*d,x=p*d,T=-p*a,S=v*a,D=1/(g*S+T*-x);return c.x=S*D*f+-T*D*h+(s*T-u*S)*D,c.y=g*D*h+-x*D*f+(-s*g+u*x)*D,c}},function(C,w){C.exports=function(l,m){void 0===m&&(m=1);for(var f=null,h=0;h<m;h++)f=l.shift(),l.push(f);return f}},function(C,w){C.exports=function(l,m){void 0===m&&(m=1);for(var f=null,h=0;h<m;h++)f=l.pop(),l.unshift(f);return f}},function(C,w,n){var l=n(4);C.exports=function(f,h){void 0===h&&(h=new l);var u=Math.random()*Math.PI*2,s=Math.sqrt(Math.random());return h.x=f.x+s*Math.cos(u)*f.width/2,h.y=f.y+s*Math.sin(u)*f.height/2,h}},function(C,w,n){var l=n(4);C.exports=function(f,h){void 0===h&&(h=new l);var u=f.x2-f.x1,s=f.y2-f.y1,o=f.x3-f.x1,d=f.y3-f.y1,a=Math.random(),c=Math.random();return a+c>=1&&(a=1-a,c=1-c),h.x=f.x1+(u*a+o*c),h.y=f.y1+(s*a+d*c),h}},function(C,w){C.exports=function(l,m,f,h,u){var s=h+Math.atan2(l.y-f,l.x-m);return l.x=m+u*Math.cos(s),l.y=f+u*Math.sin(s),l}},function(C,w){C.exports=function(l,m,f){return(l=Math.max(0,Math.min(1,(l-m)/(f-m))))*l*l*(l*(6*l-15)+10)}},function(C,w){C.exports=function(l,m,f){return l<=m?0:l>=f?1:(l=(l-m)/(f-m))*l*(3-2*l)}},function(C,w,n){var l=n(18),m=n(0),f=n(132),h=n(318),u=n(319),s=n(6),o=n(320),d=new m({initialize:function(c,p,v){this.manager=c,this.key=p,this.type="frame",this.frames=this.getFrames(c.textureManager,s(v,"frames",[]),s(v,"defaultTextureKey",null),s(v,"sortFrames",!0)),this.frameRate=s(v,"frameRate",null),this.duration=s(v,"duration",null),this.skipMissedFrames=s(v,"skipMissedFrames",!0),this.delay=s(v,"delay",0),this.repeat=s(v,"repeat",0),this.repeatDelay=s(v,"repeatDelay",0),this.yoyo=s(v,"yoyo",!1),this.showOnStart=s(v,"showOnStart",!1),this.hideOnComplete=s(v,"hideOnComplete",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(f.PAUSE_ALL,this.pause,this),this.manager.on(f.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(a,c,p,v){null===p&&null===v?(a.frameRate=24,a.duration=24/c*1e3):p&&null===v?(a.duration=p,a.frameRate=c/(p/1e3)):(a.frameRate=v,a.duration=c/v*1e3),a.msPerFrame=1e3/a.frameRate},addFrame:function(a){return this.addFrameAt(this.frames.length,a)},addFrameAt:function(a,c){var p=this.getFrames(this.manager.textureManager,c);if(p.length>0){if(0===a)this.frames=p.concat(this.frames);else if(a===this.frames.length)this.frames=this.frames.concat(p);else{var v=this.frames.slice(0,a),g=this.frames.slice(a);this.frames=v.concat(p,g)}this.updateFrameSequence()}return this},checkFrame:function(a){return a>=0&&a<this.frames.length},getFirstTick:function(a){a.accumulator=0,a.nextTick=a.msPerFrame+a.currentFrame.duration},getFrameAt:function(a){return this.frames[a]},getFrames:function(a,c,p,v){void 0===v&&(v=!0);var x,T,D,M,g=[],S=1;if("string"==typeof c){var P=a.get(M=c).getFrameNames();v&&o(P),c=[],P.forEach(function(z){c.push({key:M,frame:z})})}if(!Array.isArray(c)||0===c.length)return g;for(D=0;D<c.length;D++){var I=c[D],b=s(I,"key",p);if(b){var L=s(I,"frame",0),B=a.getFrame(b,L);(T=new u(b,L,S,B)).duration=s(I,"duration",0),T.isFirst=!x,x&&(x.nextFrame=T,T.prevFrame=x),g.push(T),x=T,S++}}if(g.length>0){T.isLast=!0,T.nextFrame=g[0],g[0].prevFrame=T;var V=1/(g.length-1);for(D=0;D<g.length;D++)g[D].progress=D*V}return g},getNextTick:function(a){a.accumulator-=a.nextTick,a.nextTick=a.msPerFrame+a.currentFrame.duration},getFrameByProgress:function(a){return a=l(a,0,1),h(a,this.frames,"progress")},nextFrame:function(a){var c=a.currentFrame;c.isLast?a.yoyo?this.handleYoyoFrame(a,!1):a.repeatCounter>0?a.inReverse&&a.forward?a.forward=!1:this.repeatAnimation(a):a.complete():this.updateAndGetNextTick(a,c.nextFrame)},handleYoyoFrame:function(a,c){if(c||(c=!1),a.inReverse===!c&&a.repeatCounter>0)return(0===a.repeatDelay||a.pendingRepeat)&&(a.forward=c),void this.repeatAnimation(a);a.inReverse===c||0!==a.repeatCounter?(a.forward=c,this.updateAndGetNextTick(a,c?a.currentFrame.nextFrame:a.currentFrame.prevFrame)):a.complete()},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(a){var c=a.currentFrame;c.isFirst?a.yoyo?this.handleYoyoFrame(a,!0):a.repeatCounter>0?(a.inReverse&&!a.forward||(a.forward=!0),this.repeatAnimation(a)):a.complete():this.updateAndGetNextTick(a,c.prevFrame)},updateAndGetNextTick:function(a,c){a.setCurrentFrame(c),this.getNextTick(a)},removeFrame:function(a){var c=this.frames.indexOf(a);return-1!==c&&this.removeFrameAt(c),this},removeFrameAt:function(a){return this.frames.splice(a,1),this.updateFrameSequence(),this},repeatAnimation:function(a){if(2===a._pendingStop){if(0===a._pendingStopValue)return a.stop();a._pendingStopValue--}a.repeatDelay>0&&!a.pendingRepeat?(a.pendingRepeat=!0,a.accumulator-=a.nextTick,a.nextTick+=a.repeatDelay):(a.repeatCounter--,a.setCurrentFrame(a.forward?a.currentFrame.nextFrame:a.currentFrame.prevFrame),a.isPlaying&&(this.getNextTick(a),a.handleRepeat()))},toJSON:function(){var a={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(c){a.frames.push(c.toJSON())}),a},updateFrameSequence:function(){for(var p,a=this.frames.length,c=1/(a-1),v=0;v<a;v++)(p=this.frames[v]).index=v+1,p.isFirst=!1,p.isLast=!1,p.progress=v*c,0===v?(p.isFirst=!0,1===a?(p.isLast=!0,p.nextFrame=p,p.prevFrame=p):(p.isLast=!1,p.prevFrame=this.frames[a-1],p.nextFrame=this.frames[v+1])):v===a-1&&a>1?(p.isLast=!0,p.prevFrame=this.frames[a-2],p.nextFrame=this.frames[0]):a>1&&(p.prevFrame=this.frames[v-1],p.nextFrame=this.frames[v+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(f.PAUSE_ALL,this.pause,this),this.manager.off(f.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var a=0;a<this.frames.length;a++)this.frames[a].destroy();this.frames=[],this.manager=null}});C.exports=d},function(C,w){C.exports=function(l,m,f,h){void 0===m&&(m=0),void 0===f&&(f=" "),void 0===h&&(h=3);var u=0;if(m+1>=(l=l.toString()).length)switch(h){case 1:l=new Array(m+1-l.length).join(f)+l;break;case 3:var s=Math.ceil((u=m-l.length)/2);l=new Array(u-s+1).join(f)+l+new Array(s+1).join(f);break;default:l+=new Array(m+1-l.length).join(f)}return l}},function(C,w,n){var l=n(327),m=n(189),f=n(331),h=n(332);C.exports=function(s){switch(typeof s){case"string":return"rgb"===s.substr(0,3).toLowerCase()?h(s):l(s);case"number":return m(s);case"object":return f(s)}}},function(C,w,n){var l=n(103);function m(h,u,s,o){var d=(h+6*u)%6,a=Math.min(d,4-d,1);return Math.round(255*(o-o*s*Math.max(0,a)))}C.exports=function(h,u,s,o){void 0===u&&(u=1),void 0===s&&(s=1);var d=m(5,h,u,s),a=m(3,h,u,s),c=m(1,h,u,s);return o?o.setTo?o.setTo(d,a,c,o.alpha,!1):(o.r=d,o.g=a,o.b=c,o.color=l(d,a,c),o):{r:d,g:a,b:c,color:l(d,a,c)}}},function(C,w,n){var l=n(38),m=n(330);C.exports=function(h){var u=m(h);return new l(u.r,u.g,u.b,u.a)}},function(C,w){C.exports=function(l,m,f){return l.x=m-l.width/2,l.y=f-l.height/2,l}},function(C,w,n){var l=n(105),m=n(136),f=n(31),h={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};C.exports=function s(){if("function"==typeof importScripts)return h;h.canvas=!!window.CanvasRenderingContext2D;try{h.localStorage=!!localStorage.getItem}catch(a){h.localStorage=!1}h.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),h.fileSystem=!!window.requestFileSystem;var o=!1;return h.webGL=function(){if(window.WebGLRenderingContext)try{var a=f.createWebGL(this),c=a.getContext("webgl")||a.getContext("experimental-webgl"),p=f.create2D(this),g=p.getContext("2d").createImageData(1,1);return o=g.data instanceof Uint8ClampedArray,f.remove(a),f.remove(p),!!c}catch(x){return!1}return!1}(),h.worker=!!window.Worker,h.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,h.getUserMedia=h.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,m.firefox&&m.firefoxVersion<21&&(h.getUserMedia=!1),!l.iOS&&(m.ie||m.firefox||m.chrome)&&(h.canvasBitBltShift=!0),(m.safari||m.mobileSafari)&&(h.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(h.vibration=!0),"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint32Array&&(h.littleEndian=function u(){var o=new ArrayBuffer(4),d=new Uint8Array(o),a=new Uint32Array(o);return d[0]=161,d[1]=178,d[2]=195,d[3]=212,3569595041===a[0]||2712847316!==a[0]&&null}()),h.support32bit="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof Int32Array&&null!==h.littleEndian&&o,h}()},function(C,w){var m,n="";C.exports={disable:function(s){return""===n&&(n=m(s)),n&&(s[n]=!1),s},enable:function(s){return""===n&&(n=m(s)),n&&(s[n]=!0),s},getPrefix:m=function(s){for(var o=["i","webkitI","msI","mozI","oI"],d=0;d<o.length;d++){var a=o[d]+"mageSmoothingEnabled";if(a in s)return a}return null},isEnabled:function(s){return null!==n?s[n]:null}}},function(C,w,n){var l=n(14),m=n(17),f={Angle:n(812),Distance:n(821),Easing:n(826),Fuzzy:n(827),Interpolation:n(830),Pow2:n(835),Snap:n(837),RandomDataGenerator:n(839),Average:n(840),Bernstein:n(356),Between:n(195),CatmullRom:n(194),CeilTo:n(841),Clamp:n(18),DegToRad:n(36),Difference:n(842),Euler:n(843),Factorial:n(357),FloatBetween:n(137),FloorTo:n(844),FromPercent:n(98),GetSpeed:n(845),IsEven:n(846),IsEvenStrict:n(847),Linear:n(135),MaxAdd:n(848),Median:n(849),MinSub:n(850),Percent:n(851),RadToDeg:n(196),RandomXY:n(852),RandomXYZ:n(853),RandomXYZW:n(854),Rotate:n(362),RotateAround:n(308),RotateAroundDistance:n(182),RotateTo:n(855),RoundAwayFromZero:n(363),RoundTo:n(856),SinCosTableGenerator:n(857),SmootherStep:n(183),SmoothStep:n(184),ToXY:n(858),TransformXY:n(177),Within:n(859),Wrap:n(68),Vector2:n(3),Vector3:n(39),Vector4:n(140),Matrix3:n(364),Matrix4:n(69),Quaternion:n(365),RotateVec3:n(860)};f=m(!1,f,l),C.exports=f},function(C,w){C.exports=function(l,m,f,h,u){var s=.5*(h-m),o=.5*(u-f),d=l*l;return(2*f-2*h+s+o)*(l*d)+(-3*f+3*h-2*s-o)*d+s*l+f}},function(C,w){C.exports=function(l,m){return Math.floor(Math.random()*(m-l+1)+l)}},function(C,w,n){var l=n(14);C.exports=function(f){return f*l.RAD_TO_DEG}},function(C,w,n){C.exports={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]}},function(C,w,n){var m=new(n(0))({initialize:function(){this._matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.alpha=1,this._dirty=!0},set:function(f){return this._matrix=f,this._dirty=!0,this},reset:function(){var f=this._matrix;return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=0,f[6]=1,f[7]=0,f[8]=0,f[9]=0,f[10]=0,f[11]=0,f[12]=1,f[13]=0,f[14]=0,f[15]=0,f[16]=0,f[17]=0,f[18]=1,f[19]=0,this._dirty=!0,this},getData:function(){if(this._dirty){var f=new Float32Array(this._matrix);f[4]/=255,f[9]/=255,f[14]/=255,f[19]/=255,this._data=f,this._dirty=!1}return this._data},brightness:function(f,h){return void 0===f&&(f=0),void 0===h&&(h=!1),this.multiply([f,0,0,0,0,0,f,0,0,0,0,0,f,0,0,0,0,0,1,0],h)},saturate:function(f,h){void 0===f&&(f=0),void 0===h&&(h=!1);var u=2*f/3+1,s=-.5*(u-1);return this.multiply([u,s,s,0,0,s,u,s,0,0,s,s,u,0,0,0,0,0,1,0],h)},desaturate:function(f){return void 0===f&&(f=!1),this.saturate(-1,f)},hue:function(f,h){void 0===f&&(f=0),void 0===h&&(h=!1),f=f/180*Math.PI;var u=Math.cos(f),s=Math.sin(f),o=.213,d=.715,a=.072;return this.multiply([o+u*(1-o)+s*-o,d+u*-d+s*-d,a+u*-a+s*(1-a),0,0,o+u*-o+.143*s,d+u*(1-d)+.14*s,a+u*-a+-.283*s,0,0,o+u*-o+-.787*s,d+u*-d+s*d,a+u*(1-a)+s*a,0,0,0,0,0,1,0],h)},grayscale:function(f,h){return void 0===f&&(f=1),void 0===h&&(h=!1),this.saturate(-f,h)},blackWhite:function(f){return void 0===f&&(f=!1),this.multiply([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],f)},contrast:function(f,h){void 0===f&&(f=0),void 0===h&&(h=!1);var u=f+1,s=-.5*(u-1);return this.multiply([u,0,0,0,s,0,u,0,0,s,0,0,u,0,s,0,0,0,1,0],h)},negative:function(f){return void 0===f&&(f=!1),this.multiply([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],f)},desaturateLuminance:function(f){return void 0===f&&(f=!1),this.multiply([.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],f)},sepia:function(f){return void 0===f&&(f=!1),this.multiply([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],f)},night:function(f,h){return void 0===f&&(f=.1),void 0===h&&(h=!1),this.multiply([-2*f,-f,0,0,0,-f,0,f,0,0,0,f,2*f,0,0,0,0,0,1,0],h)},lsd:function(f){return void 0===f&&(f=!1),this.multiply([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],f)},brown:function(f){return void 0===f&&(f=!1),this.multiply([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],f)},vintagePinhole:function(f){return void 0===f&&(f=!1),this.multiply([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],f)},kodachrome:function(f){return void 0===f&&(f=!1),this.multiply([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],f)},technicolor:function(f){return void 0===f&&(f=!1),this.multiply([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],f)},polaroid:function(f){return void 0===f&&(f=!1),this.multiply([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],f)},shiftToBGR:function(f){return void 0===f&&(f=!1),this.multiply([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],f)},multiply:function(f,h){h||this.reset();for(var u=this._matrix,s=[],o=0;o<20;o++)s[o]=u[o];return u[0]=s[0]*f[0]+s[1]*f[5]+s[2]*f[10]+s[3]*f[15],u[1]=s[0]*f[1]+s[1]*f[6]+s[2]*f[11]+s[3]*f[16],u[2]=s[0]*f[2]+s[1]*f[7]+s[2]*f[12]+s[3]*f[17],u[3]=s[0]*f[3]+s[1]*f[8]+s[2]*f[13]+s[3]*f[18],u[4]=s[0]*f[4]+s[1]*f[9]+s[2]*f[14]+s[3]*f[19]+s[4],u[5]=s[5]*f[0]+s[6]*f[5]+s[7]*f[10]+s[8]*f[15],u[6]=s[5]*f[1]+s[6]*f[6]+s[7]*f[11]+s[8]*f[16],u[7]=s[5]*f[2]+s[6]*f[7]+s[7]*f[12]+s[8]*f[17],u[8]=s[5]*f[3]+s[6]*f[8]+s[7]*f[13]+s[8]*f[18],u[9]=s[5]*f[4]+s[6]*f[9]+s[7]*f[14]+s[8]*f[19]+s[9],u[10]=s[10]*f[0]+s[11]*f[5]+s[12]*f[10]+s[13]*f[15],u[11]=s[10]*f[1]+s[11]*f[6]+s[12]*f[11]+s[13]*f[16],u[12]=s[10]*f[2]+s[11]*f[7]+s[12]*f[12]+s[13]*f[17],u[13]=s[10]*f[3]+s[11]*f[8]+s[12]*f[13]+s[13]*f[18],u[14]=s[10]*f[4]+s[11]*f[9]+s[12]*f[14]+s[13]*f[19]+s[14],u[15]=s[15]*f[0]+s[16]*f[5]+s[17]*f[10]+s[18]*f[15],u[16]=s[15]*f[1]+s[16]*f[6]+s[17]*f[11]+s[18]*f[16],u[17]=s[15]*f[2]+s[16]*f[7]+s[17]*f[12]+s[18]*f[17],u[18]=s[15]*f[3]+s[16]*f[8]+s[17]*f[13]+s[18]*f[18],u[19]=s[15]*f[4]+s[16]*f[9]+s[17]*f[14]+s[18]*f[19]+s[19],this._dirty=!0,this}});C.exports=m},function(C,w,n){var l=n(10),m=n(14);C.exports=function(h,u){if(void 0===u&&(u=new l),0===h.length)return u;for(var c,p,v,s=Number.MAX_VALUE,o=Number.MAX_VALUE,d=m.MIN_SAFE_INTEGER,a=m.MIN_SAFE_INTEGER,g=0;g<h.length;g++)c=h[g],Array.isArray(c)?(p=c[0],v=c[1]):(p=c.x,v=c.y),s=Math.min(s,p),o=Math.min(o,v),d=Math.max(d,p),a=Math.max(a,v);return u.x=s,u.y=o,u.width=d-s,u.height=a-o,u}},function(C,w,n){var l=n(0),m=n(1),f=new l({initialize:function(u,s,o){this._rgb=[0,0,0],this.onChangeCallback=m,this.dirty=!1,this.set(u,s,o)},set:function(h,u,s){return void 0===h&&(h=0),void 0===u&&(u=0),void 0===s&&(s=0),this._rgb=[h,u,s],this.onChange(),this},equals:function(h,u,s){var o=this._rgb;return o.r===h&&o.g===u&&o.b===s},onChange:function(){this.dirty=!0;var h=this._rgb;this.onChangeCallback.call(this,h[0],h[1],h[2])},r:{get:function(){return this._rgb[0]},set:function(h){this._rgb[0]=h,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(h){this._rgb[1]=h,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(h){this._rgb[2]=h,this.onChange()}},destroy:function(){this.onChangeCallback=null}});C.exports=f},function(C,w,n){var l={CENTER:n(403),ORIENTATION:n(404),SCALE_MODE:n(405),ZOOM:n(406)};C.exports=l},function(C,w){C.exports=function(l){l.parentNode&&l.parentNode.removeChild(l)}},function(C,w){C.exports={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8}},function(C,w,n){var l=n(0),m=n(144),f=n(197),h=n(20),u=n(419),s=n(420),o=n(33),d=n(1),a=n(421),c=new l({initialize:function(v,g){this.scene=v,this.config=g,this.settings=a.create(g),this.sceneUpdate=d},init:function(p){this.settings.status=m.INIT,this.sceneUpdate=d,this.game=p,this.renderer=p.renderer,this.canvas=p.canvas,this.context=p.context;var v=p.plugins;this.plugins=v,v.addToScene(this,f.Global,[f.CoreScene,s(this),u(this)]),this.events.emit(h.BOOT,this),this.settings.isBooted=!0},step:function(p,v){var g=this.events;g.emit(h.PRE_UPDATE,p,v),g.emit(h.UPDATE,p,v),this.sceneUpdate.call(this.scene,p,v),g.emit(h.POST_UPDATE,p,v)},render:function(p){var v=this.displayList;v.depthSort(),this.events.emit(h.PRE_RENDER,p),this.cameras.render(p,v),this.events.emit(h.RENDER,p)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(p){var v=this.events,g=this.settings;return this.settings.active&&(g.status=m.PAUSED,g.active=!1,v.emit(h.PAUSE,this,p)),this},resume:function(p){var v=this.events,g=this.settings;return this.settings.active||(g.status=m.RUNNING,g.active=!0,v.emit(h.RESUME,this,p)),this},sleep:function(p){var v=this.events,g=this.settings;return g.status=m.SLEEPING,g.active=!1,g.visible=!1,v.emit(h.SLEEP,this,p),this},wake:function(p){var v=this.events,g=this.settings;return g.status=m.RUNNING,g.active=!0,g.visible=!0,v.emit(h.WAKE,this,p),g.isTransition&&v.emit(h.TRANSITION_WAKE,g.transitionFrom,g.transitionDuration),this},getData:function(){return this.settings.data},isSleeping:function(){return this.settings.status===m.SLEEPING},isActive:function(){return this.settings.status===m.RUNNING},isPaused:function(){return this.settings.status===m.PAUSED},isTransitioning:function(){return this.settings.isTransition||null!==this.scenePlugin._target},isTransitionOut:function(){return null!==this.scenePlugin._target&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(p){return this.settings.visible=p,this},setActive:function(p,v){return p?this.resume(v):this.pause(v)},start:function(p){var v=this.events,g=this.settings;p&&(g.data=p),g.status=m.START,g.active=!0,g.visible=!0,v.emit(h.START,this),v.emit(h.READY,this,p)},shutdown:function(p){var v=this.events,g=this.settings;v.off(h.TRANSITION_INIT),v.off(h.TRANSITION_START),v.off(h.TRANSITION_COMPLETE),v.off(h.TRANSITION_OUT),g.status=m.SHUTDOWN,g.active=!1,g.visible=!1,this.renderer===o.WEBGL&&this.renderer.resetTextures(!0),v.emit(h.SHUTDOWN,this,p)},destroy:function(){var p=this.events,v=this.settings;v.status=m.DESTROYED,v.active=!1,v.visible=!1,p.emit(h.DESTROY,this),p.removeAllListeners();for(var g=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],x=0;x<g.length;x++)this[g[x]]=null}});C.exports=c},function(C,w){C.exports=function(l){return l&&l[0].toUpperCase()+l.slice(1)}},function(C,w,n){var l=n(33),m=n(0),f=n(109),h=n(424),u="Texture.frame missing: ",s=new m({initialize:function(d,a,c,p,v){Array.isArray(c)||(c=[c]),this.manager=d,this.key=a,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var g=0;g<c.length;g++)this.source.push(new h(this,c[g],p,v))},add:function(o,d,a,c,p,v){if(this.has(o))return null;var g=new f(this,o,d,a,c,p,v);return this.frames[o]=g,"__BASE"===this.firstFrame&&(this.firstFrame=o),this.frameTotal++,g},remove:function(o){return!!this.has(o)&&(this.get(o).destroy(),delete this.frames[o],!0)},has:function(o){return this.frames[o]},get:function(o){o||(o=this.firstFrame);var d=this.frames[o];return d||(console.warn(u+o),d=this.frames[this.firstFrame]),d},getTextureSourceIndex:function(o){for(var d=0;d<this.source.length;d++)if(this.source[d]===o)return d;return-1},getFramesFromTextureSource:function(o,d){void 0===d&&(d=!1);var a=[];for(var c in this.frames)if("__BASE"!==c||d){var p=this.frames[c];p.sourceIndex===o&&a.push(p)}return a},getFrameNames:function(o){void 0===o&&(o=!1);var d=Object.keys(this.frames);if(!o){var a=d.indexOf("__BASE");-1!==a&&d.splice(a,1)}return d},getSourceImage:function(o){(null==o||1===this.frameTotal)&&(o="__BASE");var d=this.frames[o];return d?d.source.image:(console.warn(u+o),this.frames.__BASE.source.image)},getDataSourceImage:function(o){(null==o||1===this.frameTotal)&&(o="__BASE");var a,d=this.frames[o];return d?a=d.sourceIndex:(console.warn(u+o),a=this.frames.__BASE.sourceIndex),this.dataSource[a].image},setDataSource:function(o){Array.isArray(o)||(o=[o]);for(var d=0;d<o.length;d++){var a=this.source[d];this.dataSource.push(new h(this,o[d],a.width,a.height))}},setFilter:function(o){var d;for(d=0;d<this.source.length;d++)this.source[d].setFilter(o);for(d=0;d<this.dataSource.length;d++)this.dataSource[d].setFilter(o)},destroy:function(){var o;for(o=0;o<this.source.length;o++)this.source[o].destroy();for(o=0;o<this.dataSource.length;o++)this.dataSource[o].destroy();for(var d in this.frames)this.frames[d].destroy();this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key);var c=this.manager.game.renderer;c&&c.type===l.WEBGL&&c.resetTextures(!0),this.manager=null}});C.exports=s},function(C,w,n){var l=n(78);C.exports=function(f,h,u,s,o){void 0===s&&(s=0),void 0===o&&(o=f.length);var d=[];if(l(f,s,o))for(var a=s;a<o;a++){var c=f[a];(!h||h&&void 0===u&&c.hasOwnProperty(h)||h&&void 0!==u&&c[h]===u)&&d.push(c)}return d}},function(C,w,n){C.exports={Matrix:n(1013),Add:n(1021),AddAt:n(1022),BringToTop:n(1023),CountAllMatching:n(1024),Each:n(1025),EachInRange:n(1026),FindClosestInSorted:n(318),GetAll:n(207),GetFirst:n(428),GetRandom:n(210),MoveDown:n(1027),MoveTo:n(1028),MoveUp:n(1029),MoveAbove:n(1030),MoveBelow:n(1031),NumberArray:n(322),NumberArrayStep:n(1032),QuickSelect:n(436),Range:n(437),Remove:n(93),RemoveAt:n(1033),RemoveBetween:n(1034),RemoveRandomElement:n(1035),Replace:n(1036),RotateLeft:n(178),RotateRight:n(179),SafeRange:n(78),SendToBack:n(1037),SetAll:n(1038),Shuffle:n(131),SortByDigits:n(320),SpliceOne:n(74),StableSort:n(79),Swap:n(1039)}},function(C,w){C.exports=function(l){if(!Array.isArray(l)||l.length<2||!Array.isArray(l[0]))return!1;for(var m=l[0].length,f=1;f<l.length;f++)if(l[f].length!==m)return!1;return!0}},function(C,w){C.exports=function(l,m,f){void 0===m&&(m=0),void 0===f&&(f=l.length);var h=m+Math.floor(Math.random()*f);return void 0===l[h]?null:l[h]}},function(C,w,n){var l=n(0),m=n(9),f=n(438),h=new l({Extends:m,initialize:function(){m.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},add:function(u){return this._pending.push(u),this._toProcess++,u},remove:function(u){return this._destroy.push(u),this._toProcess++,u},removeAll:function(){for(var u=this._active,s=this._destroy,o=u.length;o--;)s.push(u[o]),this._toProcess++;return this},update:function(){if(0===this._toProcess)return this._active;var o,d,u=this._destroy,s=this._active;for(o=0;o<u.length;o++){var a=s.indexOf(d=u[o]);-1!==a&&(s.splice(a,1),this.emit(f.PROCESS_QUEUE_REMOVE,d))}for(u.length=0,u=this._pending,o=0;o<u.length;o++)d=u[o],(!this.checkQueue||this.checkQueue&&-1===s.indexOf(d))&&(s.push(d),this.emit(f.PROCESS_QUEUE_ADD,d));return u.length=0,this._toProcess=0,s},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});C.exports=h},function(C,w){function n(m,f){return parseInt(m.getAttribute(f),10)}C.exports=function(m,f,h,u,s){void 0===h&&(h=0),void 0===u&&(u=0);var o=f.cutX,d=f.cutY,a=f.source.width,c=f.source.height,p=f.sourceIndex,v={},g=m.getElementsByTagName("info")[0],x=m.getElementsByTagName("common")[0];v.font=g.getAttribute("face"),v.size=n(g,"size"),v.lineHeight=n(x,"lineHeight")+u,v.chars={};var T=m.getElementsByTagName("char"),S=void 0!==f&&f.trimmed;if(S)var D=f.height,M=f.width;for(var R=0;R<T.length;R++){var P=T[R],I=n(P,"id"),b=String.fromCharCode(I),L=n(P,"x"),B=n(P,"y"),V=n(P,"width"),z=n(P,"height");S&&(L<M&&(M=L),B<D&&(D=B)),S&&0!==D&&0!==M&&(L-=f.x,B-=f.y);var W=(o+L)/a,K=(d+B)/c,J=(o+L+V)/a,tt=(d+B+z)/c;if(v.chars[I]={x:L,y:B,width:V,height:z,centerX:Math.floor(V/2),centerY:Math.floor(z/2),xOffset:n(P,"xoffset"),yOffset:n(P,"yoffset"),xAdvance:n(P,"xadvance")+h,data:{},kerning:{},u0:W,v0:K,u1:J,v1:tt},s&&0!==V&&0!==z){var it=s.add(b,p,L,B,V,z);it&&it.setUVs(V,z,W,K,J,tt)}}var H=m.getElementsByTagName("kerning");for(R=0;R<H.length;R++){var G=H[R],Y=n(G,"first"),X=n(G,"second"),$=n(G,"amount");v.chars[X].kerning[Y]=$}return v}},function(C,w,n){var l=n(1049),m=n(440),f=n(0),h=n(11),u=n(109),s=n(15),o=n(110),d=new f({Extends:s,Mixins:[h.Alpha,h.BlendMode,h.Depth,h.Mask,h.Pipeline,h.ScrollFactor,h.Size,h.Texture,h.Transform,h.Visible,l],initialize:function(c,p,v,g,x){s.call(this,c,"Blitter"),this.setTexture(g,x),this.setPosition(p,v),this.initPipeline(),this.children=new o,this.renderList=[],this.dirty=!1},create:function(a,c,p,v,g){void 0===v&&(v=!0),void 0===g&&(g=this.children.length),void 0===p?p=this.frame:p instanceof u||(p=this.texture.get(p));var x=new m(this,a,c,p,v);return this.children.addAt(x,g,!1),this.dirty=!0,x},createFromCallback:function(a,c,p,v){for(var g=this.createMultiple(c,p,v),x=0;x<g.length;x++)a.call(this,g[x],x);return g},createMultiple:function(a,c,p){void 0===c&&(c=this.frame.name),void 0===p&&(p=!0),Array.isArray(c)||(c=[c]);var v=[],g=this;return c.forEach(function(x){for(var T=0;T<a;T++)v.push(g.create(0,0,x,p))}),v},childCanRender:function(a){return a.visible&&a.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});C.exports=d},function(C,w,n){var l=n(208),m=n(35),f=n(0),h=n(11),u=n(75),s=n(15),o=n(10),d=n(1052),a=n(441),c=n(3),p=new f({Extends:s,Mixins:[h.AlphaSingle,h.BlendMode,h.ComputedSize,h.Depth,h.Mask,h.Pipeline,h.Transform,h.Visible,d],initialize:function(g,x,T,S){s.call(this,g,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new h.TransformMatrix,this.tempTransformMatrix=new h.TransformMatrix,this._sortKey="",this._sysEvents=g.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPipeline(),this.setPosition(x,T),this.clearAlpha(),this.setBlendMode(m.SKIP_CHECK),S&&this.add(S)},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return.5*this.width}},displayOriginY:{get:function(){return.5*this.height}},setExclusive:function(v){return void 0===v&&(v=!0),this.exclusive=v,this},getBounds:function(v){if(void 0===v&&(v=new o),v.setTo(this.x,this.y,0,0),this.parentContainer){var x=this.parentContainer.getBoundsTransformMatrix().transformPoint(this.x,this.y);v.setTo(x.x,x.y,0,0)}if(this.list.length>0){var T=this.list,S=new o,D=!1;v.setEmpty();for(var M=0;M<T.length;M++){var R=T[M];R.getBounds&&(R.getBounds(S),D?a(S,v,v):(v.setTo(S.x,S.y,S.width,S.height),D=!0))}}return v},addHandler:function(v){v.once(u.DESTROY,this.remove,this),this.exclusive&&(v.parentContainer&&v.parentContainer.remove(v),v.removeFromDisplayList(),v.parentContainer=this)},removeHandler:function(v){v.off(u.DESTROY,this.remove),this.exclusive&&(v.parentContainer=null,v.addToDisplayList())},pointToContainer:function(v,g){void 0===g&&(g=new c),this.parentContainer?this.parentContainer.pointToContainer(v,g):g=new c(v.x,v.y);var x=this.tempTransformMatrix;return x.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),x.invert(),x.transformPoint(v.x,v.y,g),g},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(v){return l.Add(this.list,v,this.maxSize,this.addHandler,this),this},addAt:function(v,g){return l.AddAt(this.list,v,g,this.maxSize,this.addHandler,this),this},getAt:function(v){return this.list[v]},getIndex:function(v){return this.list.indexOf(v)},sort:function(v,g){return v?(void 0===g&&(g=function(x,T){return x[v]-T[v]}),l.StableSort(this.list,g),this):this},getByName:function(v){return l.GetFirst(this.list,"name",v)},getRandom:function(v,g){return l.GetRandom(this.list,v,g)},getFirst:function(v,g,x,T){return l.GetFirst(this.list,v,g,x,T)},getAll:function(v,g,x,T){return l.GetAll(this.list,v,g,x,T)},count:function(v,g,x,T){return l.CountAllMatching(this.list,v,g,x,T)},swap:function(v,g){return l.Swap(this.list,v,g),this},moveTo:function(v,g){return l.MoveTo(this.list,v,g),this},moveAbove:function(v,g){return l.MoveAbove(this.list,v,g),this},moveBelow:function(v,g){return l.MoveBelow(this.list,v,g),this},remove:function(v,g){var x=l.Remove(this.list,v,this.removeHandler,this);if(g&&x){Array.isArray(x)||(x=[x]);for(var T=0;T<x.length;T++)x[T].destroy()}return this},removeAt:function(v,g){var x=l.RemoveAt(this.list,v,this.removeHandler,this);return g&&x&&x.destroy(),this},removeBetween:function(v,g,x){var T=l.RemoveBetween(this.list,v,g,this.removeHandler,this);if(x)for(var S=0;S<T.length;S++)T[S].destroy();return this},removeAll:function(v){var g=l.RemoveBetween(this.list,0,this.list.length,this.removeHandler,this);if(v)for(var x=0;x<g.length;x++)g[x].destroy();return this},bringToTop:function(v){return l.BringToTop(this.list,v),this},sendToBack:function(v){return l.SendToBack(this.list,v),this},moveUp:function(v){return l.MoveUp(this.list,v),this},moveDown:function(v){return l.MoveDown(this.list,v),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return l.Shuffle(this.list),this},replace:function(v,g,x){return l.Replace(this.list,v,g)&&(this.addHandler(g),this.removeHandler(v),x&&v.destroy()),this},exists:function(v){return this.list.indexOf(v)>-1},setAll:function(v,g,x,T){return l.SetAll(this.list,v,g,x,T),this},each:function(v,g){var T,x=[null],S=this.list.slice(),D=S.length;for(T=2;T<arguments.length;T++)x.push(arguments[T]);for(T=0;T<D;T++)x[0]=S[T],v.apply(g,x);return this},iterate:function(v,g){var T,x=[null];for(T=2;T<arguments.length;T++)x.push(arguments[T]);for(T=0;T<this.list.length;T++)x[0]=this.list[T],v.apply(g,x);return this},setScrollFactor:function(v,g,x){return void 0===g&&(g=v),void 0===x&&(x=!1),this.scrollFactorX=v,this.scrollFactorY=g,x&&(l.SetAll(this.list,"scrollFactorX",v),l.SetAll(this.list,"scrollFactorY",g)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});C.exports=p},function(C,w,n){var l=n(148),m=n(0),f=n(1057),h=new m({Extends:l,Mixins:[f],initialize:function(s,o,d,a,c,p,v){l.call(this,s,o,d,a,c,p,v),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(u,s){return this.cropWidth=u,this.cropHeight=s,this},setDisplayCallback:function(u){return this.displayCallback=u,this},setScrollX:function(u){return this.scrollX=u,this},setScrollY:function(u){return this.scrollY=u,this}});C.exports=h},function(C,w,n){var l=n(133),m=n(0),f=n(217),h=n(303),u=n(304),s=n(305),o=n(309),d=n(167),a=n(312),c=n(313),p=n(314),v=n(111),g=n(15),x=n(2),T=n(6),S=n(14),D=n(1063),M=new m({Extends:g,Mixins:[h,u,s,o,d,c,p,a,D],initialize:function(P,I){var b=T(I,"x",0),L=T(I,"y",0);g.call(this,P,"Graphics"),this.setPosition(b,L),this.initPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.setDefaultStyles(I)},setDefaultStyles:function(R){return T(R,"lineStyle",null)&&(this.defaultStrokeWidth=T(R,"lineStyle.width",1),this.defaultStrokeColor=T(R,"lineStyle.color",16777215),this.defaultStrokeAlpha=T(R,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),T(R,"fillStyle",null)&&(this.defaultFillColor=T(R,"fillStyle.color",16777215),this.defaultFillAlpha=T(R,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(R,P,I){return void 0===I&&(I=1),this.commandBuffer.push(f.LINE_STYLE,R,P,I),this._lineWidth=R,this},fillStyle:function(R,P){return void 0===P&&(P=1),this.commandBuffer.push(f.FILL_STYLE,R,P),this},fillGradientStyle:function(R,P,I,b,L,B,V,z){return void 0===L&&(L=1),void 0===B&&(B=L),void 0===V&&(V=L),void 0===z&&(z=L),this.commandBuffer.push(f.GRADIENT_FILL_STYLE,L,B,V,z,R,P,I,b),this},lineGradientStyle:function(R,P,I,b,L,B){return void 0===B&&(B=1),this.commandBuffer.push(f.GRADIENT_LINE_STYLE,R,B,P,I,b,L),this},beginPath:function(){return this.commandBuffer.push(f.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(f.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(f.FILL_PATH),this},fill:function(){return this.commandBuffer.push(f.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(f.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(f.STROKE_PATH),this},fillCircleShape:function(R){return this.fillCircle(R.x,R.y,R.radius)},strokeCircleShape:function(R){return this.strokeCircle(R.x,R.y,R.radius)},fillCircle:function(R,P,I){return this.beginPath(),this.arc(R,P,I,0,S.PI2),this.fillPath(),this},strokeCircle:function(R,P,I){return this.beginPath(),this.arc(R,P,I,0,S.PI2),this.strokePath(),this},fillRectShape:function(R){return this.fillRect(R.x,R.y,R.width,R.height)},strokeRectShape:function(R){return this.strokeRect(R.x,R.y,R.width,R.height)},fillRect:function(R,P,I,b){return this.commandBuffer.push(f.FILL_RECT,R,P,I,b),this},strokeRect:function(R,P,I,b){var L=this._lineWidth/2,B=R-L,V=R+L;return this.beginPath(),this.moveTo(R,P),this.lineTo(R,P+b),this.strokePath(),this.beginPath(),this.moveTo(R+I,P),this.lineTo(R+I,P+b),this.strokePath(),this.beginPath(),this.moveTo(B,P),this.lineTo(V+I,P),this.strokePath(),this.beginPath(),this.moveTo(B,P+b),this.lineTo(V+I,P+b),this.strokePath(),this},fillRoundedRect:function(R,P,I,b,L){void 0===L&&(L=20);var B=L,V=L,z=L,W=L;return"number"!=typeof L&&(B=x(L,"tl",20),V=x(L,"tr",20),z=x(L,"bl",20),W=x(L,"br",20)),this.beginPath(),this.moveTo(R+B,P),this.lineTo(R+I-V,P),this.arc(R+I-V,P+V,V,-S.TAU,0),this.lineTo(R+I,P+b-W),this.arc(R+I-W,P+b-W,W,0,S.TAU),this.lineTo(R+z,P+b),this.arc(R+z,P+b-z,z,S.TAU,Math.PI),this.lineTo(R,P+B),this.arc(R+B,P+B,B,-Math.PI,-S.TAU),this.fillPath(),this},strokeRoundedRect:function(R,P,I,b,L){void 0===L&&(L=20);var B=L,V=L,z=L,W=L;return"number"!=typeof L&&(B=x(L,"tl",20),V=x(L,"tr",20),z=x(L,"bl",20),W=x(L,"br",20)),this.beginPath(),this.moveTo(R+B,P),this.lineTo(R+I-V,P),this.moveTo(R+I-V,P),this.arc(R+I-V,P+V,V,-S.TAU,0),this.lineTo(R+I,P+b-W),this.moveTo(R+I,P+b-W),this.arc(R+I-W,P+b-W,W,0,S.TAU),this.lineTo(R+z,P+b),this.moveTo(R+z,P+b),this.arc(R+z,P+b-z,z,S.TAU,Math.PI),this.lineTo(R,P+B),this.moveTo(R,P+B),this.arc(R+B,P+B,B,-Math.PI,-S.TAU),this.strokePath(),this},fillPointShape:function(R,P){return this.fillPoint(R.x,R.y,P)},fillPoint:function(R,P,I){return!I||I<1?I=1:(R-=I/2,P-=I/2),this.commandBuffer.push(f.FILL_RECT,R,P,I,I),this},fillTriangleShape:function(R){return this.fillTriangle(R.x1,R.y1,R.x2,R.y2,R.x3,R.y3)},strokeTriangleShape:function(R){return this.strokeTriangle(R.x1,R.y1,R.x2,R.y2,R.x3,R.y3)},fillTriangle:function(R,P,I,b,L,B){return this.commandBuffer.push(f.FILL_TRIANGLE,R,P,I,b,L,B),this},strokeTriangle:function(R,P,I,b,L,B){return this.commandBuffer.push(f.STROKE_TRIANGLE,R,P,I,b,L,B),this},strokeLineShape:function(R){return this.lineBetween(R.x1,R.y1,R.x2,R.y2)},lineBetween:function(R,P,I,b){return this.beginPath(),this.moveTo(R,P),this.lineTo(I,b),this.strokePath(),this},lineTo:function(R,P){return this.commandBuffer.push(f.LINE_TO,R,P),this},moveTo:function(R,P){return this.commandBuffer.push(f.MOVE_TO,R,P),this},strokePoints:function(R,P,I,b){void 0===P&&(P=!1),void 0===I&&(I=!1),void 0===b&&(b=R.length),this.beginPath(),this.moveTo(R[0].x,R[0].y);for(var L=1;L<b;L++)this.lineTo(R[L].x,R[L].y);return P&&this.lineTo(R[0].x,R[0].y),I&&this.closePath(),this.strokePath(),this},fillPoints:function(R,P,I,b){void 0===P&&(P=!1),void 0===I&&(I=!1),void 0===b&&(b=R.length),this.beginPath(),this.moveTo(R[0].x,R[0].y);for(var L=1;L<b;L++)this.lineTo(R[L].x,R[L].y);return P&&this.lineTo(R[0].x,R[0].y),I&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(R,P){void 0===P&&(P=32);var I=R.getPoints(P);return this.strokePoints(I,!0)},strokeEllipse:function(R,P,I,b,L){void 0===L&&(L=32);var V=new v(R,P,I,b).getPoints(L);return this.strokePoints(V,!0)},fillEllipseShape:function(R,P){void 0===P&&(P=32);var I=R.getPoints(P);return this.fillPoints(I,!0)},fillEllipse:function(R,P,I,b,L){void 0===L&&(L=32);var V=new v(R,P,I,b).getPoints(L);return this.fillPoints(V,!0)},arc:function(R,P,I,b,L,B,V){return void 0===B&&(B=!1),void 0===V&&(V=0),this.commandBuffer.push(f.ARC,R,P,I,b,L,B,V),this},slice:function(R,P,I,b,L,B,V){return void 0===B&&(B=!1),void 0===V&&(V=0),this.commandBuffer.push(f.BEGIN_PATH),this.commandBuffer.push(f.MOVE_TO,R,P),this.commandBuffer.push(f.ARC,R,P,I,b,L,B,V),this.commandBuffer.push(f.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(f.SAVE),this},restore:function(){return this.commandBuffer.push(f.RESTORE),this},translateCanvas:function(R,P){return this.commandBuffer.push(f.TRANSLATE,R,P),this},scaleCanvas:function(R,P){return this.commandBuffer.push(f.SCALE,R,P),this},rotateCanvas:function(R){return this.commandBuffer.push(f.ROTATE,R),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(R,P,I){var B,V,b=this.scene.sys,L=b.game.renderer;if(void 0===P&&(P=b.scale.width),void 0===I&&(I=b.scale.height),M.TargetCamera.setScene(this.scene),M.TargetCamera.setViewport(0,0,P,I),M.TargetCamera.scrollX=this.x,M.TargetCamera.scrollY=this.y,"string"==typeof R)if(b.textures.exists(R)){var z=(B=b.textures.get(R)).getSourceImage();z instanceof HTMLCanvasElement&&(V=z.getContext("2d"))}else V=(B=b.textures.createCanvas(R,P,I)).getSourceImage().getContext("2d");else R instanceof HTMLCanvasElement&&(V=R.getContext("2d"));return V&&(this.renderCanvas(L,this,M.TargetCamera,null,V,!1),B&&B.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});M.TargetCamera=new l,C.exports=M},function(C,w){C.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},function(C,w,n){var l=n(4);C.exports=function(f,h,u){void 0===u&&(u=new l);var o=f.height/2;return u.x=f.x+f.width/2*Math.cos(h),u.y=f.y+o*Math.sin(h),u}},function(C,w,n){var l=n(35),m=n(0),f=n(11),h=n(176),u=n(101),s=n(9),o=n(75),d=n(110),a=n(1071),c=n(20),p=n(79),v=new m({Extends:d,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Mask,f.Pipeline,f.Visible,s,a],initialize:function(x,T){d.call(this,x),s.call(this),this.scene=x,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=x.sys,this.events=x.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPipeline(),this.clearAlpha(),this.setBlendMode(l.SKIP_CHECK),T&&this.add(T),x.sys.queueDepthSort()},setActive:function(g){return this.active=g,this},setName:function(g){return this.name=g,this},setState:function(g){return this.state=g,this},setDataEnabled:function(){return this.data||(this.data=new u(this)),this},setData:function(g,x){return this.data||(this.data=new u(this)),this.data.set(g,x),this},incData:function(g,x){return this.data||(this.data=new u(this)),this.data.inc(g,x),this},toggleData:function(g){return this.data||(this.data=new u(this)),this.data.toggle(g),this},getData:function(g){return this.data||(this.data=new u(this)),this.data.get(g)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return h(this)},willRender:function(g){return!(15!==this.renderFlags||0===this.list.length||0!==this.cameraFilter&&this.cameraFilter&g.id)},getIndexList:function(){for(var g=this,x=this.parentContainer,T=[];x&&(T.unshift(x.getIndex(g)),g=x,x.parentContainer);)x=x.parentContainer;return T.unshift(this.displayList.getIndex(g)),T},addChildCallback:function(g){g.displayList&&g.displayList!==this&&g.removeFromDisplayList(),g.displayList||(this.queueDepthSort(),g.displayList=this,g.emit(o.ADDED_TO_SCENE,g,this.scene),this.events.emit(c.ADDED_TO_SCENE,g,this.scene))},removeChildCallback:function(g){this.queueDepthSort(),g.displayList=null,g.emit(o.REMOVED_FROM_SCENE,g,this.scene),this.events.emit(c.REMOVED_FROM_SCENE,g,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(p(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(g,x){return g._depth-x._depth},getChildren:function(){return this.list},destroy:function(){if(this.scene&&!this.ignoreDestroy){this.emit(o.DESTROY,this);for(var g=this.list.length;g--;)this.list[g].destroy();this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});C.exports=v},function(C,w,n){var l=n(0),m=n(11),f=n(15),h=n(450),u=n(110),s=n(452),o=n(1075),d=new l({Extends:f,Mixins:[m.Depth,m.Mask,m.Pipeline,m.Transform,m.Visible,o],initialize:function(c,p,v,g){if(f.call(this,c,"ParticleEmitterManager"),this.blendMode=-1,this.timeScale=1,this.texture=null,this.frame=null,this.frameNames=[],null!==v&&("object"==typeof v||Array.isArray(v))&&(g=v,v=null),this.setTexture(p,v),this.initPipeline(),this.emitters=new u(this),this.wells=new u(this),g){Array.isArray(g)||(g=[g]);for(var x=0;x<g.length;x++)this.createEmitter(g[x])}},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setTexture:function(a,c){return this.texture=this.scene.sys.textures.get(a),this.setFrame(c)},setFrame:function(a){this.frame=this.texture.get(a);var c=this.texture.getFramesFromTextureSource(this.frame.sourceIndex),p=[];return c.forEach(function(v){p.push(v.name)}),this.frameNames=p,this.defaultFrame=this.frame,this},setEmitterFrames:function(a,c){Array.isArray(a)||(a=[a]);var p=c.frames;p.length=0;for(var v=0;v<a.length;v++){var g=a[v];-1!==this.frameNames.indexOf(g)&&p.push(this.texture.get(g))}return c.defaultFrame=p.length>0?p[0]:this.defaultFrame,this},addEmitter:function(a){return this.emitters.add(a)},createEmitter:function(a){return this.addEmitter(new s(this,a))},removeEmitter:function(a){return this.emitters.remove(a,!0)},addGravityWell:function(a){return this.wells.add(a)},createGravityWell:function(a){return this.addGravityWell(new h(a))},emitParticle:function(a,c,p){for(var v=this.emitters.list,g=0;g<v.length;g++){var x=v[g];x.active&&x.emitParticle(a,c,p)}return this},emitParticleAt:function(a,c,p){return this.emitParticle(p,a,c)},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},getProcessors:function(){return this.wells.getAll("active",!0)},preUpdate:function(a,c){c*=this.timeScale;for(var p=this.emitters.list,v=0;v<p.length;v++){var g=p[v];g.active&&g.preUpdate(a,c)}},setAlpha:function(){},setScrollFactor:function(){},setBlendMode:function(){}});C.exports=d},function(C,w,n){var l=n(35),m=n(133),f=n(31),h=n(0),u=n(11),s=n(33),o=n(109),d=n(15),a=n(1),c=n(92),p=n(1079),v=n(141),g=n(12),x=n(222),T=new h({Extends:d,Mixins:[u.Alpha,u.BlendMode,u.ComputedSize,u.Crop,u.Depth,u.Flip,u.GetBounds,u.Mask,u.Origin,u.Pipeline,u.ScrollFactor,u.Tint,u.Transform,u.Visible,p],initialize:function(D,M,R,P,I,b,L){void 0===M&&(M=0),void 0===R&&(R=0),void 0===P&&(P=32),void 0===I&&(I=32),d.call(this,D,"RenderTexture"),this.renderer=D.sys.renderer,this.textureManager=D.sys.textures,this.globalTint=16777215,this.globalAlpha=1,this.canvas=null,this.dirty=!1,this._crop=this.resetCropObject(),this.texture=null,this.frame=null,this._saved=!1,void 0===b?(this.canvas=f.create2D(this,P,I),this.texture=D.sys.textures.addCanvas(x(),this.canvas),this.frame=this.texture.get()):(this.texture=D.sys.textures.get(b),this.frame=this.texture.get(L),this.canvas=this.frame.source.image,this._saved=!0,this.dirty=!0,this.width=this.frame.cutWidth,this.height=this.frame.cutHeight),this.context=this.canvas.getContext("2d"),this._eraseMode=!1,this.camera=new m(0,0,P,I),this.renderTarget=null;var B=this.renderer;B?B.type===s.WEBGL?(this.drawGameObject=this.batchGameObjectWebGL,this.renderTarget=new v(B,P,I,1,0,!1)):B.type===s.CANVAS&&(this.drawGameObject=this.batchGameObjectCanvas):this.drawGameObject=a,this.camera.setScene(D),this.setPosition(M,R),void 0===b&&this.setSize(P,I),this.setOrigin(0,0),this.initPipeline(c.SINGLE_PIPELINE)},setSize:function(S,D){return this.resize(S,D)},resize:function(S,D){void 0===D&&(D=S);var M=this.frame;if(S!==this.width||D!==this.height){if("__BASE"===M.name){this.canvas.width=S,this.canvas.height=D,this.texture.width=S,this.texture.height=D;var R=this.renderTarget;R&&(R.resize(S,D),M.glTexture=R.texture,M.source.isRenderTexture=!0,M.source.isGLTexture=!0,M.source.glTexture=R.texture),this.camera.setSize(S,D),M.source.width=S,M.source.height=D,M.setSize(S,D),this.width=S,this.height=D}}else{var P=this.texture.getSourceImage();M.cutX+S>P.width&&(S=P.width-M.cutX),M.cutY+D>P.height&&(D=P.height-M.cutY),M.setSize(S,D,M.cutX,M.cutY)}this.updateDisplayOrigin();var I=this.input;return I&&!I.customHitArea&&(I.hitArea.width=S,I.hitArea.height=D),this},setGlobalTint:function(S){return this.globalTint=S,this},setGlobalAlpha:function(S){return this.globalAlpha=S,this},saveTexture:function(S){return this.textureManager.renameTexture(this.texture.key,S),this._saved=!0,this.texture},fill:function(S,D,M,R,P,I){var b=this.frame,B=this.renderer;void 0===D&&(D=1),void 0===M&&(M=0),void 0===R&&(R=0),void 0===P&&(P=b.cutWidth),void 0===I&&(I=b.cutHeight);var V=(S>>16&255)/255,z=(S>>8&255)/255,W=(255&S)/255,K=this.renderTarget;if(this.camera.preRender(),K){K.bind(!0);var J=this.pipeline;J.manager.set(J);var Y=B.width/K.width,X=B.height/K.height;J.drawFillRect(M*Y,R*X,P*Y,I*X,g.getTintFromFloats(W,z,V,1),D),K.unbind(!0)}else{var $=this.context;B.setContext($),$.fillStyle="rgba("+V+","+z+","+W+","+D+")",$.fillRect(M+b.cutX,R+b.cutY,P,I),B.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var S=this.renderTarget;if(S)S.clear();else{var D=this.context;D.save(),D.setTransform(1,0,0,1,0,0),D.clearRect(this.frame.cutX,this.frame.cutY,this.frame.cutWidth,this.frame.cutHeight),D.restore()}this.dirty=!1}return this},erase:function(S,D,M){return this._eraseMode=!0,this.draw(S,D,M,1,16777215),this._eraseMode=!1,this},draw:function(S,D,M,R,P){return this.beginDraw(),this.batchDraw(S,D,M,R,P),this.endDraw(),this},drawFrame:function(S,D,M,R,P,I){return this.beginDraw(),this.batchDrawFrame(S,D,M,R,P,I),this.endDraw(),this},beginDraw:function(){var D=this.renderer,M=this.renderTarget;return this.camera.preRender(),M?D.beginCapture(M.width,M.height):D.setContext(this.context),this},batchDraw:function(S,D,M,R,P){return void 0===R&&(R=this.globalAlpha),P=void 0===P?(this.globalTint>>16)+(65280&this.globalTint)+((255&this.globalTint)<<16):(P>>16)+(65280&P)+((255&P)<<16),Array.isArray(S)||(S=[S]),this.batchList(S,D,M,R,P),this},batchDrawFrame:function(S,D,M,R,P,I){void 0===M&&(M=0),void 0===R&&(R=0),void 0===P&&(P=this.globalAlpha),I=void 0===I?(this.globalTint>>16)+(65280&this.globalTint)+((255&this.globalTint)<<16):(I>>16)+(65280&I)+((255&I)<<16);var b=this.textureManager.getFrame(S,D);return b&&(this.renderTarget?this.pipeline.batchTextureFrame(b,M,R,I,P,this.camera.matrix,null):this.batchTextureFrame(b,M+this.frame.cutX,R+this.frame.cutY,P,I)),this},endDraw:function(S){void 0===S&&(S=this._eraseMode);var D=this.renderer,M=this.renderTarget;if(M){var R=D.endCapture();D.pipelines.setUtility().blitFrame(R,M,1,!1,!1,S),D.resetScissor(),D.resetViewport()}else D.setContext();return this.dirty=!0,this},batchList:function(S,D,M,R,P){for(var I=0;I<S.length;I++){var b=S[I];!b||b===this||(b.renderWebGL||b.renderCanvas?this.drawGameObject(b,D,M):b.isParent||b.list?this.batchGroup(b.getChildren(),D,M):"string"==typeof b?this.batchTextureFrameKey(b,null,D,M,R,P):b instanceof o?this.batchTextureFrame(b,D,M,R,P):Array.isArray(b)&&this.batchList(b,D,M,R,P))}},batchGroup:function(S,D,M){void 0===D&&(D=0),void 0===M&&(M=0),D+=this.frame.cutX,M+=this.frame.cutY;for(var R=0;R<S.length;R++){var P=S[R];P.willRender(this.camera)&&this.drawGameObject(P,P.x+D,P.y+M)}},batchGameObjectWebGL:function(S,D,M){void 0===D&&(D=S.x),void 0===M&&(M=S.y);var R=S.x,P=S.y;S.setPosition(D+this.frame.cutX,M+this.frame.cutY),S.renderDirect?S.renderDirect(this.renderer,S,this.camera):S.renderWebGL(this.renderer,S,this.camera),S.setPosition(R,P)},batchGameObjectCanvas:function(S,D,M){void 0===D&&(D=S.x),void 0===M&&(M=S.y);var R=S.x,P=S.y;if(this._eraseMode){var I=S.blendMode;S.blendMode=l.ERASE}S.setPosition(D+this.frame.cutX,M+this.frame.cutY),S.renderCanvas(this.renderer,S,this.camera,null),S.setPosition(R,P),this._eraseMode&&(S.blendMode=I)},batchTextureFrameKey:function(S,D,M,R,P,I){var b=this.textureManager.getFrame(S,D);b&&this.batchTextureFrame(b,M,R,P,I)},batchTextureFrame:function(S,D,M,R,P){if(void 0===D&&(D=0),void 0===M&&(M=0),D+=this.frame.cutX,M+=this.frame.cutY,this.renderTarget)this.pipeline.batchTextureFrame(S,D,M,P,R,this.camera.matrix,null);else{var b=this.context,L=S.canvasData,B=S.source.image,V=this.camera.matrix;b.save(),b.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",b.globalAlpha=R,V.setToContext(b),b.drawImage(B,L.x,L.y,L.width,L.height,D,M,L.width,L.height),b.restore()}},snapshotArea:function(S,D,M,R,P,I,b){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,P,!1,S,D,M,R,I,b):this.renderer.snapshotCanvas(this.canvas,P,!1,S,D,M,R,I,b),this},snapshot:function(S,D,M){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,S,!1,0,0,this.width,this.height,D,M):this.renderer.snapshotCanvas(this.canvas,S,!1,0,0,this.width,this.height,D,M),this},snapshotPixel:function(S,D,M){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,M,!0,S,D):this.renderer.snapshotCanvas(this.canvas,M,!0,S,D),this},preDestroy:function(){this._saved||(f.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.texture.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.texture=null)}});C.exports=T},function(C,w){C.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var m=16*Math.random()|0;return("x"===l?m:3&m|8).toString(16)})}},function(C,w,n){var l=n(164),m=n(0),f=n(11),h=n(15),u=n(92),s=n(1085),o=n(3),d=new m({Extends:h,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Flip,f.Mask,f.Pipeline,f.Size,f.Texture,f.Transform,f.Visible,f.ScrollFactor,s],initialize:function(c,p,v,g,x,T,S,D,M){void 0===g&&(g="__DEFAULT"),void 0===T&&(T=2),void 0===S&&(S=!0),h.call(this,c,"Rope"),this.anims=new l(this),this.points=T,this.tintFill="__DEFAULT"===g,this.dirty=!1,this.horizontal=S,this._flipX=!1,this._flipY=!1,this._perp=new o,this.debugCallback=null,this.debugGraphic=null,this.setTexture(g,x),this.setPosition(p,v),this.setSizeToFrame(),this.initPipeline(u.ROPE_PIPELINE),Array.isArray(T)&&this.resizeArrays(T.length),this.setPoints(T,D,M),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(a,c){var p=this.anims.currentFrame;this.anims.update(a,c),this.anims.currentFrame!==p&&(this.updateUVs(),this.updateVertices())},play:function(a,c,p){return this.anims.play(a,c,p),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(a,c,p){return void 0===a&&(a=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(a,c,p))},setVertical:function(a,c,p){return void 0===a&&(a=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(a,c,p)):this},setTintFill:function(a){return void 0===a&&(a=!1),this.tintFill=a,this},setAlphas:function(a,c){var p=this.points.length;if(p<1)return this;var v=this.alphas;void 0===a?a=[1]:!Array.isArray(a)&&void 0===c&&(a=[a]);var g,x=0;if(void 0!==c)for(g=0;g<p;g++)v[x=2*g]=a,v[x+1]=c;else if(a.length===p)for(g=0;g<p;g++)v[x=2*g]=a[g],v[x+1]=a[g];else{var T=a[0];for(g=0;g<p;g++)a.length>(x=2*g)&&(T=a[x]),v[x]=T,a.length>x+1&&(T=a[x+1]),v[x+1]=T}return this},setColors:function(a){var c=this.points.length;if(c<1)return this;var p=this.colors;void 0===a?a=[16777215]:Array.isArray(a)||(a=[a]);var v,g=0;if(a.length===c)for(v=0;v<c;v++)p[g=2*v]=a[v],p[g+1]=a[v];else{var x=a[0];for(v=0;v<c;v++)a.length>(g=2*v)&&(x=a[g]),p[g]=x,a.length>g+1&&(x=a[g+1]),p[g+1]=x}return this},setPoints:function(a,c,p){if(void 0===a&&(a=2),"number"==typeof a){var g,x,T,v=a;if(v<2&&(v=2),a=[],this.horizontal)for(T=-this.frame.halfWidth,x=this.frame.width/(v-1),g=0;g<v;g++)a.push({x:T+g*x,y:0});else for(T=-this.frame.halfHeight,x=this.frame.height/(v-1),g=0;g<v;g++)a.push({x:0,y:T+g*x})}var S=a.length,D=this.points.length;return S<1?(console.warn("Rope: Not enough points given"),this):(1===S&&(a.unshift({x:0,y:0}),S++),D!==S&&this.resizeArrays(S),this.points=a,this.updateUVs(),null!=c&&this.setColors(c),null!=p&&this.setAlphas(p),this)},updateUVs:function(){for(var a=this.uv,c=this.points.length,p=this.frame.u0,v=this.frame.v0,g=this.frame.u1,x=this.frame.v1,T=(g-p)/(c-1),S=(x-v)/(c-1),D=0;D<c;D++){var R,P,I,b,M=4*D;this.horizontal?(this._flipX?(R=g-D*T,I=g-D*T):(R=p+D*T,I=p+D*T),this._flipY?(P=x,b=v):(P=v,b=x)):(this._flipX?(R=p,I=g):(R=g,I=p),this._flipY?(P=x-D*S,b=x-D*S):(P=v+D*S,b=v+D*S)),a[M+0]=R,a[M+1]=P,a[M+2]=I,a[M+3]=b}return this},resizeArrays:function(a){var c=this.colors,p=this.alphas;this.vertices=new Float32Array(4*a),this.uv=new Float32Array(4*a),c=new Uint32Array(2*a),p=new Float32Array(2*a);for(var v=0;v<2*a;v++)c[v]=16777215,p[v]=1;return this.colors=c,this.alphas=p,this.dirty=!0,this},updateVertices:function(){var a=this._perp,c=this.points,p=this.vertices,v=c.length;if(this.dirty=!1,!(v<1)){for(var g,x=c[0],T=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,S=0;S<v;S++){var D=c[S],M=4*S;a.x=(g=S<v-1?c[S+1]:D).y-x.y,a.y=-(g.x-x.x);var R=a.length();a.x/=R,a.y/=R,a.x*=T,a.y*=T,p[M]=D.x+a.x,p[M+1]=D.y+a.y,p[M+2]=D.x-a.x,p[M+3]=D.y-a.y,x=D}return this}},setDebug:function(a,c){return this.debugGraphic=a,this.debugCallback=a||c?c||this.renderDebugVerts:null,this},renderDebugVerts:function(a,c,p){var v=a.debugGraphic,g=p[0],x=p[1],T=p[2],S=p[3];v.lineBetween(g,x,T,S);for(var D=4;D<c;D+=4){var M=p[D+0],R=p[D+1],P=p[D+2],I=p[D+3];v.lineBetween(g,x,M,R),v.lineBetween(T,S,P,I),v.lineBetween(T,S,M,R),v.lineBetween(M,R,P,I),g=M,x=R,T=P,S=I}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(a){return this._flipX=a,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(a){return this._flipY=a,this.updateUVs()}}});C.exports=d},function(C,w,n){var l=n(142),m=n(31),f=n(0),h=n(11),u=n(22),s=n(15),o=n(458),d=n(6),a=n(202),c=n(1088),p=n(459),v=new f({Extends:s,Mixins:[h.Alpha,h.BlendMode,h.ComputedSize,h.Crop,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.ScrollFactor,h.Tint,h.Transform,h.Visible,c],initialize:function(x,T,S,D,M){void 0===T&&(T=0),void 0===S&&(S=0),s.call(this,x,"Text"),this.renderer=x.sys.renderer,this.setPosition(T,S),this.setOrigin(0,0),this.initPipeline(),this.canvas=m.create(this),this.context=this.canvas.getContext("2d"),this.style=new p(this,M),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,0===this.style.resolution&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=x.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(D),M&&M.padding&&this.setPadding(M.padding),M&&M.lineSpacing&&this.setLineSpacing(M.lineSpacing),x.sys.game.events.on(u.CONTEXT_RESTORED,function(){this.dirty=!0},this)},initRTL:function(){!this.style.rtl||(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",l(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(g){var x=this.style;if(x.wordWrapCallback){var T=x.wordWrapCallback.call(x.wordWrapCallbackScope,g,this);return Array.isArray(T)&&(T=T.join("\n")),T}return x.wordWrapWidth?x.wordWrapUseAdvanced?this.advancedWordWrap(g,this.context,this.style.wordWrapWidth):this.basicWordWrap(g,this.context,this.style.wordWrapWidth):g},advancedWordWrap:function(g,x,T){for(var S="",D=g.replace(/ +/gi," ").split(this.splitRegExp),M=D.length,R=0;R<M;R++){var P=D[R],I="";if(P=P.replace(/^ *|\s*$/gi,""),x.measureText(P).width<T)S+=P+"\n";else{for(var L=T,B=P.split(" "),V=0;V<B.length;V++){var z=B[V],W=z+" ",K=x.measureText(W).width;if(K>L){if(0===V){for(var J=W;J.length&&(J=J.slice(0,-1),!((K=x.measureText(J).width)<=L)););if(!J.length)throw new Error("This text's wordWrapWidth setting is less than a single character!");var tt=z.substr(J.length);B[V]=tt,I+=J}var H=B.slice(B[V].length?V:V+1).join(" ").replace(/[ \n]*$/gi,"");D[R+1]=H+" "+(D[R+1]||""),M=D.length;break}I+=W,L-=K}S+=I.replace(/[ \n]*$/gi,"")+"\n"}}return S.replace(/[\s|\n]*$/gi,"")},basicWordWrap:function(g,x,T){for(var S="",D=g.split(this.splitRegExp),M=D.length-1,R=x.measureText(" ").width,P=0;P<=M;P++){for(var I=T,b=D[P].split(" "),L=b.length-1,B=0;B<=L;B++){var V=b[B],z=x.measureText(V).width,W=z;B<L&&(W+=R),W>I&&B>0&&(S+="\n",I=T),S+=V,B<L?(S+=" ",I-=W):I-=z}P<M&&(S+="\n")}return S},getWrappedText:function(g){return void 0===g&&(g=this._text),this.style.syncFont(this.canvas,this.context),this.runWordWrap(g).split(this.splitRegExp)},setText:function(g){return!g&&0!==g&&(g=""),Array.isArray(g)&&(g=g.join("\n")),g!==this._text&&(this._text=g.toString(),this.updateText()),this},setStyle:function(g){return this.style.setStyle(g)},setFont:function(g){return this.style.setFont(g)},setFontFamily:function(g){return this.style.setFontFamily(g)},setFontSize:function(g){return this.style.setFontSize(g)},setFontStyle:function(g){return this.style.setFontStyle(g)},setFixedSize:function(g,x){return this.style.setFixedSize(g,x)},setBackgroundColor:function(g){return this.style.setBackgroundColor(g)},setFill:function(g){return this.style.setFill(g)},setColor:function(g){return this.style.setColor(g)},setStroke:function(g,x){return this.style.setStroke(g,x)},setShadow:function(g,x,T,S,D,M){return this.style.setShadow(g,x,T,S,D,M)},setShadowOffset:function(g,x){return this.style.setShadowOffset(g,x)},setShadowColor:function(g){return this.style.setShadowColor(g)},setShadowBlur:function(g){return this.style.setShadowBlur(g)},setShadowStroke:function(g){return this.style.setShadowStroke(g)},setShadowFill:function(g){return this.style.setShadowFill(g)},setWordWrapWidth:function(g,x){return this.style.setWordWrapWidth(g,x)},setWordWrapCallback:function(g,x){return this.style.setWordWrapCallback(g,x)},setAlign:function(g){return this.style.setAlign(g)},setResolution:function(g){return this.style.setResolution(g)},setLineSpacing:function(g){return this.lineSpacing=g,this.updateText()},setPadding:function(g,x,T,S){if("object"==typeof g){var D=g,M=d(D,"x",null);null!==M?(g=M,T=M):(g=d(D,"left",0),T=d(D,"right",g));var R=d(D,"y",null);null!==R?(x=R,S=R):(x=d(D,"top",0),S=d(D,"bottom",x))}else void 0===g&&(g=0),void 0===x&&(x=g),void 0===T&&(T=g),void 0===S&&(S=x);return this.padding.left=g,this.padding.top=x,this.padding.right=T,this.padding.bottom=S,this.updateText()},setMaxLines:function(g){return this.style.setMaxLines(g)},updateText:function(){var g=this.canvas,x=this.context,T=this.style,S=T.resolution,D=T.metrics;T.syncFont(g,x);var M=this._text;(T.wordWrapWidth||T.wordWrapCallback)&&(M=this.runWordWrap(this._text));var b,R=M.split(this.splitRegExp),P=o(this,D,R),I=this.padding;0===T.fixedWidth?(this.width=P.width+I.left+I.right,b=P.width):(this.width=T.fixedWidth,(b=this.width-I.left-I.right)<P.width&&(b=P.width)),this.height=0===T.fixedHeight?P.height+I.top+I.bottom:T.fixedHeight;var L=this.width,B=this.height;this.updateDisplayOrigin(),L*=S,B*=S,L=Math.max(L,1),B=Math.max(B,1),g.width!==L||g.height!==B?(g.width=L,g.height=B,this.frame.setSize(L,B),T.syncFont(g,x)):x.clearRect(0,0,L,B),x.save(),x.scale(S,S),T.backgroundColor&&(x.fillStyle=T.backgroundColor,x.fillRect(0,0,L,B)),T.syncStyle(g,x),x.textBaseline="alphabetic",x.translate(I.left,I.top);for(var V,z,W=0;W<P.lines;W++){if(V=T.strokeThickness/2,z=T.strokeThickness/2+W*P.lineHeight+D.ascent,W>0&&(z+=P.lineSpacing*W),T.rtl)V=L-V;else if("right"===T.align)V+=b-P.lineWidths[W];else if("center"===T.align)V+=(b-P.lineWidths[W])/2;else if("justify"===T.align&&P.lineWidths[W]/P.width>=.85){for(var J=P.width-P.lineWidths[W],tt=x.measureText(" ").width,it=R[W].trim(),H=it.split(" "),G=Math.floor((J+=(R[W].length-it.length)*tt)/tt),Y=0;G>0;)H[Y]+=" ",Y=(Y+1)%(H.length-1||1),--G;R[W]=H.join(" ")}this.autoRound&&(V=Math.round(V),z=Math.round(z)),T.strokeThickness&&(this.style.syncShadow(x,T.shadowStroke),x.strokeText(R[W],V,z)),T.color&&(this.style.syncShadow(x,T.shadowFill),x.fillText(R[W],V,z))}x.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(g,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var X=this.input;return X&&!X.customHitArea&&(X.hitArea.width=this.width,X.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(g){this.setText(g)}},toJSON:function(){var g=h.ToJSON(this),x={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return g.data=x,g},preDestroy:function(){this.style.rtl&&a(this.canvas),m.remove(this.canvas),this.texture.destroy()}});C.exports=v},function(C,w,n){var l=n(31),m=n(0),f=n(11),h=n(22),u=n(15),s=n(361),o=n(192),d=n(1091),a=n(3),p=new m({Extends:u,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Crop,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.ScrollFactor,f.Tint,f.Transform,f.Visible,d],initialize:function(g,x,T,S,D,M,R){var P=g.sys.renderer;u.call(this,g,"TileSprite");var I=g.sys.textures.get(M),b=I.get(R);S&&D?(S=Math.floor(S),D=Math.floor(D)):(S=b.width,D=b.height),this._tilePosition=new a,this._tileScale=new a(1,1),this.dirty=!1,this.renderer=P,this.canvas=l.create(this,S,D),this.context=this.canvas.getContext("2d"),this.displayTexture=I,this.displayFrame=b,this._crop=this.resetCropObject(),this.texture=g.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=s(b.width),this.potHeight=s(b.height),this.fillCanvas=l.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d"),this.fillPattern=null,this.setPosition(x,T),this.setSize(S,D),this.setFrame(R),this.setOriginFromFrame(),this.initPipeline(),g.sys.game.events.on(h.CONTEXT_RESTORED,function(L){if(L){var B=L.gl;this.dirty=!0,this.fillPattern=null,this.fillPattern=L.createTexture2D(0,B.LINEAR,B.LINEAR,B.REPEAT,B.REPEAT,B.RGBA,this.fillCanvas,this.potWidth,this.potHeight)}},this)},setTexture:function(v,g){return this.displayTexture=this.scene.sys.textures.get(v),this.setFrame(g)},setFrame:function(v){var g=this.displayTexture.get(v);return this.potWidth=s(g.width),this.potHeight=s(g.height),this.canvas.width=0,g.cutWidth&&g.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this.displayFrame=g,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(v,g){return void 0!==v&&(this.tilePositionX=v),void 0!==g&&(this.tilePositionY=g),this},setTileScale:function(v,g){return void 0===v&&(v=this.tileScaleX),void 0===g&&(g=v),this.tileScaleX=v,this.tileScaleY=g,this},updateTileTexture:function(){if(this.dirty&&this.renderer){var v=this.displayFrame;if(v.source.isRenderTexture||v.source.isGLTexture)return console.warn("TileSprites can only use Image or Canvas based textures"),void(this.dirty=!1);var g=this.fillContext,x=this.fillCanvas,T=this.potWidth,S=this.potHeight;(!this.renderer||!this.renderer.gl)&&(T=v.cutWidth,S=v.cutHeight),g.clearRect(0,0,T,S),x.width=T,x.height=S,g.drawImage(v.source.image,v.cutX,v.cutY,v.cutWidth,v.cutHeight,0,0,T,S),this.fillPattern=this.renderer&&this.renderer.gl?this.renderer.canvasToTexture(x,this.fillPattern):g.createPattern(x,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var v=this.canvas;if((v.width!==this.width||v.height!==this.height)&&(v.width=this.width,v.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl)this.dirty=!1;else{var g=this.context;this.scene.sys.game.config.antialias||o.disable(g);var x=this._tileScale.x,T=this._tileScale.y,S=this._tilePosition.x,D=this._tilePosition.y;g.clearRect(0,0,this.width,this.height),g.save(),g.scale(x,T),g.translate(-S,-D),g.fillStyle=this.fillPattern,g.fillRect(S,D,this.width/x,this.height/T),g.restore(),this.dirty=!1}},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),l.remove(this.canvas),l.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(v){this._tilePosition.x=v,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(v){this._tilePosition.y=v,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(v){this._tileScale.x=v,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(v){this._tileScale.y=v,this.dirty=!0}}});C.exports=p},function(C,w,n){var l=n(0),m=n(18),f=n(11),h=n(75),u=n(22),s=n(51),o=n(15),d=n(70),a=n(222),c=n(1094),p=n(14),v=new l({Extends:o,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.ScrollFactor,f.Size,f.TextureCrop,f.Tint,f.Transform,f.Visible,c],initialize:function(x,T,S,D){o.call(this,x,"Video"),this.video=null,this.videoTexture=null,this.videoTextureSource=null,this.snapshotTexture=null,this.flipY=!1,this._key=a(),this.touchLocked=!0,this.playWhenUnlocked=!1,this.retryLimit=20,this.retry=0,this.retryInterval=500,this._retryID=null,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={play:this.playHandler.bind(this),error:this.loadErrorHandler.bind(this),end:this.completeHandler.bind(this),time:this.timeUpdateHandler.bind(this),seeking:this.seekingHandler.bind(this),seeked:this.seekedHandler.bind(this)},this._crop=this.resetCropObject(),this.markers={},this._markerIn=-1,this._markerOut=p.MAX_SAFE_INTEGER,this._lastUpdate=0,this._cacheKey="",this._isSeeking=!1,this.removeVideoElementOnDestroy=!1,this.setPosition(T,S),this.initPipeline(),D&&this.changeSource(D,!1);var M=x.sys.game.events;M.on(u.PAUSE,this.globalPause,this),M.on(u.RESUME,this.globalResume,this);var R=x.sys.sound;R&&R.on(d.GLOBAL_MUTE,this.globalMute,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},play:function(g,x,T){if(this.touchLocked&&this.playWhenUnlocked||this.isPlaying())return this;var S=this.video;if(!S)return console.warn("Video not loaded"),this;void 0===g&&(g=S.loop);var D=this.scene.sys.sound;D&&D.mute&&this.setMute(!0),isNaN(x)||(this._markerIn=x),!isNaN(T)&&T>x&&(this._markerOut=T),S.loop=g;var M=this._callbacks,R=S.play();return void 0!==R?R.then(this.playPromiseSuccessHandler.bind(this)).catch(this.playPromiseErrorHandler.bind(this)):(S.addEventListener("playing",M.play,!0),S.readyState<2&&(this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval))),S.addEventListener("ended",M.end,!0),S.addEventListener("timeupdate",M.time,!0),S.addEventListener("seeking",M.seeking,!0),S.addEventListener("seeked",M.seeked,!0),this},changeSource:function(g,x,T,S,D){void 0===x&&(x=!0),this.video&&this.stop();var R=this.scene.sys.cache.video.get(g);return R?(this.video=R,this._cacheKey=g,this._codePaused=R.paused,this._codeMuted=R.muted,this.videoTexture?(this.scene.sys.textures.remove(this._key),this.videoTexture=this.scene.sys.textures.create(this._key,R,R.videoWidth,R.videoHeight),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,R.videoWidth,R.videoHeight),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(h.VIDEO_CREATED,this,R.videoWidth,R.videoHeight)):this.updateTexture(),R.currentTime=0,this._lastUpdate=0,x&&this.play(T,S,D)):this.video=null,this},addMarker:function(g,x,T){return!isNaN(x)&&x>=0&&!isNaN(T)&&(this.markers[g]=[x,T]),this},playMarker:function(g,x){var T=this.markers[g];return T&&this.play(x,T[0],T[1]),this},removeMarker:function(g){return delete this.markers[g],this},snapshot:function(g,x){return void 0===g&&(g=this.width),void 0===x&&(x=this.height),this.snapshotArea(0,0,this.width,this.height,g,x)},snapshotArea:function(g,x,T,S,D,M){void 0===g&&(g=0),void 0===x&&(x=0),void 0===T&&(T=this.width),void 0===S&&(S=this.height),void 0===D&&(D=T),void 0===M&&(M=S);var R=this.video,P=this.snapshotTexture;return P?(P.setSize(D,M),R&&P.context.drawImage(R,g,x,T,S,0,0,D,M)):(P=this.scene.sys.textures.createCanvas(a(),D,M),this.snapshotTexture=P,R&&P.context.drawImage(R,g,x,T,S,0,0,D,M)),P.update()},saveSnapshotTexture:function(g){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,g):this.snapshotTexture=this.scene.sys.textures.createCanvas(g,this.width,this.height),this.snapshotTexture},loadURL:function(g,x,T){void 0===x&&(x="loadeddata"),void 0===T&&(T=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var S=document.createElement("video");return S.controls=!1,T&&(S.muted=!0,S.defaultMuted=!0,S.setAttribute("autoplay","autoplay")),S.setAttribute("playsinline","playsinline"),S.setAttribute("preload","auto"),S.addEventListener("error",this._callbacks.error,!0),S.src=g,S.load(),this.video=S,this},loadMediaStream:function(g,x,T){void 0===x&&(x="loadeddata"),void 0===T&&(T=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var S=document.createElement("video");S.controls=!1,T&&(S.muted=!0,S.defaultMuted=!0,S.setAttribute("autoplay","autoplay")),S.setAttribute("playsinline","playsinline"),S.setAttribute("preload","auto"),S.addEventListener("error",this._callbacks.error,!0);try{S.srcObject=g}catch(D){S.src=window.URL.createObjectURL(g)}return S.load(),this.video=S,this},playPromiseSuccessHandler:function(){this._codePaused=!1,this.touchLocked=!1,this.emit(h.VIDEO_PLAY,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn)},playPromiseErrorHandler:function(g){this.scene.sys.input.once(s.POINTER_DOWN,this.unlockHandler,this),this.touchLocked=!0,this.playWhenUnlocked=!0,this.emit(h.VIDEO_ERROR,this,g)},playHandler:function(){this._codePaused=!1,this.touchLocked=!1,this.emit(h.VIDEO_PLAY,this),this.video.removeEventListener("playing",this._callbacks.play,!0)},loadErrorHandler:function(g){this.stop(),this.emit(h.VIDEO_ERROR,this,g)},unlockHandler:function(){this.touchLocked=!1,this.playWhenUnlocked=!1,this.emit(h.VIDEO_UNLOCKED,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn),this.video.play(),this.emit(h.VIDEO_PLAY,this)},completeHandler:function(){this.emit(h.VIDEO_COMPLETE,this)},timeUpdateHandler:function(){this.video&&this.video.currentTime<this._lastUpdate&&(this.emit(h.VIDEO_LOOP,this),this._lastUpdate=0)},preUpdate:function(){var g=this.video;if(g){var x=g.currentTime;x!==this._lastUpdate&&(this._lastUpdate=x,this.updateTexture(),x>=this._markerOut&&(g.loop?(g.currentTime=this._markerIn,this.updateTexture(),this._lastUpdate=x,this.emit(h.VIDEO_LOOP,this)):(this.emit(h.VIDEO_COMPLETE,this),this.stop())))}},checkVideoProgress:function(){this.video.readyState>=2?this.updateTexture():(this.retry--,this.retry>0?this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval):this.emit(h.VIDEO_TIMEOUT,this))},updateTexture:function(){var g=this.video,x=g.videoWidth,T=g.videoHeight;if(this.videoTexture){var S=this.videoTextureSource;S.source!==g&&(S.source=g,S.width=x,S.height=T),S.update()}else this.videoTexture=this.scene.sys.textures.create(this._key,g,x,T),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,x,T),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(h.VIDEO_CREATED,this,x,T)},getVideoKey:function(){return this._cacheKey},seekTo:function(g){var x=this.video;if(x){var T=x.duration;T===1/0||isNaN(T)||this.setCurrentTime(T*g)}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(g){var x=this.video;if(x){if("string"==typeof g){var T=g[0],S=parseFloat(g.substr(1));"+"===T?g=x.currentTime+S:"-"===T&&(g=x.currentTime-S)}x.currentTime=g,this._lastUpdate=g}return this},isSeeking:function(){return this._isSeeking},seekingHandler:function(){this._isSeeking=!0,this.emit(h.VIDEO_SEEKING,this)},seekedHandler:function(){this._isSeeking=!1,this.emit(h.VIDEO_SEEKED,this),this.video&&this.updateTexture()},getProgress:function(){var g=this.video;if(g){var x=g.currentTime,T=g.duration;if(T!==1/0&&!isNaN(T))return x/T}return 0},getDuration:function(){return this.video?this.video.duration:0},setMute:function(g){void 0===g&&(g=!0),this._codeMuted=g;var x=this.video;return x&&(x.muted=!!this._systemMuted||g),this},isMuted:function(){return this._codeMuted},globalMute:function(g,x){this._systemMuted=x;var T=this.video;T&&(T.muted=!!this._codeMuted||x)},globalPause:function(){this._systemPaused=!0,this.video&&this.video.pause()},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&this.video.play()},setPaused:function(g){void 0===g&&(g=!0);var x=this.video;return this._codePaused=g,x&&(g?x.paused||x.pause():g||x.paused&&!this._systemPaused&&x.play()),this},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(g){return void 0===g&&(g=1),this.video&&(this.video.volume=m(g,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(g){return this.video&&(this.video.playbackRate=g),this},getLoop:function(){return!!this.video&&this.video.loop},setLoop:function(g){return void 0===g&&(g=!0),this.video&&(this.video.loop=g),this},isPlaying:function(){return!!this.video&&!(this.video.paused||this.video.ended)},isPaused:function(){return this.video&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(g,x){return void 0===x&&(x=!1),this.videoTexture&&this.scene.sys.textures.renameTexture(this._key,g),this._key=g,this.flipY=x,this.videoTextureSource&&this.videoTextureSource.setFlipY(x),this.videoTexture},stop:function(){var g=this.video;if(g){var x=this._callbacks;for(var T in x)g.removeEventListener(T,x[T],!0);g.pause()}return this._retryID&&window.clearTimeout(this._retryID),this.emit(h.VIDEO_STOP,this),this},removeVideoElement:function(){var g=this.video;if(g){for(g.parentNode&&g.parentNode.removeChild(g);g.hasChildNodes();)g.removeChild(g.firstChild);g.removeAttribute("autoplay"),g.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(),this.removeVideoElementOnDestroy&&this.removeVideoElement();var g=this.scene.sys.game.events;g.off(u.PAUSE,this.globalPause,this),g.off(u.RESUME,this.globalResume,this);var x=this.scene.sys.sound;x&&x.off(d.GLOBAL_MUTE,this.globalMute,this),this._retryID&&window.clearTimeout(this._retryID)}});C.exports=v},function(C,w,n){var l=n(0),m=n(228),f=n(470),h=n(56),u=new l({initialize:function(o){this.type=h.POLYGON,this.area=0,this.points=[],o&&this.setTo(o)},contains:function(s,o){return m(this,s,o)},setTo:function(s){if(this.area=0,this.points=[],"string"==typeof s&&(s=s.split(" ")),!Array.isArray(s))return this;for(var o,d=Number.MAX_VALUE,a=0;a<s.length;a++)o={x:0,y:0},"number"==typeof s[a]||"string"==typeof s[a]?(o.x=parseFloat(s[a]),o.y=parseFloat(s[a+1]),a++):Array.isArray(s[a])?(o.x=s[a][0],o.y=s[a][1]):(o.x=s[a].x,o.y=s[a].y),this.points.push(o),o.y<d&&(d=o.y);return this.calculateArea(d),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var o,d,s=0,a=0;a<this.points.length-1;a++)s+=((d=this.points[a+1]).x-(o=this.points[a]).x)*(o.y+d.y);return this.area=.5*-(s+=((o=this.points[0]).x-(d=this.points[this.points.length-1]).x)*(d.y+o.y)),this.area},getPoints:function(s,o,d){return f(this,s,o,d)}});C.exports=u},function(C,w){C.exports=function(l,m,f){for(var h=!1,u=-1,s=l.points.length-1;++u<l.points.length;s=u){var o=l.points[u].x,d=l.points[u].y,c=l.points[s].y;(d<=f&&f<c||c<=f&&f<d)&&m<(l.points[s].x-o)*(f-d)/(c-d)+o&&(h=!h)}return h}},function(C,w,n){var l=n(0),m=n(11),f=n(15),h=n(2),u=n(17),s=n(478),o=n(1176),d=n(25),a=new l({Extends:f,Mixins:[m.ComputedSize,m.Depth,m.GetBounds,m.Mask,m.Origin,m.ScrollFactor,m.Transform,m.Visible,o],initialize:function(p,v,g,x,T,S,D,M){void 0===g&&(g=0),void 0===x&&(x=0),void 0===T&&(T=128),void 0===S&&(S=128),f.call(this,p,"Shader"),this.blendMode=-1;var R=p.sys.renderer;this.renderer=R,this.gl=R.gl,this.vertexData=new ArrayBuffer(2*Float32Array.BYTES_PER_ELEMENT*6),this.vertexBuffer=R.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new d,this._tempMatrix2=new d,this._tempMatrix3=new d,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=R.width,this._rendererHeight=R.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(g,x),this.setSize(T,S),this.setOrigin(.5,.5),this.setShader(v,D,M)},willRender:function(c){return!!this.renderToTexture||!(f.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&c.id)},setRenderToTexture:function(c,p){if(void 0===p&&(p=!1),!this.renderToTexture){var v=this.width,g=this.height,x=this.renderer;this.glTexture=x.createTextureFromSource(null,v,g,0),this.glTexture.flipY=p,this.framebuffer=x.createFramebuffer(v,g,this.glTexture,!1),this._rendererWidth=v,this._rendererHeight=g,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),c&&(this.texture=this.scene.sys.textures.addGLTexture(c,this.glTexture,v,g))}return this.shader&&(x.pipelines.clear(),this.load(),this.flush(),x.pipelines.rebind()),this},setShader:function(c,p,v){if(void 0===p&&(p=[]),"string"==typeof c){var g=this.scene.sys.cache.shader;if(!g.has(c))return console.warn("Shader missing: "+c),this;this.shader=g.get(c)}else this.shader=c;var x=this.gl,T=this.renderer;this.program&&x.deleteProgram(this.program);var S=T.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);x.uniformMatrix4fv(x.getUniformLocation(S,"uViewMatrix"),!1,this.viewMatrix),x.uniformMatrix4fv(x.getUniformLocation(S,"uProjectionMatrix"),!1,this.projectionMatrix),x.uniform2f(x.getUniformLocation(S,"uResolution"),this.width,this.height),this.program=S;var D=new Date,M={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[D.getFullYear(),D.getMonth(),D.getDate(),60*D.getHours()*60+60*D.getMinutes()+D.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.uniforms=this.shader.uniforms?u(!0,{},this.shader.uniforms,M):M;for(var R=0;R<4;R++)p[R]&&this.setSampler2D("iChannel"+R,p[R],R,v);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(c){return this.pointer=c,this},projOrtho:function(c,p,v,g){var S=1/(c-p),D=1/(v-g),M=-5e-4,R=this.projectionMatrix;R[0]=-2*S,R[5]=-2*D,R[10]=2*M,R[12]=(c+p)*S,R[13]=(g+v)*D,R[14]=-0;var P=this.program,I=this.gl;this.renderer.setProgram(P),I.uniformMatrix4fv(I.getUniformLocation(P,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=p,this._rendererHeight=v},initUniforms:function(){var c=this.gl,p=this.renderer.glFuncMap,v=this.program;for(var g in this._textureCount=0,this.uniforms){var x=this.uniforms[g],T=x.type,S=p[T];x.uniformLocation=c.getUniformLocation(v,g),"sampler2D"!==T&&(x.glMatrix=S.matrix,x.glValueLength=S.length,x.glFunc=S.func)}},setSampler2DBuffer:function(c,p,v,g,x,T){void 0===x&&(x=0),void 0===T&&(T={});var S=this.uniforms[c];return S.value=p,T.width=v,T.height=g,S.textureData=T,this._textureCount=x,this.initSampler2D(S),this},setSampler2D:function(c,p,v,g){void 0===v&&(v=0);var x=this.scene.sys.textures;if(x.exists(p)){var T=x.getFrame(p);if(T.glTexture&&T.glTexture.isRenderTexture)return this.setSampler2DBuffer(c,T.glTexture,T.width,T.height,v,g);var S=this.uniforms[c],D=T.source;S.textureKey=p,S.source=D.image,S.value=T.glTexture,D.isGLTexture&&(g||(g={}),g.width=D.width,g.height=D.height),g&&(S.textureData=g),this._textureCount=v,this.initSampler2D(S)}return this},setUniform:function(c,p){return s(this.uniforms,c,p),this},getUniform:function(c){return h(this.uniforms,c,null)},setChannel0:function(c,p){return this.setSampler2D("iChannel0",c,0,p)},setChannel1:function(c,p){return this.setSampler2D("iChannel1",c,1,p)},setChannel2:function(c,p){return this.setSampler2D("iChannel2",c,2,p)},setChannel3:function(c,p){return this.setSampler2D("iChannel3",c,3,p)},initSampler2D:function(c){if(c.value){var p=this.gl;p.activeTexture(p.TEXTURE0+this._textureCount),p.bindTexture(p.TEXTURE_2D,c.value);var v=c.textureData;if(v&&!c.value.isRenderTexture){var g=p[h(v,"magFilter","linear").toUpperCase()],x=p[h(v,"minFilter","linear").toUpperCase()],T=p[h(v,"wrapS","repeat").toUpperCase()],S=p[h(v,"wrapT","repeat").toUpperCase()],D=p[h(v,"format","rgba").toUpperCase()];if(v.repeat&&(T=p.REPEAT,S=p.REPEAT),p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,!!v.flipY),v.width){var M=h(v,"width",512),R=h(v,"height",2),P=h(v,"border",0);p.texImage2D(p.TEXTURE_2D,0,D,M,R,P,D,p.UNSIGNED_BYTE,null)}else p.texImage2D(p.TEXTURE_2D,0,D,p.RGBA,p.UNSIGNED_BYTE,c.source);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,g),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,x),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,T),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,S)}this.renderer.setProgram(this.program),p.uniform1i(c.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var v,g,x,T,S,c=this.gl,p=this.uniforms,D=0;for(var M in p)x=(v=p[M]).glFunc,g=v.glValueLength,T=v.uniformLocation,null!==(S=v.value)&&(1===g?v.glMatrix?x.call(c,T,v.transpose,S):x.call(c,T,S):2===g?x.call(c,T,S.x,S.y):3===g?x.call(c,T,S.x,S.y,S.z):4===g?x.call(c,T,S.x,S.y,S.z,S.w):"sampler2D"===v.type&&(c.activeTexture(c.TEXTURE0+D),c.bindTexture(c.TEXTURE_2D,S),c.uniform1i(T,D),D++))},load:function(c){var p=this.gl,v=this.width,g=this.height,x=this.renderer,T=this.program,S=this.viewMatrix;if(!this.renderToTexture){var D=-this._displayOriginX,M=-this._displayOriginY;S[0]=c[0],S[1]=c[1],S[4]=c[2],S[5]=c[3],S[8]=c[4],S[9]=c[5],S[12]=S[0]*D+S[4]*M,S[13]=S[1]*D+S[5]*M}p.useProgram(T),p.uniformMatrix4fv(p.getUniformLocation(T,"uViewMatrix"),!1,S),p.uniform2f(p.getUniformLocation(T,"uResolution"),this.width,this.height);var R=this.uniforms,P=R.resolution;P.value.x=v,P.value.y=g,R.time.value=x.game.loop.getDuration();var I=this.pointer;if(I){var b=R.mouse,B=1-I.y/g;b.value.x=(I.x/v).toFixed(2),b.value.y=B.toFixed(2)}this.syncUniforms()},flush:function(){var c=this.width,p=this.height,v=this.program,g=this.gl,x=this.vertexBuffer,T=this.renderer,S=2*Float32Array.BYTES_PER_ELEMENT;this.renderToTexture&&(T.setFramebuffer(this.framebuffer),g.clearColor(0,0,0,0),g.clear(g.COLOR_BUFFER_BIT)),g.bindBuffer(g.ARRAY_BUFFER,x);var D=g.getAttribLocation(v,"inPosition");-1!==D&&(g.enableVertexAttribArray(D),g.vertexAttribPointer(D,2,g.FLOAT,!1,S,0));var M=this.vertexViewF32;M[3]=p,M[4]=c,M[5]=p,M[8]=c,M[9]=p,M[10]=c;g.bufferSubData(g.ARRAY_BUFFER,0,this.bytes.subarray(0,6*S)),g.drawArrays(g.TRIANGLES,0,6),this.renderToTexture&&T.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var c=this.gl;c.deleteProgram(this.program),c.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});C.exports=a},function(C,w,n){var l=n(0),m=n(11),f=n(36),h=n(116),u=n(15),s=n(479),o=n(480),d=n(19),a=n(69),c=n(1179),p=n(79),v=n(39),g=n(117),x=new l({Extends:u,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.Size,m.Texture,m.Transform,m.Visible,m.ScrollFactor,c],initialize:function(S,D,M,R,P,I,b,L,B,V,z,W){void 0===D&&(D=0),void 0===M&&(M=0),void 0===R&&(R="__WHITE"),u.call(this,S,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new v,this.modelScale=new v(1,1,1),this.modelRotation=new v,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new a,this.viewPosition=new v,this.viewMatrix=new a,this.projectionMatrix=new a,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1;var K=S.sys.renderer;this.setPosition(D,M),this.setTexture(R,P),this.setSize(K.width,K.height),this.initPipeline(),this.setPerspective(K.width,K.height),I&&this.addVertices(I,b,L,B,V,z,W)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(T){return this.viewPosition.addScale(v.LEFT,T),this.dirtyCache[10]=1,this},panY:function(T){return this.viewPosition.y+=v.DOWN.y*T,this.dirtyCache[10]=1,this},panZ:function(T){return this.viewPosition.z+=T,this.dirtyCache[10]=1,this},setPerspective:function(T,S,D,M,R){return void 0===D&&(D=45),void 0===M&&(M=.01),void 0===R&&(R=1e3),this.projectionMatrix.perspective(f(D),T/S,M,R),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(T,S,D,M){return void 0===T&&(T=this.scene.sys.renderer.getAspectRatio()),void 0===S&&(S=1),void 0===D&&(D=-1e3),void 0===M&&(M=1e3),this.projectionMatrix.ortho(-T,T,-S,S,D,M),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(T){T.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(T,S,D,M,R,P,I,b,L){var B=this.scene.sys.cache.obj.get(T);return B&&o(B,this,S,D,M,R,P,I,b,L),this},sortByDepth:function(T,S){return T.depth-S.depth},depthSort:function(){return p(this.faces,this.sortByDepth),this},addVertex:function(T,S,D,M,R,P,I){var b=new g(T,S,D,M,R,P,I);return this.vertices.push(b),b},addFace:function(T,S,D){var M=new h(T,S,D);return this.faces.push(M),this.dirtyCache[9]=-1,M},addVertices:function(T,S,D,M,R,P,I){var b=s(T,S,D,M,R,P,I);return b&&(this.faces=this.faces.concat(b.faces),this.vertices=this.vertices.concat(b.vertices)),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(T){return this.faces[T]},getFaceAt:function(T,S,D){void 0===D&&(D=this.scene.sys.cameras.main);for(var M=d(this,D).calc,R=this.faces,P=[],I=0;I<R.length;I++){var b=R[I];b.contains(T,S,M)&&P.push(b)}return p(P,this.sortByDepth)},setDebug:function(T,S){return this.debugGraphic=T,this.debugCallback=T||S?S||this.renderDebug:null,this},isDirty:function(){var T=this.modelPosition,S=this.modelRotation,D=this.modelScale,M=this.dirtyCache,R=T.x,P=T.y,I=T.z,b=S.x,L=S.y,B=S.z,V=D.x,z=D.y,W=D.z,K=this.getFaceCount(),J=M[0],tt=M[1],it=M[2],H=M[3],G=M[4],Y=M[5],X=M[6],$=M[7],Q=M[8],_=M[9];return M[0]=R,M[1]=P,M[2]=I,M[3]=b,M[4]=L,M[5]=B,M[6]=V,M[7]=z,M[8]=W,M[9]=K,J!==R||tt!==P||it!==I||H!==b||G!==L||Y!==B||X!==V||$!==z||Q!==W||_!==K},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var T=this.dirtyCache;if(this.ignoreDirtyCache||T[10]||this.isDirty()){var S=this.width,D=this.height,M=this.viewMatrix,R=this.viewPosition;T[10]&&(M.identity(),M.translate(R),M.invert(),T[10]=0);var P=this.transformMatrix;P.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var I=R.z,b=this.faces,L=0;L<b.length;L++)b[L].transformCoordinatesLocal(P,S,D,I);this.depthSort()}},renderDebug:function(T,S){for(var D=T.debugGraphic,M=0;M<S.length;M++){var R=S[M];D.strokeTriangle(R.vertex1.tx,R.vertex1.ty,R.vertex2.tx,R.vertex2.ty,R.vertex3.tx,R.vertex3.ty)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null}});C.exports=x},function(C,w,n){var l=n(50);C.exports=function(f,h){return l(f.x,f.y,h.x,h.y)<=f.radius+h.radius}},function(C,w,n){var l=n(4),m=n(233);C.exports=function(h,u,s){if(void 0===s&&(s=[]),m(h,u)){var b,L,o=h.x1,d=h.y1,g=u.radius,x=h.x2-o,T=h.y2-d,S=o-u.x,D=d-u.y,M=x*x+T*T,R=2*(x*S+T*D),I=R*R-4*M*(S*S+D*D-g*g);if(0===I){var B=-R/(2*M);b=o+B*x,L=d+B*T,B>=0&&B<=1&&s.push(new l(b,L))}else if(I>0){var V=(-R-Math.sqrt(I))/(2*M);b=o+V*x,L=d+V*T,V>=0&&V<=1&&s.push(new l(b,L));var z=(-R+Math.sqrt(I))/(2*M);b=o+z*x,L=d+z*T,z>=0&&z<=1&&s.push(new l(b,L))}}return s}},function(C,w,n){var l=n(66),f=new(n(4));C.exports=function(u,s,o){if(void 0===o&&(o=f),l(s,u.x1,u.y1))return o.x=u.x1,o.y=u.y1,!0;if(l(s,u.x2,u.y2))return o.x=u.x2,o.y=u.y2,!0;var d=u.x2-u.x1,a=u.y2-u.y1,v=d*d+a*a,g=d,x=a;if(v>0){var T=((s.x-u.x1)*d+(s.y-u.y1)*a)/v;g*=T,x*=T}return o.x=u.x1+g,o.y=u.y1+x,g*g+x*x<=v&&g*d+x*a>=0&&l(s,o.x,o.y)}},function(C,w,n){var l=n(4),m=n(96),f=n(488);C.exports=function(u,s,o){if(void 0===o&&(o=[]),f(u,s))for(var d=s.getLineA(),a=s.getLineB(),c=s.getLineC(),p=s.getLineD(),v=[new l,new l,new l,new l],g=[m(d,u,v[0]),m(a,u,v[1]),m(c,u,v[2]),m(p,u,v[3])],x=0;x<4;x++)g[x]&&o.push(v[x]);return o}},function(C,w){C.exports=function(l,m,f,h){void 0===f&&(f=!1),void 0===h&&(h=[]);for(var x,T,S,D,M,R,u=l.x3-l.x1,s=l.y3-l.y1,o=l.x2-l.x1,d=l.y2-l.y1,a=u*u+s*s,c=u*o+s*d,p=o*o+d*d,v=a*p-c*c,g=0===v?0:1/v,P=l.x1,I=l.y1,b=0;b<m.length&&(T=(a*(R=o*(S=m[b].x-P)+d*(D=m[b].y-I))-c*(M=u*S+s*D))*g,!((x=(p*M-c*R)*g)>=0&&T>=0&&x+T<1&&(h.push({x:m[b].x,y:m[b].y}),f)));b++);return h}},function(C,w){C.exports=function(l,m,f,h){var u=Math.cos(h),s=Math.sin(h),o=l.x1-m,d=l.y1-f;return l.x1=o*u-d*s+m,l.y1=o*s+d*u+f,l.x2=(o=l.x2-m)*u-(d=l.y2-f)*s+m,l.y2=o*s+d*u+f,l}},function(C,w){C.exports=function(l){return 0===l.height?NaN:l.width/l.height}},function(C,w){C.exports=function(l,m,f,h){var u=Math.cos(h),s=Math.sin(h),o=l.x1-m,d=l.y1-f;return l.x1=o*u-d*s+m,l.y1=o*s+d*u+f,l.x2=(o=l.x2-m)*u-(d=l.y2-f)*s+m,l.y2=o*s+d*u+f,l.x3=(o=l.x3-m)*u-(d=l.y3-f)*s+m,l.y3=o*s+d*u+f,l}},function(C,w,n){C.exports={BUTTON_DOWN:n(1310),BUTTON_UP:n(1311),CONNECTED:n(1312),DISCONNECTED:n(1313),GAMEPAD_BUTTON_DOWN:n(1314),GAMEPAD_BUTTON_UP:n(1315)}},function(C,w,n){var l=n(17),m=n(156);C.exports=function(h,u){var s=void 0===h?m():l({},h);if(u)for(var o in u)void 0!==u[o]&&(s[o]=u[o]);return s}},function(C,w,n){var l=n(0),m=n(21),f=n(23),h=n(8),u=n(2),s=n(7),o=n(408),d=new l({Extends:f,initialize:function(c,p,v,g){var x="xml";if(s(p)){var T=p;p=u(T,"key"),v=u(T,"url"),g=u(T,"xhrSettings"),x=u(T,"extension",x)}f.call(this,c,{type:"xml",cache:c.cacheManager.xml,extension:x,responseType:"text",key:p,url:v,xhrSettings:g})},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=o(this.xhrLoader.responseText),this.data?this.onProcessComplete():(console.warn("Invalid XMLFile: "+this.key),this.onProcessError())}});h.register("xml",function(a,c,p){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new d(this,a[v]));else this.addFile(new d(this,a,c,p));return this}),C.exports=d},function(C,w,n){var l=n(0),m=n(21),f=n(23),h=n(8),u=n(2),s=n(7),o=new l({Extends:f,initialize:function(a,c,p,v){var g="text",x="txt",T=a.cacheManager.text;if(s(c)){var S=c;c=u(S,"key"),p=u(S,"url"),v=u(S,"xhrSettings"),x=u(S,"extension",x),g=u(S,"type",g),T=u(S,"cache",T)}f.call(this,a,{type:g,cache:T,extension:x,responseType:"text",key:c,url:p,xhrSettings:v})},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});h.register("text",function(d,a,c){if(Array.isArray(d))for(var p=0;p<d.length;p++)this.addFile(new o(this,d[p]));else this.addFile(new o(this,d,a,c));return this}),C.exports=o},function(C,w,n){C.exports={Acceleration:n(1368),Angular:n(1369),Bounce:n(1370),Debug:n(1371),Drag:n(1372),Enable:n(1373),Friction:n(1374),Gravity:n(1375),Immovable:n(1376),Mass:n(1377),OverlapCirc:n(523),OverlapRect:n(244),Pushable:n(1378),Size:n(1379),Velocity:n(1380)}},function(C,w){C.exports=function(l,m,f,h,u,s,o){void 0===s&&(s=!0),void 0===o&&(o=!1);var d=[],a=[],c=l.treeMinMax;if(c.minX=m,c.minY=f,c.maxX=m+h,c.maxY=f+u,o&&(a=l.staticTree.search(c)),s&&l.useTree)d=l.tree.search(c);else if(s){var v={position:{x:m,y:f},left:m,top:f,right:m+h,bottom:f+u,isCircle:!1},g=l.intersects;l.bodies.iterate(function(x){g(x,v)&&d.push(x)})}return a.concat(d)}},function(C,w,n){C.exports={COLLIDE:n(1381),OVERLAP:n(1382),PAUSE:n(1383),RESUME:n(1384),TILE_COLLIDE:n(1385),TILE_OVERLAP:n(1386),WORLD_BOUNDS:n(1387),WORLD_STEP:n(1388)}},function(C,w,n){var l=n(62);C.exports=function(f,h,u,s){var o=0,d=f.deltaAbsX()+h.deltaAbsX()+s;return 0===f._dx&&0===h._dx?(f.embedded=!0,h.embedded=!0):f._dx>h._dx?(o=f.right-h.x)>d&&!u||!1===f.checkCollision.right||!1===h.checkCollision.left?o=0:(f.touching.none=!1,f.touching.right=!0,h.touching.none=!1,h.touching.left=!0,h.physicsType===l.STATIC_BODY&&!u&&(f.blocked.none=!1,f.blocked.right=!0),f.physicsType===l.STATIC_BODY&&!u&&(h.blocked.none=!1,h.blocked.left=!0)):f._dx<h._dx&&(-(o=f.x-h.width-h.x)>d&&!u||!1===f.checkCollision.left||!1===h.checkCollision.right?o=0:(f.touching.none=!1,f.touching.left=!0,h.touching.none=!1,h.touching.right=!0,h.physicsType===l.STATIC_BODY&&!u&&(f.blocked.none=!1,f.blocked.left=!0),f.physicsType===l.STATIC_BODY&&!u&&(h.blocked.none=!1,h.blocked.right=!0))),f.overlapX=o,h.overlapX=o,o}},function(C,w,n){var l=n(62);C.exports=function(f,h,u,s){var o=0,d=f.deltaAbsY()+h.deltaAbsY()+s;return 0===f._dy&&0===h._dy?(f.embedded=!0,h.embedded=!0):f._dy>h._dy?(o=f.bottom-h.y)>d&&!u||!1===f.checkCollision.down||!1===h.checkCollision.up?o=0:(f.touching.none=!1,f.touching.down=!0,h.touching.none=!1,h.touching.up=!0,h.physicsType===l.STATIC_BODY&&!u&&(f.blocked.none=!1,f.blocked.down=!0),f.physicsType===l.STATIC_BODY&&!u&&(h.blocked.none=!1,h.blocked.up=!0)):f._dy<h._dy&&(-(o=f.y-h.bottom)>d&&!u||!1===f.checkCollision.up||!1===h.checkCollision.down?o=0:(f.touching.none=!1,f.touching.up=!0,h.touching.none=!1,h.touching.down=!0,h.physicsType===l.STATIC_BODY&&!u&&(f.blocked.none=!1,f.blocked.up=!0),f.physicsType===l.STATIC_BODY&&!u&&(h.blocked.none=!1,h.blocked.down=!0))),f.overlapY=o,h.overlapY=o,o}},function(C,w){C.exports=function(l,m){return!(m.right<=l.left||m.bottom<=l.top||m.position.x>=l.right||m.position.y>=l.bottom)}},function(C,w,n){C.exports={Bounce:n(1495),Collision:n(1496),Force:n(1497),Friction:n(1498),Gravity:n(1499),Mass:n(1500),Sensor:n(1501),SetBody:n(1502),Sleep:n(1503),Static:n(1520),Transform:n(1521),Velocity:n(1522)}},function(C,w){var n={};C.exports=n,n.create=function(l,m){var f=l.bodyA,h=l.bodyB,u={id:n.id(f,h),bodyA:f,bodyB:h,activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:f.isSensor||h.isSensor,timeCreated:m,timeUpdated:m,collision:null,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return n.update(u,l,m),u},n.update=function(l,m,f){if(l.collision=m,m.collided){var h=m.supports,u=l.activeContacts,s=m.parentA,o=m.parentB;l.inverseMass=s.inverseMass+o.inverseMass,l.friction=Math.min(s.friction,o.friction),l.frictionStatic=Math.max(s.frictionStatic,o.frictionStatic),l.restitution=Math.max(s.restitution,o.restitution),l.slop=Math.max(s.slop,o.slop);for(var d=0;d<h.length;d++)u[d]=h[d].contact;var a=h.length;a<u.length&&(u.length=a),l.separation=m.depth,n.setActive(l,!0,f)}else!0===l.isActive&&n.setActive(l,!1,f)},n.setActive=function(l,m,f){m?(l.isActive=!0,l.timeUpdated=f):(l.isActive=!1,l.activeContacts.length=0)},n.id=function(l,m){return l.id<m.id?"A"+l.id+"B"+m.id:"A"+m.id+"B"+l.id}},function(C,w,n){C.exports={CalculateFacesAt:n(252),CalculateFacesWithin:n(63),CheckIsoBounds:n(541),Copy:n(1420),CreateFromTiles:n(1421),CullBounds:n(543),CullTiles:n(544),Fill:n(1422),FilterTiles:n(1423),FindByIndex:n(1424),FindTile:n(1425),ForEachTile:n(1426),GetCullTilesFunction:n(1427),GetTileAt:n(158),GetTileAtWorldXY:n(1428),GetTilesWithin:n(26),GetTilesWithinShape:n(1429),GetTilesWithinWorldXY:n(529),GetTileToWorldXFunction:n(1430),GetTileToWorldXYFunction:n(1431),GetTileToWorldYFunction:n(1432),GetWorldToTileXFunction:n(1433),GetWorldToTileXYFunction:n(1434),GetWorldToTileYFunction:n(1435),HasTileAt:n(562),HasTileAtWorldXY:n(1436),HexagonalCullBounds:n(546),HexagonalCullTiles:n(545),HexagonalTileToWorldXY:n(550),HexagonalTileToWorldY:n(554),HexagonalWorldToTileXY:n(556),HexagonalWorldToTileY:n(560),IsInLayerBounds:n(119),IsometricCullTiles:n(547),IsometricTileToWorldXY:n(551),IsometricWorldToTileXY:n(557),PutTileAt:n(257),PutTileAtWorldXY:n(1437),PutTilesAt:n(1438),Randomize:n(1439),RemoveTileAt:n(563),RemoveTileAtWorldXY:n(1440),RenderDebug:n(1441),ReplaceByIndex:n(542),RunCull:n(159),SetCollision:n(1442),SetCollisionBetween:n(1443),SetCollisionByExclusion:n(1444),SetCollisionByProperty:n(1445),SetCollisionFromCollisionGroup:n(1446),SetLayerCollisionIndex:n(160),SetTileCollision:n(72),SetTileIndexCallback:n(1447),SetTileLocationCallback:n(1448),Shuffle:n(1449),StaggeredCullBounds:n(549),StaggeredCullTiles:n(548),StaggeredTileToWorldXY:n(552),StaggeredTileToWorldY:n(555),StaggeredWorldToTileXY:n(558),StaggeredWorldToTileY:n(561),SwapByIndex:n(1450),TileToWorldX:n(253),TileToWorldXY:n(553),TileToWorldY:n(254),WeightedRandomize:n(1451),WorldToTileX:n(255),WorldToTileXY:n(559),WorldToTileY:n(256)}},function(C,w,n){var l=n(158);C.exports=function(f,h,u){var s=l(f,h,!0,u),o=l(f,h-1,!0,u),d=l(f,h+1,!0,u),a=l(f-1,h,!0,u),c=l(f+1,h,!0,u),p=s&&s.collides;return p&&(s.faceTop=!0,s.faceBottom=!0,s.faceLeft=!0,s.faceRight=!0),o&&o.collides&&(p&&(s.faceTop=!1),o.faceBottom=!p),d&&d.collides&&(p&&(s.faceBottom=!1),d.faceTop=!p),a&&a.collides&&(p&&(s.faceLeft=!1),a.faceRight=!p),c&&c.collides&&(p&&(s.faceRight=!1),c.faceLeft=!p),s&&!s.collides&&s.resetFaces(),s}},function(C,w){C.exports=function(l,m,f){var h=f.baseTileWidth,u=f.tilemapLayer,s=0;return u&&(m||(m=u.scene.cameras.main),s=u.x+m.scrollX*(1-u.scrollFactorX),h*=u.scaleX),s+l*h}},function(C,w){C.exports=function(l,m,f){var h=f.baseTileHeight,u=f.tilemapLayer,s=0;return u&&(m||(m=u.scene.cameras.main),s=u.y+m.scrollY*(1-u.scrollFactorY),h*=u.scaleY),s+l*h}},function(C,w){C.exports=function(l,m,f,h){void 0===m&&(m=!0);var u=h.baseTileWidth,s=h.tilemapLayer;return s&&(f||(f=s.scene.cameras.main),l-=s.x+f.scrollX*(1-s.scrollFactorX),u*=s.scaleX),m?Math.floor(l/u):l/u}},function(C,w){C.exports=function(l,m,f,h){void 0===m&&(m=!0);var u=h.baseTileHeight,s=h.tilemapLayer;return s&&(f||(f=s.scene.cameras.main),l-=s.y+f.scrollY*(1-s.scrollFactorY),u*=s.scaleY),m?Math.floor(l/u):l/u}},function(C,w,n){var l=n(85),m=n(119),f=n(252),h=n(72);C.exports=function(s,o,d,a,c){if(void 0===a&&(a=!0),!m(o,d,c))return null;var p=c.data[d][o],v=p&&p.collides;if(s instanceof l)null===c.data[d][o]&&(c.data[d][o]=new l(c,s.index,o,d,c.tileWidth,c.tileHeight)),c.data[d][o].copy(s);else{var g=s;null===c.data[d][o]?c.data[d][o]=new l(c,g,o,d,c.tileWidth,c.tileHeight):c.data[d][o].index=g}var x=c.data[d][o],T=-1!==c.collideIndexes.indexOf(x.index);return h(x,T),a&&v!==x.collides&&f(o,d,c),x}},function(C,w,n){var l=n(29);C.exports=function(f){return"isometric"===(f=f.toLowerCase())?l.ISOMETRIC:"staggered"===f?l.STAGGERED:"hexagonal"===f?l.HEXAGONAL:l.ORTHOGONAL}},function(C,w,n){var l=n(40),m=n(120),f=n(121),h=n(85);C.exports=function(s,o,d,a,c){for(var p=new m({tileWidth:d,tileHeight:a}),v=new f({name:s,tileWidth:d,tileHeight:a,format:l.ARRAY_2D,layers:[p]}),g=[],x=o.length,T=0,S=0;S<o.length;S++){g[S]=[];for(var D=o[S],M=0;M<D.length;M++){var R=parseInt(D[M],10);g[S][M]=isNaN(R)||-1===R?c?null:new h(p,-1,M,S,d,a):new h(p,R,M,S,d,a)}0===T&&(T=D.length)}return v.width=p.width=T,v.height=p.height=x,v.widthInPixels=p.widthInPixels=T*d,v.heightInPixels=p.heightInPixels=x*a,p.data=g,v}},function(C,w,n){var l=n(571),m=n(261),f=function(s){return{x:s.x,y:s.y}},h=["id","name","type","rotation","properties","visible","x","y","width","height"];C.exports=function(s,o,d){void 0===o&&(o=0),void 0===d&&(d=0);var a=l(s,h);if(a.x+=o,a.y+=d,s.gid){var c=m(s.gid);a.gid=c.gid,a.flippedHorizontal=c.flippedHorizontal,a.flippedVertical=c.flippedVertical,a.flippedAntiDiagonal=c.flippedAntiDiagonal}else s.polyline?a.polyline=s.polyline.map(f):s.polygon?a.polygon=s.polygon.map(f):s.ellipse?a.ellipse=s.ellipse:s.text?a.text=s.text:s.point?a.point=!0:a.rectangle=!0;return a}},function(C,w){var n=2147483648,l=1073741824,m=536870912;C.exports=function(h){var u=Boolean(h&n),s=Boolean(h&l),o=Boolean(h&m);h&=~(n|l|m);var d=0,a=!1;return u&&s&&o?(d=Math.PI/2,a=!0):u&&s&&!o?(d=Math.PI,a=!1):u&&!s&&o?(d=Math.PI/2,a=!1):!u||s||o?!u&&s&&o?(d=3*Math.PI/2,a=!1):u||!s||o?u||s||!o?!u&&!s&&!o&&(d=0,a=!1):(d=3*Math.PI/2,a=!0):(d=Math.PI,a=!0):(d=0,a=!0),{gid:h,flippedHorizontal:u,flippedVertical:s,flippedAntiDiagonal:o,rotation:d,flipped:a}}},function(C,w,n){var l=n(40),m=n(121),f=n(564),h=n(580);C.exports=function(s,o,d,a,c,p,v,g){void 0===d&&(d=32),void 0===a&&(a=32),void 0===c&&(c=10),void 0===p&&(p=10),void 0===g&&(g=!1);var x=null;if(Array.isArray(v))x=f(void 0!==o?o:"map",l.ARRAY_2D,v,d,a,g);else if(void 0!==o){var S=s.cache.tilemap.get(o);S?x=f(o,S.format,S.data,d,a,g):console.warn("No map data found for key "+o)}return null===x&&(x=new m({tileWidth:d,tileHeight:a,width:c,height:p})),new h(s,x)}},function(C,w,n){var l=n(6);C.exports=function(f){var h=l(f,"targets",null);return null===h||("function"==typeof h&&(h=h.call()),Array.isArray(h)||(h=[h])),h}},function(C,w){function n(u){return!!u.getActive&&"function"==typeof u.getActive}function l(u){return!!u.getStart&&"function"==typeof u.getStart}function m(u){return!!u.getEnd&&"function"==typeof u.getEnd}var h=function(u,s){var o,d=function(R,P,I){return I},a=function(R,P,I){return I},c=null,p=typeof s;if("number"===p)d=function(){return s};else if("string"===p){var v=s[0],g=parseFloat(s.substr(2));switch(v){case"+":d=function(R,P,I){return I+g};break;case"-":d=function(R,P,I){return I-g};break;case"*":d=function(R,P,I){return I*g};break;case"/":d=function(R,P,I){return I/g};break;default:d=function(){return parseFloat(s)}}}else if("function"===p)d=s;else if("object"===p)if(function f(u){return l(u)||m(u)||n(u)}(s))n(s)&&(c=s.getActive),m(s)&&(d=s.getEnd),l(s)&&(a=s.getStart);else if(s.hasOwnProperty("value"))o=h(u,s.value);else{var x=s.hasOwnProperty("to"),T=s.hasOwnProperty("from"),S=s.hasOwnProperty("start");if(x&&(T||S)){if(o=h(u,s.to),S){var D=h(u,s.start);o.getActive=D.getEnd}if(T){var M=h(u,s.from);o.getStart=M.getEnd}}}return o||(o={getActive:c,getEnd:d,getStart:a}),o};C.exports=h},function(C,w){C.exports={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1}},function(C,w,n){var l=n(0),m=n(9),f=n(267),h=n(16),u=n(5),s=n(100),o=n(14),d=new l({Extends:m,initialize:function(c,p,v){m.call(this),this.parent=c,this.parentIsTimeline=c.hasOwnProperty("isTimeline"),this.data=p,this.totalData=p.length,this.targets=v,this.totalTargets=v.length,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.startDelay=0,this.hasStarted=!1,this.isSeeking=!1,this.completeDelay=0,this.countdown=0,this.offset=0,this.calculatedOffset=0,this.state=s.PENDING_ADD,this._pausedState=s.INIT,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onActive:null,onComplete:null,onLoop:null,onRepeat:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null}},getValue:function(a){return void 0===a&&(a=0),this.data[a].current},setTimeScale:function(a){return this.timeScale=a,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===s.ACTIVE},isPaused:function(){return this.state===s.PAUSED},hasTarget:function(a){return-1!==this.targets.indexOf(a)},updateTo:function(a,c,p){void 0===p&&(p=!1);for(var v=0;v<this.totalData;v++){var g=this.data[v];g.key===a&&(g.end=c,p&&(g.start=g.current))}return this},restart:function(){return this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0,this.state===s.ACTIVE?this.seek(0):this.state===s.REMOVED?(this.seek(0),this.parent.makeActive(this),this):this.state===s.PENDING_ADD?this:this.play()},calcDuration:function(){for(var a=0,c=o.MAX_SAFE_INTEGER,p=this.data,v=0;v<this.totalData;v++){var g=p[v];g.t1=g.duration+g.hold,g.yoyo&&(g.t1+=g.duration),g.t2=g.t1+g.repeatDelay,g.totalDuration=g.delay+g.t1,-1===g.repeat?g.totalDuration+=999999999999*g.t2:g.repeat>0&&(g.totalDuration+=g.t2*g.repeat),g.totalDuration>a&&(a=g.totalDuration),g.delay<c&&(c=g.delay)}this.duration=Math.max(a,.001),this.loopCounter=-1===this.loop?999999999999:this.loop,this.totalDuration=this.loopCounter>0?this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.duration+this.completeDelay,this.startDelay=c},init:function(){if(this.paused&&!this.parentIsTimeline)return this.state=s.PENDING_ADD,this._pausedState=s.INIT,!1;for(var a=this.data,c=this.totalTargets,p=0;p<this.totalData;p++){var v=a[p],g=v.target,x=v.gen,T=v.key,S=v.index;v.delay=x.delay(g,T,0,S,c,this),v.duration=Math.max(x.duration(g,T,0,S,c,this),.001),v.hold=x.hold(g,T,0,S,c,this),v.repeat=x.repeat(g,T,0,S,c,this),v.repeatDelay=x.repeatDelay(g,T,0,S,c,this)}return this.calcDuration(),this.progress=0,this.totalProgress=0,this.elapsed=0,this.totalElapsed=0,this.state=s.INIT,!0},makeActive:function(){this.parent.makeActive(this),this.dispatchTweenEvent(f.TWEEN_ACTIVE,this.callbacks.onActive)},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=s.LOOP_DELAY):(this.state=s.ACTIVE,this.dispatchTweenEvent(f.TWEEN_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=s.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=s.PENDING_REMOVE,this.dispatchTweenEvent(f.TWEEN_COMPLETE,this.callbacks.onComplete))},pause:function(){return this.state===s.PAUSED||(this.paused=!0,this._pausedState=this.state,this.state=s.PAUSED),this},play:function(a){void 0===a&&(a=!1);var c=this.state;return c!==s.INIT||this.parentIsTimeline?c===s.ACTIVE||c===s.PENDING_ADD&&this._pausedState===s.PENDING_ADD?this:this.parentIsTimeline||c!==s.PENDING_REMOVE&&c!==s.REMOVED?(this.parentIsTimeline?(this.resetTweenData(a),0===this.calculatedOffset?this.state=s.ACTIVE:(this.countdown=this.calculatedOffset,this.state=s.OFFSET_DELAY)):this.paused?(this.paused=!1,this.makeActive()):(this.resetTweenData(a),this.state=s.ACTIVE,this.makeActive()),this):(this.seek(0),this.parent.makeActive(this),this):(this.resetTweenData(!1),this.state=s.ACTIVE,this)},resetTweenData:function(a){for(var c=this.data,p=this.totalData,v=this.totalTargets,g=0;g<p;g++){var x=c[g],T=x.target,S=x.key,D=x.index;x.progress=0,x.elapsed=0,x.repeatCounter=-1===x.repeat?999999999999:x.repeat,a?(x.start=x.getStartValue(T,S,x.start,D,v,this),x.end=x.getEndValue(T,S,x.end,D,v,this),x.current=x.start,x.state=s.PLAYING_FORWARD):x.state=s.PENDING_RENDER,x.delay>0&&(x.elapsed=x.delay,x.state=s.DELAY),x.getActiveValue&&(T[S]=x.getActiveValue(x.target,x.key,x.start))}},resume:function(){return this.state===s.PAUSED?(this.paused=!1,this.state=this._pausedState):this.play(),this},seek:function(a,c){void 0===c&&(c=16.6),this.state===s.REMOVED&&this.makeActive(),this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0;for(var p=this.data,v=this.totalTargets,g=0;g<this.totalData;g++){var x=p[g],T=x.target,S=x.gen,D=x.key,M=x.index;x.progress=0,x.elapsed=0,x.repeatCounter=-1===x.repeat?999999999999:x.repeat,x.delay=S.delay(T,D,0,M,v,this),x.duration=Math.max(S.duration(T,D,0,M,v,this),.001),x.hold=S.hold(T,D,0,M,v,this),x.repeat=S.repeat(T,D,0,M,v,this),x.repeatDelay=S.repeatDelay(T,D,0,M,v,this),x.current=x.start,x.state=s.PLAYING_FORWARD,this.updateTweenData(this,x,0,M,v),x.delay>0&&(x.elapsed=x.delay,x.state=s.DELAY)}this.calcDuration();var R=!1;this.state===s.PAUSED&&(R=!0,this.state=s.ACTIVE),this.isSeeking=!0;do{this.update(0,c)}while(this.totalProgress<a);return this.isSeeking=!1,R&&(this.state=s.PAUSED),this},setCallback:function(a,c,p,v){return this.callbacks[a]={func:c,scope:v,params:p},this},complete:function(a){return void 0===a&&(a=0),a?(this.state=s.COMPLETE_DELAY,this.countdown=a):(this.state=s.PENDING_REMOVE,this.dispatchTweenEvent(f.TWEEN_COMPLETE,this.callbacks.onComplete)),this},remove:function(){return this.parent.remove(this),this},stop:function(a){return this.state===s.ACTIVE&&void 0!==a&&this.seek(a),this.state!==s.REMOVED&&((this.state===s.PAUSED||this.state===s.PENDING_ADD)&&(this.parentIsTimeline?(this.parent.manager._destroy.push(this),this.parent.manager._toProcess++):(this.parent._destroy.push(this),this.parent._toProcess++)),this.dispatchTweenEvent(f.TWEEN_STOP,this.callbacks.onStop),this.removeAllListeners(),this.state=s.PENDING_REMOVE),this},update:function(a,c){if(this.state===s.PAUSED)return!1;switch(this.useFrames&&(c=1*this.parent.timeScale),this.elapsed+=c*=this.timeScale,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=c,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case s.ACTIVE:!this.hasStarted&&!this.isSeeking&&(this.startDelay-=c,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchTweenEvent(f.TWEEN_START,this.callbacks.onStart)));for(var p=!1,v=0;v<this.totalData;v++)this.updateTweenData(this,this.data[v],c)&&(p=!0);p||this.nextState();break;case s.LOOP_DELAY:this.countdown-=c,this.countdown<=0&&(this.state=s.ACTIVE,this.dispatchTweenEvent(f.TWEEN_LOOP,this.callbacks.onLoop));break;case s.OFFSET_DELAY:this.countdown-=c,this.countdown<=0&&(this.state=s.ACTIVE);break;case s.COMPLETE_DELAY:this.countdown-=c,this.countdown<=0&&(this.state=s.PENDING_REMOVE,this.dispatchTweenEvent(f.TWEEN_COMPLETE,this.callbacks.onComplete))}return this.state===s.PENDING_REMOVE},dispatchTweenDataEvent:function(a,c,p){this.isSeeking||(this.emit(a,this,p.key,p.target,p.current,p.previous),c&&(c.params[1]=p.target,c.func.apply(c.scope,c.params)))},dispatchTweenEvent:function(a,c){this.isSeeking||(this.emit(a,this,this.targets),c&&(c.params[1]=this.targets,c.func.apply(c.scope,c.params)))},setStateFromEnd:function(a,c,p){return c.yoyo?(c.elapsed=p,c.progress=p/c.duration,c.flipX&&c.target.toggleFlipX(),c.flipY&&c.target.toggleFlipY(),this.dispatchTweenDataEvent(f.TWEEN_YOYO,a.callbacks.onYoyo,c),c.start=c.getStartValue(c.target,c.key,c.start,c.index,a.totalTargets,a),s.PLAYING_BACKWARD):c.repeatCounter>0?(c.repeatCounter--,c.elapsed=p,c.progress=p/c.duration,c.flipX&&c.target.toggleFlipX(),c.flipY&&c.target.toggleFlipY(),c.start=c.getStartValue(c.target,c.key,c.start,c.index,a.totalTargets,a),c.end=c.getEndValue(c.target,c.key,c.start,c.index,a.totalTargets,a),c.repeatDelay>0?(c.elapsed=c.repeatDelay-p,c.current=c.start,c.target[c.key]=c.current,s.REPEAT_DELAY):(this.dispatchTweenDataEvent(f.TWEEN_REPEAT,a.callbacks.onRepeat,c),s.PLAYING_FORWARD)):s.COMPLETE},setStateFromStart:function(a,c,p){return c.repeatCounter>0?(c.repeatCounter--,c.elapsed=p,c.progress=p/c.duration,c.flipX&&c.target.toggleFlipX(),c.flipY&&c.target.toggleFlipY(),c.end=c.getEndValue(c.target,c.key,c.start,c.index,a.totalTargets,a),c.repeatDelay>0?(c.elapsed=c.repeatDelay-p,c.current=c.start,c.target[c.key]=c.current,s.REPEAT_DELAY):(this.dispatchTweenDataEvent(f.TWEEN_REPEAT,a.callbacks.onRepeat,c),s.PLAYING_FORWARD)):s.COMPLETE},updateTweenData:function(a,c,p){var v=c.target;switch(c.state){case s.PLAYING_FORWARD:case s.PLAYING_BACKWARD:if(!v){c.state=s.COMPLETE;break}var g=c.elapsed,x=c.duration,T=0;(g+=p)>x&&(T=g-x,g=x);var S=c.state===s.PLAYING_FORWARD,D=g/x;if(c.elapsed=g,c.progress=D,c.previous=c.current,1===D)S?(c.current=c.end,v[c.key]=c.end,c.hold>0?(c.elapsed=c.hold-T,c.state=s.HOLD_DELAY):c.state=this.setStateFromEnd(a,c,T)):(c.current=c.start,v[c.key]=c.start,c.state=this.setStateFromStart(a,c,T));else{var M=c.ease(S?D:1-D);c.current=c.start+(c.end-c.start)*M,v[c.key]=c.current}this.dispatchTweenDataEvent(f.TWEEN_UPDATE,a.callbacks.onUpdate,c);break;case s.DELAY:c.elapsed-=p,c.elapsed<=0&&(c.elapsed=Math.abs(c.elapsed),c.state=s.PENDING_RENDER);break;case s.REPEAT_DELAY:c.elapsed-=p,c.elapsed<=0&&(c.elapsed=Math.abs(c.elapsed),c.state=s.PLAYING_FORWARD,this.dispatchTweenDataEvent(f.TWEEN_REPEAT,a.callbacks.onRepeat,c));break;case s.HOLD_DELAY:c.elapsed-=p,c.elapsed<=0&&(c.state=this.setStateFromEnd(a,c,Math.abs(c.elapsed)));break;case s.PENDING_RENDER:v?(c.start=c.getStartValue(v,c.key,v[c.key],c.index,a.totalTargets,a),c.end=c.getEndValue(v,c.key,c.start,c.index,a.totalTargets,a),c.current=c.start,v[c.key]=c.start,c.state=s.PLAYING_FORWARD):c.state=s.COMPLETE}return c.state!==s.COMPLETE}});d.TYPES=["onActive","onComplete","onLoop","onRepeat","onStart","onStop","onUpdate","onYoyo"],u.register("tween",function(a){return this.scene.sys.tweens.add(a)}),h.register("tween",function(a){return this.scene.sys.tweens.create(a)}),C.exports=d},function(C,w,n){C.exports={TIMELINE_COMPLETE:n(1466),TIMELINE_LOOP:n(1467),TIMELINE_PAUSE:n(1468),TIMELINE_RESUME:n(1469),TIMELINE_START:n(1470),TIMELINE_UPDATE:n(1471),TWEEN_ACTIVE:n(1472),TWEEN_COMPLETE:n(1473),TWEEN_LOOP:n(1474),TWEEN_REPEAT:n(1475),TWEEN_START:n(1476),TWEEN_STOP:n(1477),TWEEN_UPDATE:n(1478),TWEEN_YOYO:n(1479)}},function(C,w){C.exports=function(l,m,f,h,u,s,o,d,a,c,p,v,g,x,T){return{target:l,index:m,key:f,getActiveValue:s,getEndValue:h,getStartValue:u,ease:o,duration:0,totalDuration:0,delay:0,yoyo:c,hold:0,repeat:0,repeatDelay:0,flipX:x,flipY:T,progress:0,elapsed:0,repeatCounter:0,start:0,previous:0,current:0,end:0,t1:0,t2:0,gen:{delay:d,duration:a,hold:p,repeat:v,repeatDelay:g},state:0}}},function(C,w,n){var l=n(68);C.exports=function(f){return l(f,-Math.PI,Math.PI)}},function(C,w,n){var l=n(68);C.exports=function(f){return l(f,-180,180)}},function(C,w,n){var l={};C.exports=l;var m=n(83),f=n(32);l.fromVertices=function(h){for(var u={},s=0;s<h.length;s++){var o=(s+1)%h.length,d=m.normalise({x:h[o].y-h[s].y,y:h[s].x-h[o].x}),a=0===d.y?1/0:d.x/d.y;u[a=a.toFixed(3).toString()]=d}return f.values(u)},l.rotate=function(h,u){if(0!==u)for(var s=Math.cos(u),o=Math.sin(u),d=0;d<h.length;d++){var c,a=h[d];c=a.x*s-a.y*o,a.y=a.x*o+a.y*s,a.x=c}}},function(C,w,n){C.exports={AFTER_ADD:n(1504),AFTER_REMOVE:n(1505),AFTER_UPDATE:n(1506),BEFORE_ADD:n(1507),BEFORE_REMOVE:n(1508),BEFORE_UPDATE:n(1509),COLLISION_ACTIVE:n(1510),COLLISION_END:n(1511),COLLISION_START:n(1512),DRAG_END:n(1513),DRAG:n(1514),DRAG_START:n(1515),PAUSE:n(1516),RESUME:n(1517),SLEEP_END:n(1518),SLEEP_START:n(1519)}},function(C,w,n){var l={};C.exports=l;var m=n(274),f=n(250),h=n(84);l.collisions=function(u,s){for(var o=[],d=s.pairs.table,a=s.metrics,c=0;c<u.length;c++){var p=u[c][0],v=u[c][1];if((!p.isStatic&&!p.isSleeping||!v.isStatic&&!v.isSleeping)&&l.canCollide(p.collisionFilter,v.collisionFilter)&&(a.midphaseTests+=1,h.overlaps(p.bounds,v.bounds)))for(var g=p.parts.length>1?1:0;g<p.parts.length;g++)for(var x=p.parts[g],T=v.parts.length>1?1:0;T<v.parts.length;T++){var S=v.parts[T];if(x===p&&S===v||h.overlaps(x.bounds,S.bounds)){var M=d[f.id(x,S)],P=m.collides(x,S,M&&M.isActive?M.collision:null);a.narrowphaseTests+=1,P.reused&&(a.narrowReuseCount+=1),P.collided&&(o.push(P),a.narrowDetections+=1)}}}return o},l.canCollide=function(u,s){return u.group===s.group&&0!==u.group?u.group>0:0!=(u.mask&s.category)&&0!=(s.mask&u.category)}},function(C,w,n){var l={};C.exports=l;var m=n(64),f=n(83);l.collides=function(h,u,s){var o,d,a,c,p=!1;if(s){var v=h.parent,g=u.parent;p=s&&s.collided&&v.speed*v.speed+v.angularSpeed*v.angularSpeed+g.speed*g.speed+g.angularSpeed*g.angularSpeed<.2,c=s}else c={collided:!1,bodyA:h,bodyB:u};if(s&&p){var T=c.axisBody;if(a=l._overlapAxes(T.vertices,(T===h?u:h).vertices,[T.axes[s.axisNumber]]),c.reused=!0,a.overlap<=0)return c.collided=!1,c}else{if((o=l._overlapAxes(h.vertices,u.vertices,h.axes)).overlap<=0||(d=l._overlapAxes(u.vertices,h.vertices,u.axes)).overlap<=0)return c.collided=!1,c;o.overlap<d.overlap?(a=o,c.axisBody=h):(a=d,c.axisBody=u),c.axisNumber=a.axisNumber}c.bodyA=h.id<u.id?h:u,c.bodyB=h.id<u.id?u:h,c.collided=!0,c.depth=a.overlap,c.parentA=c.bodyA.parent,c.parentB=c.bodyB.parent,c.normal=f.dot(a.axis,f.sub((u=c.bodyB).position,(h=c.bodyA).position))<0?{x:a.axis.x,y:a.axis.y}:{x:-a.axis.x,y:-a.axis.y},c.tangent=f.perp(c.normal),c.penetration=c.penetration||{},c.penetration.x=c.normal.x*c.depth,c.penetration.y=c.normal.y*c.depth;var M=l._findSupports(h,u,c.normal),R=[];if(m.contains(h.vertices,M[0])&&R.push(M[0]),m.contains(h.vertices,M[1])&&R.push(M[1]),R.length<2){var P=l._findSupports(u,h,f.neg(c.normal));m.contains(u.vertices,P[0])&&R.push(P[0]),R.length<2&&m.contains(u.vertices,P[1])&&R.push(P[1])}return R.length<1&&(R=[M[0]]),c.supports=R,c},l._overlapAxes=function(h,u,s){for(var c,p,o=f._temp[0],d=f._temp[1],a={overlap:Number.MAX_VALUE},v=0;v<s.length;v++){if(l._projectToAxis(o,h,p=s[v]),l._projectToAxis(d,u,p),(c=Math.min(o.max-d.min,d.max-o.min))<=0)return a.overlap=c,a;c<a.overlap&&(a.overlap=c,a.axis=p,a.axisNumber=v)}return a},l._projectToAxis=function(h,u,s){for(var o=f.dot(u[0],s),d=o,a=1;a<u.length;a+=1){var c=f.dot(u[a],s);c>d?d=c:c<o&&(o=c)}h.min=o,h.max=d},l._findSupports=function(h,u,s){for(var p,v,g,x,o=Number.MAX_VALUE,d=f._temp[0],a=u.vertices,c=h.position,T=0;T<a.length;T++)d.x=(v=a[T]).x-c.x,d.y=v.y-c.y,(p=-f.dot(s,d))<o&&(o=p,g=v);return d.x=(v=a[g.index-1>=0?g.index-1:a.length-1]).x-c.x,d.y=v.y-c.y,o=-f.dot(s,d),x=v,d.x=(v=a[(g.index+1)%a.length]).x-c.x,d.y=v.y-c.y,(p=-f.dot(s,d))<o&&(x=v),[g,x]}},function(C,w,n){C.exports={AlignTo:n(601),Angle:n(602),Call:n(603),GetFirst:n(604),GetLast:n(605),GridAlign:n(606),IncAlpha:n(678),IncX:n(679),IncXY:n(680),IncY:n(681),PlaceOnCircle:n(682),PlaceOnEllipse:n(683),PlaceOnLine:n(684),PlaceOnRectangle:n(685),PlaceOnTriangle:n(686),PlayAnimation:n(687),PropertyValueInc:n(46),PropertyValueSet:n(27),RandomCircle:n(688),RandomEllipse:n(689),RandomLine:n(690),RandomRectangle:n(691),RandomTriangle:n(692),Rotate:n(693),RotateAround:n(694),RotateAroundDistance:n(695),ScaleX:n(696),ScaleXY:n(697),ScaleY:n(698),SetAlpha:n(699),SetBlendMode:n(700),SetDepth:n(701),SetHitArea:n(702),SetOrigin:n(703),SetRotation:n(704),SetScale:n(705),SetScaleX:n(706),SetScaleY:n(707),SetScrollFactor:n(708),SetScrollFactorX:n(709),SetScrollFactorY:n(710),SetTint:n(711),SetVisible:n(712),SetX:n(713),SetXY:n(714),SetY:n(715),ShiftPosition:n(716),Shuffle:n(717),SmootherStep:n(718),SmoothStep:n(719),Spread:n(720),ToggleVisible:n(721),WrapInRectangle:n(722)}},function(C,w,n){var l=n(123),m=[];m[l.BOTTOM_CENTER]=n(277),m[l.BOTTOM_LEFT]=n(278),m[l.BOTTOM_RIGHT]=n(279),m[l.LEFT_BOTTOM]=n(280),m[l.LEFT_CENTER]=n(281),m[l.LEFT_TOP]=n(282),m[l.RIGHT_BOTTOM]=n(283),m[l.RIGHT_CENTER]=n(284),m[l.RIGHT_TOP]=n(285),m[l.TOP_CENTER]=n(286),m[l.TOP_LEFT]=n(287),m[l.TOP_RIGHT]=n(288),C.exports=function(h,u,s,o,d){return m[s](h,u,o,d)}},function(C,w,n){var l=n(42),m=n(87),f=n(88),h=n(52);C.exports=function(s,o,d,a){return void 0===d&&(d=0),void 0===a&&(a=0),f(s,m(o)+d),h(s,l(o)+a),s}},function(C,w,n){var l=n(42),m=n(43),f=n(53),h=n(52);C.exports=function(s,o,d,a){return void 0===d&&(d=0),void 0===a&&(a=0),f(s,m(o)-d),h(s,l(o)+a),s}},function(C,w,n){var l=n(42),m=n(44),f=n(54),h=n(52);C.exports=function(s,o,d,a){return void 0===d&&(d=0),void 0===a&&(a=0),f(s,m(o)+d),h(s,l(o)+a),s}},function(C,w,n){var l=n(42),m=n(43),f=n(55),h=n(54);C.exports=function(s,o,d,a){return void 0===d&&(d=0),void 0===a&&(a=0),h(s,m(o)-d),f(s,l(o)+a),s}},function(C,w,n){var l=n(89),m=n(43),f=n(90),h=n(54);C.exports=function(s,o,d,a){return void 0===d&&(d=0),void 0===a&&(a=0),h(s,m(o)-d),f(s,l(o)+a),s}},function(C,w,n){var l=n(43),m=n(45),f=n(54),h=n(52);C.exports=function(s,o,d,a){return void 0===d&&(d=0),void 0===a&&(a=0),f(s,l(o)-d),h(s,m(o)-a),s}},function(C,w,n){var l=n(42),m=n(44),f=n(55),h=n(53);C.exports=function(s,o,d,a){return void 0===d&&(d=0),void 0===a&&(a=0),h(s,m(o)+d),f(s,l(o)+a),s}},function(C,w,n){var l=n(89),m=n(44),f=n(90),h=n(53);C.exports=function(s,o,d,a){return void 0===d&&(d=0),void 0===a&&(a=0),h(s,m(o)+d),f(s,l(o)+a),s}},function(C,w,n){var l=n(44),m=n(45),f=n(53),h=n(52);C.exports=function(s,o,d,a){return void 0===d&&(d=0),void 0===a&&(a=0),f(s,l(o)+d),h(s,m(o)-a),s}},function(C,w,n){var l=n(87),m=n(45),f=n(55),h=n(88);C.exports=function(s,o,d,a){return void 0===d&&(d=0),void 0===a&&(a=0),h(s,l(o)+d),f(s,m(o)-a),s}},function(C,w,n){var l=n(43),m=n(45),f=n(55),h=n(53);C.exports=function(s,o,d,a){return void 0===d&&(d=0),void 0===a&&(a=0),h(s,l(o)-d),f(s,m(o)-a),s}},function(C,w,n){var l=n(44),m=n(45),f=n(55),h=n(54);C.exports=function(s,o,d,a){return void 0===d&&(d=0),void 0===a&&(a=0),h(s,l(o)+d),f(s,m(o)-a),s}},function(C,w,n){var l=n(123),m=[];m[l.BOTTOM_CENTER]=n(290),m[l.BOTTOM_LEFT]=n(291),m[l.BOTTOM_RIGHT]=n(292),m[l.CENTER]=n(293),m[l.LEFT_CENTER]=n(295),m[l.RIGHT_CENTER]=n(296),m[l.TOP_CENTER]=n(297),m[l.TOP_LEFT]=n(298),m[l.TOP_RIGHT]=n(299),m[l.LEFT_BOTTOM]=m[l.BOTTOM_LEFT],m[l.LEFT_TOP]=m[l.TOP_LEFT],m[l.RIGHT_BOTTOM]=m[l.BOTTOM_RIGHT],m[l.RIGHT_TOP]=m[l.TOP_RIGHT],C.exports=function(h,u,s,o,d){return m[s](h,u,o,d)}},function(C,w,n){var l=n(42),m=n(87),f=n(55),h=n(88);C.exports=function(s,o,d,a){return void 0===d&&(d=0),void 0===a&&(a=0),h(s,m(o)+d),f(s,l(o)+a),s}},function(C,w,n){var l=n(42),m=n(43),f=n(55),h=n(53);C.exports=function(s,o,d,a){return void 0===d&&(d=0),void 0===a&&(a=0),h(s,m(o)-d),f(s,l(o)+a),s}},function(C,w,n){var l=n(42),m=n(44),f=n(55),h=n(54);C.exports=function(s,o,d,a){return void 0===d&&(d=0),void 0===a&&(a=0),h(s,m(o)+d),f(s,l(o)+a),s}},function(C,w,n){var l=n(294),m=n(87),f=n(89);C.exports=function(u,s,o,d){return void 0===o&&(o=0),void 0===d&&(d=0),l(u,m(s)+o,f(s)+d),u}},function(C,w,n){var l=n(88),m=n(90);C.exports=function(h,u,s){return l(h,u),m(h,s)}},function(C,w,n){var l=n(89),m=n(43),f=n(90),h=n(53);C.exports=function(s,o,d,a){return void 0===d&&(d=0),void 0===a&&(a=0),h(s,m(o)-d),f(s,l(o)+a),s}},function(C,w,n){var l=n(89),m=n(44),f=n(90),h=n(54);C.exports=function(s,o,d,a){return void 0===d&&(d=0),void 0===a&&(a=0),h(s,m(o)+d),f(s,l(o)+a),s}},function(C,w,n){var l=n(87),m=n(45),f=n(88),h=n(52);C.exports=function(s,o,d,a){return void 0===d&&(d=0),void 0===a&&(a=0),f(s,l(o)+d),h(s,m(o)-a),s}},function(C,w,n){var l=n(43),m=n(45),f=n(53),h=n(52);C.exports=function(s,o,d,a){return void 0===d&&(d=0),void 0===a&&(a=0),f(s,l(o)-d),h(s,m(o)-a),s}},function(C,w,n){var l=n(44),m=n(45),f=n(54),h=n(52);C.exports=function(s,o,d,a){return void 0===d&&(d=0),void 0===a&&(a=0),f(s,l(o)+d),h(s,m(o)-a),s}},function(C,w,n){var l=n(169),m=n(98),f=n(14),h=n(4);C.exports=function(s,o,d){void 0===d&&(d=new h);var a=m(o,0,f.PI2);return l(s,a,d)}},function(C,w,n){var l=n(302),m=n(169),f=n(98),h=n(14);C.exports=function(s,o,d,a){void 0===a&&(a=[]),!o&&d>0&&(o=l(s)/d);for(var c=0;c<o;c++){var p=f(c/o,0,h.PI2);a.push(m(s,p))}return a}},function(C,w){C.exports=function(l){return Math.PI*l.radius*2}},function(C,w,n){var l=n(18);C.exports={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(h){return void 0===h&&(h=1),this.alpha=h,this},alpha:{get:function(){return this._alpha},set:function(h){var u=l(h,0,1);this._alpha=u,0===u?this.renderFlags&=-3:this.renderFlags|=2}}}},function(C,w,n){var l=n(35);C.exports={_blendMode:l.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(f){"string"==typeof f&&(f=l[f]),(f|=0)>=-1&&(this._blendMode=f)}},setBlendMode:function(f){return this.blendMode=f,this}}},function(C,w){C.exports={_depth:0,depth:{get:function(){return this._depth},set:function(l){this.displayList&&this.displayList.queueDepthSort(),this._depth=l}},setDepth:function(l){return void 0===l&&(l=0),this.depth=l,this}}},function(C,w,n){var l=n(171),m=n(130);C.exports=function(h,u,s,o){void 0===o&&(o=[]),!u&&s>0&&(u=m(h)/s);for(var d=0;d<u;d++)o.push(l(h,d/u));return o}},function(C,w,n){var l=n(4);C.exports=function(f,h,u){return void 0===u&&(u=new l),u.x=f.x1+(f.x2-f.x1)*h,u.y=f.y1+(f.y2-f.y1)*h,u}},function(C,w){C.exports=function(l,m,f,h){var u=Math.cos(h),s=Math.sin(h),o=l.x-m,d=l.y-f;return l.x=o*u-d*s+m,l.y=o*s+d*u+f,l}},function(C,w,n){var l=n(310),m=n(311);C.exports={mask:null,setMask:function(h){return this.mask=h,this},clearMask:function(h){return void 0===h&&(h=!1),h&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(h){return void 0===h&&(this.texture||this.shader)&&(h=this),new l(this.scene,h)},createGeometryMask:function(h){return void 0===h&&"Graphics"===this.type&&(h=this),new m(this.scene,h)}}},function(C,w,n){var l=n(0),m=n(22),f=n(91),h=new l({initialize:function(s,o){var d=s.sys.renderer;this.renderer=d,this.bitmapMask=o,this.maskTexture=null,this.mainTexture=null,this.dirty=!0,this.mainFramebuffer=null,this.maskFramebuffer=null,this.invertAlpha=!1,this.isStencil=!1,this.createMask(),s.sys.game.events.on(m.CONTEXT_RESTORED,this.createMask,this),d&&d.on(f.RESIZE,this.createMask,this)},createMask:function(){var u=this.renderer;if(u&&u.gl){this.mainTexture&&this.clearMask();var s=u.width,o=u.height,a=u.gl,c=0==(s&s-1)&&0==(o&o-1)?a.REPEAT:a.CLAMP_TO_EDGE,p=a.LINEAR;this.mainTexture=u.createTexture2D(0,p,p,c,c,a.RGBA,null,s,o),this.maskTexture=u.createTexture2D(0,p,p,c,c,a.RGBA,null,s,o),this.mainFramebuffer=u.createFramebuffer(s,o,this.mainTexture,!0),this.maskFramebuffer=u.createFramebuffer(s,o,this.maskTexture,!0)}},clearMask:function(){var u=this.renderer;!u||!u.gl||!this.mainTexture||(u.deleteTexture(this.mainTexture),u.deleteTexture(this.maskTexture),u.deleteFramebuffer(this.mainFramebuffer),u.deleteFramebuffer(this.maskFramebuffer),this.mainTexture=null,this.maskTexture=null,this.mainFramebuffer=null,this.maskFramebuffer=null)},setBitmap:function(u){this.bitmapMask=u},preRenderWebGL:function(u,s,o){u.pipelines.BITMAPMASK_PIPELINE.beginMask(this,s,o)},postRenderWebGL:function(u,s){u.pipelines.BITMAPMASK_PIPELINE.endMask(this,s)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.clearMask(),this.renderer&&this.renderer.off(f.RESIZE,this.createMask,this),this.bitmapMask=null,this.prevFramebuffer=null,this.renderer=null}});C.exports=h},function(C,w,n){var m=new(n(0))({initialize:function(h,u){this.geometryMask=u,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(f){return this.geometryMask=f,this},setInvertAlpha:function(f){return void 0===f&&(f=!0),this.invertAlpha=f,this},preRenderWebGL:function(f,h,u){var s=f.gl;f.flush(),0===f.maskStack.length&&(s.enable(s.STENCIL_TEST),s.clear(s.STENCIL_BUFFER_BIT),f.maskCount=0),f.currentCameraMask.mask!==this&&(f.currentMask.mask=this),f.maskStack.push({mask:this,camera:u}),this.applyStencil(f,u,!0),f.maskCount++},applyStencil:function(f,h,u){var s=f.gl,o=this.geometryMask,d=f.maskCount;s.colorMask(!1,!1,!1,!1),u?(s.stencilFunc(s.EQUAL,d,255),s.stencilOp(s.KEEP,s.KEEP,s.INCR)):(s.stencilFunc(s.EQUAL,d+1,255),s.stencilOp(s.KEEP,s.KEEP,s.DECR)),o.renderWebGL(f,o,h),f.flush(),s.colorMask(!0,!0,!0,!0),s.stencilOp(s.KEEP,s.KEEP,s.KEEP),s.stencilFunc(this.invertAlpha?s.NOTEQUAL:s.EQUAL,u?d+1:d,255)},postRenderWebGL:function(f){var h=f.gl;f.maskStack.pop(),f.maskCount--,f.flush();var u=f.currentMask;if(0===f.maskStack.length)u.mask=null,h.disable(h.STENCIL_TEST);else{var s=f.maskStack[f.maskStack.length-1];s.mask.applyStencil(f,s.camera,!1),f.currentCameraMask.mask!==s.mask?(u.mask=s.mask,u.camera=s.camera):u.mask=null}},preRenderCanvas:function(f,h,u){var s=this.geometryMask;f.currentContext.save(),s.renderCanvas(f,s,u,null,null,!0),f.currentContext.clip()},postRenderCanvas:function(f){f.currentContext.restore()},destroy:function(){this.geometryMask=null}});C.exports=m},function(C,w){C.exports={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(l,m){return void 0===m&&(m=l),this.scrollFactorX=l,this.scrollFactorY=m,this}}},function(C,w,n){var l=n(14),m=n(25),f=n(177),h=n(269),u=n(270),s=n(3);C.exports={_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(a){this._scaleX=a,this._scaleY=a,0===a?this.renderFlags&=-5:this.renderFlags|=4}},scaleX:{get:function(){return this._scaleX},set:function(a){this._scaleX=a,0===a?this.renderFlags&=-5:this.renderFlags|=4}},scaleY:{get:function(){return this._scaleY},set:function(a){this._scaleY=a,0===a?this.renderFlags&=-5:this.renderFlags|=4}},angle:{get:function(){return u(this._rotation*l.RAD_TO_DEG)},set:function(a){this.rotation=u(a)*l.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(a){this._rotation=h(a)}},setPosition:function(a,c,p,v){return void 0===a&&(a=0),void 0===c&&(c=a),void 0===p&&(p=0),void 0===v&&(v=0),this.x=a,this.y=c,this.z=p,this.w=v,this},copyPosition:function(a){return void 0!==a.x&&(this.x=a.x),void 0!==a.y&&(this.y=a.y),void 0!==a.z&&(this.z=a.z),void 0!==a.w&&(this.w=a.w),this},setRandomPosition:function(a,c,p,v){return void 0===a&&(a=0),void 0===c&&(c=0),void 0===p&&(p=this.scene.sys.scale.width),void 0===v&&(v=this.scene.sys.scale.height),this.x=a+Math.random()*p,this.y=c+Math.random()*v,this},setRotation:function(a){return void 0===a&&(a=0),this.rotation=a,this},setAngle:function(a){return void 0===a&&(a=0),this.angle=a,this},setScale:function(a,c){return void 0===a&&(a=1),void 0===c&&(c=a),this.scaleX=a,this.scaleY=c,this},setX:function(a){return void 0===a&&(a=0),this.x=a,this},setY:function(a){return void 0===a&&(a=0),this.y=a,this},setZ:function(a){return void 0===a&&(a=0),this.z=a,this},setW:function(a){return void 0===a&&(a=0),this.w=a,this},getLocalTransformMatrix:function(a){return void 0===a&&(a=new m),a.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(a,c){void 0===a&&(a=new m),void 0===c&&(c=new m);var p=this.parentContainer;if(!p)return this.getLocalTransformMatrix(a);for(a.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);p;)c.applyITRS(p.x,p.y,p._rotation,p._scaleX,p._scaleY),c.multiply(a,a),p=p.parentContainer;return a},getLocalPoint:function(a,c,p,v){p||(p=new s),v||(v=this.scene.sys.cameras.main);var g=v.scrollX,x=v.scrollY,T=a+g*this.scrollFactorX-g,S=c+x*this.scrollFactorY-x;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(T,S,p):f(T,S,this.x,this.y,this.rotation,this.scaleX,this.scaleY,p),this._originComponent&&(p.x+=this._displayOriginX,p.y+=this._displayOriginY),p},getParentRotation:function(){for(var a=0,c=this.parentContainer;c;)a+=c.rotation,c=c.parentContainer;return a}}},function(C,w){C.exports={_visible:!0,visible:{get:function(){return this._visible},set:function(m){m?(this._visible=!0,this.renderFlags|=1):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(m){return this.visible=m,this}}},function(C,w,n){C.exports={CHANGE_DATA:n(638),CHANGE_DATA_KEY:n(639),DESTROY:n(640),REMOVE_DATA:n(641),SET_DATA:n(642)}},function(C,w,n){var l=n(130),m=n(4);C.exports=function(h,u,s,o){if(void 0===o&&(o=[]),!u&&!s)return o;u?s=Math.round(l(h)/u):u=l(h)/s;for(var d=h.x,a=h.y,c=0,p=0;p<s;p++)switch(o.push(new m(d,a)),c){case 0:(d+=u)>=h.right&&(c=1,a+=d-h.right,d=h.right);break;case 1:(a+=u)>=h.bottom&&(c=2,d-=a-h.bottom,a=h.bottom);break;case 2:(d-=u)<=h.left&&(c=3,a-=h.left-d,d=h.left);break;case 3:(a-=u)<=h.top&&(c=0,a=h.top)}return o}},function(C,w){C.exports=function(l,m,f){void 0===m&&(m=1),void 0===f&&(f=[]);var h=Math.round(l.x1),u=Math.round(l.y1),s=Math.round(l.x2),o=Math.round(l.y2),d=Math.abs(s-h),a=Math.abs(o-u),c=h<s?1:-1,p=u<o?1:-1,v=d-a;f.push({x:h,y:u});for(var g=1;h!==s||u!==o;){var x=v<<1;x>-a&&(v-=a,h+=c),x<d&&(v+=d,u+=p),g%m==0&&f.push({x:h,y:u}),g++}return f}},function(C,w){C.exports=function(l,m,f){if(!m.length)return NaN;if(1===m.length)return m[0];var u,s,h=1;if(f){if(l<m[0][f])return m[0];for(;m[h][f]<l;)h++}else for(;m[h]<l;)h++;return h>m.length&&(h=m.length),f?(s=m[h][f])-l<=l-(u=m[h-1][f])?m[h]:m[h-1]:(s=m[h])-l<=l-(u=m[h-1])?s:u}},function(C,w,n){var m=new(n(0))({initialize:function(h,u,s,o,d){void 0===d&&(d=!1),this.textureKey=h,this.textureFrame=u,this.index=s,this.frame=o,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=d},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});C.exports=m},function(C,w){C.exports=function(l){var m=/\D/g;return l.sort(function(f,h){return parseInt(f.replace(m,""),10)-parseInt(h.replace(m,""),10)}),l}},function(C,w,n){var l=n(185),m=n(0),f=n(102),h=n(9),u=n(132),s=n(22),o=n(2),d=n(6),a=n(186),c=n(322),p=new m({Extends:h,initialize:function(g){h.call(this),this.game=g,this.textureManager=null,this.globalTimeScale=1,this.anims=new f,this.mixes=new f,this.paused=!1,this.name="AnimationManager",g.events.once(s.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(s.DESTROY,this.destroy,this)},addMix:function(v,g,x){var T=this.anims,S=this.mixes,D="string"==typeof v?v:v.key,M="string"==typeof g?g:g.key;if(T.has(D)&&T.has(M)){var R=S.get(D);R||(R={}),R[M]=x,S.set(D,R)}return this},removeMix:function(v,g){var x=this.mixes,T="string"==typeof v?v:v.key,S=x.get(T);if(S)if(g){var D="string"==typeof g?g:g.key;S.hasOwnProperty(D)&&delete S[D]}else g||x.delete(T);return this},getMix:function(v,g){var S="string"==typeof g?g:g.key,D=this.mixes.get("string"==typeof v?v:v.key);return D&&D.hasOwnProperty(S)?D[S]:0},add:function(v,g){return this.anims.has(v)?(console.warn("Animation key exists: "+v),this):(g.key=v,this.anims.set(v,g),this.emit(u.ADD_ANIMATION,v,g),this)},exists:function(v){return this.anims.has(v)},createFromAseprite:function(v,g){var x=[],T=this.game.cache.json.get(v);if(!T)return x;var S=this,D=d(T,"meta",null),M=d(T,"frames",null);return D&&M&&d(D,"frameTags",[]).forEach(function(P){var I=[],b=o(P,"name",null),L=o(P,"from",0),B=o(P,"to",0),V=o(P,"direction","forward");if(b&&(!g||g&&g.indexOf(b)>-1)){for(var z=[],W=Number.MAX_SAFE_INTEGER,K=L;K<=B;K++){var J=K.toString(),tt=M[J];if(tt){var it=o(tt,"duration",Number.MAX_SAFE_INTEGER);it<W&&(W=it),z.push({frame:J,duration:it})}}z.forEach(function(X){I.push({key:v,frame:X.frame,duration:W-X.duration})});var H=W*I.length;"reverse"===V&&(I=I.reverse());var Y=S.create({key:b,frames:I,duration:H,yoyo:"pingpong"===V});Y&&x.push(Y)}}),x},create:function(v){var g=v.key,x=!1;return g&&((x=this.get(g))||(x=new l(this,g,v),this.anims.set(g,x),this.emit(u.ADD_ANIMATION,g,x))),x},fromJSON:function(v,g){void 0===g&&(g=!1),g&&this.anims.clear(),"string"==typeof v&&(v=JSON.parse(v));var x=[];if(v.hasOwnProperty("anims")&&Array.isArray(v.anims)){for(var T=0;T<v.anims.length;T++)x.push(this.create(v.anims[T]));v.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=v.globalTimeScale)}else v.hasOwnProperty("key")&&"frame"===v.type&&x.push(this.create(v));return x},generateFrameNames:function(v,g){var b,x=d(g,"prefix",""),T=d(g,"start",0),S=d(g,"end",0),D=d(g,"suffix",""),M=d(g,"zeroPad",0),R=d(g,"outputArray",[]),P=d(g,"frames",!1),I=this.textureManager.get(v);if(!I)return R;if(g)for(P||(P=c(T,S)),b=0;b<P.length;b++){var L=x+a(P[b],M,"0",1)+D;I.has(L)?R.push({key:v,frame:L}):console.warn("generateFrameNames: Frame missing: "+L+" from texture: "+v)}else for(P=I.getFrameNames(),b=0;b<P.length;b++)R.push({key:v,frame:P[b]});return R},generateFrameNumbers:function(v,g){var x=d(g,"start",0),T=d(g,"end",-1),S=d(g,"first",!1),D=d(g,"outputArray",[]),M=d(g,"frames",!1),R=this.textureManager.get(v);if(!R)return D;S&&R.has(S)&&D.push({key:v,frame:S}),M||(-1===T&&(T=R.frameTotal-2),M=c(x,T));for(var P=0;P<M.length;P++)R.has(M[P])?D.push({key:v,frame:M[P]}):console.warn("generateFrameNumbers: Frame "+P+" missing from texture: "+v);return D},get:function(v){return this.anims.get(v)},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(u.PAUSE_ALL)),this},play:function(v,g){Array.isArray(g)||(g=[g]);for(var x=0;x<g.length;x++)g[x].anims.play(v);return this},staggerPlay:function(v,g,x,T){void 0===x&&(x=0),void 0===T&&(T=!0),Array.isArray(g)||(g=[g]);var S=g.length;T||S--;for(var D=0;D<g.length;D++){var M=x<0?Math.abs(x)*(S-D):x*D;g[D].anims.playAfterDelay(v,M)}return this},remove:function(v){var g=this.get(v);return g&&(this.emit(u.REMOVE_ANIMATION,v,g),this.anims.delete(v),this.removeMix(v)),g},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(u.RESUME_ALL)),this},toJSON:function(v){var g={anims:[],globalTimeScale:this.globalTimeScale};return void 0!==v&&""!==v?g.anims.push(this.anims.get(v).toJSON()):this.anims.each(function(x,T){g.anims.push(T.toJSON())}),g},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});C.exports=p},function(C,w){C.exports=function(l,m,f,h){var s,u=[],o=!1;if((f||h)&&(o=!0,f||(f=""),h||(h="")),m<l)for(s=l;s>=m;s--)u.push(o?f+s.toString()+h:s);else for(s=l;s<=m;s++)u.push(o?f+s.toString()+h:s);return u}},function(C,w,n){var l=n(0),m=n(102),f=n(9),h=n(324),u=new l({initialize:function(){this.entries=new m,this.events=new f},add:function(s,o){return this.entries.set(s,o),this.events.emit(h.ADD,this,s,o),this},has:function(s){return this.entries.has(s)},exists:function(s){return this.entries.has(s)},get:function(s){return this.entries.get(s)},remove:function(s){var o=this.get(s);return o&&(this.entries.delete(s),this.events.emit(h.REMOVE,this,s,o.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});C.exports=u},function(C,w,n){C.exports={ADD:n(736),REMOVE:n(737)}},function(C,w,n){var l=n(323),m=n(0),f=n(22),h=new m({initialize:function(s){this.game=s,this.binary=new l,this.bitmapFont=new l,this.json=new l,this.physics=new l,this.shader=new l,this.audio=new l,this.video=new l,this.text=new l,this.html=new l,this.obj=new l,this.tilemap=new l,this.xml=new l,this.custom={},this.game.events.once(f.DESTROY,this.destroy,this)},addCustom:function(u){return this.custom.hasOwnProperty(u)||(this.custom[u]=new l),this.custom[u]},destroy:function(){for(var u=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],s=0;s<u.length;s++)this[u[s]].destroy(),this[u[s]]=null;for(var o in this.custom)this.custom[o].destroy();this.custom=null,this.game=null}});C.exports=h},function(C,w,n){var l=n(133),m=n(190),f=n(18),h=n(0),u=n(11),s=n(333),o=n(37),d=n(135),a=n(10),c=n(3),p=new h({Extends:l,Mixins:[u.Flip,u.Tint,u.Pipeline],initialize:function(g,x,T,S){l.call(this,g,x,T,S),this.postPipelines=[],this.pipelineData={},this.inputEnabled=!0,this.fadeEffect=new s.Fade(this),this.flashEffect=new s.Flash(this),this.shakeEffect=new s.Shake(this),this.panEffect=new s.Pan(this),this.rotateToEffect=new s.RotateTo(this),this.zoomEffect=new s.Zoom(this),this.lerp=new c(1,1),this.followOffset=new c,this.deadzone=null,this._follow=null},setDeadzone:function(v,g){if(void 0===v)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=v,this.deadzone.height=g):this.deadzone=new a(0,0,v,g),this._follow){var x=this.width/2,T=this.height/2,S=this._follow.x-this.followOffset.x,D=this._follow.y-this.followOffset.y;this.midPoint.set(S,D),this.scrollX=S-x,this.scrollY=D-T}m(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(v,g,x,T,S,D){return this.fadeEffect.start(!1,v,g,x,T,!0,S,D)},fadeOut:function(v,g,x,T,S,D){return this.fadeEffect.start(!0,v,g,x,T,!0,S,D)},fadeFrom:function(v,g,x,T,S,D,M){return this.fadeEffect.start(!1,v,g,x,T,S,D,M)},fade:function(v,g,x,T,S,D,M){return this.fadeEffect.start(!0,v,g,x,T,S,D,M)},flash:function(v,g,x,T,S,D,M){return this.flashEffect.start(v,g,x,T,S,D,M)},shake:function(v,g,x,T,S){return this.shakeEffect.start(v,g,x,T,S)},pan:function(v,g,x,T,S,D,M){return this.panEffect.start(v,g,x,T,S,D,M)},rotateTo:function(v,g,x,T,S,D,M){return this.rotateToEffect.start(v,g,x,T,S,D,M)},zoomTo:function(v,g,x,T,S,D){return this.zoomEffect.start(v,g,x,T,S,D)},preRender:function(){this.renderList.length=0;var v=this.width,g=this.height,x=.5*v,T=.5*g,S=this.zoom,D=this.matrix,M=v*this.originX,R=g*this.originY,P=this._follow,I=this.deadzone,b=this.scrollX,L=this.scrollY;I&&m(I,this.midPoint.x,this.midPoint.y);var B=!1;if(P&&!this.panEffect.isRunning){var V=P.x-this.followOffset.x,z=P.y-this.followOffset.y;I?(V<I.x?b=d(b,b-(I.x-V),this.lerp.x):V>I.right&&(b=d(b,b+(V-I.right),this.lerp.x)),z<I.y?L=d(L,L-(I.y-z),this.lerp.y):z>I.bottom&&(L=d(L,L+(z-I.bottom),this.lerp.y))):(b=d(b,V-M,this.lerp.x),L=d(L,z-R,this.lerp.y)),B=!0}this.useBounds&&(b=this.clampX(b),L=this.clampY(L)),this.roundPixels&&(M=Math.round(M),R=Math.round(R),b=Math.round(b),L=Math.round(L)),this.scrollX=b,this.scrollY=L;var W=b+x,K=L+T;this.midPoint.set(W,K);var J=v/S,tt=g/S,it=W-J/2,H=K-tt/2;this.roundPixels&&(it=Math.round(it),H=Math.round(H)),this.worldView.setTo(it,H,J,tt),D.applyITRS(this.x+M,this.y+R,this.rotation,S,S),D.translate(-M,-R),this.shakeEffect.preRender(),B&&this.emit(o.FOLLOW_UPDATE,this,P)},setLerp:function(v,g){return void 0===v&&(v=1),void 0===g&&(g=v),this.lerp.set(v,g),this},setFollowOffset:function(v,g){return void 0===v&&(v=0),void 0===g&&(g=0),this.followOffset.set(v,g),this},startFollow:function(v,g,x,T,S,D){void 0===g&&(g=!1),void 0===x&&(x=1),void 0===T&&(T=x),void 0===S&&(S=0),void 0===D&&(D=S),this._follow=v,this.roundPixels=g,x=f(x,0,1),T=f(T,0,1),this.lerp.set(x,T),this.followOffset.set(S,D);var M=this.width/2,R=this.height/2,P=v.x-S,I=v.y-D;return this.midPoint.set(P,I),this.scrollX=P-M,this.scrollY=I-R,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(v,g){this.visible&&(this.rotateToEffect.update(v,g),this.panEffect.update(v,g),this.zoomEffect.update(v,g),this.shakeEffect.update(v,g),this.flashEffect.update(v,g),this.fadeEffect.update(v,g))},destroy:function(){this.resetFX(),l.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});C.exports=p},function(C,w,n){var l=n(38);C.exports=function(f){var h=new l;f=f.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,c,p,v){return c+c+p+p+v+v});var u=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(f);if(u){var s=parseInt(u[1],16),o=parseInt(u[2],16),d=parseInt(u[3],16);h.setTo(s,o,d)}return h}},function(C,w){C.exports=function(l,m,f,h){return h<<24|l<<16|m<<8|f}},function(C,w){C.exports=function(l,m,f,h){void 0===h&&(h={h:0,s:0,v:0}),l/=255,m/=255,f/=255;var u=Math.min(l,m,f),s=Math.max(l,m,f),o=s-u,d=0,a=0===s?0:o/s,c=s;return s!==u&&(s===l?d=(m-f)/o+(m<f?6:0):s===m?d=(f-l)/o+2:s===f&&(d=(l-m)/o+4),d/=6),h.hasOwnProperty("_h")?(h._h=d,h._s=a,h._v=c):(h.h=d,h.s=a,h.v=c),h}},function(C,w){C.exports=function(l){return l>16777215?{a:l>>>24,r:l>>16&255,g:l>>8&255,b:255&l}:{a:255,r:l>>16&255,g:l>>8&255,b:255&l}}},function(C,w,n){var l=n(38);C.exports=function(f){return new l(f.r,f.g,f.b,f.a)}},function(C,w,n){var l=n(38);C.exports=function(f){var h=new l,u=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(f.toLowerCase());if(u){var s=parseInt(u[1],10),o=parseInt(u[2],10),d=parseInt(u[3],10),a=void 0!==u[4]?parseFloat(u[4]):1;h.setTo(s,o,d,255*a)}return h}},function(C,w,n){C.exports={Fade:n(761),Flash:n(762),Pan:n(763),Shake:n(796),RotateTo:n(797),Zoom:n(798)}},function(C,w,n){C.exports={In:n(764),Out:n(765),InOut:n(766)}},function(C,w,n){C.exports={In:n(767),Out:n(768),InOut:n(769)}},function(C,w,n){C.exports={In:n(770),Out:n(771),InOut:n(772)}},function(C,w,n){C.exports={In:n(773),Out:n(774),InOut:n(775)}},function(C,w,n){C.exports={In:n(776),Out:n(777),InOut:n(778)}},function(C,w,n){C.exports={In:n(779),Out:n(780),InOut:n(781)}},function(C,w,n){C.exports=n(782)},function(C,w,n){C.exports={In:n(783),Out:n(784),InOut:n(785)}},function(C,w,n){C.exports={In:n(786),Out:n(787),InOut:n(788)}},function(C,w,n){C.exports={In:n(789),Out:n(790),InOut:n(791)}},function(C,w,n){C.exports={In:n(792),Out:n(793),InOut:n(794)}},function(C,w,n){C.exports=n(795)},function(C,w,n){var l=n(0),m=n(33),f=n(347),h=n(2),u=n(6),s=n(7),o=n(193),d=n(1),a=n(197),c=n(187),p=new l({initialize:function(g){void 0===g&&(g={});this.width=u(g,"width",1024),this.height=u(g,"height",768),this.zoom=u(g,"zoom",1),this.parent=u(g,"parent",void 0),this.scaleMode=u(g,"scaleMode",0),this.expandParent=u(g,"expandParent",!0),this.autoRound=u(g,"autoRound",!1),this.autoCenter=u(g,"autoCenter",0),this.resizeInterval=u(g,"resizeInterval",500),this.fullscreenTarget=u(g,"fullscreenTarget",null),this.minWidth=u(g,"minWidth",0),this.maxWidth=u(g,"maxWidth",0),this.minHeight=u(g,"minHeight",0),this.maxHeight=u(g,"maxHeight",0);var S=u(g,"scale",null);S&&(this.width=u(S,"width",this.width),this.height=u(S,"height",this.height),this.zoom=u(S,"zoom",this.zoom),this.parent=u(S,"parent",this.parent),this.scaleMode=u(S,"mode",this.scaleMode),this.expandParent=u(S,"expandParent",this.expandParent),this.autoRound=u(S,"autoRound",this.autoRound),this.autoCenter=u(S,"autoCenter",this.autoCenter),this.resizeInterval=u(S,"resizeInterval",this.resizeInterval),this.fullscreenTarget=u(S,"fullscreenTarget",this.fullscreenTarget),this.minWidth=u(S,"min.width",this.minWidth),this.maxWidth=u(S,"max.width",this.maxWidth),this.minHeight=u(S,"min.height",this.minHeight),this.maxHeight=u(S,"max.height",this.maxHeight)),this.renderType=u(g,"type",m.AUTO),this.canvas=u(g,"canvas",null),this.context=u(g,"context",null),this.canvasStyle=u(g,"canvasStyle",null),this.customEnvironment=u(g,"customEnvironment",!1),this.sceneConfig=u(g,"scene",null),this.seed=u(g,"seed",[(Date.now()*Math.random()).toString()]),o.RND=new o.RandomDataGenerator(this.seed),this.gameTitle=u(g,"title",""),this.gameURL=u(g,"url","https://phaser.io"),this.gameVersion=u(g,"version",""),this.autoFocus=u(g,"autoFocus",!0),this.domCreateContainer=u(g,"dom.createContainer",!1),this.domBehindCanvas=u(g,"dom.behindCanvas",!1),this.domPointerEvents=u(g,"dom.pointerEvents","none"),this.inputKeyboard=u(g,"input.keyboard",!0),this.inputKeyboardEventTarget=u(g,"input.keyboard.target",window),this.inputKeyboardCapture=u(g,"input.keyboard.capture",[]),this.inputMouse=u(g,"input.mouse",!0),this.inputMouseEventTarget=u(g,"input.mouse.target",null),this.inputMousePreventDefaultDown=u(g,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=u(g,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=u(g,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=u(g,"input.mouse.preventDefaultWheel",!0),this.inputTouch=u(g,"input.touch",f.input.touch),this.inputTouchEventTarget=u(g,"input.touch.target",null),this.inputTouchCapture=u(g,"input.touch.capture",!0),this.inputActivePointers=u(g,"input.activePointers",1),this.inputSmoothFactor=u(g,"input.smoothFactor",0),this.inputWindowEvents=u(g,"input.windowEvents",!0),this.inputGamepad=u(g,"input.gamepad",!1),this.inputGamepadEventTarget=u(g,"input.gamepad.target",window),this.disableContextMenu=u(g,"disableContextMenu",!1),this.audio=u(g,"audio",{}),this.hideBanner=!1===u(g,"banner",null),this.hidePhaser=u(g,"banner.hidePhaser",!1),this.bannerTextColor=u(g,"banner.text","#ffffff"),this.bannerBackgroundColor=u(g,"banner.background",["#ff0000","#ffff00","#00ff00","#00ffff","#000000"]),""===this.gameTitle&&this.hidePhaser&&(this.hideBanner=!0),this.fps=u(g,"fps",null);var D=u(g,"render",g);this.pipeline=u(D,"pipeline",null),this.antialias=u(D,"antialias",!0),this.antialiasGL=u(D,"antialiasGL",!0),this.mipmapFilter=u(D,"mipmapFilter","LINEAR"),this.desynchronized=u(D,"desynchronized",!1),this.roundPixels=u(D,"roundPixels",!1),this.pixelArt=u(D,"pixelArt",1!==this.zoom),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=u(D,"transparent",!1),this.clearBeforeRender=u(D,"clearBeforeRender",!0),this.preserveDrawingBuffer=u(D,"preserveDrawingBuffer",!1),this.premultipliedAlpha=u(D,"premultipliedAlpha",!0),this.failIfMajorPerformanceCaveat=u(D,"failIfMajorPerformanceCaveat",!1),this.powerPreference=u(D,"powerPreference","default"),this.batchSize=u(D,"batchSize",4096),this.maxTextures=u(D,"maxTextures",-1),this.maxLights=u(D,"maxLights",10);var M=u(g,"backgroundColor",0);this.backgroundColor=c(M),this.transparent&&(this.backgroundColor=c(0),this.backgroundColor.alpha=0),this.preBoot=u(g,"callbacks.preBoot",d),this.postBoot=u(g,"callbacks.postBoot",d),this.physics=u(g,"physics",{}),this.defaultPhysicsSystem=u(this.physics,"default",!1),this.loaderBaseURL=u(g,"loader.baseURL",""),this.loaderPath=u(g,"loader.path",""),this.loaderMaxParallelDownloads=u(g,"loader.maxParallelDownloads",f.os.android?6:32),this.loaderCrossOrigin=u(g,"loader.crossOrigin",void 0),this.loaderResponseType=u(g,"loader.responseType",""),this.loaderAsync=u(g,"loader.async",!0),this.loaderUser=u(g,"loader.user",""),this.loaderPassword=u(g,"loader.password",""),this.loaderTimeout=u(g,"loader.timeout",0),this.loaderWithCredentials=u(g,"loader.withCredentials",!1),this.installGlobalPlugins=[],this.installScenePlugins=[];var P=u(g,"plugins",null),I=a.DefaultScene;P&&(Array.isArray(P)?this.defaultPlugins=P:s(P)&&(this.installGlobalPlugins=h(P,"global",[]),this.installScenePlugins=h(P,"scene",[]),Array.isArray(P.default)?I=P.default:Array.isArray(P.defaultMerge)&&(I=I.concat(P.defaultMerge)))),this.defaultPlugins=I;var b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=u(g,"images.default",b+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=u(g,"images.missing",b+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=u(g,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=m.WEBGL:window.FORCE_CANVAS&&(this.renderType=m.CANVAS))}});C.exports=p},function(C,w,n){C.exports={os:n(105),browser:n(136),features:n(191),input:n(808),audio:n(809),video:n(810),fullscreen:n(811),canvasFeatures:n(348)}},function(C,w,n){var l=n(31),m={supportInverseAlpha:!1,supportNewBlendModes:!1};C.exports=function u(){return"function"!=typeof importScripts&&void 0!==document&&(m.supportNewBlendModes=function f(){var s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",o="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",d=new Image;return d.onload=function(){var a=new Image;a.onload=function(){var p=l.create(a,6,1).getContext("2d");if(p.globalCompositeOperation="multiply",p.drawImage(d,0,0),p.drawImage(a,2,0),!p.getImageData(2,0,1,1))return!1;var v=p.getImageData(2,0,1,1).data;l.remove(a),m.supportNewBlendModes=255===v[0]&&0===v[1]&&0===v[2]},a.src=s+"/wCKxvRF"+o},d.src=s+"AP804Oa6"+o,!1}(),m.supportInverseAlpha=function h(){var o=l.create(this,2,1).getContext("2d");o.fillStyle="rgba(10, 20, 30, 0.5)",o.fillRect(0,0,1,1);var d=o.getImageData(0,0,1,1);if(null===d)return!1;o.putImageData(d,1,0);var a=o.getImageData(1,0,1,1);return a.data[0]===d.data[0]&&a.data[1]===d.data[1]&&a.data[2]===d.data[2]&&a.data[3]===d.data[3]}()),m}()},function(C,w){C.exports=function(l,m,f,h){return Math.atan2(h-m,f-l)}},function(C,w){C.exports=function(l,m){return Math.atan2(m.y-l.y,m.x-l.x)}},function(C,w){C.exports=function(l){return(l%=2*Math.PI)>=0?l:l+2*Math.PI}},function(C,w){C.exports=function(l,m){var f=l.x-m.x,h=l.y-m.y;return Math.sqrt(f*f+h*h)}},function(C,w){C.exports=function(l,m,f,h){var u=l-f,s=m-h;return u*u+s*s}},function(C,w){C.exports=function(l,m,f){return void 0===f&&(f=1e-4),l>m-f}},function(C,w){C.exports=function(l,m,f){return void 0===f&&(f=1e-4),l<m+f}},function(C,w,n){var l=n(357);C.exports=function(f,h){return l(f)/l(h)/l(f-h)}},function(C,w){C.exports=function(l){if(0===l)return 1;for(var m=l;--l;)m*=l;return m}},function(C,w){C.exports=function(u,s,o,d,a){return function n(u,s){var o=1-u;return o*o*o*s}(u,s)+function l(u,s){var o=1-u;return 3*o*o*u*s}(u,o)+function m(u,s){return 3*(1-u)*u*u*s}(u,d)+function f(u,s){return u*u*u*s}(u,a)}},function(C,w){C.exports=function(h,u,s,o){return function n(h,u){var s=1-h;return s*s*u}(h,u)+function l(h,u){return 2*(1-h)*h*u}(h,s)+function m(h,u){return h*h*u}(h,o)}},function(C,w,n){var l=n(184);C.exports=function(f,h,u){return h+(u-h)*l(f,0,1)}},function(C,w){C.exports=function(l){var m=Math.log(l)/.6931471805599453;return 1<<Math.ceil(m)}},function(C,w){C.exports=function(l,m){var f=l.x,h=l.y;return l.x=f*Math.cos(m)-h*Math.sin(m),l.y=f*Math.sin(m)+h*Math.cos(m),l}},function(C,w){C.exports=function(l){return l>0?Math.ceil(l):Math.floor(l)}},function(C,w,n){var m=new(n(0))({initialize:function(h){this.val=new Float32Array(9),h?this.copy(h):this.identity()},clone:function(){return new m(this)},set:function(f){return this.copy(f)},copy:function(f){var h=this.val,u=f.val;return h[0]=u[0],h[1]=u[1],h[2]=u[2],h[3]=u[3],h[4]=u[4],h[5]=u[5],h[6]=u[6],h[7]=u[7],h[8]=u[8],this},fromMat4:function(f){var h=f.val,u=this.val;return u[0]=h[0],u[1]=h[1],u[2]=h[2],u[3]=h[4],u[4]=h[5],u[5]=h[6],u[6]=h[8],u[7]=h[9],u[8]=h[10],this},fromArray:function(f){var h=this.val;return h[0]=f[0],h[1]=f[1],h[2]=f[2],h[3]=f[3],h[4]=f[4],h[5]=f[5],h[6]=f[6],h[7]=f[7],h[8]=f[8],this},identity:function(){var f=this.val;return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=0,f[7]=0,f[8]=1,this},transpose:function(){var f=this.val,h=f[1],u=f[2],s=f[5];return f[1]=f[3],f[2]=f[6],f[3]=h,f[5]=f[7],f[6]=u,f[7]=s,this},invert:function(){var f=this.val,h=f[0],u=f[1],s=f[2],o=f[3],d=f[4],a=f[5],c=f[6],p=f[7],v=f[8],g=v*d-a*p,x=-v*o+a*c,T=p*o-d*c,S=h*g+u*x+s*T;return S?(f[0]=g*(S=1/S),f[1]=(-v*u+s*p)*S,f[2]=(a*u-s*d)*S,f[3]=x*S,f[4]=(v*h-s*c)*S,f[5]=(-a*h+s*o)*S,f[6]=T*S,f[7]=(-p*h+u*c)*S,f[8]=(d*h-u*o)*S,this):null},adjoint:function(){var f=this.val,h=f[0],u=f[1],s=f[2],o=f[3],d=f[4],a=f[5],c=f[6],p=f[7],v=f[8];return f[0]=d*v-a*p,f[1]=s*p-u*v,f[2]=u*a-s*d,f[3]=a*c-o*v,f[4]=h*v-s*c,f[5]=s*o-h*a,f[6]=o*p-d*c,f[7]=u*c-h*p,f[8]=h*d-u*o,this},determinant:function(){var f=this.val,o=f[3],d=f[4],a=f[5],c=f[6],p=f[7],v=f[8];return f[0]*(v*d-a*p)+f[1]*(-v*o+a*c)+f[2]*(p*o-d*c)},multiply:function(f){var h=this.val,u=h[0],s=h[1],o=h[2],d=h[3],a=h[4],c=h[5],p=h[6],v=h[7],g=h[8],x=f.val,T=x[0],S=x[1],D=x[2],M=x[3],R=x[4],P=x[5],I=x[6],b=x[7],L=x[8];return h[0]=T*u+S*d+D*p,h[1]=T*s+S*a+D*v,h[2]=T*o+S*c+D*g,h[3]=M*u+R*d+P*p,h[4]=M*s+R*a+P*v,h[5]=M*o+R*c+P*g,h[6]=I*u+b*d+L*p,h[7]=I*s+b*a+L*v,h[8]=I*o+b*c+L*g,this},translate:function(f){var h=this.val,u=f.x,s=f.y;return h[6]=u*h[0]+s*h[3]+h[6],h[7]=u*h[1]+s*h[4]+h[7],h[8]=u*h[2]+s*h[5]+h[8],this},rotate:function(f){var h=this.val,u=h[0],s=h[1],o=h[2],d=h[3],a=h[4],c=h[5],p=Math.sin(f),v=Math.cos(f);return h[0]=v*u+p*d,h[1]=v*s+p*a,h[2]=v*o+p*c,h[3]=v*d-p*u,h[4]=v*a-p*s,h[5]=v*c-p*o,this},scale:function(f){var h=this.val,u=f.x,s=f.y;return h[0]=u*h[0],h[1]=u*h[1],h[2]=u*h[2],h[3]=s*h[3],h[4]=s*h[4],h[5]=s*h[5],this},fromQuat:function(f){var h=f.x,u=f.y,s=f.z,o=f.w,d=h+h,a=u+u,c=s+s,p=h*d,v=h*a,g=h*c,x=u*a,T=u*c,S=s*c,D=o*d,M=o*a,R=o*c,P=this.val;return P[0]=1-(x+S),P[3]=v+R,P[6]=g-M,P[1]=v-R,P[4]=1-(p+S),P[7]=T+D,P[2]=g+M,P[5]=T-D,P[8]=1-(p+x),this},normalFromMat4:function(f){var h=f.val,u=this.val,s=h[0],o=h[1],d=h[2],a=h[3],c=h[4],p=h[5],v=h[6],g=h[7],x=h[8],T=h[9],S=h[10],D=h[11],M=h[12],R=h[13],P=h[14],I=h[15],b=s*p-o*c,L=s*v-d*c,B=s*g-a*c,V=o*v-d*p,z=o*g-a*p,W=d*g-a*v,K=x*R-T*M,J=x*P-S*M,tt=x*I-D*M,it=T*P-S*R,H=T*I-D*R,G=S*I-D*P,Y=b*G-L*H+B*it+V*tt-z*J+W*K;return Y?(u[0]=(p*G-v*H+g*it)*(Y=1/Y),u[1]=(v*tt-c*G-g*J)*Y,u[2]=(c*H-p*tt+g*K)*Y,u[3]=(d*H-o*G-a*it)*Y,u[4]=(s*G-d*tt+a*J)*Y,u[5]=(o*tt-s*H-a*K)*Y,u[6]=(R*W-P*z+I*V)*Y,u[7]=(P*B-M*W-I*L)*Y,u[8]=(M*z-R*B+I*b)*Y,this):null}});C.exports=m},function(C,w,n){var l=n(0),m=n(364),f=n(1),h=n(39),u=1e-6,s=new Int8Array([1,2,0]),o=new Float32Array([0,0,0]),d=new h(1,0,0),a=new h(0,1,0),c=new h,p=new m,v=new l({initialize:function(x,T,S,D){this.onChangeCallback=f,this.set(x,T,S,D)},x:{get:function(){return this._x},set:function(g){this._x=g,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(g){this._y=g,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(g){this._z=g,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(g){this._w=g,this.onChangeCallback(this)}},copy:function(g){return this.set(g)},set:function(g,x,T,S,D){return void 0===D&&(D=!0),"object"==typeof g?(this._x=g.x||0,this._y=g.y||0,this._z=g.z||0,this._w=g.w||0):(this._x=g||0,this._y=x||0,this._z=T||0,this._w=S||0),D&&this.onChangeCallback(this),this},add:function(g){return this._x+=g.x,this._y+=g.y,this._z+=g.z,this._w+=g.w,this.onChangeCallback(this),this},subtract:function(g){return this._x-=g.x,this._y-=g.y,this._z-=g.z,this._w-=g.w,this.onChangeCallback(this),this},scale:function(g){return this._x*=g,this._y*=g,this._z*=g,this._w*=g,this.onChangeCallback(this),this},length:function(){var g=this.x,x=this.y,T=this.z,S=this.w;return Math.sqrt(g*g+x*x+T*T+S*S)},lengthSq:function(){var g=this.x,x=this.y,T=this.z,S=this.w;return g*g+x*x+T*T+S*S},normalize:function(){var g=this.x,x=this.y,T=this.z,S=this.w,D=g*g+x*x+T*T+S*S;return D>0&&(D=1/Math.sqrt(D),this._x=g*D,this._y=x*D,this._z=T*D,this._w=S*D),this.onChangeCallback(this),this},dot:function(g){return this.x*g.x+this.y*g.y+this.z*g.z+this.w*g.w},lerp:function(g,x){void 0===x&&(x=0);var T=this.x,S=this.y,D=this.z,M=this.w;return this.set(T+x*(g.x-T),S+x*(g.y-S),D+x*(g.z-D),M+x*(g.w-M))},rotationTo:function(g,x){var T=g.x*x.x+g.y*x.y+g.z*x.z;return T<-.999999?(c.copy(d).cross(g).length()<u&&c.copy(a).cross(g),c.normalize(),this.setAxisAngle(c,Math.PI)):T>.999999?this.set(0,0,0,1):(c.copy(g).cross(x),this._x=c.x,this._y=c.y,this._z=c.z,this._w=1+T,this.normalize())},setAxes:function(g,x,T){var S=p.val;return S[0]=x.x,S[3]=x.y,S[6]=x.z,S[1]=T.x,S[4]=T.y,S[7]=T.z,S[2]=-g.x,S[5]=-g.y,S[8]=-g.z,this.fromMat3(p).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(g,x){x*=.5;var T=Math.sin(x);return this.set(T*g.x,T*g.y,T*g.z,Math.cos(x))},multiply:function(g){var x=this.x,T=this.y,S=this.z,D=this.w,M=g.x,R=g.y,P=g.z,I=g.w;return this.set(x*I+D*M+T*P-S*R,T*I+D*R+S*M-x*P,S*I+D*P+x*R-T*M,D*I-x*M-T*R-S*P)},slerp:function(g,x){var T=this.x,S=this.y,D=this.z,M=this.w,R=g.x,P=g.y,I=g.z,b=g.w,L=T*R+S*P+D*I+M*b;L<0&&(L=-L,R=-R,P=-P,I=-I,b=-b);var B=1-x,V=x;if(1-L>u){var z=Math.acos(L),W=Math.sin(z);B=Math.sin((1-x)*z)/W,V=Math.sin(x*z)/W}return this.set(B*T+V*R,B*S+V*P,B*D+V*I,B*M+V*b)},invert:function(){var g=this.x,x=this.y,T=this.z,S=this.w,D=g*g+x*x+T*T+S*S,M=D?1/D:0;return this.set(-g*M,-x*M,-T*M,S*M)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(g){g*=.5;var x=this.x,T=this.y,S=this.z,D=this.w,M=Math.sin(g),R=Math.cos(g);return this.set(x*R+D*M,T*R+S*M,S*R-T*M,D*R-x*M)},rotateY:function(g){g*=.5;var x=this.x,T=this.y,S=this.z,D=this.w,M=Math.sin(g),R=Math.cos(g);return this.set(x*R-S*M,T*R+D*M,S*R+x*M,D*R-T*M)},rotateZ:function(g){g*=.5;var x=this.x,T=this.y,S=this.z,D=this.w,M=Math.sin(g),R=Math.cos(g);return this.set(x*R+T*M,T*R-x*M,S*R+D*M,D*R-S*M)},calculateW:function(){var g=this.x,x=this.y,T=this.z;return this.w=-Math.sqrt(1-g*g-x*x-T*T),this},setFromEuler:function(g,x){var T=g.x/2,S=g.y/2,D=g.z/2,M=Math.cos(T),R=Math.cos(S),P=Math.cos(D),I=Math.sin(T),b=Math.sin(S),L=Math.sin(D);switch(g.order){case"XYZ":this.set(I*R*P+M*b*L,M*b*P-I*R*L,M*R*L+I*b*P,M*R*P-I*b*L,x);break;case"YXZ":this.set(I*R*P+M*b*L,M*b*P-I*R*L,M*R*L-I*b*P,M*R*P+I*b*L,x);break;case"ZXY":this.set(I*R*P-M*b*L,M*b*P+I*R*L,M*R*L+I*b*P,M*R*P-I*b*L,x);break;case"ZYX":this.set(I*R*P-M*b*L,M*b*P+I*R*L,M*R*L-I*b*P,M*R*P+I*b*L,x);break;case"YZX":this.set(I*R*P+M*b*L,M*b*P+I*R*L,M*R*L-I*b*P,M*R*P-I*b*L,x);break;case"XZY":this.set(I*R*P-M*b*L,M*b*P-I*R*L,M*R*L+I*b*P,M*R*P+I*b*L,x)}return this},setFromRotationMatrix:function(g){var V,x=g.val,T=x[0],S=x[4],D=x[8],M=x[1],R=x[5],P=x[9],I=x[2],b=x[6],L=x[10],B=T+R+L;return B>0?(V=.5/Math.sqrt(B+1),this.set((b-P)*V,(D-I)*V,(M-S)*V,.25/V)):T>R&&T>L?(V=2*Math.sqrt(1+T-R-L),this.set(.25*V,(S+M)/V,(D+I)/V,(b-P)/V)):R>L?(V=2*Math.sqrt(1+R-T-L),this.set((S+M)/V,.25*V,(P+b)/V,(D-I)/V)):(V=2*Math.sqrt(1+L-T-R),this.set((D+I)/V,(P+b)/V,.25*V,(M-S)/V)),this},fromMat3:function(g){var S,x=g.val,T=x[0]+x[4]+x[8];if(T>0)S=Math.sqrt(T+1),this.w=.5*S,this._x=(x[7]-x[5])*(S=.5/S),this._y=(x[2]-x[6])*S,this._z=(x[3]-x[1])*S;else{var D=0;x[4]>x[0]&&(D=1),x[8]>x[3*D+D]&&(D=2);var M=s[D],R=s[M];S=Math.sqrt(x[3*D+D]-x[3*M+M]-x[3*R+R]+1),o[D]=.5*S,o[M]=(x[3*M+D]+x[3*D+M])*(S=.5/S),o[R]=(x[3*R+D]+x[3*D+R])*S,this._x=o[0],this._y=o[1],this._z=o[2],this._w=(x[3*R+M]-x[3*M+R])*S}return this.onChangeCallback(this),this}});C.exports=v},function(C,w,n){var l=n(367),m=n(31),f=n(33),h=n(191);C.exports=function(s){var o=s.config;if((o.customEnvironment||o.canvas)&&o.renderType===f.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!o.customEnvironment&&!o.canvas&&o.renderType!==f.HEADLESS)if(o.renderType===f.CANVAS||o.renderType!==f.CANVAS&&!h.webGL){if(!h.canvas)throw new Error("Cannot create Canvas or WebGL context, aborting.");o.renderType=f.CANVAS}else o.renderType=f.WEBGL;o.antialias||m.disableSmoothing();var p,v,d=s.scale.baseSize,a=d.width,c=d.height;o.canvas?(s.canvas=o.canvas,s.canvas.width=a,s.canvas.height=c):s.canvas=m.create(s,a,c,o.renderType),o.canvasStyle&&(s.canvas.style=o.canvasStyle),o.antialias||l.setCrisp(s.canvas),o.renderType!==f.HEADLESS&&(p=n(368),v=n(371),o.renderType===f.WEBGL?s.renderer=new v(s):(s.renderer=new p(s),s.context=s.renderer.gameContext))}},function(C,w){C.exports={setCrisp:function(l){return["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"].forEach(function(f){l.style["image-rendering"]=f}),l.style.msInterpolationMode="nearest-neighbor",l},setBicubic:function(l){return l.style["image-rendering"]="auto",l.style.msInterpolationMode="bicubic",l}}},function(C,w,n){var l=n(37),m=n(369),f=n(0),h=n(33),u=n(9),s=n(91),o=n(370),d=n(104),a=n(106),c=n(25),p=new f({Extends:u,initialize:function(g){u.call(this);var x=g.config;this.config={clearBeforeRender:x.clearBeforeRender,backgroundColor:x.backgroundColor,antialias:x.antialias,roundPixels:x.roundPixels},this.game=g,this.type=h.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=g.canvas,this.gameContext=x.context?x.context:this.gameCanvas.getContext("2d",{alpha:g.config.transparent,desynchronized:g.config.desynchronized}),this.currentContext=this.gameContext,this.antialias=g.config.antialias,this.blendModes=o(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new c,this._tempMatrix2=new c,this._tempMatrix3=new c,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(a.READY,this.boot,this)},boot:function(){var v=this.game,g=v.scale.baseSize;this.width=g.width,this.height=g.height,this.isBooted=!0,v.scale.on(d.RESIZE,this.onResize,this),this.resize(g.width,g.height)},onResize:function(v,g){(g.width!==this.width||g.height!==this.height)&&this.resize(g.width,g.height)},resize:function(v,g){this.width=v,this.height=g,this.emit(s.RESIZE,v,g)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(v){return this.currentContext.globalCompositeOperation=v,this},setContext:function(v){return this.currentContext=v||this.gameContext,this},setAlpha:function(v){return this.currentContext.globalAlpha=v,this},preRender:function(){var v=this.gameContext,g=this.config,x=this.width,T=this.height;v.globalAlpha=1,v.globalCompositeOperation="source-over",v.setTransform(1,0,0,1,0,0),g.clearBeforeRender&&(v.clearRect(0,0,x,T),g.transparent||(v.fillStyle=g.backgroundColor.rgba,v.fillRect(0,0,x,T))),v.save(),this.drawCount=0,this.emit(s.PRE_RENDER)},render:function(v,g,x){var T=g.length;this.emit(s.RENDER,v,x);var S=x.x,D=x.y,M=x.width,R=x.height,P=x.renderToTexture?x.context:v.sys.context;P.save(),this.game.scene.customViewports&&(P.beginPath(),P.rect(S,D,M,R),P.clip()),this.currentContext=P;var I=x.mask;I&&I.preRenderCanvas(this,null,x._maskCamera),x.transparent||(P.fillStyle=x.backgroundColor.rgba,P.fillRect(S,D,M,R)),P.globalAlpha=x.alpha,P.globalCompositeOperation="source-over",this.drawCount+=T,x.renderToTexture&&x.emit(l.PRE_RENDER,x),x.matrix.copyToContext(P);for(var b=0;b<T;b++){var L=g[b];L.mask&&L.mask.preRenderCanvas(this,L,x),L.renderCanvas(this,L,x),L.mask&&L.mask.postRenderCanvas(this,L,x)}P.setTransform(1,0,0,1,0,0),P.globalCompositeOperation="source-over",P.globalAlpha=1,x.flashEffect.postRenderCanvas(P),x.fadeEffect.postRenderCanvas(P),x.dirty=!1,I&&I.postRenderCanvas(this),P.restore(),x.renderToTexture&&(x.emit(l.POST_RENDER,x),x.renderToGame&&v.sys.context.drawImage(x.canvas,S,D))},postRender:function(){this.gameContext.restore(),this.emit(s.POST_RENDER);var g=this.snapshotState;g.callback&&(m(this.gameCanvas,g),g.callback=null)},snapshotCanvas:function(v,g,x,T,S,D,M,R,P){void 0===x&&(x=!1),this.snapshotArea(T,S,D,M,g,R,P);var I=this.snapshotState;return I.getPixel=x,m(this.canvas,I),I.callback=null,this},snapshot:function(v,g,x){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,v,g,x)},snapshotArea:function(v,g,x,T,S,D,M){var R=this.snapshotState;return R.callback=S,R.type=D,R.encoder=M,R.getPixel=!1,R.x=v,R.y=g,R.width=Math.min(x,this.gameCanvas.width),R.height=Math.min(T,this.gameCanvas.height),this},snapshotPixel:function(v,g,x){return this.snapshotArea(v,g,1,1,x),this.snapshotState.getPixel=!0,this},batchSprite:function(v,g,x,T){var S=x.alpha*v.alpha;if(0!==S){var D=this.currentContext,M=this._tempMatrix1,R=this._tempMatrix2,P=g.canvasData,I=P.x,b=P.y,L=g.cutWidth,B=g.cutHeight,V=g.customPivot,z=g.source.resolution,W=v.displayOriginX,K=v.displayOriginY,J=-W+g.x,tt=-K+g.y;if(v.isCropped){var it=v._crop;(it.flipX!==v.flipX||it.flipY!==v.flipY)&&g.updateCropUVs(it,v.flipX,v.flipY),L=it.cw,B=it.ch,I=it.cx,b=it.cy,J=-W+it.x,tt=-K+it.y,v.flipX&&(J>=0?J=-(J+L):J<0&&(J=Math.abs(J)-L)),v.flipY&&(tt>=0?tt=-(tt+B):tt<0&&(tt=Math.abs(tt)-B))}var H=1,G=1;v.flipX&&(V||(J+=2*W-g.realWidth),H=-1),v.flipY&&(V||(tt+=2*K-g.realHeight),G=-1),R.applyITRS(v.x,v.y,v.rotation,v.scaleX*H,v.scaleY*G),M.copyFrom(x.matrix),T?(M.multiplyWithOffset(T,-x.scrollX*v.scrollFactorX,-x.scrollY*v.scrollFactorY),R.e=v.x,R.f=v.y):(R.e-=x.scrollX*v.scrollFactorX,R.f-=x.scrollY*v.scrollFactorY),M.multiply(R),D.save(),M.setToContext(D),D.globalCompositeOperation=this.blendModes[v.blendMode],D.globalAlpha=S,D.imageSmoothingEnabled=!(!this.antialias||g.source.scaleMode),v.mask&&v.mask.preRenderCanvas(this,v,x),D.drawImage(g.source.image,I,b,L,B,J,tt,L/z,B/z),v.mask&&v.mask.postRenderCanvas(this,v,x),D.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});C.exports=p},function(C,w,n){var l=n(31),m=n(38),f=n(2);C.exports=function(u,s){var o=f(s,"callback"),d=f(s,"type","image/png"),a=f(s,"encoder",.92),c=Math.abs(Math.round(f(s,"x",0))),p=Math.abs(Math.round(f(s,"y",0))),v=f(s,"width",u.width),g=f(s,"height",u.height);if(f(s,"getPixel",!1)){var D=u.getContext("2d").getImageData(c,p,1,1).data;o.call(null,new m(D[0],D[1],D[2],D[3]/255))}else if(0!==c||0!==p||v!==u.width||g!==u.height){var M=l.createWebGL(this,v,g);M.getContext("2d").drawImage(u,c,p,v,g,0,0,v,g);var P=new Image;P.onerror=function(){o.call(null),l.remove(M)},P.onload=function(){o.call(null,P),l.remove(M)},P.src=M.toDataURL(d,a)}else{var I=new Image;I.onerror=function(){o.call(null)},I.onload=function(){o.call(null,I)},I.src=u.toDataURL(d,a)}}},function(C,w,n){var l=n(35),m=n(348);C.exports=function(){var h=[],u=m.supportNewBlendModes,s="source-over";return h[l.NORMAL]=s,h[l.ADD]="lighter",h[l.MULTIPLY]=u?"multiply":s,h[l.SCREEN]=u?"screen":s,h[l.OVERLAY]=u?"overlay":s,h[l.DARKEN]=u?"darken":s,h[l.LIGHTEN]=u?"lighten":s,h[l.COLOR_DODGE]=u?"color-dodge":s,h[l.COLOR_BURN]=u?"color-burn":s,h[l.HARD_LIGHT]=u?"hard-light":s,h[l.SOFT_LIGHT]=u?"soft-light":s,h[l.DIFFERENCE]=u?"difference":s,h[l.EXCLUSION]=u?"exclusion":s,h[l.HUE]=u?"hue":s,h[l.SATURATION]=u?"saturation":s,h[l.COLOR]=u?"color":s,h[l.LUMINOSITY]=u?"luminosity":s,h[l.ERASE]="destination-out",h[l.SOURCE_IN]="source-in",h[l.SOURCE_OUT]="source-out",h[l.SOURCE_ATOP]="source-atop",h[l.DESTINATION_OVER]="destination-over",h[l.DESTINATION_IN]="destination-in",h[l.DESTINATION_OUT]="destination-out",h[l.DESTINATION_ATOP]="destination-atop",h[l.LIGHTER]="lighter",h[l.COPY]="copy",h[l.XOR]="xor",h}},function(C,w,n){var l=n(93),m=n(37),f=n(0),h=n(33),u=n(9),s=n(91),o=n(22),d=n(138),a=n(69),c=n(1),p=n(372),v=n(141),g=n(104),x=n(106),T=n(12),S=n(383),D=new f({Extends:u,initialize:function(R){u.call(this);var P=R.config;this.config={clearBeforeRender:P.clearBeforeRender,antialias:P.antialias,backgroundColor:P.backgroundColor,contextCreation:{alpha:P.transparent,desynchronized:P.desynchronized,depth:!1,antialias:P.antialiasGL,premultipliedAlpha:P.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:P.failIfMajorPerformanceCaveat,powerPreference:P.powerPreference,preserveDrawingBuffer:P.preserveDrawingBuffer},roundPixels:P.roundPixels,maxTextures:P.maxTextures,maxTextureSize:P.maxTextureSize,batchSize:P.batchSize,maxLights:P.maxLights,mipmapFilter:P.mipmapFilter},this.game=R,this.type=h.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=R.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.currentActiveTexture=0,this.startActiveTexture=0,this.maxTextures=0,this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=c,this.contextRestoredHandler=c,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats=[],this.compression={ETC1:!1,PVRTC:!1,S3TC:!1},this.drawingBufferHeight=0,this.blankTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.textureFlush=0,this.isTextureClean=!1,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionWidth=0,this.projectionHeight=0,this.init(this.config)},init:function(M){var R,P=this.game,I=this.canvas,b=M.backgroundColor;if(!(R=P.config.context?P.config.context:I.getContext("webgl",M.contextCreation)||I.getContext("experimental-webgl",M.contextCreation))||R.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=R;var L=this;this.contextLostHandler=function(Y){L.contextLost=!0,L.game.events.emit(o.CONTEXT_LOST,L),Y.preventDefault()},this.contextRestoredHandler=function(){L.contextLost=!1,L.init(L.config),L.game.events.emit(o.CONTEXT_RESTORED,L)},I.addEventListener("webglcontextlost",this.contextLostHandler,!1),I.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),P.context=R;for(var B=0;B<=27;B++)this.blendModes.push({func:[R.ONE,R.ONE_MINUS_SRC_ALPHA],equation:R.FUNC_ADD});this.blendModes[1].func=[R.ONE,R.DST_ALPHA],this.blendModes[2].func=[R.DST_COLOR,R.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[R.ONE,R.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[R.ZERO,R.ONE_MINUS_SRC_ALPHA],equation:R.FUNC_REVERSE_SUBTRACT},this.glFormats[0]=R.BYTE,this.glFormats[1]=R.SHORT,this.glFormats[2]=R.UNSIGNED_BYTE,this.glFormats[3]=R.UNSIGNED_SHORT,this.glFormats[4]=R.FLOAT,this.glFuncMap={mat2:{func:R.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:R.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:R.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:R.uniform1f,length:1},"1fv":{func:R.uniform1fv,length:1},"1i":{func:R.uniform1i,length:1},"1iv":{func:R.uniform1iv,length:1},"2f":{func:R.uniform2f,length:2},"2fv":{func:R.uniform2fv,length:1},"2i":{func:R.uniform2i,length:2},"2iv":{func:R.uniform2iv,length:1},"3f":{func:R.uniform3f,length:3},"3fv":{func:R.uniform3fv,length:1},"3i":{func:R.uniform3i,length:3},"3iv":{func:R.uniform3iv,length:1},"4f":{func:R.uniform4f,length:4},"4fv":{func:R.uniform4fv,length:1},"4i":{func:R.uniform4i,length:4},"4iv":{func:R.uniform4iv,length:1}};var V=R.getSupportedExtensions();(!M.maxTextures||-1===M.maxTextures)&&(M.maxTextures=R.getParameter(R.MAX_TEXTURE_IMAGE_UNITS)),M.maxTextureSize||(M.maxTextureSize=R.getParameter(R.MAX_TEXTURE_SIZE));var z="WEBGL_compressed_texture_",W="WEBKIT_"+z;this.compression.ETC1=R.getExtension(z+"etc1")||R.getExtension(W+"etc1"),this.compression.PVRTC=R.getExtension(z+"pvrtc")||R.getExtension(W+"pvrtc"),this.compression.S3TC=R.getExtension(z+"s3tc")||R.getExtension(W+"s3tc"),this.supportedExtensions=V;var K="ANGLE_instanced_arrays";this.instancedArraysExtension=V.indexOf(K)>-1?R.getExtension(K):null;var J="OES_vertex_array_object";this.vaoExtension=V.indexOf(J)>-1?R.getExtension(J):null,R.disable(R.DEPTH_TEST),R.disable(R.CULL_FACE),R.enable(R.BLEND),R.clearColor(b.redGL,b.greenGL,b.blueGL,b.alphaGL),this.mipmapFilter=R[M.mipmapFilter],this.maxTextures=T.checkShaderMax(R,M.maxTextures),this.textureIndexes=[];var tt=this.tempTextures;if(Array.isArray(tt))for(var it=0;B<this.maxTextures;it++)R.deleteTexture(tt[it]);else tt=new Array(this.maxTextures);for(var H=0;H<this.maxTextures;H++){var G=R.createTexture();R.activeTexture(R.TEXTURE0+H),R.bindTexture(R.TEXTURE_2D,G),R.texImage2D(R.TEXTURE_2D,0,R.RGBA,1,1,0,R.RGBA,R.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),tt[H]=G,this.textureIndexes.push(H)}return this.tempTextures=tt,this.currentActiveTexture=1,this.startActiveTexture++,R.activeTexture(R.TEXTURE1),this.pipelines=new p(this),this.setBlendMode(h.BlendModes.NORMAL),this.projectionMatrix=(new a).identity(),P.textures.once(x.READY,this.boot,this),this},boot:function(){var M=this.game,R=this.pipelines,P=M.scale.baseSize;this.width=P.width,this.height=P.height,this.isBooted=!0,this.renderTarget=new v(this,this.width,this.height,1,0,!0,!0),R.boot(M.config.pipeline),this.blankTexture=M.textures.getFrame("__DEFAULT"),this.whiteTexture=M.textures.getFrame("__WHITE");var I=this.gl;I.bindFramebuffer(I.FRAMEBUFFER,null),I.enable(I.SCISSOR_TEST),M.scale.on(g.RESIZE,this.onResize,this),this.resize(P.width,P.height)},onResize:function(M,R){(R.width!==this.width||R.height!==this.height)&&this.resize(R.width,R.height)},beginCapture:function(M,R){void 0===M&&(M=this.width),void 0===R&&(R=this.height),this.renderTarget.bind(!0,M,R),this.setProjectionMatrix(M,R),this.resetTextures()},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(M,R){var P=this.gl;return this.width=M,this.height=R,this.setProjectionMatrix(M,R),P.viewport(0,0,M,R),this.drawingBufferHeight=P.drawingBufferHeight,P.scissor(0,P.drawingBufferHeight-R,M,R),this.defaultScissor[2]=M,this.defaultScissor[3]=R,this.emit(s.RESIZE,M,R),this},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(M,R){return(M!==this.projectionWidth||R!==this.projectionHeight)&&(this.projectionWidth=M,this.projectionHeight=R,this.projectionMatrix.ortho(0,M,R,0,-1e3,1e3)),this},resetProjectionMatrix:function(){this.projectionWidth=this.width,this.projectionHeight=this.height,this.projectionMatrix.ortho(0,this.width,this.height,0,-1e3,1e3)},hasExtension:function(M){return!!this.supportedExtensions&&this.supportedExtensions.indexOf(M)},getExtension:function(M){return this.hasExtension(M)?(M in this.extensions||(this.extensions[M]=this.gl.getExtension(M)),this.extensions[M]):null},flush:function(){this.pipelines.flush()},pushScissor:function(M,R,P,I,b){void 0===b&&(b=this.drawingBufferHeight);var B=[M,R,P,I];return this.scissorStack.push(B),this.setScissor(M,R,P,I,b),this.currentScissor=B,B},setScissor:function(M,R,P,I,b){void 0===b&&(b=this.drawingBufferHeight);var L=this.gl,B=this.currentScissor,V=P>0&&I>0;B&&V&&(V=B[0]!==M||B[1]!==R||B[2]!==P||B[3]!==I),V&&(this.flush(),L.scissor(M,b-R-I,P,I))},resetScissor:function(){var M=this.gl;M.enable(M.SCISSOR_TEST);var R=this.currentScissor;if(R){var b=R[2],L=R[3];b>0&&L>0&&M.scissor(R[0],this.drawingBufferHeight-R[1]-L,b,L)}},popScissor:function(){var M=this.scissorStack;M.pop();var R=M[M.length-1];R&&this.setScissor(R[0],R[1],R[2],R[3]),this.currentScissor=R},hasActiveStencilMask:function(){var M=this.currentMask.mask,R=this.currentCameraMask.mask;return M&&M.isStencil||R&&R.isStencil},resetViewport:function(){var M=this.gl;M.viewport(0,0,this.width,this.height),this.drawingBufferHeight=M.drawingBufferHeight},setBlendMode:function(M,R){void 0===R&&(R=!1);var P=this.gl,I=this.blendModes[M];return!!(R||M!==h.BlendModes.SKIP_CHECK&&this.currentBlendMode!==M)&&(this.flush(),P.enable(P.BLEND),P.blendEquation(I.equation),I.func.length>2?P.blendFuncSeparate(I.func[0],I.func[1],I.func[2],I.func[3]):P.blendFunc(I.func[0],I.func[1]),this.currentBlendMode=M,!0)},addBlendMode:function(M,R){return this.blendModes.push({func:M,equation:R})-1},updateBlendMode:function(M,R,P){return this.blendModes[M]&&(this.blendModes[M].func=R,P&&(this.blendModes[M].equation=P)),this},removeBlendMode:function(M){return M>17&&this.blendModes[M]&&this.blendModes.splice(M,1),this},setBlankTexture:function(){this.setTexture2D(this.blankTexture.glTexture)},setTextureSource:function(M){if(this.pipelines.forceZero())return this.setTextureZero(M.glTexture,!0),0;var R=this.gl,P=this.currentActiveTexture;return M.glIndexCounter<this.startActiveTexture&&(M.glIndexCounter=this.startActiveTexture,P<this.maxTextures?(M.glIndex=P,R.activeTexture(R.TEXTURE0+P),R.bindTexture(R.TEXTURE_2D,M.glTexture),this.currentActiveTexture++):(this.flush(),this.startActiveTexture++,this.textureFlush++,M.glIndexCounter=this.startActiveTexture,M.glIndex=1,R.activeTexture(R.TEXTURE1),R.bindTexture(R.TEXTURE_2D,M.glTexture),this.currentActiveTexture=2)),this.isTextureClean=!1,M.glIndex},isNewNormalMap:function(M,R){return this.textureZero!==M||this.normalTexture!==R},setTextureZero:function(M,R){if(this.textureZero!==M){R&&this.flush();var P=this.gl;P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,M),this.textureZero=M}},clearTextureZero:function(){this.textureZero=null},setNormalMap:function(M){if(this.normalTexture!==M){var R=this.gl;R.activeTexture(R.TEXTURE1),R.bindTexture(R.TEXTURE_2D,M),this.normalTexture=M,1===this.currentActiveTexture&&(this.currentActiveTexture=2)}},clearNormalMap:function(){this.normalTexture=null,this.startActiveTexture++,this.currentActiveTexture=1,this.textureFlush++},unbindTextures:function(){for(var M=this.gl,R=this.tempTextures,P=0;P<R.length;P++)M.activeTexture(M.TEXTURE0+P),M.bindTexture(M.TEXTURE_2D,null);this.normalTexture=null,this.textureZero=null,this.currentActiveTexture=1,this.startActiveTexture++,this.textureFlush++},resetTextures:function(M){if(void 0===M&&(M=!1),!this.isTextureClean){this.flush();var R=this.gl,P=this.tempTextures;if(M){for(var I=0;I<P.length;I++)R.activeTexture(R.TEXTURE0+I),R.bindTexture(R.TEXTURE_2D,P[I]);R.activeTexture(R.TEXTURE1),R.bindTexture(R.TEXTURE_2D,P[1]),this.isTextureClean=!0}else R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,P[0]),R.activeTexture(R.TEXTURE1),R.bindTexture(R.TEXTURE_2D,P[1]);this.normalTexture=null,this.textureZero=null,this.currentActiveTexture=1,this.startActiveTexture++,this.textureFlush++}},setTexture2D:function(M){if(this.pipelines.forceZero())return this.setTextureZero(M,!0),0;var R=this.gl,P=this.currentActiveTexture;return M.glIndexCounter<this.startActiveTexture&&(M.glIndexCounter=this.startActiveTexture,P<this.maxTextures?(M.glIndex=P,R.activeTexture(R.TEXTURE0+P),R.bindTexture(R.TEXTURE_2D,M),this.currentActiveTexture++):(this.flush(),this.startActiveTexture++,this.textureFlush++,M.glIndexCounter=this.startActiveTexture,M.glIndex=1,R.activeTexture(R.TEXTURE1),R.bindTexture(R.TEXTURE_2D,M),this.currentActiveTexture=2)),this.isTextureClean=!1,M.glIndex},pushFramebuffer:function(M,R,P,I){return M===this.currentFramebuffer?this:(this.fboStack.push(M),this.setFramebuffer(M,R,P,I))},setFramebuffer:function(M,R,P,I){if(void 0===R&&(R=!1),void 0===P&&(P=!1),void 0===I&&(I=!0),M===this.currentFramebuffer)return this;var b=this.gl,L=this.width,B=this.height;return M&&M.renderTexture&&I?(L=M.renderTexture.width,B=M.renderTexture.height):this.flush(),b.bindFramebuffer(b.FRAMEBUFFER,M),I&&b.viewport(0,0,L,B),R&&(M?(this.drawingBufferHeight=B,this.pushScissor(0,0,L,B)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=M,P&&this.resetTextures(),this},popFramebuffer:function(M,R,P){void 0===M&&(M=!1),void 0===R&&(R=!1),void 0===P&&(P=!0);var I=this.fboStack;I.pop();var b=I[I.length-1];return b||(b=null),this.setFramebuffer(b,M,R,P),b},setProgram:function(M){return M!==this.currentProgram&&(this.flush(),this.gl.useProgram(M),this.currentProgram=M,!0)},resetProgram:function(){return this.gl.useProgram(this.currentProgram),this},createTextureFromSource:function(M,R,P,I){var b=this.gl,L=b.NEAREST,B=b.NEAREST,V=b.CLAMP_TO_EDGE,W=d(R=M?M.width:R,P=M?M.height:P);return W&&(V=b.REPEAT),I===h.ScaleModes.LINEAR&&this.config.antialias&&(L=W?this.mipmapFilter:b.LINEAR,B=b.LINEAR),M||"number"!=typeof R||"number"!=typeof P?this.createTexture2D(0,L,B,V,V,b.RGBA,M):this.createTexture2D(0,L,B,V,V,b.RGBA,null,R,P)},createTexture2D:function(M,R,P,I,b,L,B,V,z,W,K,J){W=null==W||W,void 0===K&&(K=!1),void 0===J&&(J=!1);var tt=this.gl,it=tt.createTexture();tt.activeTexture(tt.TEXTURE0);var H=tt.getParameter(tt.TEXTURE_BINDING_2D);return tt.bindTexture(tt.TEXTURE_2D,it),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_MIN_FILTER,R),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_MAG_FILTER,P),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_WRAP_S,b),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_WRAP_T,I),tt.pixelStorei(tt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,W),tt.pixelStorei(tt.UNPACK_FLIP_Y_WEBGL,J),null==B?tt.texImage2D(tt.TEXTURE_2D,M,L,V,z,0,L,tt.UNSIGNED_BYTE,null):(K||(V=B.width,z=B.height),tt.texImage2D(tt.TEXTURE_2D,M,L,L,tt.UNSIGNED_BYTE,B)),d(V,z)&&tt.generateMipmap(tt.TEXTURE_2D),H&&tt.bindTexture(tt.TEXTURE_2D,H),it.isAlphaPremultiplied=W,it.isRenderTexture=!1,it.width=V,it.height=z,it.glIndex=0,it.glIndexCounter=-1,it},createFramebuffer:function(M,R,P,I){var B,b=this.gl,L=b.createFramebuffer();if(this.setFramebuffer(L),I){var V=b.createRenderbuffer();b.bindRenderbuffer(b.RENDERBUFFER,V),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_STENCIL,M,R),b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_STENCIL_ATTACHMENT,b.RENDERBUFFER,V)}if(P.isRenderTexture=!0,P.isAlphaPremultiplied=!1,b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,P,0),(B=b.checkFramebufferStatus(b.FRAMEBUFFER))!==b.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+{36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"}[B]);return L.renderTexture=P,this.setFramebuffer(null),this.resetTextures(),L},createProgram:function(M,R){var P=this.gl,I=P.createProgram(),b=P.createShader(P.VERTEX_SHADER),L=P.createShader(P.FRAGMENT_SHADER);if(P.shaderSource(b,M),P.shaderSource(L,R),P.compileShader(b),P.compileShader(L),!P.getShaderParameter(b,P.COMPILE_STATUS))throw new Error("Vertex Shader failed:\n"+P.getShaderInfoLog(b));if(!P.getShaderParameter(L,P.COMPILE_STATUS))throw new Error("Fragment Shader failed:\n"+P.getShaderInfoLog(L));if(P.attachShader(I,b),P.attachShader(I,L),P.linkProgram(I),!P.getProgramParameter(I,P.LINK_STATUS))throw new Error("Link Program failed:\n"+P.getProgramInfoLog(I));return P.useProgram(I),I},createVertexBuffer:function(M,R){var P=this.gl,I=P.createBuffer();return P.bindBuffer(P.ARRAY_BUFFER,I),P.bufferData(P.ARRAY_BUFFER,M,R),P.bindBuffer(P.ARRAY_BUFFER,null),I},createIndexBuffer:function(M,R){var P=this.gl,I=P.createBuffer();return P.bindBuffer(P.ELEMENT_ARRAY_BUFFER,I),P.bufferData(P.ELEMENT_ARRAY_BUFFER,M,R),P.bindBuffer(P.ELEMENT_ARRAY_BUFFER,null),I},deleteTexture:function(M,R){return R&&this.resetTextures(!0),M&&this.gl.deleteTexture(M),this},deleteFramebuffer:function(M){return M&&(this.gl.deleteFramebuffer(M),l(this.fboStack,M),this.currentFramebuffer===M&&(this.currentFramebuffer=null)),this},deleteProgram:function(M){return M&&this.gl.deleteProgram(M),this},deleteBuffer:function(M){return this.gl.deleteBuffer(M),this},preRenderCamera:function(M){var R=M.x,P=M.y,I=M.width,b=M.height,L=M.backgroundColor;M.emit(m.PRE_RENDER,M),this.pipelines.preBatchCamera(M),this.pushScissor(R,P,I,b),M.mask&&(this.currentCameraMask.mask=M.mask,this.currentCameraMask.camera=M._maskCamera,M.mask.preRenderWebGL(this,M,M._maskCamera)),L.alphaGL>0&&this.pipelines.setMulti().drawFillRect(R,P,I,b,T.getTintFromFloats(L.blueGL,L.greenGL,L.redGL,1),L.alphaGL)},getCurrentStencilMask:function(){var M=null,R=this.maskStack,P=this.currentCameraMask;return R.length>0?M=R[R.length-1]:P.mask&&P.mask.isStencil&&(M=P),M},postRenderCamera:function(M){var R=M.flashEffect,P=M.fadeEffect;if(R.isRunning||P.isRunning||P.isComplete){var I=this.pipelines.setMulti();R.postRenderWebGL(I,T.getTintFromFloats),P.postRenderWebGL(I,T.getTintFromFloats)}M.dirty=!1,this.popScissor(),M.mask&&(this.currentCameraMask.mask=null,M.mask.postRenderWebGL(this,M._maskCamera)),this.pipelines.postBatchCamera(M),M.emit(m.POST_RENDER,M)},preRender:function(){if(!this.contextLost){var M=this.gl;if(M.bindFramebuffer(M.FRAMEBUFFER,null),this.config.clearBeforeRender){var R=this.config.backgroundColor;M.clearColor(R.redGL,R.greenGL,R.blueGL,R.alphaGL),M.clear(M.COLOR_BUFFER_BIT|M.DEPTH_BUFFER_BIT|M.STENCIL_BUFFER_BIT)}M.enable(M.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&M.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.textureFlush=0,this.emit(s.PRE_RENDER)}},render:function(M,R,P){if(!this.contextLost){var I=R.length;if(this.emit(s.RENDER,M,P),this.preRenderCamera(P),0===I)return this.setBlendMode(h.BlendModes.NORMAL),void this.postRenderCamera(P);this.currentType="";for(var b=this.currentMask,L=0;L<I;L++){this.finalType=L===I-1;var B=R[L],V=B.mask;(b=this.currentMask).mask&&b.mask!==V&&b.mask.postRenderWebGL(this,b.camera),V&&b.mask!==V&&V.preRenderWebGL(this,B,P),B.blendMode!==this.currentBlendMode&&this.setBlendMode(B.blendMode);var z=B.type;z!==this.currentType&&(this.newType=!0,this.currentType=z),this.nextTypeMatch=!this.finalType&&R[L+1].type===this.currentType,B.renderWebGL(this,B,P),this.newType=!1}(b=this.currentMask).mask&&b.mask.postRenderWebGL(this,b.camera),this.setBlendMode(h.BlendModes.NORMAL),this.postRenderCamera(P)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(s.POST_RENDER);var M=this.snapshotState;M.callback&&(S(this.canvas,M),M.callback=null),this.textureFlush>0&&(this.startActiveTexture++,this.currentActiveTexture=1)}},snapshot:function(M,R,P){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,M,R,P)},snapshotArea:function(M,R,P,I,b,L,B){var V=this.snapshotState;return V.callback=b,V.type=L,V.encoder=B,V.getPixel=!1,V.x=M,V.y=R,V.width=Math.min(P,this.gl.drawingBufferWidth),V.height=Math.min(I,this.gl.drawingBufferHeight),this},snapshotPixel:function(M,R,P){return this.snapshotArea(M,R,1,1,P),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(M,R,P,I,b,L,B,V,z,W,K){void 0===b&&(b=!1),void 0===L&&(L=0),void 0===B&&(B=0),void 0===V&&(V=R),void 0===z&&(z=P);var J=this.currentFramebuffer;this.snapshotArea(L,B,V,z,I,W,K);var tt=this.snapshotState;return tt.getPixel=b,tt.isFramebuffer=!0,tt.bufferWidth=R,tt.bufferHeight=P,this.setFramebuffer(M),S(this.canvas,tt),this.setFramebuffer(J),tt.callback=null,tt.isFramebuffer=!1,this},canvasToTexture:function(M,R,P,I){return void 0===P&&(P=!1),void 0===I&&(I=!1),R?this.updateCanvasTexture(M,R,I):this.createCanvasTexture(M,P,I)},createCanvasTexture:function(M,R,P){void 0===R&&(R=!1),void 0===P&&(P=!1);var I=this.gl,b=I.NEAREST,L=I.NEAREST,B=M.width,V=M.height,z=I.CLAMP_TO_EDGE,W=d(B,V);return!R&&W&&(z=I.REPEAT),this.config.antialias&&(b=W?this.mipmapFilter:I.LINEAR,L=I.LINEAR),this.createTexture2D(0,b,L,z,z,I.RGBA,M,B,V,!0,!1,P)},updateCanvasTexture:function(M,R,P){void 0===P&&(P=!1);var I=this.gl,b=M.width,L=M.height;if(b>0&&L>0){I.activeTexture(I.TEXTURE0);var B=I.getParameter(I.TEXTURE_BINDING_2D);I.bindTexture(I.TEXTURE_2D,R),I.pixelStorei(I.UNPACK_FLIP_Y_WEBGL,P),I.pixelStorei(I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),I.texImage2D(I.TEXTURE_2D,0,I.RGBA,I.RGBA,I.UNSIGNED_BYTE,M),R.width=b,R.height=L,B&&I.bindTexture(I.TEXTURE_2D,B)}return R},createVideoTexture:function(M,R,P){void 0===R&&(R=!1),void 0===P&&(P=!1);var I=this.gl,b=I.NEAREST,L=I.NEAREST,B=M.videoWidth,V=M.videoHeight,z=I.CLAMP_TO_EDGE,W=d(B,V);return!R&&W&&(z=I.REPEAT),this.config.antialias&&(b=W?this.mipmapFilter:I.LINEAR,L=I.LINEAR),this.createTexture2D(0,b,L,z,z,I.RGBA,M,B,V,!0,!0,P)},updateVideoTexture:function(M,R,P){void 0===P&&(P=!1);var I=this.gl,b=M.videoWidth,L=M.videoHeight;if(b>0&&L>0){I.activeTexture(I.TEXTURE0);var B=I.getParameter(I.TEXTURE_BINDING_2D);I.bindTexture(I.TEXTURE_2D,R),I.pixelStorei(I.UNPACK_FLIP_Y_WEBGL,P),I.texImage2D(I.TEXTURE_2D,0,I.RGBA,I.RGBA,I.UNSIGNED_BYTE,M),R.width=b,R.height=L,B&&I.bindTexture(I.TEXTURE_2D,B)}return R},setTextureFilter:function(M,R){var P=this.gl,I=[P.LINEAR,P.NEAREST][R];P.activeTexture(P.TEXTURE0);var b=P.getParameter(P.TEXTURE_BINDING_2D);return P.bindTexture(P.TEXTURE_2D,M),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,I),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,I),b&&P.bindTexture(P.TEXTURE_2D,b),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);for(var M=this.gl,R=this.tempTextures,P=0;P<R.length;P++)M.deleteTexture(R[P]);this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});C.exports=D},function(C,w,n){var l=n(0),m=n(92),f=n(102),h=n(373),u=n(376),s=n(377),o=n(108),d=n(378),a=n(379),c=n(380),p=n(381),v=new l({initialize:function(x){this.game=x.game,this.renderer=x,this.classes=new f([[m.UTILITY_PIPELINE,p],[m.MULTI_PIPELINE,o],[m.BITMAPMASK_PIPELINE,h],[m.SINGLE_PIPELINE,c],[m.ROPE_PIPELINE,a],[m.LIGHT_PIPELINE,s],[m.POINTLIGHT_PIPELINE,d],[m.GRAPHICS_PIPELINE,u]]),this.postPipelineClasses=new f,this.pipelines=new f,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null},boot:function(g){var x,T,S=this,D=this.game;if(this.classes.each(function(R,P){x=S.add(R,new P({game:D})),R===m.UTILITY_PIPELINE&&(S.UTILITY_PIPELINE=x,S.fullFrame1=x.fullFrame1,S.fullFrame2=x.fullFrame2,S.halfFrame1=x.halfFrame1,S.halfFrame2=x.halfFrame2)}),this.MULTI_PIPELINE=this.get(m.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(m.BITMAPMASK_PIPELINE),g)for(T in g){var M=g[T];(x=new M(D)).isPostFX?this.postPipelineClasses.set(T,M):this.has(T)||(this.classes.set(T,M),this.add(T,x))}},add:function(g,x){if(!x.isPostFX){var T=this.pipelines,S=this.renderer;return T.has(g)?console.warn("Pipeline exists: "+g):(x.name=g,x.manager=this,T.set(g,x)),x.hasBooted||x.boot(),0!==S.width&&0!==S.height&&x.resize(S.width,S.height),x}console.warn(g+" is a Post Pipeline. Use `addPostPipeline` instead")},addPostPipeline:function(g,x){this.postPipelineClasses.has(g)||this.postPipelineClasses.set(g,x)},flush:function(){this.current&&this.current.flush()},has:function(g){var x=this.pipelines;return"string"==typeof g?x.has(g):!!x.contains(g)},get:function(g){var x=this.pipelines;return"string"==typeof g?x.get(g):x.contains(g)?g:void 0},getPostPipeline:function(g,x){var S,T=this.postPipelineClasses;if("string"==typeof g?S=T.get(g):"function"==typeof g?T.contains(g)&&(S=g):"object"==typeof g&&(S=T.get(g.name)),S){var D=new S(this.game);return x&&(D.gameObject=x),D}},remove:function(g,x,T){void 0===x&&(x=!0),void 0===T&&(T=!0),this.pipelines.delete(g),x&&this.classes.delete(g),T&&this.postPipelineClasses.delete(g)},set:function(g,x,T){if(!g.isPostFX)return this.isCurrent(g,T)||(this.flush(),this.current&&this.current.unbind(),this.current=g,g.bind(T)),g.updateProjectionMatrix(),g.onBind(x),g},preBatch:function(g){if(g.hasPostPipeline){this.flush();for(var x=g.postPipelines,T=x.length-1;T>=0;T--){var S=x[T];S.active&&S.preBatch(g)}}},postBatch:function(g){if(g.hasPostPipeline){this.flush();for(var x=g.postPipelines,T=0;T<x.length;T++){var S=x[T];S.active&&S.postBatch(g)}}},preBatchCamera:function(g){if(g.hasPostPipeline){this.flush();for(var x=g.postPipelines,T=x.length-1;T>=0;T--){var S=x[T];S.active&&S.preBatch(g)}}},postBatchCamera:function(g){if(g.hasPostPipeline){this.flush();for(var x=g.postPipelines,T=0;T<x.length;T++){var S=x[T];S.active&&S.postBatch(g)}}},isCurrent:function(g,x){var S=this.current;return S&&!x&&(x=S.currentShader),!(S!==g||x.program!==this.renderer.currentProgram)},copyFrame:function(g,x,T,S,D){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(g,x,T,S,D),this},copyToGame:function(g){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(g),this},drawFrame:function(g,x,T,S){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(g,x,T,S),this},blendFrames:function(g,x,T,S,D){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(g,x,T,S,D),this},blendFramesAdditive:function(g,x,T,S,D){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(g,x,T,S,D),this},clearFrame:function(g,x){return this.UTILITY_PIPELINE.clearFrame(g,x),this},blitFrame:function(g,x,T,S,D,M){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(g,x,T,S,D,M),this},copyFrameRect:function(g,x,T,S,D,M,R,P){return this.UTILITY_PIPELINE.copyFrameRect(g,x,T,S,D,M,R,P),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(g){return this.UTILITY_PIPELINE.bind(g)},rebind:function(g){void 0===g&&this.previous&&(g=this.previous);var x=this.renderer,T=x.gl;T.disable(T.DEPTH_TEST),T.disable(T.CULL_FACE),x.hasActiveStencilMask()?T.clear(T.DEPTH_BUFFER_BIT):(T.disable(T.STENCIL_TEST),T.clear(T.DEPTH_BUFFER_BIT|T.STENCIL_BUFFER_BIT)),T.viewport(0,0,x.width,x.height),x.currentProgram=null,x.setBlendMode(0,!0);var S=this.pipelines.entries;for(var D in S)S[D].glReset=!0;g&&(this.current=g,g.rebind()),x.resetTextures()},clear:function(){var g=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,g.currentProgram=null,g.setBlendMode(0,!0)},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.current=null,this.previous=null}});C.exports=v},function(C,w,n){var l=n(0),m=n(2),f=n(866),h=n(867),u=n(107),s=n(58),o=new l({Extends:s,initialize:function(a){a.fragShader=m(a,"fragShader",f),a.vertShader=m(a,"vertShader",h),a.batchSize=m(a,"batchSize",1),a.vertices=m(a,"vertices",[-1,1,-1,-7,7,1]),a.attributes=m(a,"attributes",[{name:"inPosition",size:2,type:u.FLOAT}]),s.call(this,a)},boot:function(){s.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(d,a){s.prototype.resize.call(this,d,a),this.set2f("uResolution",d,a)},beginMask:function(d,a,c){var p=this.gl;if(d.bitmapMask&&p){var v=this.renderer;v.flush(),v.pushFramebuffer(d.mainFramebuffer),p.disable(p.STENCIL_TEST),p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT),v.currentCameraMask.mask!==d&&(v.currentMask.mask=d,v.currentMask.camera=c)}},endMask:function(d,a){var c=this.gl,p=this.renderer,v=d.bitmapMask;if(v&&c){p.flush(),p.pushFramebuffer(d.maskFramebuffer),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT),p.setBlendMode(0,!0),v.renderWebGL(p,v,a),p.flush(),p.popFramebuffer(),p.popFramebuffer();var g=p.getCurrentStencilMask();g?(c.enable(c.STENCIL_TEST),g.mask.applyStencil(p,g.camera,!0)):p.currentMask.mask=null,p.pipelines.set(this),c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,d.maskTexture),c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,d.mainTexture),this.set1i("uInvertMaskAlpha",d.invertAlpha),c.drawArrays(this.topology,0,3),p.resetTextures()}}});C.exports=o},function(C,w,n){C.exports={AFTER_FLUSH:n(868),BEFORE_FLUSH:n(869),BIND:n(870),BOOT:n(871),DESTROY:n(872),REBIND:n(873),RESIZE:n(874)}},function(C,w,n){var l=n(0),m=n(2),f=n(107),h=new l({initialize:function(s,o,d,a,c){this.pipeline=s,this.name=o,this.renderer=s.renderer,this.gl=this.renderer.gl,this.program=this.renderer.createProgram(d,a),this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(c),this.createUniforms()},createAttributes:function(u){var s=0,o=0,d=[];this.vertexComponentCount=0;for(var a=0;a<u.length;a++){var c=u[a],p=c.name,v=m(c,"size",1),g=m(c,"type",f.FLOAT),T=g.size;d.push({name:p,size:v,type:g.enum,normalized:!!c.normalized,offset:o,enabled:!1,location:-1}),4===T?s+=v:s++,o+=v*T}this.vertexSize=o,this.vertexComponentCount=s,this.attributes=d},bind:function(u,s){return void 0===u&&(u=!1),void 0===s&&(s=!1),s&&this.pipeline.flush(),this.renderer.setProgram(this.program),u&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(u){void 0===u&&(u=!1);for(var s=this.gl,o=this.vertexSize,d=this.attributes,a=this.program,c=0;c<d.length;c++){var p=d[c],v=p.size,g=p.type,x=p.offset,T=p.enabled,S=p.location,D=!!p.normalized;if(u){var M=s.getAttribLocation(a,p.name);M>=0?(s.enableVertexAttribArray(M),s.vertexAttribPointer(M,v,g,D,o,x),p.enabled=!0,p.location=M):-1!==M&&s.disableVertexAttribArray(M)}else T?s.vertexAttribPointer(S,v,g,D,o,x):!T&&S>-1&&(s.disableVertexAttribArray(S),p.location=-1)}return this},createUniforms:function(){var d,a,c,u=this.gl,s=this.program,o=this.uniforms,p=u.getProgramParameter(s,u.ACTIVE_UNIFORMS);for(d=0;d<p;d++){var v=u.getActiveUniform(s,d);if(v){null!==(c=u.getUniformLocation(s,a=v.name))&&(o[a]={name:a,location:c,value1:null,value2:null,value3:null,value4:null});var g=a.indexOf("[");g>0&&(a=a.substr(0,g),o.hasOwnProperty(a)||null!==(c=u.getUniformLocation(s,a))&&(o[a]={name:a,location:c,value1:null,value2:null,value3:null,value4:null}))}}return this},hasUniform:function(u){return this.uniforms.hasOwnProperty(u)},resetUniform:function(u){var s=this.uniforms[u];return s&&(s.value1=null,s.value2=null,s.value3=null,s.value4=null),this},setUniform1:function(u,s,o,d){var a=this.uniforms[s];return a?((d||a.value1!==o)&&(a.value1=o,this.renderer.setProgram(this.program),u.call(this.gl,a.location,o),this.pipeline.currentShader=this),this):this},setUniform2:function(u,s,o,d,a){var c=this.uniforms[s];return c?((a||c.value1!==o||c.value2!==d)&&(c.value1=o,c.value2=d,this.renderer.setProgram(this.program),u.call(this.gl,c.location,o,d),this.pipeline.currentShader=this),this):this},setUniform3:function(u,s,o,d,a,c){var p=this.uniforms[s];return p?((c||p.value1!==o||p.value2!==d||p.value3!==a)&&(p.value1=o,p.value2=d,p.value3=a,this.renderer.setProgram(this.program),u.call(this.gl,p.location,o,d,a),this.pipeline.currentShader=this),this):this},setUniform4:function(u,s,o,d,a,c,p){var v=this.uniforms[s];return v?((p||v.value1!==o||v.value2!==d||v.value3!==a||v.value4!==c)&&(v.value1=o,v.value2=d,v.value3=a,v.value4=c,this.renderer.setProgram(this.program),u.call(this.gl,v.location,o,d,a,c),this.pipeline.currentShader=this),this):this},set1f:function(u,s){return this.setUniform1(this.gl.uniform1f,u,s)},set2f:function(u,s,o){return this.setUniform2(this.gl.uniform2f,u,s,o)},set3f:function(u,s,o,d){return this.setUniform3(this.gl.uniform3f,u,s,o,d)},set4f:function(u,s,o,d,a){return this.setUniform4(this.gl.uniform4f,u,s,o,d,a)},set1fv:function(u,s){return this.setUniform1(this.gl.uniform1fv,u,s,!0)},set2fv:function(u,s){return this.setUniform1(this.gl.uniform2fv,u,s,!0)},set3fv:function(u,s){return this.setUniform1(this.gl.uniform3fv,u,s,!0)},set4fv:function(u,s){return this.setUniform1(this.gl.uniform4fv,u,s,!0)},set1iv:function(u,s){return this.setUniform1(this.gl.uniform1iv,u,s,!0)},set2iv:function(u,s){return this.setUniform1(this.gl.uniform2iv,u,s,!0)},set3iv:function(u,s){return this.setUniform1(this.gl.uniform3iv,u,s,!0)},set4iv:function(u,s){return this.setUniform1(this.gl.uniform4iv,u,s,!0)},set1i:function(u,s){return this.setUniform1(this.gl.uniform1i,u,s)},set2i:function(u,s,o){return this.setUniform2(this.gl.uniform2i,u,s,o)},set3i:function(u,s,o,d){return this.setUniform3(this.gl.uniform3i,u,s,o,d)},set4i:function(u,s,o,d,a){return this.setUniform4(this.gl.uniform4i,u,s,o,d,a)},setMatrix2fv:function(u,s,o){return this.setUniform2(this.gl.uniformMatrix2fv,u,s,o,!0)},setMatrix3fv:function(u,s,o){return this.setUniform2(this.gl.uniformMatrix3fv,u,s,o,!0)},setMatrix4fv:function(u,s,o){return this.setUniform2(this.gl.uniformMatrix4fv,u,s,o,!0)},destroy:function(){this.gl.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null,this.attributes=null,this.uniforms=null}});C.exports=h},function(C,w,n){var l=n(0),m=n(59),f=n(2),h=n(875),u=n(876),s=n(25),o=n(107),d=n(58),a=new l({Extends:d,initialize:function(p){p.fragShader=f(p,"fragShader",h),p.vertShader=f(p,"vertShader",u),p.attributes=f(p,"attributes",[{name:"inPosition",size:2},{name:"inColor",size:4,type:o.UNSIGNED_BYTE,normalized:!0}]),d.call(this,p),this.calcMatrix=new s,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},batchFillRect:function(c,p,v,g,x,T){this.renderer.pipelines.set(this);var S=this.calcMatrix;T&&T.multiply(x,S);var D=c+v,M=p+g,R=S.getX(c,p),P=S.getY(c,p),I=S.getX(c,M),b=S.getY(c,M),L=S.getX(D,M),B=S.getY(D,M),V=S.getX(D,p),z=S.getY(D,p),W=this.fillTint;this.batchQuad(R,P,I,b,L,B,V,z,W.TL,W.TR,W.BL,W.BR)},batchFillTriangle:function(c,p,v,g,x,T,S,D){this.renderer.pipelines.set(this);var M=this.calcMatrix;D&&D.multiply(S,M);var R=M.getX(c,p),P=M.getY(c,p),I=M.getX(v,g),b=M.getY(v,g),L=M.getX(x,T),B=M.getY(x,T),V=this.fillTint;this.batchTri(R,P,I,b,L,B,V.TL,V.TR,V.BL)},batchStrokeTriangle:function(c,p,v,g,x,T,S,D,M){var R=this.tempTriangle;R[0].x=c,R[0].y=p,R[0].width=S,R[1].x=v,R[1].y=g,R[1].width=S,R[2].x=x,R[2].y=T,R[2].width=S,R[3].x=c,R[3].y=p,R[3].width=S,this.batchStrokePath(R,S,!1,D,M)},batchFillPath:function(c,p,v){this.renderer.pipelines.set(this);var g=this.calcMatrix;v&&v.multiply(p,g);for(var S,D,x=c.length,T=this.polygonCache,M=this.fillTint.TL,R=this.fillTint.TR,P=this.fillTint.BL,I=0;I<x;++I)T.push((D=c[I]).x,D.y);x=(S=m(T)).length;for(var b=0;b<x;b+=3){var L=2*S[b+0],B=2*S[b+1],V=2*S[b+2],z=T[L+0],W=T[L+1],K=T[B+0],J=T[B+1],tt=T[V+0],it=T[V+1],H=g.getX(z,W),G=g.getY(z,W),Y=g.getX(K,J),X=g.getY(K,J),$=g.getX(tt,it),Q=g.getY(tt,it);this.batchTri(H,G,Y,X,$,Q,M,R,P)}T.length=0},batchStrokePath:function(c,p,v,g,x){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var T=c.length-1,S=0;S<T;S++){var D=c[S],M=c[S+1];this.batchLine(D.x,D.y,M.x,M.y,D.width/2,M.width/2,p,S,!v&&S===T-1,g,x)}},batchLine:function(c,p,v,g,x,T,S,D,M,R,P){this.renderer.pipelines.set(this);var I=this.calcMatrix;P&&P.multiply(R,I);var b=v-c,L=g-p,B=Math.sqrt(b*b+L*L),V=x*(g-p)/B,z=x*(c-v)/B,W=T*(g-p)/B,K=T*(c-v)/B,J=v-W,tt=g-K,it=c-V,H=p-z,G=v+W,Y=g+K,X=c+V,$=p+z,Q=I.getX(J,tt),_=I.getY(J,tt),et=I.getX(it,H),ot=I.getY(it,H),lt=I.getX(G,Y),ht=I.getY(G,Y),ft=I.getX(X,$),gt=I.getY(X,$),Et=this.strokeTint,Ct=Et.TL,Mt=Et.TR,kt=Et.BL,Gt=Et.BR;if(this.batchQuad(ft,gt,et,ot,Q,_,lt,ht,Ct,Mt,kt,Gt),!(S<=2)){var Bt=this.prevQuad,Tt=this.firstQuad;D>0&&Bt[4]?this.batchQuad(ft,gt,et,ot,Bt[0],Bt[1],Bt[2],Bt[3],Ct,Mt,kt,Gt):(Tt[0]=ft,Tt[1]=gt,Tt[2]=et,Tt[3]=ot,Tt[4]=1),M&&Tt[4]?this.batchQuad(Q,_,lt,ht,Tt[0],Tt[1],Tt[2],Tt[3],Ct,Mt,kt,Gt):(Bt[0]=Q,Bt[1]=_,Bt[2]=lt,Bt[3]=ht,Bt[4]=1)}},batchVert:function(c,p,v){var g=this.vertexViewF32,x=this.vertexViewU32,T=this.vertexCount*this.currentShader.vertexComponentCount-1;g[++T]=c,g[++T]=p,x[++T]=v,this.vertexCount++},batchQuad:function(c,p,v,g,x,T,S,D,M,R,P,I){var b=!1;return this.shouldFlush(6)&&(this.flush(),b=!0),this.batchVert(c,p,M),this.batchVert(v,g,P),this.batchVert(x,T,I),this.batchVert(c,p,M),this.batchVert(x,T,I),this.batchVert(S,D,R),b},batchTri:function(c,p,v,g,x,T,S,D,M){var R=!1;return this.shouldFlush(3)&&(this.flush(),R=!0),this.batchVert(c,p,S),this.batchVert(v,g,D),this.batchVert(x,T,M),R},destroy:function(){return d.prototype.destroy.call(this),this.polygonCache=null,this}});C.exports=a},function(C,w,n){var l=n(0),m=n(2),f=n(877),h=n(108),u=n(3),s=n(58),o=10,d=new u,a=new l({Extends:h,initialize:function(p){o=p.game.renderer.config.maxLights;for(var v=m(p,"fragShader",f),g=[],x=1;x<=o;x++)g.push({name:"lights"+x,fragShader:v.replace("%LIGHT_COUNT%",x.toString())});p.shaders=g,h.call(this,p),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.lightsActive=!0},boot:function(){s.prototype.boot.call(this);var c=this.gl,p=c.createTexture();c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,p),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,1,1,0,c.RGBA,c.UNSIGNED_BYTE,new Uint8Array([127,127,255,255])),this.defaultNormalMap={glTexture:p};for(var v=0;v<this.shaders.length;v++)this["lightShader"+(v+1)]=this.shaders[v]},onRender:function(c,p){var v=c.sys.lights;if(this.lightsActive=!1,v&&v.active){var g=v.getLights(p),x=g.length;if(0!==x){this.lightsActive=!0,this.setShader(this["lightShader"+x],!0);var T,D=this.renderer.height,M=p.matrix;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",p.x,p.y,p.rotation,p.zoom),this.set3f("uAmbientLightColor",v.ambientColor.r,v.ambientColor.g,v.ambientColor.b),T=0;T<x;T++){var R=g[T].light,P=R.color,I="uLights["+T+"].";M.transformPoint(R.x,R.y,d),this.set2f(I+"position",d.x-p.scrollX*R.scrollFactorX*p.zoom,D-(d.y-p.scrollY*R.scrollFactorY*p.zoom)),this.set3f(I+"color",P.r,P.g,P.b),this.set1f(I+"intensity",R.intensity),this.set1f(I+"radius",R.radius)}this.currentNormalMapRotation=null}}},setNormalMapRotation:function(c){if(c!==this.currentNormalMapRotation||0===this.vertexCount){this.vertexCount>0&&this.flush();var p=this.inverseRotationMatrix;if(c){var v=-c,g=Math.cos(v),x=Math.sin(v);p[1]=x,p[3]=-x,p[0]=p[4]=g}else p[0]=p[4]=1,p[1]=p[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,p),this.currentNormalMapRotation=c}},setTexture2D:function(c,p){var v=this.renderer;void 0===c&&(c=v.tempTextures[0]);var g=this.getNormalMap(p);return v.isNewNormalMap(c,g)&&(this.flush(),v.setTextureZero(c),v.setNormalMap(g)),this.setNormalMapRotation(p?p.rotation:0),this.currentUnit=0,0},setGameObject:function(c,p){void 0===p&&(p=c.frame);var v=this.renderer,g=p.glTexture,x=this.getNormalMap(c);return v.isNewNormalMap()&&(this.flush(),v.setTextureZero(g),v.setNormalMap(x)),this.setNormalMapRotation(c.rotation),this.currentUnit=0,0},getNormalMap:function(c){var p;return c?c.displayTexture?p=c.displayTexture.dataSource[c.displayFrame.sourceIndex]:c.texture?p=c.texture.dataSource[c.frame.sourceIndex]:c.tileset&&(p=Array.isArray(c.tileset)?c.tileset[0].image.dataSource[0]:c.tileset.image.dataSource[0]):p=this.defaultNormalMap,p||(p=this.defaultNormalMap),p.glTexture},batchSprite:function(c,p,v){this.lightsActive&&h.prototype.batchSprite.call(this,c,p,v)},batchTexture:function(c,p,v,g,x,T,S,D,M,R,P,I,b,L,B,V,z,W,K,J,tt,it,H,G,Y,X,$,Q,_,et,ot,lt){this.lightsActive&&h.prototype.batchTexture.call(this,c,p,v,g,x,T,S,D,M,R,P,I,b,L,B,V,z,W,K,J,tt,it,H,G,Y,X,$,Q,_,et,ot,lt)},batchTextureFrame:function(c,p,v,g,x,T,S){this.lightsActive&&h.prototype.batchTextureFrame.call(this,c,p,v,g,x,T,S)}});a.LIGHT_COUNT=o,C.exports=a},function(C,w,n){var l=n(0),m=n(2),f=n(880),h=n(881),u=n(58),s=new l({Extends:u,initialize:function(d){d.vertShader=m(d,"vertShader",h),d.fragShader=m(d,"fragShader",f),d.attributes=m(d,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),u.call(this,d)},onRender:function(o,d){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",d.zoom)},batchPointLight:function(o,d,a,c,p,v,g,x,T,S,D,M){var R=o.color,P=o.intensity,I=o.radius,b=o.attenuation,L=R.r*P,B=R.g*P,V=R.b*P,z=d.alpha*o.alpha;this.shouldFlush(6)&&this.flush(),this.batchLightVert(a,c,D,M,I,b,L,B,V,z),this.batchLightVert(p,v,D,M,I,b,L,B,V,z),this.batchLightVert(g,x,D,M,I,b,L,B,V,z),this.batchLightVert(a,c,D,M,I,b,L,B,V,z),this.batchLightVert(g,x,D,M,I,b,L,B,V,z),this.batchLightVert(T,S,D,M,I,b,L,B,V,z)},batchLightVert:function(o,d,a,c,p,v,g,x,T,S){var D=this.vertexViewF32,M=this.vertexCount*this.currentShader.vertexComponentCount-1;D[++M]=o,D[++M]=d,D[++M]=a,D[++M]=c,D[++M]=p,D[++M]=v,D[++M]=g,D[++M]=x,D[++M]=T,D[++M]=S,this.vertexCount++}});C.exports=s},function(C,w,n){var l=n(0),m=n(2),f=n(108),h=new l({Extends:f,initialize:function(s){s.topology=5,s.batchSize=m(s,"batchSize",256),f.call(this,s)}});C.exports=h},function(C,w,n){var l=n(0),m=n(2),f=n(108),h=n(882),u=n(883),s=n(58),o=new l({Extends:f,initialize:function(a){a.fragShader=m(a,"fragShader",h),a.vertShader=m(a,"vertShader",u),a.forceZero=!0,f.call(this,a)},boot:function(){s.prototype.boot.call(this),this.set1i("uMainSampler",0)}});C.exports=o},function(C,w,n){var l=n(884),m=n(35),f=n(0),h=n(198),u=n(885),s=n(886),o=n(2),d=n(887),a=n(382),c=n(58),p=new f({Extends:c,initialize:function(g){g.renderTarget=o(g,"renderTarget",[{scale:1},{scale:1},{scale:.5},{scale:.5}]),g.vertShader=o(g,"vertShader",a),g.shaders=o(g,"shaders",[{name:"Copy",fragShader:s},{name:"AddBlend",fragShader:l},{name:"LinearBlend",fragShader:d},{name:"ColorMatrix",fragShader:u}]),g.attributes=o(g,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),g.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],g.batchSize=1,c.call(this,g),this.colorMatrix=new h},boot:function(){c.prototype.boot.call(this);var v=this.shaders,g=this.renderTargets;this.copyShader=v[0],this.addShader=v[1],this.linearShader=v[2],this.colorMatrixShader=v[3],this.fullFrame1=g[0],this.fullFrame2=g[1],this.halfFrame1=g[2],this.halfFrame2=g[3]},copyFrame:function(v,g,x,T,S){void 0===x&&(x=1),void 0===T&&(T=!0),void 0===S&&(S=!0);var D=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",x),D.activeTexture(D.TEXTURE0),D.bindTexture(D.TEXTURE_2D,v.texture),g?(D.viewport(0,0,g.width,g.height),D.bindFramebuffer(D.FRAMEBUFFER,g.framebuffer),D.framebufferTexture2D(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_2D,g.texture,0)):D.viewport(0,0,v.width,v.height),T&&(D.clearColor(0,0,0,S?0:1),D.clear(D.COLOR_BUFFER_BIT)),D.bufferData(D.ARRAY_BUFFER,this.vertexData,D.STATIC_DRAW),D.drawArrays(D.TRIANGLES,0,6),D.bindFramebuffer(D.FRAMEBUFFER,null),D.bindTexture(D.TEXTURE_2D,null)},blitFrame:function(v,g,x,T,S,D){void 0===x&&(x=1),void 0===T&&(T=!0),void 0===S&&(S=!0),void 0===D&&(D=!1);var M=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",x),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,v.texture),v.height>g.height?(M.viewport(0,0,v.width,v.height),this.setTargetUVs(v,g)):M.viewport(0,g.height-v.height,v.width,v.height),M.bindFramebuffer(M.FRAMEBUFFER,g.framebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,g.texture,0),T&&(M.clearColor(0,0,0,S?0:1),M.clear(M.COLOR_BUFFER_BIT)),D){var P=this.renderer.currentBlendMode;this.renderer.setBlendMode(m.ERASE)}M.bufferData(M.ARRAY_BUFFER,this.vertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),D&&this.renderer.setBlendMode(P),M.bindFramebuffer(M.FRAMEBUFFER,null),M.bindTexture(M.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(v,g,x,T,S,D,M,R){void 0===M&&(M=!0),void 0===R&&(R=!0);var P=this.gl;P.bindFramebuffer(P.FRAMEBUFFER,v.framebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,v.texture,0),M&&(P.clearColor(0,0,0,R?0:1),P.clear(P.COLOR_BUFFER_BIT)),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,g.texture),P.copyTexSubImage2D(P.TEXTURE_2D,0,0,0,x,T,S,D),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null)},copyToGame:function(v){var g=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,v.texture),g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.STATIC_DRAW),g.drawArrays(g.TRIANGLES,0,6),this.renderer.resetTextures()},drawFrame:function(v,g,x,T){void 0===x&&(x=!0),void 0===T&&(T=this.colorMatrix);var S=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",T.getData()),this.set1f("uAlpha",T.alpha),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,v.texture),g?(S.viewport(0,0,g.width,g.height),S.bindFramebuffer(S.FRAMEBUFFER,g.framebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,g.texture,0)):S.viewport(0,0,v.width,v.height),S.clearColor(0,0,0,x?0:1),S.clear(S.COLOR_BUFFER_BIT),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null)},blendFrames:function(v,g,x,T,S,D){void 0===T&&(T=1),void 0===S&&(S=!0),void 0===D&&(D=this.linearShader);var M=this.gl;this.setShader(D),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",T),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,v.texture),M.activeTexture(M.TEXTURE1),M.bindTexture(M.TEXTURE_2D,g.texture),x?(M.bindFramebuffer(M.FRAMEBUFFER,x.framebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,x.texture,0),M.viewport(0,0,x.width,x.height)):M.viewport(0,0,v.width,v.height),M.clearColor(0,0,0,S?0:1),M.clear(M.COLOR_BUFFER_BIT),M.bufferData(M.ARRAY_BUFFER,this.vertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),M.bindFramebuffer(M.FRAMEBUFFER,null),M.bindTexture(M.TEXTURE_2D,null)},blendFramesAdditive:function(v,g,x,T,S){this.blendFrames(v,g,x,T,S,this.addShader)},clearFrame:function(v,g){void 0===g&&(g=!0);var x=this.gl;x.viewport(0,0,v.width,v.height),x.bindFramebuffer(x.FRAMEBUFFER,v.framebuffer),x.clearColor(0,0,0,g?0:1),x.clear(x.COLOR_BUFFER_BIT),x.bindFramebuffer(x.FRAMEBUFFER,this.renderer.currentFramebuffer)},setUVs:function(v,g,x,T,S,D,M,R){var P=this.vertexViewF32;P[2]=v,P[3]=g,P[6]=x,P[7]=T,P[10]=S,P[11]=D,P[14]=v,P[15]=g,P[18]=S,P[19]=D,P[22]=M,P[23]=R},setTargetUVs:function(v,g){var x=g.height/v.height;this.setUVs(0,x=x>.5?.5-(x-.5):.5-x+.5,0,1+x,1,1+x,1,x)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});C.exports=p},function(C,w){C.exports=["#define SHADER_NAME PHASER_QUAD_VS","","precision mediump float;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","","varying vec2 outFragCoord;","varying vec2 outTexCoord;","","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","","    gl_Position = vec4(inPosition, 0, 1);","}",""].join("\n")},function(C,w,n){var l=n(31),m=n(38),f=n(2);C.exports=function(u,s){var o=u.getContext("experimental-webgl"),d=f(s,"callback"),a=f(s,"type","image/png"),c=f(s,"encoder",.92),p=f(s,"x",0),v=f(s,"y",0),g=f(s,"getPixel",!1),x=f(s,"isFramebuffer",!1),T=x?f(s,"bufferWidth",1):o.drawingBufferWidth,S=x?f(s,"bufferHeight",1):o.drawingBufferHeight;if(g){var D=new Uint8Array(4);o.readPixels(p,x?v:S-v,1,1,o.RGBA,o.UNSIGNED_BYTE,D),d.call(null,new m(D[0],D[1],D[2],D[3]/255))}else{var R=f(s,"width",T),P=f(s,"height",S),b=new Uint8Array(R*P*4);o.readPixels(p,S-v-P,R,P,o.RGBA,o.UNSIGNED_BYTE,b);for(var L=l.createWebGL(this,R,P),B=L.getContext("2d"),V=B.getImageData(0,0,R,P),z=V.data,W=0;W<P;W++)for(var K=0;K<R;K++){var J=4*((P-W-1)*R+K),tt=4*(W*R+K);z[tt+0]=b[J+0],z[tt+1]=b[J+1],z[tt+2]=b[J+2],z[tt+3]=b[J+3]}B.putImageData(V,0,0);var it=new Image;it.onerror=function(){d.call(null),l.remove(L)},it.onload=function(){d.call(null,it),l.remove(L)},it.src=L.toDataURL(a,c)}}},function(C,w,n){var l=n(33);C.exports=function(f){var h=f.config;if(!h.hideBanner){var u="WebGL";h.renderType===l.CANVAS?u="Canvas":h.renderType===l.HEADLESS&&(u="Headless");var d,s=h.audio,o=f.device.audio;if(d=o.webAudio&&!s.disableWebAudio?"Web Audio":s.noAudio||!o.webAudio&&!o.audioData?"No Audio":"HTML5 Audio",f.device.browser.ie)window.console&&console.log("Phaser v"+l.VERSION+" / https://phaser.io");else{var p,a="",c=[a];Array.isArray(h.bannerBackgroundColor)?(h.bannerBackgroundColor.forEach(function(g){a=a.concat("%c "),c.push("background: "+g),p=g}),c[c.length-1]="color: "+h.bannerTextColor+"; background: "+p):(a=a.concat("%c "),c.push("color: "+h.bannerTextColor+"; background: "+h.bannerBackgroundColor)),c.push("background: transparent"),h.gameTitle&&(a=a.concat(h.gameTitle),h.gameVersion&&(a=a.concat(" v"+h.gameVersion)),h.hidePhaser||(a=a.concat(" / "))),h.hidePhaser||(a=a.concat("Phaser v"+l.VERSION+" ("+u+" | "+d+")")),a=a.concat(" %c "+h.gameURL),c[0]=a,console.log.apply(console,c)}}}},function(C,w,n){var l=n(0),m=n(6),f=n(1),h=n(386),u=new l({initialize:function(o,d){this.game=o,this.raf=new h,this.started=!1,this.running=!1,this.minFps=m(d,"min",5),this.targetFps=m(d,"target",60),this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=f,this.forceSetTimeOut=m(d,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=m(d,"deltaHistory",10),this.panicMax=m(d,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=m(d,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var s=window.performance.now();this.time=s,this.lastTime=s,this.nextFpsUpdate=s+1e3,this.framesThisSecond=0;for(var o=0;o<this.deltaSmoothingMax;o++)this.deltaHistory[o]=Math.min(this._target,this.deltaHistory[o]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(s){if(this.started)return this;this.started=!0,this.running=!0;for(var o=0;o<this.deltaSmoothingMax;o++)this.deltaHistory[o]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=s,this.raf.start(this.step.bind(this),this.forceSetTimeOut,this._target)},step:function(){var s=window.performance.now();this.now=s;var o=s-this.lastTime;o<0&&(o=0),this.rawDelta=o;var d=this.deltaIndex,a=this.deltaHistory,c=this.deltaSmoothingMax,p=o,v=o;if(this.smoothStep){(this._coolDown>0||!this.inFocus)&&(this._coolDown--,p=Math.min(p,this._target)),p>this._min&&(p=a[d],p=Math.min(p,this._min)),a[d]=p,this.deltaIndex++,this.deltaIndex>c&&(this.deltaIndex=0),v=0;for(var g=0;g<c;g++)v+=a[g];v/=c}this.delta=v,this.time+=this.rawDelta,s>this.nextFpsUpdate&&(this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=s+1e3,this.framesThisSecond=0),this.framesThisSecond++,this.callback(s,v,v/this._target),this.lastTime=s,this.frame++},tick:function(){this.step()},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(s){this.running||(s&&(this.startTime+=-this.lastTime+(this.lastTime+window.performance.now())),this.raf.start(this.step.bind(this),this.useRAF),this.running=!0,this.step())},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.callback=f,this.raf=null,this.game=null}});C.exports=u},function(C,w,n){var l=n(0),m=n(1),f=new l({initialize:function(){this.isRunning=!1,this.callback=m,this.tick=0,this.isSetTimeOut=!1,this.timeOutID=null,this.lastTime=0,this.target=0;var u=this;this.step=function s(){var o=window.performance.now();u.lastTime=u.tick,u.tick=o,u.callback(o),u.timeOutID=window.requestAnimationFrame(s)},this.stepTimeout=function s(){var o=Date.now(),d=Math.min(Math.max(2*u.target+u.tick-o,0),u.target);u.lastTime=u.tick,u.tick=o,u.callback(o),u.timeOutID=window.setTimeout(s,d)}},start:function(h,u,s){this.isRunning||(this.callback=h,this.isSetTimeOut=u,this.target=s,this.isRunning=!0,this.timeOutID=u?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=m}});C.exports=f},function(C,w,n){var l=n(22);C.exports=function(f){var h,u=f.events;void 0!==document.hidden?h="visibilitychange":["webkit","moz","ms"].forEach(function(d){void 0!==document[d+"Hidden"]&&(document.hidden=function(){return document[d+"Hidden"]},h=d+"visibilitychange")}),h&&document.addEventListener(h,function(d){document.hidden||"pause"===d.type?u.emit(l.HIDDEN):u.emit(l.VISIBLE)},!1),window.onblur=function(){u.emit(l.BLUR)},window.onfocus=function(){u.emit(l.FOCUS)},window.focus&&f.config.autoFocus&&window.focus()}},function(C,w,n){var l=n(389),m=n(31),f=n(6);C.exports=function(u){var s=f(u,"data",[]),o=f(u,"canvas",null),d=f(u,"palette",l),a=f(u,"pixelWidth",1),c=f(u,"pixelHeight",a),p=f(u,"resizeCanvas",!0),v=f(u,"clearCanvas",!0),g=f(u,"preRender",null),x=f(u,"postRender",null),T=Math.floor(Math.abs(s[0].length*a)),S=Math.floor(Math.abs(s.length*c));o||(o=m.create2D(this,T,S),p=!1,v=!1),p&&(o.width=T,o.height=S);var D=o.getContext("2d");v&&D.clearRect(0,0,T,S),g&&g(o,D);for(var M=0;M<s.length;M++)for(var R=s[M],P=0;P<R.length;P++){var I=R[P];"."!==I&&" "!==I&&(D.fillStyle=d[I],D.fillRect(P*a,M*c,a,c))}return x&&x(o,D),o}},function(C,w){C.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},function(C,w,n){var l=n(0),m=n(358),f=n(94),h=n(3),u=new l({Extends:f,initialize:function(o,d,a,c){f.call(this,"CubicBezierCurve"),Array.isArray(o)&&(c=new h(o[6],o[7]),a=new h(o[4],o[5]),d=new h(o[2],o[3]),o=new h(o[0],o[1])),this.p0=o,this.p1=d,this.p2=a,this.p3=c},getStartPoint:function(s){return void 0===s&&(s=new h),s.copy(this.p0)},getResolution:function(s){return s},getPoint:function(s,o){void 0===o&&(o=new h);var d=this.p0,a=this.p1,c=this.p2,p=this.p3;return o.set(m(s,d.x,a.x,c.x,p.x),m(s,d.y,a.y,c.y,p.y))},draw:function(s,o){void 0===o&&(o=32);var d=this.getPoints(o);s.beginPath(),s.moveTo(this.p0.x,this.p0.y);for(var a=1;a<d.length;a++)s.lineTo(d[a].x,d[a].y);return s.strokePath(),s},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});u.fromJSON=function(s){var o=s.points,d=new h(o[0],o[1]),a=new h(o[2],o[3]),c=new h(o[4],o[5]),p=new h(o[6],o[7]);return new u(d,a,c,p)},C.exports=u},function(C,w,n){var l=n(0),m=n(94),f=n(36),h=n(6),u=n(196),s=n(3),o=new l({Extends:m,initialize:function(a,c,p,v,g,x,T,S){if("object"==typeof a){var D=a;a=h(D,"x",0),c=h(D,"y",0),p=h(D,"xRadius",0),v=h(D,"yRadius",p),g=h(D,"startAngle",0),x=h(D,"endAngle",360),T=h(D,"clockwise",!1),S=h(D,"rotation",0)}else void 0===v&&(v=p),void 0===g&&(g=0),void 0===x&&(x=360),void 0===T&&(T=!1),void 0===S&&(S=0);m.call(this,"EllipseCurve"),this.p0=new s(a,c),this._xRadius=p,this._yRadius=v,this._startAngle=f(g),this._endAngle=f(x),this._clockwise=T,this._rotation=f(S)},getStartPoint:function(d){return void 0===d&&(d=new s),this.getPoint(0,d)},getResolution:function(d){return 2*d},getPoint:function(d,a){void 0===a&&(a=new s);for(var c=2*Math.PI,p=this._endAngle-this._startAngle,v=Math.abs(p)<Number.EPSILON;p<0;)p+=c;for(;p>c;)p-=c;p<Number.EPSILON&&(p=v?0:c),this._clockwise&&!v&&(p===c?p=-c:p-=c);var g=this._startAngle+d*p,x=this.p0.x+this._xRadius*Math.cos(g),T=this.p0.y+this._yRadius*Math.sin(g);if(0!==this._rotation){var S=Math.cos(this._rotation),D=Math.sin(this._rotation),M=x-this.p0.x,R=T-this.p0.y;x=M*S-R*D+this.p0.x,T=M*D+R*S+this.p0.y}return a.set(x,T)},setXRadius:function(d){return this.xRadius=d,this},setYRadius:function(d){return this.yRadius=d,this},setWidth:function(d){return this.xRadius=d/2,this},setHeight:function(d){return this.yRadius=d/2,this},setStartAngle:function(d){return this.startAngle=d,this},setEndAngle:function(d){return this.endAngle=d,this},setClockwise:function(d){return this.clockwise=d,this},setRotation:function(d){return this.rotation=d,this},x:{get:function(){return this.p0.x},set:function(d){this.p0.x=d}},y:{get:function(){return this.p0.y},set:function(d){this.p0.y=d}},xRadius:{get:function(){return this._xRadius},set:function(d){this._xRadius=d}},yRadius:{get:function(){return this._yRadius},set:function(d){this._yRadius=d}},startAngle:{get:function(){return u(this._startAngle)},set:function(d){this._startAngle=f(d)}},endAngle:{get:function(){return u(this._endAngle)},set:function(d){this._endAngle=f(d)}},clockwise:{get:function(){return this._clockwise},set:function(d){this._clockwise=d}},angle:{get:function(){return u(this._rotation)},set:function(d){this._rotation=f(d)}},rotation:{get:function(){return this._rotation},set:function(d){this._rotation=d}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:u(this._startAngle),endAngle:u(this._endAngle),clockwise:this._clockwise,rotation:u(this._rotation)}}});o.fromJSON=function(d){return new o(d)},C.exports=o},function(C,w,n){var l=n(0),m=n(94),f=n(199),h=n(10),u=n(3),s=new l({Extends:m,initialize:function(d,a){m.call(this,"LineCurve"),Array.isArray(d)&&(a=new u(d[2],d[3]),d=new u(d[0],d[1])),this.p0=d,this.p1=a,this.arcLengthDivisions=1},getBounds:function(o){return void 0===o&&(o=new h),f([this.p0,this.p1],o)},getStartPoint:function(o){return void 0===o&&(o=new u),o.copy(this.p0)},getResolution:function(o){return void 0===o&&(o=1),o},getPoint:function(o,d){return void 0===d&&(d=new u),1===o?d.copy(this.p1):(d.copy(this.p1).subtract(this.p0).scale(o).add(this.p0),d)},getPointAt:function(o,d){return this.getPoint(o,d)},getTangent:function(o,d){return void 0===d&&(d=new u),d.copy(this.p1).subtract(this.p0).normalize(),d},getUtoTmapping:function(o,d,a){var c;if(d){var p=this.getLengths(a),v=p[p.length-1];c=Math.min(d,v)/v}else c=o;return c},draw:function(o){return o.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),o},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});s.fromJSON=function(o){var d=o.points,a=new u(d[0],d[1]),c=new u(d[2],d[3]);return new s(a,c)},C.exports=s},function(C,w,n){var l=n(0),m=n(3),f=new l({initialize:function(u,s){this.active=!1,this.p0=new m(u,s)},getPoint:function(h,u){return void 0===u&&(u=new m),u.copy(this.p0)},getPointAt:function(h,u){return this.getPoint(h,u)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});C.exports=f},function(C,w,n){var l=n(0),m=n(94),f=n(359),h=n(3),u=new l({Extends:m,initialize:function(o,d,a){m.call(this,"QuadraticBezier"),Array.isArray(o)&&(a=new h(o[4],o[5]),d=new h(o[2],o[3]),o=new h(o[0],o[1])),this.p0=o,this.p1=d,this.p2=a},getStartPoint:function(s){return void 0===s&&(s=new h),s.copy(this.p0)},getResolution:function(s){return s},getPoint:function(s,o){void 0===o&&(o=new h);var d=this.p0,a=this.p1,c=this.p2;return o.set(f(s,d.x,a.x,c.x),f(s,d.y,a.y,c.y))},draw:function(s,o){void 0===o&&(o=32);var d=this.getPoints(o);s.beginPath(),s.moveTo(this.p0.x,this.p0.y);for(var a=1;a<d.length;a++)s.lineTo(d[a].x,d[a].y);return s.strokePath(),s},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});u.fromJSON=function(s){var o=s.points,d=new h(o[0],o[1]),a=new h(o[2],o[3]),c=new h(o[4],o[5]);return new u(d,a,c)},C.exports=u},function(C,w,n){var l=n(194),m=n(0),f=n(94),h=n(3),u=new m({Extends:f,initialize:function(o){void 0===o&&(o=[]),f.call(this,"SplineCurve"),this.points=[],this.addPoints(o)},addPoints:function(s){for(var o=0;o<s.length;o++){var d=new h;"number"==typeof s[o]?(d.x=s[o],d.y=s[o+1],o++):Array.isArray(s[o])?(d.x=s[o][0],d.y=s[o][1]):(d.x=s[o].x,d.y=s[o].y),this.points.push(d)}return this},addPoint:function(s,o){var d=new h(s,o);return this.points.push(d),d},getStartPoint:function(s){return void 0===s&&(s=new h),s.copy(this.points[0])},getResolution:function(s){return s*this.points.length},getPoint:function(s,o){void 0===o&&(o=new h);var d=this.points,a=(d.length-1)*s,c=Math.floor(a),p=a-c,v=d[0===c?c:c-1],g=d[c],x=d[c>d.length-2?d.length-1:c+1],T=d[c>d.length-3?d.length-1:c+2];return o.set(l(p,v.x,g.x,x.x,T.x),l(p,v.y,g.y,x.y,T.y))},toJSON:function(){for(var s=[],o=0;o<this.points.length;o++)s.push(this.points[o].x),s.push(this.points[o].y);return{type:this.type,points:s}}});u.fromJSON=function(s){return new u(s.points)},C.exports=u},function(C,w,n){var m=new(n(0))({initialize:function(h,u,s,o){(!u||""===u)&&(u=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join("\n")),(!s||""===s)&&(s=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join("\n")),void 0===o&&(o=null),this.key=h,this.fragmentSrc=u,this.vertexSrc=s,this.uniforms=o}});C.exports=m},function(C,w,n){var l=n(38);l.ColorSpectrum=n(909),l.ColorToRGBA=n(910),l.ComponentToHex=n(398),l.GetColor=n(103),l.GetColor32=n(328),l.HexStringToColor=n(327),l.HSLToColor=n(911),l.HSVColorWheel=n(912),l.HSVToRGB=n(188),l.HueToComponent=n(399),l.IntegerToColor=n(189),l.IntegerToRGB=n(330),l.Interpolate=n(913),l.ObjectToColor=n(331),l.RandomRGB=n(914),l.RGBStringToColor=n(332),l.RGBToHSV=n(329),l.RGBToString=n(915),l.ValueToColor=n(187),C.exports=l},function(C,w){C.exports=function(l){var m=l.toString(16);return 1===m.length?"0"+m:m}},function(C,w){C.exports=function(l,m,f){return f<0&&(f+=1),f>1&&(f-=1),f<.16666666666666666?l+6*(m-l)*f:f<.5?m:f<.6666666666666666?l+(m-l)*(.6666666666666666-f)*6:l}},function(C,w,n){var l=n(105);C.exports=function(f){if("complete"!==document.readyState&&"interactive"!==document.readyState){var h=function(){document.removeEventListener("deviceready",h,!0),document.removeEventListener("DOMContentLoaded",h,!0),window.removeEventListener("load",h,!0),f()};document.body?l.cordova?document.addEventListener("deviceready",h,!1):(document.addEventListener("DOMContentLoaded",h,!0),window.addEventListener("load",h,!0)):window.setTimeout(h,20)}else f()}},function(C,w){C.exports=function(l){if(!l)return window.innerHeight;var m=Math.abs(window.orientation),f={w:0,h:0},h=document.createElement("div");return h.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(h),f.w=90===m?h.offsetHeight:window.innerWidth,f.h=90===m?window.innerWidth:h.offsetHeight,document.documentElement.removeChild(h),h=null,90!==Math.abs(window.orientation)?f.h:f.w}},function(C,w,n){var l=n(201);C.exports=function(f,h){var u=window.screen,s=!!u&&(u.orientation||u.mozOrientation||u.msOrientation);return s&&"string"==typeof s.type?s.type:"string"==typeof s?s:"number"==typeof window.orientation?0===window.orientation||180===window.orientation?l.ORIENTATION.PORTRAIT:l.ORIENTATION.LANDSCAPE:window.matchMedia?window.matchMedia("(orientation: portrait)").matches?l.ORIENTATION.PORTRAIT:window.matchMedia("(orientation: landscape)").matches?l.ORIENTATION.LANDSCAPE:void 0:h>f?l.ORIENTATION.PORTRAIT:l.ORIENTATION.LANDSCAPE}},function(C,w){C.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},function(C,w){C.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},function(C,w){C.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},function(C,w){C.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},function(C,w){C.exports=function(l){var m;return""!==l&&("string"==typeof l?m=document.getElementById(l):l&&1===l.nodeType&&(m=l)),m||(m=document.body),m}},function(C,w){C.exports=function(l){var m="";try{window.DOMParser?m=(new DOMParser).parseFromString(l,"text/xml"):(m=new ActiveXObject("Microsoft.XMLDOM")).loadXML(l)}catch(h){m=null}return m&&m.documentElement&&!m.getElementsByTagName("parsererror").length?m:null}},function(C,w,n){var l=n(0),m=n(203),f=n(9),h=n(51),u=n(22),s=n(410),o=n(411),d=n(412),a=n(413),c=n(25),p=n(177),v=new l({initialize:function(x,T){this.game=x,this.config=T,this.enabled=!0,this.events=new f,this.isOver=!0,this.defaultCursor="",this.keyboard=T.inputKeyboard?new s(this):null,this.mouse=T.inputMouse?new o(this):null,this.touch=T.inputTouch?new a(this):null,this.pointers=[],this.pointersTotal=T.inputActivePointers,T.inputTouch&&1===this.pointersTotal&&(this.pointersTotal=2);for(var S=0;S<=this.pointersTotal;S++){var D=new d(this,S);D.smoothFactor=T.inputSmoothFactor,this.pointers.push(D)}this.mousePointer=T.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new c,this._tempMatrix2=new c,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],x.events.once(u.BOOT,this.boot,this)},boot:function(){this.canvas=this.game.canvas,this.scaleManager=this.game.scale,this.events.emit(h.MANAGER_BOOT),this.game.events.on(u.PRE_RENDER,this.preRender,this),this.game.events.once(u.DESTROY,this.destroy,this)},setCanvasOver:function(g){this.isOver=!0,this.events.emit(h.GAME_OVER,g)},setCanvasOut:function(g){this.isOver=!1,this.events.emit(h.GAME_OUT,g)},preRender:function(){var g=this.game.loop.now,x=this.game.loop.delta,T=this.game.scene.getScenes(!0,!0);this.time=g,this.events.emit(h.MANAGER_UPDATE);for(var S=0;S<T.length;S++){var D=T[S];if(D.sys.input&&D.sys.input.updatePoll(g,x)&&this.globalTopOnly)return}},setDefaultCursor:function(g){this.defaultCursor=g,this.canvas.style.cursor!==g&&(this.canvas.style.cursor=g)},setCursor:function(g){g.cursor&&(this.canvas.style.cursor=g.cursor)},resetCursor:function(g){g.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(g){void 0===g&&(g=1);var x=[];this.pointersTotal+g>10&&(g=10-this.pointersTotal);for(var T=0;T<g;T++){var D=new d(this,this.pointers.length);D.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(D),this.pointersTotal++,x.push(D)}return x},updateInputPlugins:function(g,x){var T=this.game.scene.getScenes(!0,!0);this._tempSkip=!1;for(var S=0;S<T.length;S++){var D=T[S];if(D.sys.input&&(D.sys.input.update(g,x)&&this.globalTopOnly||this._tempSkip))return}},onTouchStart:function(g){for(var x=this.pointers,T=[],S=0;S<g.changedTouches.length;S++)for(var D=g.changedTouches[S],M=1;M<this.pointersTotal;M++){var R=x[M];if(!R.active){R.touchstart(D,g),this.activePointer=R,T.push(R);break}}this.updateInputPlugins(m.TOUCH_START,T)},onTouchMove:function(g){for(var x=this.pointers,T=[],S=0;S<g.changedTouches.length;S++)for(var D=g.changedTouches[S],M=1;M<this.pointersTotal;M++){var R=x[M];if(R.active&&R.identifier===D.identifier){R.touchmove(D,g),this.activePointer=R,T.push(R);break}}this.updateInputPlugins(m.TOUCH_MOVE,T)},onTouchEnd:function(g){for(var x=this.pointers,T=[],S=0;S<g.changedTouches.length;S++)for(var D=g.changedTouches[S],M=1;M<this.pointersTotal;M++){var R=x[M];if(R.active&&R.identifier===D.identifier){R.touchend(D,g),T.push(R);break}}this.updateInputPlugins(m.TOUCH_END,T)},onTouchCancel:function(g){for(var x=this.pointers,T=[],S=0;S<g.changedTouches.length;S++)for(var D=g.changedTouches[S],M=1;M<this.pointersTotal;M++){var R=x[M];if(R.active&&R.identifier===D.identifier){R.touchcancel(D,g),T.push(R);break}}this.updateInputPlugins(m.TOUCH_CANCEL,T)},onMouseDown:function(g){var x=this.mousePointer;x.down(g),x.updateMotion(),this.activePointer=x,this.updateInputPlugins(m.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(g){var x=this.mousePointer;x.move(g),x.updateMotion(),this.activePointer=x,this.updateInputPlugins(m.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(g){var x=this.mousePointer;x.up(g),x.updateMotion(),this.activePointer=x,this.updateInputPlugins(m.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(g){var x=this.mousePointer;x.wheel(g),this.activePointer=x,this.updateInputPlugins(m.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(g){var x=this.mouse.locked;this.mousePointer.locked=x,this.events.emit(h.POINTERLOCK_CHANGE,g,x)},inputCandidate:function(g,x){var T=g.input;if(!T||!T.enabled||!T.alwaysEnabled&&!g.willRender(x))return!1;var S=!0,D=g.parentContainer;if(D)do{if(!D.willRender(x)){S=!1;break}D=D.parentContainer}while(D);return S},hitTest:function(g,x,T,S){void 0===S&&(S=this._tempHitTest);var D=this._tempPoint,M=T.scrollX,R=T.scrollY;S.length=0,T.getWorldPoint(g.x,g.y,D),g.worldX=D.x,g.worldY=D.y;for(var b={x:0,y:0},L=this._tempMatrix,B=this._tempMatrix2,V=0;V<x.length;V++){var z=x[V];if(this.inputCandidate(z,T)){var W=D.x+M*z.scrollFactorX-M,K=D.y+R*z.scrollFactorY-R;z.parentContainer?(z.getWorldTransformMatrix(L,B),L.applyInverse(W,K,b)):p(W,K,z.x,z.y,z.rotation,z.scaleX,z.scaleY,b),this.pointWithinHitArea(z,b.x,b.y)&&S.push(z)}}return S},pointWithinHitArea:function(g,x,T){x+=g.displayOriginX,T+=g.displayOriginY;var S=g.input;return!(!S||!S.hitAreaCallback(S.hitArea,x,T,g)||(S.localX=x,S.localY=T,0))},pointWithinInteractiveObject:function(g,x,T){return!!g.hitArea&&(T+=g.gameObject.displayOriginY,g.localX=x+=g.gameObject.displayOriginX,g.localY=T,g.hitAreaCallback(g.hitArea,x,T,g))},transformPointer:function(g,x,T,S){var D=g.position,M=g.prevPosition;M.x=D.x,M.y=D.y;var R=this.scaleManager.transformX(x),P=this.scaleManager.transformY(T),I=g.smoothFactor;S&&0!==I?(D.x=R*I+M.x*(1-I),D.y=P*I+M.y*(1-I)):(D.x=R,D.y=P)},destroy:function(){this.events.removeAllListeners(),this.game.events.off(u.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var g=0;g<this.pointers.length;g++)this.pointers[g].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});C.exports=v},function(C,w,n){var l=n(93),m=n(0),f=n(22),h=n(51),u=n(143),s=n(1),o=new m({initialize:function(a){this.manager=a,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.onKeyDown=s,this.onKeyUp=s,a.events.once(h.MANAGER_BOOT,this.boot,this)},boot:function(){var d=this.manager.config;this.enabled=d.inputKeyboard,this.target=d.inputKeyboardEventTarget,this.addCapture(d.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(f.POST_STEP,this.postUpdate,this)},startListeners:function(){var d=this;this.onKeyDown=function(c){!c.defaultPrevented&&d.enabled&&d.manager&&(d.queue.push(c),d.manager.events.emit(h.MANAGER_PROCESS),d.preventDefault&&!(c.altKey||c.ctrlKey||c.shiftKey||c.metaKey)&&d.captures.indexOf(c.keyCode)>-1&&c.preventDefault())},this.onKeyUp=function(c){!c.defaultPrevented&&d.enabled&&d.manager&&(d.queue.push(c),d.manager.events.emit(h.MANAGER_PROCESS),d.preventDefault&&!(c.altKey||c.ctrlKey||c.shiftKey||c.metaKey)&&d.captures.indexOf(c.keyCode)>-1&&c.preventDefault())};var a=this.target;a&&(a.addEventListener("keydown",this.onKeyDown,!1),a.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var d=this.target;d.removeEventListener("keydown",this.onKeyDown,!1),d.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(d){"string"==typeof d&&(d=d.split(",")),Array.isArray(d)||(d=[d]);for(var a=this.captures,c=0;c<d.length;c++){var p=d[c];"string"==typeof p&&(p=u[p.trim().toUpperCase()]),-1===a.indexOf(p)&&a.push(p)}this.preventDefault=a.length>0},removeCapture:function(d){"string"==typeof d&&(d=d.split(",")),Array.isArray(d)||(d=[d]);for(var a=this.captures,c=0;c<d.length;c++){var p=d[c];"string"==typeof p&&(p=u[p.toUpperCase()]),l(a,p)}this.preventDefault=a.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(f.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});C.exports=o},function(C,w,n){var l=n(0),m=n(191),f=n(51),h=n(1),u=new l({initialize:function(o){this.manager=o,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.locked=!1,this.onMouseMove=h,this.onMouseDown=h,this.onMouseUp=h,this.onMouseDownWindow=h,this.onMouseUpWindow=h,this.onMouseOver=h,this.onMouseOut=h,this.onMouseWheel=h,this.pointerLockChange=h,this.isTop=!0,o.events.once(f.MANAGER_BOOT,this.boot,this)},boot:function(){var s=this.manager.config;this.enabled=s.inputMouse,this.target=s.inputMouseEventTarget,this.passive=s.inputMousePassive,this.preventDefaultDown=s.inputMousePreventDefaultDown,this.preventDefaultUp=s.inputMousePreventDefaultUp,this.preventDefaultMove=s.inputMousePreventDefaultMove,this.preventDefaultWheel=s.inputMousePreventDefaultWheel,this.target?"string"==typeof this.target&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,s.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(s){return s.preventDefault(),!1}),this},requestPointerLock:function(){if(m.pointerLock){var s=this.target;s.requestPointerLock=s.requestPointerLock||s.mozRequestPointerLock||s.webkitRequestPointerLock,s.requestPointerLock()}},releasePointerLock:function(){m.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var s=this.target;if(s){var o=this,d=this.manager,a=d.canvas,c=window&&window.focus&&d.game.config.autoFocus;this.onMouseMove=function(v){!v.defaultPrevented&&o.enabled&&d&&d.enabled&&(d.onMouseMove(v),o.preventDefaultMove&&v.preventDefault())},this.onMouseDown=function(v){c&&window.focus(),!v.defaultPrevented&&o.enabled&&d&&d.enabled&&(d.onMouseDown(v),o.preventDefaultDown&&v.target===a&&v.preventDefault())},this.onMouseDownWindow=function(v){!v.defaultPrevented&&o.enabled&&d&&d.enabled&&v.target!==a&&d.onMouseDown(v)},this.onMouseUp=function(v){!v.defaultPrevented&&o.enabled&&d&&d.enabled&&(d.onMouseUp(v),o.preventDefaultUp&&v.target===a&&v.preventDefault())},this.onMouseUpWindow=function(v){!v.defaultPrevented&&o.enabled&&d&&d.enabled&&v.target!==a&&d.onMouseUp(v)},this.onMouseOver=function(v){!v.defaultPrevented&&o.enabled&&d&&d.enabled&&d.setCanvasOver(v)},this.onMouseOut=function(v){!v.defaultPrevented&&o.enabled&&d&&d.enabled&&d.setCanvasOut(v)},this.onMouseWheel=function(v){!v.defaultPrevented&&o.enabled&&d&&d.enabled&&d.onMouseWheel(v),o.preventDefaultWheel&&v.target===a&&v.preventDefault()};var p={passive:!0};if(s.addEventListener("mousemove",this.onMouseMove),s.addEventListener("mousedown",this.onMouseDown),s.addEventListener("mouseup",this.onMouseUp),s.addEventListener("mouseover",this.onMouseOver,p),s.addEventListener("mouseout",this.onMouseOut,p),s.addEventListener("wheel",this.onMouseWheel,this.preventDefaultWheel?{passive:!1}:p),window&&d.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,p),window.top.addEventListener("mouseup",this.onMouseUpWindow,p)}catch(v){window.addEventListener("mousedown",this.onMouseDownWindow,p),window.addEventListener("mouseup",this.onMouseUpWindow,p),this.isTop=!1}m.pointerLock&&(this.pointerLockChange=function(v){var g=o.target;o.locked=document.pointerLockElement===g||document.mozPointerLockElement===g||document.webkitPointerLockElement===g,d.onPointerLockChange(v)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var s=this.target;s.removeEventListener("mousemove",this.onMouseMove),s.removeEventListener("mousedown",this.onMouseDown),s.removeEventListener("mouseup",this.onMouseUp),s.removeEventListener("mouseover",this.onMouseOver),s.removeEventListener("mouseout",this.onMouseOut),window&&((s=this.isTop?window.top:window).removeEventListener("mousedown",this.onMouseDownWindow),s.removeEventListener("mouseup",this.onMouseUpWindow)),m.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});C.exports=u},function(C,w,n){var l=n(349),m=n(0),f=n(50),h=n(124),u=n(360),s=n(3),o=n(105),d=new m({initialize:function(c,p){this.manager=c,this.id=p,this.camera=null,this.button=0,this.buttons=0,this.position=new s,this.prevPosition=new s,this.midPoint=new s(-1,-1),this.velocity=new s,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=0===p,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(a){var c=a.getWorldPoint(this.x,this.y);return this.worldX=c.x,this.worldY=c.y,this},positionToCamera:function(a,c){return a.getWorldPoint(this.x,this.y,c)},updateMotion:function(){var a=this.position.x,c=this.position.y,p=this.midPoint.x,v=this.midPoint.y;if(a!==p||c!==v){var g=u(this.motionFactor,p,a),x=u(this.motionFactor,v,c);h(g,a,.1)&&(g=a),h(x,c,.1)&&(x=c),this.midPoint.set(g,x);var T=a-g,S=c-x;this.velocity.set(T,S),this.angle=l(g,x,a,c),this.distance=Math.sqrt(T*T+S*S)}},up:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.button=a.button,this.upElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),0===a.button&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),0===this.buttons&&(this.isDown=!1,this.upTime=a.timeStamp,this.wasTouch=!1)},down:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.button=a.button,this.downElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),0===a.button&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),o.macOS&&a.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=a.timeStamp),this.wasTouch=!1},move:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.manager.transformPointer(this,a.pageX,a.pageY,!0),this.locked&&(this.movementX=a.movementX||a.mozMovementX||a.webkitMovementX||0,this.movementY=a.movementY||a.mozMovementY||a.webkitMovementY||0),this.moveTime=a.timeStamp,this.wasTouch=!1},wheel:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.deltaX=a.deltaX,this.deltaY=a.deltaY,this.deltaZ=a.deltaZ,this.wasTouch=!1},touchstart:function(a,c){a.pointerId&&(this.pointerId=a.pointerId),this.identifier=a.identifier,this.target=a.target,this.active=!0,this.buttons=1,this.event=c,this.downElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=c.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(a,c){this.event=c,this.manager.transformPointer(this,a.pageX,a.pageY,!0),this.moveTime=c.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(a,c){this.buttons=0,this.event=c,this.upElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=c.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(a,c){this.buttons=0,this.event=c,this.upElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=c.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return 0===this.buttons},leftButtonDown:function(){return!!(1&this.buttons)},rightButtonDown:function(){return!!(2&this.buttons)},middleButtonDown:function(){return!!(4&this.buttons)},backButtonDown:function(){return!!(8&this.buttons)},forwardButtonDown:function(){return!!(16&this.buttons)},leftButtonReleased:function(){return 0===this.button&&!this.isDown},rightButtonReleased:function(){return 2===this.button&&!this.isDown},middleButtonReleased:function(){return 1===this.button&&!this.isDown},backButtonReleased:function(){return 3===this.button&&!this.isDown},forwardButtonReleased:function(){return 4===this.button&&!this.isDown},getDistance:function(){return this.isDown?f(this.downX,this.downY,this.x,this.y):f(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?l(this.downX,this.downY,this.x,this.y):l(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(a,c){void 0===a&&(a=10),void 0===c&&(c=[]);for(var p=this.prevPosition.x,v=this.prevPosition.y,g=this.position.x,x=this.position.y,T=0;T<a;T++){var S=1/a*T;c[T]={x:u(S,p,g),y:u(S,v,x)}}return c},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(a){this.position.x=a}},y:{get:function(){return this.position.y},set:function(a){this.position.y=a}},time:{get:function(){return this.event?this.event.timeStamp:0}}});C.exports=d},function(C,w,n){var l=n(0),m=n(51),f=n(1),h=new l({initialize:function(s){this.manager=s,this.capture=!0,this.enabled=!1,this.onTouchStart=f,this.onTouchStartWindow=f,this.onTouchMove=f,this.onTouchEnd=f,this.onTouchEndWindow=f,this.onTouchCancel=f,this.onTouchCancelWindow=f,this.onTouchOver=f,this.onTouchOut=f,s.events.once(m.MANAGER_BOOT,this.boot,this)},boot:function(){var u=this.manager.config;this.enabled=u.inputTouch,this.target=u.inputTouchEventTarget,this.capture=u.inputTouchCapture,this.target||(this.target=this.manager.game.canvas),u.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(u){return u.preventDefault(),!1}),this},startListeners:function(){var u=this,s=this.manager.canvas,o=window&&window.focus&&this.manager.game.config.autoFocus;this.onTouchStart=function(p){o&&window.focus(),!p.defaultPrevented&&u.enabled&&u.manager&&u.manager.enabled&&(u.manager.onTouchStart(p),u.capture&&p.cancelable&&p.target===s&&p.preventDefault())},this.onTouchStartWindow=function(p){!p.defaultPrevented&&u.enabled&&u.manager&&u.manager.enabled&&p.target!==s&&u.manager.onTouchStart(p)},this.onTouchMove=function(p){!p.defaultPrevented&&u.enabled&&u.manager&&u.manager.enabled&&(u.manager.onTouchMove(p),u.capture&&p.cancelable&&p.preventDefault())},this.onTouchEnd=function(p){!p.defaultPrevented&&u.enabled&&u.manager&&u.manager.enabled&&(u.manager.onTouchEnd(p),u.capture&&p.cancelable&&p.target===s&&p.preventDefault())},this.onTouchEndWindow=function(p){!p.defaultPrevented&&u.enabled&&u.manager&&u.manager.enabled&&p.target!==s&&u.manager.onTouchEnd(p)},this.onTouchCancel=function(p){!p.defaultPrevented&&u.enabled&&u.manager&&u.manager.enabled&&(u.manager.onTouchCancel(p),u.capture&&p.preventDefault())},this.onTouchCancelWindow=function(p){!p.defaultPrevented&&u.enabled&&u.manager&&u.manager.enabled&&u.manager.onTouchCancel(p)},this.onTouchOver=function(p){!p.defaultPrevented&&u.enabled&&u.manager&&u.manager.enabled&&u.manager.setCanvasOver(p)},this.onTouchOut=function(p){!p.defaultPrevented&&u.enabled&&u.manager&&u.manager.enabled&&u.manager.setCanvasOut(p)};var d=this.target;if(d){var a={passive:!0},c={passive:!1};d.addEventListener("touchstart",this.onTouchStart,this.capture?c:a),d.addEventListener("touchmove",this.onTouchMove,this.capture?c:a),d.addEventListener("touchend",this.onTouchEnd,this.capture?c:a),d.addEventListener("touchcancel",this.onTouchCancel,this.capture?c:a),d.addEventListener("touchover",this.onTouchOver,this.capture?c:a),d.addEventListener("touchout",this.onTouchOut,this.capture?c:a),window&&this.manager.game.config.inputWindowEvents&&(window.addEventListener("touchstart",this.onTouchStartWindow,c),window.addEventListener("touchend",this.onTouchEndWindow,c),window.addEventListener("touchcancel",this.onTouchCancelWindow,c)),this.enabled=!0}},stopListeners:function(){var u=this.target;u.removeEventListener("touchstart",this.onTouchStart),u.removeEventListener("touchmove",this.onTouchMove),u.removeEventListener("touchend",this.onTouchEnd),u.removeEventListener("touchcancel",this.onTouchCancel),u.removeEventListener("touchover",this.onTouchOver),u.removeEventListener("touchout",this.onTouchOut),window&&(window.removeEventListener("touchstart",this.onTouchStartWindow),window.removeEventListener("touchend",this.onTouchEndWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});C.exports=h},function(C,w,n){var l=n(0),m=n(22),f=n(9),h=n(8),u=n(16),s=n(5),o=n(2),d=n(24),a=n(93),c=new l({Extends:f,initialize:function(v){f.call(this),this.game=v,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],v.isBooted?this.boot():v.events.once(m.BOOT,this.boot,this)},boot:function(){var p,v,g,x,T,S,D,M=this.game.config,R=M.installGlobalPlugins;for(R=R.concat(this._pendingGlobal),p=0;p<R.length;p++)g=o(v=R[p],"key",null),x=o(v,"plugin",null),T=o(v,"start",!1),S=o(v,"mapping",null),D=o(v,"data",null),g&&(x?this.install(g,x,T,S,D):console.warn("Missing `plugin` for key: "+g));for(R=(R=M.installScenePlugins).concat(this._pendingScene),p=0;p<R.length;p++)g=o(v=R[p],"key",null),x=o(v,"plugin",null),S=o(v,"mapping",null),g&&(x?this.installScenePlugin(g,x,S):console.warn("Missing `plugin` for key: "+g));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(m.DESTROY,this.destroy,this)},addToScene:function(p,v,g){var x,T,S,D=this.game,M=p.scene,R=p.settings.map,P=p.settings.isBooted;for(x=0;x<v.length;x++)D[T=v[x]]?(p[T]=D[T],R.hasOwnProperty(T)&&(M[R[T]]=p[T])):"game"===T&&R.hasOwnProperty(T)&&(M[R[T]]=D);for(var I=0;I<g.length;I++)for(S=g[I],x=0;x<S.length;x++)if(d.hasCore(T=S[x])){var b=d.getCore(T),L=b.mapping,B=new b.plugin(M,this,L);p[L]=B,b.custom?M[L]=B:R.hasOwnProperty(L)&&(M[R[L]]=B),P&&B.boot()}for(S=this.plugins,x=0;x<S.length;x++){var V=S[x];V.mapping&&(M[V.mapping]=V.plugin)}},getDefaultScenePlugins:function(){var p=this.game.config.defaultPlugins;return p.concat(this.scenePlugins)},installScenePlugin:function(p,v,g,x,T){if(void 0===T&&(T=!1),"function"==typeof v){if(d.hasCore(p)){if(!T&&d.hasCore(p))return void console.warn("Scene Plugin key in use: "+p)}else d.register(p,v,g,!0),this.scenePlugins.push(p);if(x){var S=new v(x,this,p);x.sys[p]=S,g&&""!==g&&(x[g]=S),S.boot()}}else console.warn("Invalid Scene Plugin: "+p)},install:function(p,v,g,x,T){if(void 0===g&&(g=!1),void 0===x&&(x=null),void 0===T&&(T=null),"function"!=typeof v)return console.warn("Invalid Plugin: "+p),null;if(d.hasCustom(p))return console.warn("Plugin key in use: "+p),null;if(null!==x&&(g=!0),this.game.isBooted){if(d.registerCustom(p,v,x,T),g)return this.start(p)}else this._pendingGlobal.push({key:p,plugin:v,start:g,mapping:x,data:T});return null},getIndex:function(p){for(var v=this.plugins,g=0;g<v.length;g++)if(v[g].key===p)return g;return-1},getEntry:function(p){var v=this.getIndex(p);if(-1!==v)return this.plugins[v]},isActive:function(p){var v=this.getEntry(p);return v&&v.active},start:function(p,v){void 0===v&&(v=p);var g=this.getEntry(v);return g&&!g.active?(g.active=!0,g.plugin.start()):g||(g=this.createEntry(p,v)),g?g.plugin:null},createEntry:function(p,v){var g=d.getCustom(p);if(g){var x=new g.plugin(this);this.plugins.push(g={key:v,plugin:x,active:!0,mapping:g.mapping,data:g.data}),x.init(g.data),x.start()}return g},stop:function(p){var v=this.getEntry(p);return v&&v.active&&(v.active=!1,v.plugin.stop()),this},get:function(p,v){void 0===v&&(v=!0);var g=this.getEntry(p);if(g)return g.plugin;var x=this.getClass(p);return x&&v?(g=this.createEntry(p,p))?g.plugin:null:x||null},getClass:function(p){return d.getCustomClass(p)},removeGlobalPlugin:function(p){var v=this.getEntry(p);v&&a(this.plugins,v),d.removeCustom(p)},removeScenePlugin:function(p){a(this.scenePlugins,p),d.remove(p)},registerGameObject:function(p,v,g){return v&&s.register(p,v),g&&u.register(p,g),this},removeGameObject:function(p,v,g){return void 0===v&&(v=!0),void 0===g&&(g=!0),v&&s.remove(p),g&&u.remove(p),this},registerFileType:function(p,v,g){h.register(p,v),g&&g.sys.load&&(g.sys.load[p]=v)},destroy:function(){for(var p=0;p<this.plugins.length;p++)this.plugins[p].plugin.destroy();d.destroyCustomPlugins(),this.game.noReturn&&d.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});C.exports=c},function(C,w,n){var l=n(201),m=n(0),f=n(9),h=n(104),u=n(22),s=n(401),o=n(407),d=n(402),a=n(1),c=n(10),p=n(416),v=n(76),g=n(3),x=new m({Extends:f,initialize:function(S){f.call(this),this.game=S,this.canvasBounds=new c,this.parent=null,this.parentIsWindow=!1,this.parentSize=new p,this.gameSize=new p,this.baseSize=new p,this.displaySize=new p,this.scaleMode=l.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new g(1,1),this.autoRound=!1,this.autoCenter=l.CENTER.NO_CENTER,this.orientation=l.ORIENTATION.LANDSCAPE,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.listeners={orientationChange:a,windowResize:a,fullScreenChange:a,fullScreenError:a}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(u.BOOT,this.boot,this)},boot:function(){var T=this.game;this.canvas=T.canvas,this.fullscreen=T.device.fullscreen,this.scaleMode!==l.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===l.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),T.events.on(u.PRE_STEP,this.step,this),T.events.once(u.READY,this.refresh,this),T.events.once(u.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(T){this.getParent(T),this.getParentBounds();var S=T.width,D=T.height,M=T.scaleMode,R=T.zoom,P=T.autoRound;if("string"==typeof S){var I=this.parentSize.width;0===I&&(I=window.innerWidth);var b=parseInt(S,10)/100;S=Math.floor(I*b)}if("string"==typeof D){var L=this.parentSize.height;0===L&&(L=window.innerHeight);var B=parseInt(D,10)/100;D=Math.floor(L*B)}this.scaleMode=M,this.autoRound=P,this.autoCenter=T.autoCenter,this.resizeInterval=T.resizeInterval,P&&(S=Math.floor(S),D=Math.floor(D)),this.gameSize.setSize(S,D),R===l.ZOOM.MAX_ZOOM&&(R=this.getMaxZoom()),this.zoom=R,1!==R&&(this._resetZoom=!0),this.baseSize.setSize(S,D),P&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),T.minWidth>0&&this.displaySize.setMin(T.minWidth*R,T.minHeight*R),T.maxWidth>0&&this.displaySize.setMax(T.maxWidth*R,T.maxHeight*R),this.displaySize.setSize(S,D),this.orientation=d(S,D)},getParent:function(T){var S=T.parent;if(null!==S){if(this.parent=o(S),this.parentIsWindow=this.parent===document.body,T.expandParent&&T.scaleMode!==l.SCALE_MODE.NONE){var D=this.parent.getBoundingClientRect();(this.parentIsWindow||0===D.height)&&(document.documentElement.style.height="100%",document.body.style.height="100%",D=this.parent.getBoundingClientRect(),!this.parentIsWindow&&0===D.height&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}T.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=o(T.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var T=this.parentSize,S=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(S.height=s(!0));var D=S.width,M=S.height;return(T.width!==D||T.height!==M)&&(T.setSize(D,M),!0)},lockOrientation:function(T){var S=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return!!S&&S.call(screen,T)},setParentSize:function(T,S){return this.parentSize.setSize(T,S),this.refresh()},setGameSize:function(T,S){var D=this.autoRound;D&&(T=Math.floor(T),S=Math.floor(S));var M=this.width,R=this.height;return this.gameSize.resize(T,S),this.baseSize.resize(T,S),D&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(T/S),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(M,R)},resize:function(T,S){var D=this.zoom,M=this.autoRound;M&&(T=Math.floor(T),S=Math.floor(S));var R=this.width,P=this.height;this.gameSize.resize(T,S),this.baseSize.resize(T,S),M&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(T*D,S*D),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var I=this.canvas.style,b=T*D,L=S*D;return M&&(b=Math.floor(b),L=Math.floor(L)),(b!==T||L!==S)&&(I.width=b+"px",I.height=L+"px"),this.refresh(R,P)},setZoom:function(T){return this.zoom=T,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(T,S){void 0===T&&(T=this.width),void 0===S&&(S=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var D=this.game.domContainer;if(D){this.baseSize.setCSS(D);var M=this.canvas.style,R=D.style;R.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",R.marginLeft=M.marginLeft,R.marginTop=M.marginTop}return this.emit(h.RESIZE,this.gameSize,this.baseSize,this.displaySize,T,S),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var T=d(this.width,this.height);T!==this.orientation&&(this.orientation=T,this.emit(h.ORIENTATION_CHANGE,T))}},updateScale:function(){var M,R,T=this.canvas.style,P=this.zoom,I=this.autoRound;this.scaleMode===l.SCALE_MODE.NONE?(this.displaySize.setSize(this.gameSize.width*P,this.gameSize.height*P),M=this.displaySize.width,R=this.displaySize.height,I&&(M=Math.floor(M),R=Math.floor(R)),this._resetZoom&&(T.width=M+"px",T.height=R+"px",this._resetZoom=!1)):this.scaleMode===l.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),M=this.displaySize.width,R=this.displaySize.height,I&&(M=Math.floor(M),R=Math.floor(R)),this.canvas.width=M,this.canvas.height=R):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),M=this.displaySize.width,R=this.displaySize.height,I&&(M=Math.floor(M),R=Math.floor(R)),T.width=M+"px",T.height=R+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var T=v(this.parentSize.width,this.gameSize.width,0,!0),S=v(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(T,S),1)},updateCenter:function(){var T=this.autoCenter;if(T!==l.CENTER.NO_CENTER){var S=this.canvas,D=S.style,M=S.getBoundingClientRect(),P=M.height,I=Math.floor((this.parentSize.width-M.width)/2),b=Math.floor((this.parentSize.height-P)/2);T===l.CENTER.CENTER_HORIZONTALLY?b=0:T===l.CENTER.CENTER_VERTICALLY&&(I=0),D.marginLeft=I+"px",D.marginTop=b+"px"}},updateBounds:function(){var T=this.canvasBounds,S=this.canvas.getBoundingClientRect();T.x=S.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),T.y=S.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),T.width=S.width,T.height=S.height},transformX:function(T){return(T-this.canvasBounds.left)*this.displayScale.x},transformY:function(T){return(T-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(T){void 0===T&&(T={navigationUI:"hide"});var S=this.fullscreen;if(S.available){if(!S.active){this.getFullscreenTarget()[S.request](S.keyboard?Element.ALLOW_KEYBOARD_INPUT:T)}}else this.emit(h.FULLSCREEN_UNSUPPORTED)},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(h.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(T){this.removeFullscreenTarget(),this.emit(h.FULLSCREEN_FAILED,T)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var T=document.createElement("div");T.style.margin="0",T.style.padding="0",T.style.width="100%",T.style.height="100%",this.fullscreenTarget=T,this._createdFullscreenTarget=!0}return this._createdFullscreenTarget&&(this.canvas.parentNode.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)),this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var T=this.fullscreenTarget;if(T&&T.parentNode){var S=T.parentNode;S.insertBefore(this.canvas,T),S.removeChild(T)}}},stopFullscreen:function(){var T=this.fullscreen;if(!T.available)return this.emit(h.FULLSCREEN_UNSUPPORTED),!1;T.active&&document[T.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(h.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(T){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(T)},startListeners:function(){var T=this,S=this.listeners;S.orientationChange=function(){T.updateBounds(),T._checkOrientation=!0,T.dirty=!0},S.windowResize=function(){T.updateBounds(),T.dirty=!0},window.addEventListener("orientationchange",S.orientationChange,!1),window.addEventListener("resize",S.windowResize,!1),this.fullscreen.available&&(S.fullScreenChange=function(M){return T.onFullScreenChange(M)},S.fullScreenError=function(M){return T.onFullScreenError(M)},["webkit","moz",""].forEach(function(M){document.addEventListener(M+"fullscreenchange",S.fullScreenChange,!1),document.addEventListener(M+"fullscreenerror",S.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",S.fullScreenChange,!1),document.addEventListener("MSFullscreenError",S.fullScreenError,!1))},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},step:function(T,S){!this.parent||(this._lastCheck+=S,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var T=this.listeners;window.removeEventListener("orientationchange",T.orientationChange,!1),window.removeEventListener("resize",T.windowResize,!1),["webkit","moz",""].forEach(function(D){document.removeEventListener(D+"fullscreenchange",T.fullScreenChange,!1),document.removeEventListener(D+"fullscreenerror",T.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",T.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",T.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===l.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===l.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});C.exports=x},function(C,w,n){var l=n(18),m=n(0),f=n(76),h=n(3),u=new m({initialize:function(o,d,a,c){void 0===o&&(o=0),void 0===d&&(d=o),void 0===a&&(a=0),void 0===c&&(c=null),this._width=o,this._height=d,this._parent=c,this.aspectMode=a,this.aspectRatio=0===d?1:o/d,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new h},setAspectMode:function(s){return void 0===s&&(s=0),this.aspectMode=s,this.setSize(this._width,this._height)},setSnap:function(s,o){return void 0===s&&(s=0),void 0===o&&(o=s),this.snapTo.set(s,o),this.setSize(this._width,this._height)},setParent:function(s){return this._parent=s,this.setSize(this._width,this._height)},setMin:function(s,o){return void 0===s&&(s=0),void 0===o&&(o=s),this.minWidth=l(s,0,this.maxWidth),this.minHeight=l(o,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(s,o){return void 0===s&&(s=Number.MAX_VALUE),void 0===o&&(o=s),this.maxWidth=l(s,this.minWidth,Number.MAX_VALUE),this.maxHeight=l(o,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(s,o){switch(void 0===s&&(s=0),void 0===o&&(o=s),this.aspectMode){case u.NONE:this._width=this.getNewWidth(f(s,this.snapTo.x)),this._height=this.getNewHeight(f(o,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height;break;case u.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(f(s,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case u.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(f(o,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case u.FIT:this.constrain(s,o,!0);break;case u.ENVELOP:this.constrain(s,o,!1)}return this},setAspectRatio:function(s){return this.aspectRatio=s,this.setSize(this._width,this._height)},resize:function(s,o){return this._width=this.getNewWidth(f(s,this.snapTo.x)),this._height=this.getNewHeight(f(o,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height,this},getNewWidth:function(s,o){return void 0===o&&(o=!0),s=l(s,this.minWidth,this.maxWidth),o&&this._parent&&s>this._parent.width&&(s=Math.max(this.minWidth,this._parent.width)),s},getNewHeight:function(s,o){return void 0===o&&(o=!0),s=l(s,this.minHeight,this.maxHeight),o&&this._parent&&s>this._parent.height&&(s=Math.max(this.minHeight,this._parent.height)),s},constrain:function(s,o,d){void 0===s&&(s=0),void 0===o&&(o=s),void 0===d&&(d=!0),s=this.getNewWidth(s),o=this.getNewHeight(o);var a=this.snapTo,c=0===o?1:s/o;return d&&this.aspectRatio>c||!d&&this.aspectRatio<c?(o=(s=f(s,a.x))/this.aspectRatio,a.y>0&&(s=(o=f(o,a.y))*this.aspectRatio)):(d&&this.aspectRatio<c||!d&&this.aspectRatio>c)&&(s=(o=f(o,a.y))*this.aspectRatio,a.x>0&&(o=(s=f(s,a.x))*(1/this.aspectRatio))),this._width=s,this._height=o,this},fitTo:function(s,o){return this.constrain(s,o,!0)},envelop:function(s,o){return this.constrain(s,o,!1)},setWidth:function(s){return this.setSize(s,this._height)},setHeight:function(s){return this.setSize(this._width,s)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(s){s&&s.style&&(s.style.width=this._width+"px",s.style.height=this._height+"px")},copy:function(s){return s.setAspectMode(this.aspectMode),s.aspectRatio=this.aspectRatio,s.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(s){this.setSize(s,this._height)}},height:{get:function(){return this._height},set:function(s){this.setSize(this._width,s)}}});u.NONE=0,u.WIDTH_CONTROLS_HEIGHT=1,u.HEIGHT_CONTROLS_WIDTH=2,u.FIT=3,u.ENVELOP=4,C.exports=u},function(C,w,n){var l=n(0),m=n(144),f=n(20),h=n(22),u=n(6),s=n(95),o=n(1),d=n(418),a=n(204),c=new l({initialize:function(v,g){if(this.game=v,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,g){Array.isArray(g)||(g=[g]);for(var x=0;x<g.length;x++)this._pending.push({key:"default",scene:g[x],autoStart:0===x,data:{}})}v.events.once(h.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var p,v,g,x;for(p=0;p<this._pending.length;p++){var T;g=(v=this._pending[p]).key,(x=v.scene)instanceof d?T=this.createSceneFromInstance(g,x):"object"==typeof x?T=this.createSceneFromObject(g,x):"function"==typeof x&&(T=this.createSceneFromFunction(g,x)),this.keys[g=T.sys.settings.key]=T,this.scenes.push(T),this._data[g]&&(T.sys.settings.data=this._data[g].data,this._data[g].autoStart&&(v.autoStart=!0)),(v.autoStart||T.sys.settings.active)&&this._start.push(g)}for(this._pending.length=0,this._data={},this.isBooted=!0,p=0;p<this._start.length;p++)this.start(v=this._start[p]);this._start.length=0}},processQueue:function(){var p=this._pending.length;if(0!==p||0!==this._queue.length){var g,x;if(p){for(g=0;g<p;g++)this.add((x=this._pending[g]).key,x.scene,x.autoStart,x.data);for(g=0;g<this._start.length;g++)this.start(x=this._start[g]);return this._start.length=0,void(this._pending.length=0)}for(g=0;g<this._queue.length;g++)this[(x=this._queue[g]).op](x.keyA,x.keyB);this._queue.length=0}},add:function(p,v,g,x){return void 0===g&&(g=!1),void 0===x&&(x={}),this.isProcessing||!this.isBooted?(this._pending.push({key:p,scene:v,autoStart:g,data:x}),this.isBooted||(this._data[p]={data:x}),null):(p=this.getKey(p,v),v instanceof d?T=this.createSceneFromInstance(p,v):"object"==typeof v?(v.key=p,T=this.createSceneFromObject(p,v)):"function"==typeof v&&(T=this.createSceneFromFunction(p,v)),T.sys.settings.data=x,this.keys[p=T.sys.settings.key]=T,this.scenes.push(T),(g||T.sys.settings.active)&&(this._pending.length?this._start.push(p):this.start(p)),T);var T},remove:function(p){if(this.isProcessing)this._queue.push({op:"remove",keyA:p,keyB:null});else{var v=this.getScene(p);if(!v||v.sys.isTransitioning())return this;var g=this.scenes.indexOf(v),x=v.sys.settings.key;g>-1&&(delete this.keys[x],this.scenes.splice(g,1),this._start.indexOf(x)>-1&&(g=this._start.indexOf(x),this._start.splice(g,1)),v.sys.destroy())}return this},bootScene:function(p){var x,v=p.sys,g=v.settings;v.sceneUpdate=o,p.init&&(p.init.call(p,g.data),g.status=m.INIT,g.isTransition&&v.events.emit(f.TRANSITION_INIT,g.transitionFrom,g.transitionDuration)),v.load&&(x=v.load).reset(),x&&p.preload?(p.preload.call(p),0===x.list.size?this.create(p):(g.status=m.LOADING,x.once(s.COMPLETE,this.loadComplete,this),x.start())):this.create(p)},loadComplete:function(p){this.create(p.scene)},payloadComplete:function(p){this.bootScene(p.scene)},update:function(p,v){this.processQueue(),this.isProcessing=!0;for(var g=this.scenes.length-1;g>=0;g--){var x=this.scenes[g].sys;x.settings.status>m.START&&x.settings.status<=m.RUNNING&&x.step(p,v)}},render:function(p){for(var v=0;v<this.scenes.length;v++){var g=this.scenes[v].sys;g.settings.visible&&g.settings.status>=m.LOADING&&g.settings.status<m.SLEEPING&&g.render(p)}this.isProcessing=!1},create:function(p){var v=p.sys,g=v.settings;p.create&&(g.status=m.CREATING,p.create.call(p,g.data),g.status===m.DESTROYED)||(g.isTransition&&v.events.emit(f.TRANSITION_START,g.transitionFrom,g.transitionDuration),p.update&&(v.sceneUpdate=p.update),g.status=m.RUNNING,v.events.emit(f.CREATE,p))},createSceneFromFunction:function(p,v){var g=new v;if(g instanceof d){var x=g.sys.settings.key;if(""!==x&&(p=x),this.keys.hasOwnProperty(p))throw new Error("Cannot add a Scene with duplicate key: "+p);return this.createSceneFromInstance(p,g)}return g.sys=new a(g),g.sys.settings.key=p,g.sys.init(this.game),g},createSceneFromInstance:function(p,v){return""===v.sys.settings.key&&(v.sys.settings.key=p),v.sys.init(this.game),v},createSceneFromObject:function(p,v){var g=new d(v),x=g.sys.settings.key;""!==x?p=x:g.sys.settings.key=p,g.sys.init(this.game);for(var T=["init","preload","create","update","render"],S=0;S<T.length;S++){var D=u(v,T[S],null);D&&(g[T[S]]=D)}if(v.hasOwnProperty("extend"))for(var M in v.extend)if(v.extend.hasOwnProperty(M)){var R=v.extend[M];"data"===M&&g.hasOwnProperty("data")&&"object"==typeof R?g.data.merge(R):"sys"!==M&&(g[M]=R)}return g},getKey:function(p,v){if(p||(p="default"),"function"==typeof v)return p;if(v instanceof d?p=v.sys.settings.key:"object"==typeof v&&v.hasOwnProperty("key")&&(p=v.key),this.keys.hasOwnProperty(p))throw new Error("Cannot add a Scene with duplicate key: "+p);return p},getScenes:function(p,v){void 0===p&&(p=!0),void 0===v&&(v=!1);for(var g=[],x=this.scenes,T=0;T<x.length;T++){var S=x[T];S&&(!p||p&&S.sys.isActive())&&g.push(S)}return v?g.reverse():g},getScene:function(p){if("string"==typeof p){if(this.keys[p])return this.keys[p]}else for(var v=0;v<this.scenes.length;v++)if(p===this.scenes[v])return p;return null},isActive:function(p){var v=this.getScene(p);return v?v.sys.isActive():null},isPaused:function(p){var v=this.getScene(p);return v?v.sys.isPaused():null},isVisible:function(p){var v=this.getScene(p);return v?v.sys.isVisible():null},isSleeping:function(p){var v=this.getScene(p);return v?v.sys.isSleeping():null},pause:function(p,v){var g=this.getScene(p);return g&&g.sys.pause(v),this},resume:function(p,v){var g=this.getScene(p);return g&&g.sys.resume(v),this},sleep:function(p,v){var g=this.getScene(p);return g&&!g.sys.isTransitioning()&&g.sys.sleep(v),this},wake:function(p,v){var g=this.getScene(p);return g&&g.sys.wake(v),this},run:function(p,v){var g=this.getScene(p);if(!g){for(var x=0;x<this._pending.length;x++)if(this._pending[x].key===p){this.queueOp("start",p,v);break}return this}g.sys.isSleeping()?g.sys.wake(v):g.sys.isPaused()?g.sys.resume(v):this.start(p,v)},start:function(p,v){if(!this.isBooted)return this._data[p]={autoStart:!0,data:v},this;var g=this.getScene(p);if(g){var T,x=g.sys;if(x.isActive()||x.isPaused())x.shutdown(),x.sceneUpdate=o,x.start(v);else if(x.sceneUpdate=o,x.start(v),x.load&&(T=x.load),T&&x.settings.hasOwnProperty("pack")&&(T.reset(),T.addPack({payload:x.settings.pack})))return x.settings.status=m.LOADING,T.once(s.COMPLETE,this.payloadComplete,this),T.start(),this;this.bootScene(g)}return this},stop:function(p,v){var g=this.getScene(p);return g&&!g.sys.isTransitioning()&&g.sys.shutdown(v),this},switch:function(p,v){var g=this.getScene(p),x=this.getScene(v);return g&&x&&g!==x&&(this.sleep(p),this.isSleeping(v)?this.wake(v):this.start(v)),this},getAt:function(p){return this.scenes[p]},getIndex:function(p){var v=this.getScene(p);return this.scenes.indexOf(v)},bringToTop:function(p){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:p,keyB:null});else{var v=this.getIndex(p);if(-1!==v&&v<this.scenes.length){var g=this.getScene(p);this.scenes.splice(v,1),this.scenes.push(g)}}return this},sendToBack:function(p){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:p,keyB:null});else{var v=this.getIndex(p);if(-1!==v&&v>0){var g=this.getScene(p);this.scenes.splice(v,1),this.scenes.unshift(g)}}return this},moveDown:function(p){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:p,keyB:null});else{var v=this.getIndex(p);if(v>0){var g=v-1,x=this.getScene(p),T=this.getAt(g);this.scenes[v]=T,this.scenes[g]=x}}return this},moveUp:function(p){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:p,keyB:null});else{var v=this.getIndex(p);if(v<this.scenes.length-1){var g=v+1,x=this.getScene(p),T=this.getAt(g);this.scenes[v]=T,this.scenes[g]=x}}return this},moveAbove:function(p,v){if(p===v)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:p,keyB:v});else{var g=this.getIndex(p),x=this.getIndex(v);if(-1!==g&&-1!==x){var T=this.getAt(x);this.scenes.splice(x,1),this.scenes.splice(g+1,0,T)}}return this},moveBelow:function(p,v){if(p===v)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:p,keyB:v});else{var g=this.getIndex(p),x=this.getIndex(v);if(-1!==g&&-1!==x){var T=this.getAt(x);this.scenes.splice(x,1),0===g?this.scenes.unshift(T):this.scenes.splice(g,0,T)}}return this},queueOp:function(p,v,g){return this._queue.push({op:p,keyA:v,keyB:g}),this},swapPosition:function(p,v){if(p===v)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:p,keyB:v});else{var g=this.getIndex(p),x=this.getIndex(v);if(g!==x&&-1!==g&&-1!==x){var T=this.getAt(g);this.scenes[g]=this.scenes[x],this.scenes[x]=T}}return this},dump:function(){for(var p=[],v=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],g=0;g<this.scenes.length;g++){var x=this.scenes[g].sys,T=!x.settings.visible||x.settings.status!==m.RUNNING&&x.settings.status!==m.PAUSED?"[-] ":"[*] ";p.push(T+=x.settings.key+" ("+v[x.settings.status]+")")}console.log(p.join("\n"))},destroy:function(){for(var p=0;p<this.scenes.length;p++)this.scenes[p].sys.destroy();this.update=o,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null}});C.exports=c},function(C,w,n){var l=n(0),m=n(204),f=new l({initialize:function(u){this.sys=new m(this,u)},update:function(){}});C.exports=f},function(C,w,n){var l=n(2),m=n(205);C.exports=function(h){var u=h.game.config.defaultPhysicsSystem,s=l(h.settings,"physics",!1);if(u||s){var o=[];if(u&&o.push(m(u+"Physics")),s)for(var d in s)d=m(d.concat("Physics")),-1===o.indexOf(d)&&o.push(d);return o}}},function(C,w,n){var l=n(2);C.exports=function(f){var h=f.plugins.getDefaultScenePlugins(),u=l(f.settings,"plugins",!1);return Array.isArray(u)?u:h||[]}},function(C,w,n){var l=n(144),m=n(6),f=n(127),h=n(978);C.exports={create:function(s){return"string"==typeof s?s={key:s}:void 0===s&&(s={}),{status:l.PENDING,key:m(s,"key",""),active:m(s,"active",!1),visible:m(s,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:m(s,"pack",!1),cameras:m(s,"cameras",null),map:m(s,"map",f(h,m(s,"mapAdd",{}))),physics:m(s,"physics",{}),loader:m(s,"loader",{}),plugins:m(s,"plugins",!1),input:m(s,"input",{})}}}},function(C,w,n){var l=n(31),m=n(423),f=n(0),h=n(38),u=n(33),s=n(9),o=n(106),d=n(22),a=n(388),c=n(6),p=n(425),v=n(206),g=new f({Extends:s,initialize:function(T){s.call(this),this.game=T,this.name="TextureManager",this.list={},this._tempCanvas=l.create2D(this,1,1),this._tempContext=this._tempCanvas.getContext("2d"),this._pending=0,T.events.once(d.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(o.LOAD,this.updatePending,this),this.on(o.ERROR,this.updatePending,this);var x=this.game.config;this.addBase64("__DEFAULT",x.defaultImage),this.addBase64("__MISSING",x.missingImage),this.addBase64("__WHITE",x.whiteImage),this.game.events.once(d.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,0===this._pending&&(this.off(o.LOAD),this.off(o.ERROR),this.emit(o.READY))},checkKey:function(x){return!this.exists(x)||(console.error("Texture key already in use: "+x),!1)},remove:function(x){if("string"==typeof x){if(!this.exists(x))return console.warn("No texture found matching key: "+x),this;x=this.get(x)}return this.list.hasOwnProperty(x.key)&&(x.destroy(),this.emit(o.REMOVE,x.key)),this},removeKey:function(x){return this.list.hasOwnProperty(x)&&delete this.list[x],this},addBase64:function(x,T){if(this.checkKey(x)){var S=this,D=new Image;D.onerror=function(){S.emit(o.ERROR,x)},D.onload=function(){var M=S.create(x,D);p.Image(M,0),S.emit(o.ADD,x,M),S.emit(o.LOAD,x,M)},D.src=T}return this},getBase64:function(x,T,S,D){void 0===S&&(S="image/png"),void 0===D&&(D=.92);var M="",R=this.getFrame(x,T);if(R&&(R.source.isRenderTexture||R.source.isGLTexture))console.warn("Cannot getBase64 from WebGL Texture");else if(R){var P=R.canvasData,I=l.create2D(this,P.width,P.height);I.getContext("2d").drawImage(R.source.image,P.x,P.y,P.width,P.height,0,0,P.width,P.height),M=I.toDataURL(S,D),l.remove(I)}return M},addImage:function(x,T,S){var D=null;return this.checkKey(x)&&(D=this.create(x,T),p.Image(D,0),S&&D.setDataSource(S),this.emit(o.ADD,x,D)),D},addGLTexture:function(x,T,S,D){var M=null;return this.checkKey(x)&&(void 0===S&&(S=T.width),void 0===D&&(D=T.height),(M=this.create(x,T,S,D)).add("__BASE",0,0,0,S,D),this.emit(o.ADD,x,M)),M},addRenderTexture:function(x,T){var S=null;return this.checkKey(x)&&((S=this.create(x,T)).add("__BASE",0,0,0,T.width,T.height),this.emit(o.ADD,x,S)),S},generate:function(x,T){if(this.checkKey(x)){var S=l.create(this,1,1);return T.canvas=S,a(T),this.addCanvas(x,S)}return null},createCanvas:function(x,T,S){if(void 0===T&&(T=256),void 0===S&&(S=256),this.checkKey(x)){var D=l.create(this,T,S,u.CANVAS,!0);return this.addCanvas(x,D)}return null},addCanvas:function(x,T,S){void 0===S&&(S=!1);var D=null;return S?D=new m(this,x,T,T.width,T.height):this.checkKey(x)&&(D=new m(this,x,T,T.width,T.height),this.list[x]=D,this.emit(o.ADD,x,D)),D},addAtlas:function(x,T,S,D){return Array.isArray(S.textures)||Array.isArray(S.frames)?this.addAtlasJSONArray(x,T,S,D):this.addAtlasJSONHash(x,T,S,D)},addAtlasJSONArray:function(x,T,S,D){var M=null;if(this.checkKey(x)){if(M=this.create(x,T),Array.isArray(S))for(var R=1===S.length,P=0;P<M.source.length;P++)p.JSONArray(M,P,R?S[0]:S[P]);else p.JSONArray(M,0,S);D&&M.setDataSource(D),this.emit(o.ADD,x,M)}return M},addAtlasJSONHash:function(x,T,S,D){var M=null;if(this.checkKey(x)){if(M=this.create(x,T),Array.isArray(S))for(var R=0;R<S.length;R++)p.JSONHash(M,R,S[R]);else p.JSONHash(M,0,S);D&&M.setDataSource(D),this.emit(o.ADD,x,M)}return M},addAtlasXML:function(x,T,S,D){var M=null;return this.checkKey(x)&&(M=this.create(x,T),p.AtlasXML(M,0,S),D&&M.setDataSource(D),this.emit(o.ADD,x,M)),M},addUnityAtlas:function(x,T,S,D){var M=null;return this.checkKey(x)&&(M=this.create(x,T),p.UnityYAML(M,0,S),D&&M.setDataSource(D),this.emit(o.ADD,x,M)),M},addSpriteSheet:function(x,T,S){var D=null;return this.checkKey(x)&&(D=this.create(x,T),p.SpriteSheet(D,0,0,0,D.source[0].width,D.source[0].height,S),this.emit(o.ADD,x,D)),D},addSpriteSheetFromAtlas:function(x,T){if(!this.checkKey(x))return null;var S=c(T,"atlas",null),D=c(T,"frame",null);if(S&&D){var R=this.get(S).get(D);if(R){var P=this.create(x,R.source.image);return R.trimmed?p.SpriteSheetFromAtlas(P,R,T):p.SpriteSheet(P,0,R.cutX,R.cutY,R.cutWidth,R.cutHeight,T),this.emit(o.ADD,x,P),P}}},create:function(x,T,S,D){var M=null;return this.checkKey(x)&&(M=new v(this,x,T,S,D),this.list[x]=M),M},exists:function(x){return this.list.hasOwnProperty(x)},get:function(x){return void 0===x&&(x="__DEFAULT"),this.list[x]?this.list[x]:x instanceof v?x:this.list.__MISSING},cloneFrame:function(x,T){if(this.list[x])return this.list[x].get(T).clone()},getFrame:function(x,T){if(this.list[x])return this.list[x].get(T)},getTextureKeys:function(){var x=[];for(var T in this.list)"__DEFAULT"!==T&&"__MISSING"!==T&&x.push(T);return x},getPixel:function(x,T,S,D){var M=this.getFrame(S,D);if(M){x-=M.x,T-=M.y;var R=M.data.cut;if(T+=R.y,(x+=R.x)>=R.x&&x<R.r&&T>=R.y&&T<R.b){var P=this._tempContext;P.clearRect(0,0,1,1),P.drawImage(M.source.image,x,T,1,1,0,0,1,1);var I=P.getImageData(0,0,1,1);return new h(I.data[0],I.data[1],I.data[2],I.data[3])}}return null},getPixelAlpha:function(x,T,S,D){var M=this.getFrame(S,D);if(M){x-=M.x,T-=M.y;var R=M.data.cut;if(T+=R.y,(x+=R.x)>=R.x&&x<R.r&&T>=R.y&&T<R.b){var P=this._tempContext;return P.clearRect(0,0,1,1),P.drawImage(M.source.image,x,T,1,1,0,0,1,1),P.getImageData(0,0,1,1).data[3]}}return null},setTexture:function(x,T,S){return this.list[T]&&(x.texture=this.list[T],x.frame=x.texture.get(S)),x},renameTexture:function(x,T){var S=this.get(x);return!(!S||x===T||(S.key=T,this.list[T]=S,delete this.list[x],0))},each:function(x,T){for(var S=[null],D=1;D<arguments.length;D++)S.push(arguments[D]);for(var M in this.list)S[0]=this.list[M],x.apply(T,S)},destroy:function(){for(var x in this.list)this.list[x].destroy();this.list={},this.game=null,l.remove(this._tempCanvas)}});C.exports=g},function(C,w,n){var l=n(0),m=n(18),f=n(38),h=n(33),u=n(138),s=n(206),o=new l({Extends:s,initialize:function(a,c,p,v,g){s.call(this,a,c,p,v,g),this.add("__BASE",0,0,0,v,g),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d"),this.width=v,this.height=g,this.imageData=this.context.getImageData(0,0,v,g),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===h.WEBGL&&this.refresh(),this},draw:function(d,a,c){return this.context.drawImage(c,d,a),this.update()},drawFrame:function(d,a,c,p){void 0===c&&(c=0),void 0===p&&(p=0);var v=this.manager.getFrame(d,a);if(v){var g=v.canvasData,x=v.cutWidth,T=v.cutHeight,S=v.source.resolution;return this.context.drawImage(v.source.image,g.x,g.y,x,T,c,p,x/S,T/S),this.update()}return this},setPixel:function(d,a,c,p,v,g){if(void 0===g&&(g=255),d=Math.abs(Math.floor(d)),a=Math.abs(Math.floor(a)),this.getIndex(d,a)>-1){var T=this.context.getImageData(d,a,1,1);T.data[0]=c,T.data[1]=p,T.data[2]=v,T.data[3]=g,this.context.putImageData(T,d,a)}return this},putData:function(d,a,c,p,v,g,x){return void 0===p&&(p=0),void 0===v&&(v=0),void 0===g&&(g=d.width),void 0===x&&(x=d.height),this.context.putImageData(d,a,c,p,v,g,x),this},getData:function(d,a,c,p){return d=m(Math.floor(d),0,this.width-1),a=m(Math.floor(a),0,this.height-1),c=m(c,1,this.width-d),p=m(p,1,this.height-a),this.context.getImageData(d,a,c,p)},getPixel:function(d,a,c){c||(c=new f);var p=this.getIndex(d,a);if(p>-1){var v=this.data;c.setTo(v[p+0],v[p+1],v[p+2],v[p+3])}return c},getPixels:function(d,a,c,p){void 0===d&&(d=0),void 0===a&&(a=0),void 0===c&&(c=this.width),void 0===p&&(p=c),d=Math.abs(Math.round(d)),a=Math.abs(Math.round(a));for(var v=m(d,0,this.width),g=m(d+c,0,this.width),x=m(a,0,this.height),T=m(a+p,0,this.height),S=new f,D=[],M=x;M<T;M++){for(var R=[],P=v;P<g;P++)S=this.getPixel(P,M,S),R.push({x:P,y:M,color:S.color,alpha:S.alphaGL});D.push(R)}return D},getIndex:function(d,a){return d=Math.abs(Math.round(d)),a=Math.abs(Math.round(a)),d<this.width&&a<this.height?4*(d+a*this.width):-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(d,a,c,p){return void 0===d&&(d=0),void 0===a&&(a=0),void 0===c&&(c=this.width),void 0===p&&(p=this.height),this.context.clearRect(d,a,c,p),this.update()},setSize:function(d,a){return void 0===a&&(a=d),(d!==this.width||a!==this.height)&&(this.canvas.width=d,this.canvas.height=a,this._source.width=d,this._source.height=a,this._source.isPowerOf2=u(d,a),this.frames.__BASE.setSize(d,a,0,0),this.width=d,this.height=a,this.refresh()),this},destroy:function(){s.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});C.exports=o},function(C,w,n){var l=n(31),m=n(0),f=n(138),h=n(168),u=new m({initialize:function(o,d,a,c,p){void 0===p&&(p=!1);var v=o.manager.game;this.renderer=v.renderer,this.texture=o,this.source=d,this.image=d,this.compressionAlgorithm=null,this.resolution=1,this.width=a||d.naturalWidth||d.videoWidth||d.width||0,this.height=c||d.naturalHeight||d.videoHeight||d.height||0,this.scaleMode=h.DEFAULT,this.isCanvas=d instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&d instanceof HTMLVideoElement,this.isRenderTexture="RenderTexture"===d.type,this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&d instanceof WebGLTexture,this.isPowerOf2=f(this.width,this.height),this.glTexture=null,this.glIndex=0,this.glIndexCounter=-1,this.flipY=p,this.init(v)},init:function(s){var o=this.renderer;o&&(o.gl?this.isCanvas?this.glTexture=o.createCanvasTexture(this.image,!1,this.flipY):this.isVideo?this.glTexture=o.createVideoTexture(this.image,!1,this.flipY):this.isRenderTexture?(this.image=this.source.canvas,this.glTexture=o.createTextureFromSource(null,this.width,this.height,this.scaleMode)):this.glTexture=this.isGLTexture?this.source:o.createTextureFromSource(this.image,this.width,this.height,this.scaleMode):this.isRenderTexture&&(this.image=this.source.canvas)),s.config.antialias||this.setFilter(1)},setFilter:function(s){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,s),this.scaleMode=s},setFlipY:function(s){return void 0===s&&(s=!0),this.flipY=s,this},update:function(){var s=this.renderer.gl;s&&this.isCanvas?this.glTexture=this.renderer.updateCanvasTexture(this.image,this.glTexture,this.flipY):s&&this.isVideo&&(this.glTexture=this.renderer.updateVideoTexture(this.image,this.glTexture,this.flipY))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture,!0),this.isCanvas&&l.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});C.exports=u},function(C,w,n){C.exports={AtlasXML:n(979),Canvas:n(980),Image:n(981),JSONArray:n(982),JSONHash:n(983),SpriteSheet:n(984),SpriteSheetFromAtlas:n(985),UnityYAML:n(986)}},function(C,w,n){var l=n(427),m=n(430),f=n(432);C.exports={create:function(u){var s=u.config.audio,o=u.device.audio;return s.noAudio||!o.webAudio&&!o.audioData?new m(u):o.webAudio&&!s.disableWebAudio?new f(u):new l(u)}}},function(C,w,n){var l=n(145),m=n(0),f=n(70),h=n(429),u=new m({Extends:l,initialize:function(o){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,l.call(this,o)},add:function(s,o){var d=new h(this,s,o);return this.sounds.push(d),d},unlock:function(){this.locked=!1;var s=this;if(this.game.cache.audio.entries.each(function(c,p){for(var v=0;v<p.length;v++)if("true"===p[v].dataset.locked)return s.locked=!0,!1;return!0}),this.locked){var o=!1,d=function(){o=!0},a=function(){if(o)o=!1;else{document.body.removeEventListener("touchmove",d),document.body.removeEventListener("touchend",a);var c=[];if(s.game.cache.audio.entries.each(function(v,g){for(var x=0;x<g.length;x++){var T=g[x];"true"===T.dataset.locked&&c.push(T)}return!0}),0!==c.length){var p=c[c.length-1];p.oncanplaythrough=function(){p.oncanplaythrough=null,c.forEach(function(v){v.dataset.locked="false"}),s.unlocked=!0},c.forEach(function(v){v.load()})}}};this.once(f.UNLOCKED,function(){for(this.forEachActiveSound(function(p){null===p.currentMarker&&0===p.duration&&(p.duration=p.tags[0].duration),p.totalDuration=p.tags[0].duration});this.lockedActionsQueue.length;){var c=this.lockedActionsQueue.shift();c.sound[c.prop].apply?c.sound[c.prop].apply(c.sound,c.value||[]):c.sound[c.prop]=c.value}},this),document.body.addEventListener("touchmove",d,!1),document.body.addEventListener("touchend",a,!1)}},onBlur:function(){this.forEachActiveSound(function(s){s.isPlaying&&(this.onBlurPausedSounds.push(s),s.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(s){s.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){l.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(s,o,d){return"true"===s.tags[0].dataset.locked&&(this.lockedActionsQueue.push({sound:s,prop:o,value:d}),!0)},setMute:function(s){return this.mute=s,this},mute:{get:function(){return this._mute},set:function(s){this._mute=s,this.forEachActiveSound(function(o){o.updateMute()}),this.emit(f.GLOBAL_MUTE,this,s)}},setVolume:function(s){return this.volume=s,this},volume:{get:function(){return this._volume},set:function(s){this._volume=s,this.forEachActiveSound(function(o){o.updateVolume()}),this.emit(f.GLOBAL_VOLUME,this,s)}}});C.exports=u},function(C,w,n){var l=n(78);C.exports=function(f,h,u,s,o){if(void 0===s&&(s=0),void 0===o&&(o=f.length),l(f,s,o))for(var d=s;d<o;d++){var a=f[d];if(!h||h&&void 0===u&&a.hasOwnProperty(h)||h&&void 0!==u&&a[h]===u)return a}return null}},function(C,w,n){var l=n(146),m=n(0),f=n(70),h=n(18),u=new m({Extends:l,initialize:function(o,d,a){if(void 0===a&&(a={}),this.tags=o.game.cache.audio.get(d),!this.tags)throw new Error('There is no audio asset with key "'+d+'" in the audio cache');this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,l.call(this,o,d,a)},play:function(s,o){return!(this.manager.isLocked(this,"play",[s,o])||!l.prototype.play.call(this,s,o)||!this.pickAndPlayAudioTag()||(this.emit(f.PLAY,this),0))},pause:function(){return!(this.manager.isLocked(this,"pause")||this.startTime>0||!l.prototype.pause.call(this)||(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(f.PAUSE,this),0))},resume:function(){return!(this.manager.isLocked(this,"resume")||this.startTime>0||!l.prototype.resume.call(this)||!this.pickAndPlayAudioTag()||(this.emit(f.RESUME,this),0))},stop:function(){return!(this.manager.isLocked(this,"stop")||!l.prototype.stop.call(this)||(this.stopAndReleaseAudioTag(),this.emit(f.STOP,this),0))},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var o=this.currentConfig.delay,d=(this.currentMarker?this.currentMarker.start:0)+this.currentConfig.seek;return this.previousTime=d,this.audio.currentTime=d,this.applyConfig(),0===o?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+1e3*o,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var s=0;s<this.tags.length;s++){var o=this.tags[s];if("false"===o.dataset.used)return o.dataset.used="true",this.audio=o,!0}if(!this.manager.override)return!1;var d=[];this.manager.forEachActiveSound(function(c){c.key===this.key&&c.audio&&d.push(c)},this),d.sort(function(c,p){return c.loop===p.loop?p.seek/p.duration-c.seek/c.duration:c.loop?1:-1});var a=d[0];return this.audio=a.audio,a.reset(),a.audio=null,a.startTime=0,a.previousTime=0,!0},playCatchPromise:function(){var s=this.audio.play();s&&s.catch(function(o){console.warn(o)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){l.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(s){if(this.isPlaying){if(this.startTime>0)return void(this.startTime<s-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,s-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise()));var o=this.currentMarker?this.currentMarker.start:0,d=o+this.duration,a=this.audio.currentTime;if(this.currentConfig.loop)a>=d-this.manager.loopEndOffset?(this.audio.currentTime=o+Math.max(0,a-d),a=this.audio.currentTime):a<o&&(this.audio.currentTime+=o,a=this.audio.currentTime),a<this.previousTime&&this.emit(f.LOOPED,this);else if(a>=d)return this.reset(),this.stopAndReleaseAudioTag(),void this.emit(f.COMPLETE,this);this.previousTime=a}},destroy:function(){l.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=h(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){l.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(s){this.currentConfig.mute=s,!this.manager.isLocked(this,"mute",s)&&(this.updateMute(),this.emit(f.MUTE,this,s))}},setMute:function(s){return this.mute=s,this},volume:{get:function(){return this.currentConfig.volume},set:function(s){this.currentConfig.volume=s,!this.manager.isLocked(this,"volume",s)&&(this.updateVolume(),this.emit(f.VOLUME,this,s))}},setVolume:function(s){return this.volume=s,this},rate:{get:function(){return this.currentConfig.rate},set:function(s){this.currentConfig.rate=s,!this.manager.isLocked(this,f.RATE,s)&&(this.calculateRate(),this.emit(f.RATE,this,s))}},setRate:function(s){return this.rate=s,this},detune:{get:function(){return this.currentConfig.detune},set:function(s){this.currentConfig.detune=s,!this.manager.isLocked(this,f.DETUNE,s)&&(this.calculateRate(),this.emit(f.DETUNE,this,s))}},setDetune:function(s){return this.detune=s,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(s){this.manager.isLocked(this,"seek",s)||this.startTime>0||(this.isPlaying||this.isPaused)&&(s=Math.min(Math.max(0,s),this.duration),this.isPlaying?(this.previousTime=s,this.audio.currentTime=s):this.isPaused&&(this.currentConfig.seek=s),this.emit(f.SEEK,this,s))}},setSeek:function(s){return this.seek=s,this},loop:{get:function(){return this.currentConfig.loop},set:function(s){this.currentConfig.loop=s,!this.manager.isLocked(this,"loop",s)&&(this.audio&&(this.audio.loop=s),this.emit(f.LOOP,this,s))}},setLoop:function(s){return this.loop=s,this},pan:{get:function(){return this.currentConfig.pan},set:function(s){this.currentConfig.pan=s,this.emit(f.PAN,this,s)}},setPan:function(s){return this.pan=s,this}});C.exports=u},function(C,w,n){var l=n(145),m=n(0),f=n(9),h=n(431),u=n(1),s=new m({Extends:f,initialize:function(d){f.call(this),this.game=d,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(o,d){var a=new h(this,o,d);return this.sounds.push(a),a},addAudioSprite:function(o,d){var a=this.add(o,d);return a.spritemap={},a},play:function(o,d){return!1},playAudioSprite:function(o,d,a){return!1},remove:function(o){return l.prototype.remove.call(this,o)},removeByKey:function(o){return l.prototype.removeByKey.call(this,o)},pauseAll:u,resumeAll:u,stopAll:u,update:u,setRate:u,setDetune:u,setMute:u,setVolume:u,forEachActiveSound:function(o,d){l.prototype.forEachActiveSound.call(this,o,d)},destroy:function(){l.prototype.destroy.call(this)}});C.exports=s},function(C,w,n){var l=n(146),m=n(0),f=n(9),h=n(17),u=function(){return!1},o=function(){return this},d=new m({Extends:f,initialize:function(c,p,v){void 0===v&&(v={}),f.call(this),this.manager=c,this.key=p,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=h({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},v),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:u,updateMarker:u,removeMarker:function(){return null},play:u,pause:u,resume:u,stop:u,destroy:function(){l.prototype.destroy.call(this)},setMute:o,setVolume:o,setRate:o,setDetune:o,setSeek:o,setLoop:o,setPan:o});C.exports=d},function(C,w,n){var l=n(433),m=n(145),f=n(0),h=n(70),u=n(22),s=n(434),o=new f({Extends:m,initialize:function(a){this.context=this.createAudioContext(a),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked="suspended"===this.context.state&&("ontouchstart"in window||"onclick"in window),m.call(this,a),this.locked&&a.isBooted?this.unlock():a.events.once(u.BOOT,this.unlock,this)},createAudioContext:function(d){var a=d.config.audio;return a.context?(a.context.resume(),a.context):window.hasOwnProperty("AudioContext")?new AudioContext:window.hasOwnProperty("webkitAudioContext")?new window.webkitAudioContext:void 0},setAudioContext:function(d){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=d,this.masterMuteNode=d.createGain(),this.masterVolumeNode=d.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(d.destination),this.destination=this.masterMuteNode,this},add:function(d,a){var c=new s(this,d,a);return this.sounds.push(c),c},decodeAudio:function(d,a){var c;c=Array.isArray(d)?d:[{key:d,data:a}];for(var p=this.game.cache.audio,v=c.length,g=0;g<c.length;g++){var x=c[g],T=x.key,S=x.data;"string"==typeof S&&(S=l(S));var D=function(R,P){p.add(R,P),this.emit(h.DECODED,R),0==--v&&this.emit(h.DECODED_ALL)}.bind(this,T),M=function(R,P){console.error("Error decoding audio: "+R+" - ",P?P.message:""),0==--v&&this.emit(h.DECODED_ALL)}.bind(this,T);this.context.decodeAudioData(S,D,M)}},unlock:function(){var d=this,a=document.body,c=function p(){if(d.context&&a){var v=a.removeEventListener;d.context.resume().then(function(){v("touchstart",p),v("touchend",p),v("click",p),v("keydown",p),d.unlocked=!0},function(){v("touchstart",p),v("touchend",p),v("click",p),v("keydown",p)})}};a&&(a.addEventListener("touchstart",c,!1),a.addEventListener("touchend",c,!1),a.addEventListener("click",c,!1),a.addEventListener("keydown",c,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var d=this.context;("suspended"===d.state||"interrupted"===d.state)&&!this.locked&&d.resume()},update:function(d,a){m.prototype.update.call(this,d,a);var c=this.context;c&&"interrupted"===c.state&&c.resume()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var d=this;this.context.close().then(function(){d.context=null})}m.prototype.destroy.call(this)},setMute:function(d){return this.mute=d,this},mute:{get:function(){return 0===this.masterMuteNode.gain.value},set:function(d){this.masterMuteNode.gain.setValueAtTime(d?0:1,0),this.emit(h.GLOBAL_MUTE,this,d)}},setVolume:function(d){return this.volume=d,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(d){this.masterVolumeNode.gain.setValueAtTime(d,0),this.emit(h.GLOBAL_VOLUME,this,d)}}});C.exports=o},function(C,w){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=new Uint8Array(256),m=0;m<n.length;m++)l[n.charCodeAt(m)]=m;C.exports=function(h){var d,a,c,p,u=(h=h.substr(h.indexOf(",")+1)).length,s=.75*u,o=0;"="===h[u-1]&&(s--,"="===h[u-2]&&s--);for(var v=new ArrayBuffer(s),g=new Uint8Array(v),x=0;x<u;x+=4)d=l[h.charCodeAt(x)],a=l[h.charCodeAt(x+1)],c=l[h.charCodeAt(x+2)],p=l[h.charCodeAt(x+3)],g[o++]=d<<2|a>>4,g[o++]=(15&a)<<4|c>>2,g[o++]=(3&c)<<6|63&p;return v}},function(C,w,n){var l=n(146),m=n(0),f=n(70),h=new m({Extends:l,initialize:function(s,o,d){if(void 0===d&&(d={}),this.audioBuffer=s.game.cache.audio.get(o),!this.audioBuffer)throw new Error('Audio key "'+o+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=s.context.createGain(),this.volumeNode=s.context.createGain(),this.pannerNode=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),s.context.createStereoPanner?(this.pannerNode=s.context.createStereoPanner(),this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(s.destination)):this.volumeNode.connect(s.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,l.call(this,s,o,d)},play:function(u,s){return!!l.prototype.play.call(this,u,s)&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(f.PLAY,this),!0)},pause:function(){return!(this.manager.context.currentTime<this.startTime||!l.prototype.pause.call(this)||(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(f.PAUSE,this),0))},resume:function(){return!(this.manager.context.currentTime<this.startTime||!l.prototype.resume.call(this)||(this.createAndStartBufferSource(),this.emit(f.RESUME,this),0))},stop:function(){return!!l.prototype.stop.call(this)&&(this.stopAndRemoveBufferSource(),this.emit(f.STOP,this),!0)},createAndStartBufferSource:function(){var u=this.currentConfig.seek,o=this.manager.context.currentTime+this.currentConfig.delay,d=(this.currentMarker?this.currentMarker.start:0)+u,a=this.duration-u;this.playTime=o-u,this.startTime=o,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,o),Math.max(0,d),Math.max(0,a)),this.resetConfig()},createAndStartLoopBufferSource:function(){var u=this.getLoopTime(),s=this.currentMarker?this.currentMarker.start:0,o=this.duration;this.loopTime=u,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,u),Math.max(0,s),Math.max(0,o))},createBufferSource:function(){var u=this,s=this.manager.context.createBufferSource();return s.buffer=this.audioBuffer,s.connect(this.muteNode),s.onended=function(o){o.target===u.source&&(u.currentConfig.loop?u.hasLooped=!0:u.hasEnded=!0)},s},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1}),l.prototype.applyConfig.call(this)},update:function(){this.hasEnded?(this.hasEnded=!1,l.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(f.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(f.LOOPED,this))},destroy:function(){l.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.rateUpdates.length=0,this.rateUpdates=null},calculateRate:function(){l.prototype.calculateRate.call(this);var u=this.manager.context.currentTime;this.source&&"number"==typeof this.totalRate&&this.source.playbackRate.setValueAtTime(this.totalRate,u),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,u)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var u=0,s=0;s<this.rateUpdates.length;s++)u+=((s<this.rateUpdates.length-1?this.rateUpdates[s+1].time:this.manager.context.currentTime-this.playTime)-this.rateUpdates[s].time)*this.rateUpdates[s].rate;return u},getLoopTime:function(){for(var u=0,s=0;s<this.rateUpdates.length-1;s++)u+=(this.rateUpdates[s+1].time-this.rateUpdates[s].time)*this.rateUpdates[s].rate;var o=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+o.time+(this.duration-u)/o.rate},rate:{get:function(){return this.currentConfig.rate},set:function(u){this.currentConfig.rate=u,this.calculateRate(),this.emit(f.RATE,this,u)}},setRate:function(u){return this.rate=u,this},detune:{get:function(){return this.currentConfig.detune},set:function(u){this.currentConfig.detune=u,this.calculateRate(),this.emit(f.DETUNE,this,u)}},setDetune:function(u){return this.detune=u,this},mute:{get:function(){return 0===this.muteNode.gain.value},set:function(u){this.currentConfig.mute=u,this.muteNode.gain.setValueAtTime(u?0:1,0),this.emit(f.MUTE,this,u)}},setMute:function(u){return this.mute=u,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(u){this.currentConfig.volume=u,this.volumeNode.gain.setValueAtTime(u,0),this.emit(f.VOLUME,this,u)}},setVolume:function(u){return this.volume=u,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(u){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(u=Math.min(Math.max(0,u),this.duration),this.currentConfig.seek=u,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(f.SEEK,this,u))}},setSeek:function(u){return this.seek=u,this},loop:{get:function(){return this.currentConfig.loop},set:function(u){this.currentConfig.loop=u,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),u&&this.createAndStartLoopBufferSource()),this.emit(f.LOOP,this,u)}},setLoop:function(u){return this.loop=u,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(u){this.currentConfig.pan=u,this.pannerNode&&this.pannerNode.pan.setValueAtTime(u,this.manager.context.currentTime),this.emit(f.PAN,this,u)}},setPan:function(u){return this.pan=u,this}});C.exports=h},function(C,w){C.exports=function(l){for(var m=l.length,f=l[0].length,h=new Array(f),u=0;u<f;u++){h[u]=new Array(m);for(var s=m-1;s>-1;s--)h[u][s]=l[s][u]}return h}},function(C,w){function n(f,h,u){var s=f[h];f[h]=f[u],f[u]=s}function l(f,h){return f<h?-1:f>h?1:0}var m=function(f,h,u,s,o){for(void 0===u&&(u=0),void 0===s&&(s=f.length-1),void 0===o&&(o=l);s>u;){if(s-u>600){var d=s-u+1,a=h-u+1,c=Math.log(d),p=.5*Math.exp(2*c/3),v=.5*Math.sqrt(c*p*(d-p)/d)*(a-d/2<0?-1:1),g=Math.max(u,Math.floor(h-a*p/d+v)),x=Math.min(s,Math.floor(h+(d-a)*p/d+v));m(f,h,g,x,o)}var T=f[h],S=u,D=s;for(n(f,u,h),o(f[s],T)>0&&n(f,u,s);S<D;){for(n(f,S,D),S++,D--;o(f[S],T)<0;)S++;for(;o(f[D],T)>0;)D--}0===o(f[u],T)?n(f,u,D):n(f,++D,s),D<=h&&(u=D+1),h<=D&&(s=D-1)}};C.exports=m},function(C,w,n){var l=n(6),m=n(131),f=function(u,s,o){for(var d=[],a=0;a<u.length;a++)for(var c=0;c<s.length;c++)for(var p=0;p<o;p++)d.push({a:u[a],b:s[c]});return d};C.exports=function(u,s,o){var d=l(o,"max",0),a=l(o,"qty",1),c=l(o,"random",!1),p=l(o,"randomB",!1),v=l(o,"repeat",0),g=l(o,"yoyo",!1),x=[];if(p&&m(s),-1===v)if(0===d)v=0;else{var T=u.length*s.length*a;g&&(T*=2),v=Math.ceil(d/T)}for(var S=0;S<=v;S++){var D=f(u,s,a);c&&m(D),x=x.concat(D),g&&(D.reverse(),x=x.concat(D))}return d&&x.splice(d),x}},function(C,w,n){C.exports={PROCESS_QUEUE_ADD:n(1041),PROCESS_QUEUE_REMOVE:n(1042)}},function(C,w,n){var l=n(13);C.exports=function(f,h){var u=l(h,"anims",null);if(null===u)return f;if("string"==typeof u)f.anims.play(u);else if("object"==typeof u){var s=f.anims,o=l(u,"key",void 0);if(o){var d=l(u,"startFrame",void 0),a=l(u,"delay",0),c=l(u,"repeat",0),p=l(u,"repeatDelay",0),v=l(u,"yoyo",!1),g=l(u,"play",!1),x=l(u,"delayedPlay",0),T={key:o,delay:a,repeat:c,repeatDelay:p,yoyo:v,startFrame:d};g?s.play(T):x>0?s.playAfterDelay(T,x):s.load(T)}}return f}},function(C,w,n){var l=n(0),m=n(109),f=new l({initialize:function(u,s,o,d,a){this.parent=u,this.x=s,this.y=o,this.frame=d,this.data={},this.tint=16777215,this._visible=a,this._alpha=1,this.flipX=!1,this.flipY=!1},setFrame:function(h){return this.frame=void 0===h?this.parent.frame:h instanceof m&&h.texture===this.parent.texture?h:this.parent.texture.get(h),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(h,u,s){return this.x=h,this.y=u,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,s&&this.setFrame(s),this},setPosition:function(h,u){return this.x=h,this.y=u,this},setFlipX:function(h){return this.flipX=h,this},setFlipY:function(h){return this.flipY=h,this},setFlip:function(h,u){return this.flipX=h,this.flipY=u,this},setVisible:function(h){return this.visible=h,this},setAlpha:function(h){return this.alpha=h,this},setTint:function(h){return this.tint=h,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(h){this.parent.dirty|=this._visible!==h,this._visible=h}},alpha:{get:function(){return this._alpha},set:function(h){this.parent.dirty|=this._alpha>0!=h>0,this._alpha=h}}});C.exports=f},function(C,w,n){var l=n(10);C.exports=function(f,h,u){void 0===u&&(u=new l);var s=Math.min(f.x,h.x),o=Math.min(f.y,h.y),d=Math.max(f.right,h.right)-s,a=Math.max(f.bottom,h.bottom)-o;return u.setTo(s,o,d,a)}},function(C,w,n){var l=n(0),m=n(11),f=n(1055),h=n(15),u=n(7),s=n(202),o=n(20),d=n(140),a=new l({Extends:h,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Origin,m.ScrollFactor,m.Transform,m.Visible,f],initialize:function(p,v,g,x,T,S){h.call(this,p,"DOMElement"),this.parent=p.sys.game.domContainer,this.cache=p.sys.cache.html,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new d,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(v,g),"string"==typeof x?"#"===x[0]?this.setElement(x.substr(1),T,S):this.createElement(x,T,S):x&&this.setElement(x,T,S),p.sys.events.on(o.SLEEP,this.handleSceneEvent,this),p.sys.events.on(o.WAKE,this.handleSceneEvent,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},handleSceneEvent:function(c){var p=this.node;p&&(p.style.display=c.settings.visible?"block":"none")},setSkew:function(c,p){return void 0===c&&(c=0),void 0===p&&(p=c),this.skewX=c,this.skewY=p,this},setPerspective:function(c){return this.parent.style.perspective=c+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(c){this.parent.style.perspective=c+"px"}},addListener:function(c){if(this.node){c=c.split(" ");for(var p=0;p<c.length;p++)this.node.addEventListener(c[p],this.handler,!1)}return this},removeListener:function(c){if(this.node){c=c.split(" ");for(var p=0;p<c.length;p++)this.node.removeEventListener(c[p],this.handler)}return this},dispatchNativeEvent:function(c){this.emit(c.type,c)},createElement:function(c,p,v){return this.setElement(document.createElement(c),p,v)},setElement:function(c,p,v){var g;if(this.removeElement(),"string"==typeof c?("#"===c[0]&&(c=c.substr(1)),g=document.getElementById(c)):"object"==typeof c&&1===c.nodeType&&(g=c),!g)return this;if(this.node=g,p&&u(p))for(var x in p)g.style[x]=p[x];else"string"==typeof p&&(g.style=p);return g.style.zIndex="0",g.style.display="inline",g.style.position="absolute",g.phaser=this,this.parent&&this.parent.appendChild(g),v&&(g.innerText=v),this.updateSize()},createFromCache:function(c,p){var v=this.cache.get(c);return v&&this.createFromHTML(v,p),this},createFromHTML:function(c,p){void 0===p&&(p="div"),this.removeElement();var v=document.createElement(p);return this.node=v,v.style.zIndex="0",v.style.display="inline",v.style.position="absolute",v.phaser=this,this.parent&&this.parent.appendChild(v),v.innerHTML=c,this.updateSize()},removeElement:function(){return this.node&&(s(this.node),this.node=null),this},updateSize:function(){var c=this.node,p=c.getBoundingClientRect();return this.width=c.clientWidth,this.height=c.clientHeight,this.displayWidth=p.width||0,this.displayHeight=p.height||0,this},getChildByProperty:function(c,p){if(this.node)for(var v=this.node.querySelectorAll("*"),g=0;g<v.length;g++)if(v[g][c]===p)return v[g];return null},getChildByID:function(c){return this.getChildByProperty("id",c)},getChildByName:function(c){return this.getChildByProperty("name",c)},setClassName:function(c){return this.node&&(this.node.className=c,this.updateSize()),this},setText:function(c){return this.node&&(this.node.innerText=c,this.updateSize()),this},setHTML:function(c){return this.node&&(this.node.innerHTML=c,this.updateSize()),this},preUpdate:function(){var c=this.parentContainer,p=this.node;p&&c&&!c.willRender()&&(p.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(o.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(o.WAKE,this.handleSceneEvent,this)}});C.exports=a},function(C,w,n){var l=n(1056),m=n(15),f=n(25),h=new f,u=new f,s=new f;C.exports=function(d,a,c,p){if(a.node){var v=a.node.style;if(!v||!a.scene.sys.settings.visible||m.RENDER_MASK!==a.renderFlags||0!==a.cameraFilter&&a.cameraFilter&c.id||a.parentContainer&&!a.parentContainer.willRender())return void(v.display="none");var x=a.parentContainer,T=c.alpha*a.alpha;x&&(T*=x.alpha);var S=h,D=u,M=s,R=0,P=0,I="0%",b="0%";p?(D.applyITRS(a.x-(R=a.width*a.scaleX*a.originX),a.y-(P=a.height*a.scaleY*a.originY),a.rotation,a.scaleX,a.scaleY),S.copyFrom(c.matrix),S.multiplyWithOffset(p,-c.scrollX*a.scrollFactorX,-c.scrollY*a.scrollFactorY),D.e=a.x-R,D.f=a.y-P,S.multiply(D,M)):(D.applyITRS(a.x-(R=a.width*a.originX),a.y-(P=a.height*a.originY),a.rotation,a.scaleX,a.scaleY),S.copyFrom(c.matrix),I=100*a.originX+"%",b=100*a.originY+"%",D.e-=c.scrollX*a.scrollFactorX,D.f-=c.scrollY*a.scrollFactorY,S.multiply(D,M)),a.transformOnly||(v.display="block",v.opacity=T,v.zIndex=a._depth,v.pointerEvents=a.pointerEvents,v.mixBlendMode=l[a._blendMode]),v.transform=M.getCSSMatrix()+" skew("+a.skewX+"rad, "+a.skewY+"rad) rotate3d("+a.rotate3d.x+","+a.rotate3d.y+","+a.rotate3d.z+","+a.rotate3d.w+a.rotate3dAngle+")",v.transformOrigin=I+" "+b}}},function(C,w,n){var l=n(0),m=n(11),f=n(15),h=n(1060),u=new l({Extends:f,Mixins:[m.Alpha,m.BlendMode,m.Depth,m.Flip,m.Origin,m.ScrollFactor,m.Size,m.Texture,m.Tint,m.Transform,m.Visible,h],initialize:function(o){f.call(this,o,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});C.exports=u},function(C,w,n){var l=n(218),m=n(98),f=n(14),h=n(4);C.exports=function(s,o,d){void 0===d&&(d=new h);var a=m(o,0,f.PI2);return l(s,a,d)}},function(C,w,n){var l=n(447),m=n(218),f=n(98),h=n(14);C.exports=function(s,o,d,a){void 0===a&&(a=[]),!o&&d>0&&(o=l(s)/d);for(var c=0;c<o;c++){var p=f(c/o,0,h.PI2);a.push(m(s,p))}return a}},function(C,w){C.exports=function(l){var m=l.width/2,f=l.height/2,h=Math.pow(m-f,2)/Math.pow(m+f,2);return Math.PI*(m+f)*(1+3*h/(10+Math.sqrt(4-3*h)))}},function(C,w,n){var l=n(217),m=n(30);C.exports=function(h,u,s,o,d,a){var c=u.commandBuffer,p=c.length,v=d||h.currentContext;if(0!==p&&m(h,v,u,s,o)){s.addToRenderList(u);var T=0,S=0,D=1;v.beginPath();for(var I=0;I<p;++I)switch(c[I]){case l.ARC:v.arc(c[I+1],c[I+2],c[I+3],c[I+4],c[I+5],c[I+6]),I+=7;break;case l.LINE_STYLE:D=c[I+1],v.strokeStyle="rgba("+((16711680&(T=c[I+2]))>>>16)+","+((65280&T)>>>8)+","+(255&T)+","+c[I+3]+")",v.lineWidth=D,I+=3;break;case l.FILL_STYLE:v.fillStyle="rgba("+((16711680&(S=c[I+1]))>>>16)+","+((65280&S)>>>8)+","+(255&S)+","+c[I+2]+")",I+=2;break;case l.BEGIN_PATH:v.beginPath();break;case l.CLOSE_PATH:v.closePath();break;case l.FILL_PATH:a||v.fill();break;case l.STROKE_PATH:a||v.stroke();break;case l.FILL_RECT:a?v.rect(c[I+1],c[I+2],c[I+3],c[I+4]):v.fillRect(c[I+1],c[I+2],c[I+3],c[I+4]),I+=4;break;case l.FILL_TRIANGLE:v.beginPath(),v.moveTo(c[I+1],c[I+2]),v.lineTo(c[I+3],c[I+4]),v.lineTo(c[I+5],c[I+6]),v.closePath(),a||v.fill(),I+=6;break;case l.STROKE_TRIANGLE:v.beginPath(),v.moveTo(c[I+1],c[I+2]),v.lineTo(c[I+3],c[I+4]),v.lineTo(c[I+5],c[I+6]),v.closePath(),a||v.stroke(),I+=6;break;case l.LINE_TO:v.lineTo(c[I+1],c[I+2]),I+=2;break;case l.MOVE_TO:v.moveTo(c[I+1],c[I+2]),I+=2;break;case l.LINE_FX_TO:v.lineTo(c[I+1],c[I+2]),I+=5;break;case l.MOVE_FX_TO:v.moveTo(c[I+1],c[I+2]),I+=5;break;case l.SAVE:v.save();break;case l.RESTORE:v.restore();break;case l.TRANSLATE:v.translate(c[I+1],c[I+2]),I+=2;break;case l.SCALE:v.scale(c[I+1],c[I+2]),I+=2;break;case l.ROTATE:v.rotate(c[I+1]),I+=1;break;case l.GRADIENT_FILL_STYLE:I+=5;break;case l.GRADIENT_LINE_STYLE:I+=6}v.restore()}}},function(C,w,n){var l=n(0),m=n(137),f=n(80),h=n(2),u=n(68),s=new l({initialize:function(d,a,c,p){void 0===p&&(p=!1),this.propertyKey=a,this.propertyValue=c,this.defaultValue=c,this.steps=0,this.counter=0,this.start=0,this.end=0,this.emitOnly=p,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.loadConfig(d)},loadConfig:function(o,d){void 0===o&&(o={}),d&&(this.propertyKey=d),this.propertyValue=h(o,this.propertyKey,this.defaultValue),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return this.propertyValue},onChange:function(o){return this.propertyValue=o,this.setMethods()},setMethods:function(){var o=this.propertyValue,d=typeof o;if(this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,"number"===d)this.onEmit=this.staticValueEmit,this.onUpdate=this.staticValueUpdate;else if(Array.isArray(o))this.onEmit=this.randomStaticValueEmit;else if("function"===d)this.emitOnly?this.onEmit=o:this.onUpdate=o;else if("object"===d&&this.hasBoth(o,"start","end")){this.start=o.start,this.end=o.end;var a=this.has(o,"random");if(a&&(this.onEmit=this.randomRangedValueEmit),this.has(o,"steps"))this.steps=o.steps,this.counter=this.start,this.onEmit=this.steppedEmit;else{var c=this.has(o,"ease")?o.ease:"Linear";this.ease=f(c,o.easeParams),a||(this.onEmit=this.easedValueEmit),this.onUpdate=this.easeValueUpdate}}else if("object"===d&&this.hasBoth(o,"min","max"))this.start=o.min,this.end=o.max,this.onEmit=this.randomRangedValueEmit;else if("object"===d&&this.has(o,"random")){var p=o.random;Array.isArray(p)&&(this.start=p[0],this.end=p[1]),this.onEmit=this.randomRangedValueEmit}else"object"===d&&this.hasEither(o,"onEmit","onUpdate")&&(this.has(o,"onEmit")&&(this.onEmit=o.onEmit),this.has(o,"onUpdate")&&(this.onUpdate=o.onUpdate));return this},has:function(o,d){return o.hasOwnProperty(d)},hasBoth:function(o,d,a){return o.hasOwnProperty(d)&&o.hasOwnProperty(a)},hasEither:function(o,d,a){return o.hasOwnProperty(d)||o.hasOwnProperty(a)},defaultEmit:function(o,d,a){return a},defaultUpdate:function(o,d,a,c){return c},staticValueEmit:function(){return this.propertyValue},staticValueUpdate:function(){return this.propertyValue},randomStaticValueEmit:function(){var o=Math.floor(Math.random()*this.propertyValue.length);return this.propertyValue[o]},randomRangedValueEmit:function(o,d){var a=m(this.start,this.end);return o&&o.data[d]&&(o.data[d].min=a),a},steppedEmit:function(){var o=this.counter;return this.counter=u(this.counter+(this.end-this.start)/this.steps,this.start,this.end),o},easedValueEmit:function(o,d){if(o&&o.data[d]){var a=o.data[d];a.min=this.start,a.max=this.end}return this.start},easeValueUpdate:function(o,d,a){var c=o.data[d];return(c.max-c.min)*this.ease(a)+c.min}});C.exports=s},function(C,w,n){var l=n(0),m=n(2),f=new l({initialize:function(u,s,o,d,a){if("object"==typeof u){var c=u;u=m(c,"x",0),s=m(c,"y",0),o=m(c,"power",0),d=m(c,"epsilon",100),a=m(c,"gravity",50)}else void 0===u&&(u=0),void 0===s&&(s=0),void 0===o&&(o=0),void 0===d&&(d=100),void 0===a&&(a=50);this.x=u,this.y=s,this.active=!0,this._gravity=a,this._power=0,this._epsilon=0,this.power=o,this.epsilon=d},update:function(h,u){var s=this.x-h.x,o=this.y-h.y,d=s*s+o*o;if(0!==d){var a=Math.sqrt(d);d<this._epsilon&&(d=this._epsilon);var c=this._power*u/(d*a)*100;h.velocityX+=s*c,h.velocityY+=o*c}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(h){this._epsilon=h*h}},power:{get:function(){return this._power/this._gravity},set:function(h){this._power=h*this._gravity}},gravity:{get:function(){return this._gravity},set:function(h){var u=this.power;this._gravity=h,this.power=u}}});C.exports=f},function(C,w,n){var l=n(0),m=n(36),f=n(50),h=new l({initialize:function(s){this.emitter=s,this.frame=null,this.x=0,this.y=0,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215,current:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1}}},isAlive:function(){return this.lifeCurrent>0},resetPosition:function(){this.x=0,this.y=0},fire:function(u,s){var o=this.emitter;this.frame=o.getFrame(),o.emitZone&&o.emitZone.getPoint(this),this.x+=void 0===u?o.x.onEmit(this,"x"):u,this.y+=void 0===s?o.y.onEmit(this,"y"):s,this.life=o.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0;var d=o.speedX.onEmit(this,"speedX"),a=o.speedY?o.speedY.onEmit(this,"speedY"):d;if(o.radial){var c=m(o.angle.onEmit(this,"angle"));this.velocityX=Math.cos(c)*Math.abs(d),this.velocityY=Math.sin(c)*Math.abs(a)}else if(o.moveTo){var p=o.moveToX.onEmit(this,"moveToX"),v=o.moveToY?o.moveToY.onEmit(this,"moveToY"):p,g=Math.atan2(v-this.y,p-this.x),x=f(this.x,this.y,p,v)/(this.life/1e3);this.velocityX=Math.cos(g)*x,this.velocityY=Math.sin(g)*x}else this.velocityX=d,this.velocityY=a;o.acceleration&&(this.accelerationX=o.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=o.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=o.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=o.maxVelocityY.onEmit(this,"maxVelocityY"),this.delayCurrent=o.delay.onEmit(this,"delay"),this.scaleX=o.scaleX.onEmit(this,"scaleX"),this.scaleY=o.scaleY?o.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=o.rotate.onEmit(this,"rotate"),this.rotation=m(this.angle),this.bounce=o.bounce.onEmit(this,"bounce"),this.alpha=o.alpha.onEmit(this,"alpha"),this.tint=o.tint.onEmit(this,"tint")},computeVelocity:function(u,s,o,d){var a=this.velocityX,c=this.velocityY,p=this.accelerationX,v=this.accelerationY,g=this.maxVelocityX,x=this.maxVelocityY;a+=u.gravityX*o,c+=u.gravityY*o,p&&(a+=p*o),v&&(c+=v*o),a>g?a=g:a<-g&&(a=-g),c>x?c=x:c<-x&&(c=-x),this.velocityX=a,this.velocityY=c;for(var T=0;T<d.length;T++)d[T].update(this,s,o)},checkBounds:function(u){var s=u.bounds,o=-this.bounce;this.x<s.x&&u.collideLeft?(this.x=s.x,this.velocityX*=o):this.x>s.right&&u.collideRight&&(this.x=s.right,this.velocityX*=o),this.y<s.y&&u.collideTop?(this.y=s.y,this.velocityY*=o):this.y>s.bottom&&u.collideBottom&&(this.y=s.bottom,this.velocityY*=o)},update:function(u,s,o){if(this.delayCurrent>0)return this.delayCurrent-=u,!1;var d=this.emitter,a=1-this.lifeCurrent/this.life;return this.lifeT=a,this.computeVelocity(d,u,s,o),this.x+=this.velocityX*s,this.y+=this.velocityY*s,d.bounds&&this.checkBounds(d),d.deathZone&&d.deathZone.willKill(this)?(this.lifeCurrent=0,!0):(this.scaleX=d.scaleX.onUpdate(this,"scaleX",a,this.scaleX),this.scaleY=d.scaleY?d.scaleY.onUpdate(this,"scaleY",a,this.scaleY):this.scaleX,this.angle=d.rotate.onUpdate(this,"rotate",a,this.angle),this.rotation=m(this.angle),this.alpha=d.alpha.onUpdate(this,"alpha",a,this.alpha),this.tint=d.tint.onUpdate(this,"tint",a,this.tint),this.lifeCurrent-=u,this.lifeCurrent<=0)}});C.exports=h},function(C,w,n){var l=n(35),m=n(0),f=n(11),h=n(453),u=n(454),s=n(449),o=n(2),d=n(210),a=n(455),c=n(126),p=n(451),v=n(456),g=n(10),x=n(79),T=n(3),S=n(68),D=new m({Mixins:[f.BlendMode,f.Mask,f.ScrollFactor,f.Visible],initialize:function(R,P){this.manager=R,this.texture=R.texture,this.frames=[R.defaultFrame],this.defaultFrame=R.defaultFrame,this.configFastMap=["active","blendMode","collideBottom","collideLeft","collideRight","collideTop","deathCallback","deathCallbackScope","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxParticles","name","on","particleBringToTop","particleClass","radial","timeScale","trackVisible","visible"],this.configOpMap=["accelerationX","accelerationY","angle","alpha","bounce","delay","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],this.name="",this.particleClass=p,this.x=new s(P,"x",0,!0),this.y=new s(P,"y",0,!0),this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.accelerationX=new s(P,"accelerationX",0,!0),this.accelerationY=new s(P,"accelerationY",0,!0),this.maxVelocityX=new s(P,"maxVelocityX",1e4,!0),this.maxVelocityY=new s(P,"maxVelocityY",1e4,!0),this.speedX=new s(P,"speedX",0,!0),this.speedY=new s(P,"speedY",0,!0),this.moveTo=!1,this.moveToX=new s(P,"moveToX",0,!0),this.moveToY=new s(P,"moveToY",0,!0),this.bounce=new s(P,"bounce",0,!0),this.scaleX=new s(P,"scaleX",1),this.scaleY=new s(P,"scaleY",1),this.tint=new s(P,"tint",16777215),this.alpha=new s(P,"alpha",1),this.lifespan=new s(P,"lifespan",1e3,!0),this.angle=new s(P,"angle",{min:0,max:360},!0),this.rotate=new s(P,"rotate",0),this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.quantity=new s(P,"quantity",1,!0),this.delay=new s(P,"delay",0,!0),this.frequency=0,this.on=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZone=null,this.deathZone=null,this.bounds=null,this.collideLeft=!0,this.collideRight=!0,this.collideTop=!0,this.collideBottom=!0,this.active=!0,this.visible=!0,this.blendMode=l.NORMAL,this.follow=null,this.followOffset=new T,this.trackVisible=!1,this.currentFrame=0,this.randomFrame=!0,this.frameQuantity=1,this.dead=[],this.alive=[],this._counter=0,this._frameCounter=0,P&&this.fromJSON(P)},fromJSON:function(M){if(!M)return this;var R=0,P="";for(R=0;R<this.configFastMap.length;R++)c(M,P=this.configFastMap[R])&&(this[P]=o(M,P));for(R=0;R<this.configOpMap.length;R++)c(M,P=this.configOpMap[R])&&this[P].loadConfig(M);if(this.acceleration=0!==this.accelerationX.propertyValue||0!==this.accelerationY.propertyValue,this.moveTo=0!==this.moveToX.propertyValue||0!==this.moveToY.propertyValue,c(M,"speed")&&(this.speedX.loadConfig(M,"speed"),this.speedY=null),(a(M,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),c(M,"scale")&&(this.scaleX.loadConfig(M,"scale"),this.scaleY=null),c(M,"callbackScope")){var I=o(M,"callbackScope",null);this.emitCallbackScope=I,this.deathCallbackScope=I}return c(M,"emitZone")&&this.setEmitZone(M.emitZone),c(M,"deathZone")&&this.setDeathZone(M.deathZone),c(M,"bounds")&&this.setBounds(M.bounds),c(M,"followOffset")&&this.followOffset.setFromObject(o(M,"followOffset",0)),c(M,"frame")&&this.setFrame(M.frame),c(M,"reserve")&&this.reserve(M.reserve),this},toJSON:function(M){void 0===M&&(M={});var R=0,P="";for(R=0;R<this.configFastMap.length;R++)M[P=this.configFastMap[R]]=this[P];for(R=0;R<this.configOpMap.length;R++)this[P=this.configOpMap[R]]&&(M[P]=this[P].toJSON());return this.speedY||(delete M.speedX,M.speed=this.speedX.toJSON()),this.scaleY||(delete M.scaleX,M.scale=this.scaleX.toJSON()),M},startFollow:function(M,R,P,I){return void 0===R&&(R=0),void 0===P&&(P=0),void 0===I&&(I=!1),this.follow=M,this.followOffset.set(R,P),this.trackVisible=I,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){if(1===this.frames.length)return this.defaultFrame;if(this.randomFrame)return d(this.frames);var M=this.frames[this.currentFrame];return this._frameCounter++,this._frameCounter===this.frameQuantity&&(this._frameCounter=0,this.currentFrame=S(this.currentFrame+1,0,this._frameLength)),M},setFrame:function(M,R,P){void 0===R&&(R=!0),void 0===P&&(P=1),this.randomFrame=R,this.frameQuantity=P,this.currentFrame=0,this._frameCounter=0;var I=typeof M;if(Array.isArray(M)||"string"===I||"number"===I)this.manager.setEmitterFrames(M,this);else if("object"===I){var b=M;(M=o(b,"frames",null))&&this.manager.setEmitterFrames(M,this);var L=o(b,"cycle",!1);this.randomFrame=!L,this.frameQuantity=o(b,"quantity",P)}return this._frameLength=this.frames.length,1===this._frameLength&&(this.frameQuantity=1,this.randomFrame=!1),this},setRadial:function(M){return void 0===M&&(M=!0),this.radial=M,this},setPosition:function(M,R){return this.x.onChange(M),this.y.onChange(R),this},setBounds:function(M,R,P,I){if("object"==typeof M){var b=M;M=b.x,R=b.y,P=c(b,"w")?b.w:b.width,I=c(b,"h")?b.h:b.height}return this.bounds?this.bounds.setTo(M,R,P,I):this.bounds=new g(M,R,P,I),this},setSpeedX:function(M){return this.speedX.onChange(M),this.radial=!1,this},setSpeedY:function(M){return this.speedY&&(this.speedY.onChange(M),this.radial=!1),this},setSpeed:function(M){return this.speedX.onChange(M),this.speedY=null,this.radial=!0,this},setScaleX:function(M){return this.scaleX.onChange(M),this},setScaleY:function(M){return this.scaleY.onChange(M),this},setScale:function(M){return this.scaleX.onChange(M),this.scaleY=null,this},setGravityX:function(M){return this.gravityX=M,this},setGravityY:function(M){return this.gravityY=M,this},setGravity:function(M,R){return this.gravityX=M,this.gravityY=R,this},setAlpha:function(M){return this.alpha.onChange(M),this},setTint:function(M){return this.tint.onChange(M),this},setEmitterAngle:function(M){return this.angle.onChange(M),this},setAngle:function(M){return this.angle.onChange(M),this},setLifespan:function(M){return this.lifespan.onChange(M),this},setQuantity:function(M){return this.quantity.onChange(M),this},setFrequency:function(M,R){return this.frequency=M,this._counter=0,R&&this.quantity.onChange(R),this},setEmitZone:function(M){if(void 0===M)this.emitZone=null;else{var R=o(M,"type","random"),P=o(M,"source",null);switch(R){case"random":this.emitZone=new v(P);break;case"edge":var I=o(M,"quantity",1),b=o(M,"stepRate",0),L=o(M,"yoyo",!1),B=o(M,"seamless",!0);this.emitZone=new u(P,I,b,L,B)}}return this},setDeathZone:function(M){if(void 0===M)this.deathZone=null;else{var R=o(M,"type","onEnter"),P=o(M,"source",null);P&&"function"==typeof P.contains&&(this.deathZone=new h(P,"onEnter"===R))}return this},reserve:function(M){for(var R=this.dead,P=0;P<M;P++)R.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()===this.maxParticles},onParticleEmit:function(M,R){return void 0===M?(this.emitCallback=null,this.emitCallbackScope=null):"function"==typeof M&&(this.emitCallback=M,R&&(this.emitCallbackScope=R)),this},onParticleDeath:function(M,R){return void 0===M?(this.deathCallback=null,this.deathCallbackScope=null):"function"==typeof M&&(this.deathCallback=M,R&&(this.deathCallbackScope=R)),this},killAll:function(){for(var M=this.dead,R=this.alive;R.length>0;)M.push(R.pop());return this},forEachAlive:function(M,R){for(var P=this.alive,I=P.length,b=0;b<I;++b)M.call(R,P[b],this);return this},forEachDead:function(M,R){for(var P=this.dead,I=P.length,b=0;b<I;++b)M.call(R,P[b],this);return this},start:function(){return this.on=!0,this._counter=0,this},stop:function(){return this.on=!1,this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},remove:function(){return this.manager.removeEmitter(this),this},depthSort:function(){return x(this.alive,this.depthSortCallback),this},flow:function(M,R){return void 0===R&&(R=1),this.frequency=M,this.quantity.onChange(R),this.start()},explode:function(M,R,P){return this.frequency=-1,this.emitParticle(M,R,P)},emitParticleAt:function(M,R,P){return this.emitParticle(P,M,R)},emitParticle:function(M,R,P){if(!this.atLimit()){void 0===M&&(M=this.quantity.onEmit());for(var I=this.dead,b=this.follow?this.follow.x+this.followOffset.x:R,L=this.follow?this.follow.y+this.followOffset.y:P,B=0;B<M;B++){var V=I.pop();if(V||(V=new this.particleClass(this)),V.fire(b,L),this.particleBringToTop?this.alive.push(V):this.alive.unshift(V),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,V,this),this.atLimit())break}return V}},preUpdate:function(M,R){var P=(R*=this.timeScale)/1e3;this.trackVisible&&(this.visible=this.follow.visible);var I=this.manager.getProcessors(),b=this.alive,L=this.dead,B=0,V=[],z=b.length;for(B=0;B<z;B++){var W=b[B];W.update(R,P,I)&&V.push({index:B,particle:W})}if((z=V.length)>0){var K=this.deathCallback,J=this.deathCallbackScope;for(B=z-1;B>=0;B--){var tt=V[B];b.splice(tt.index,1),L.push(tt.particle),K&&K.call(J,tt.particle),tt.particle.resetPosition()}}!this.on||(0===this.frequency?this.emitParticle():this.frequency>0&&(this._counter-=R,this._counter<=0&&(this.emitParticle(),this._counter=this.frequency-Math.abs(this._counter))))},depthSortCallback:function(M,R){return M.y-R.y}});C.exports=D},function(C,w,n){var m=new(n(0))({initialize:function(h,u){this.source=h,this.killOnEnter=u},willKill:function(f){var h=this.source.contains(f.x,f.y);return h&&this.killOnEnter||!h&&!this.killOnEnter}});C.exports=m},function(C,w,n){var m=new(n(0))({initialize:function(h,u,s,o,d){void 0===o&&(o=!1),void 0===d&&(d=!0),this.source=h,this.points=[],this.quantity=u,this.stepRate=s,this.yoyo=o,this.counter=-1,this.seamless=d,this._length=0,this._direction=0,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var f=this.points[0],h=this.points[this.points.length-1];f.x===h.x&&f.y===h.y&&this.points.pop()}var u=this._length;return this._length=this.points.length,this._length<u&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(f){return this.source=f,this.updateSource()},getPoint:function(f){0===this._direction?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,-1===this.counter&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var h=this.points[this.counter];h&&(f.x=h.x,f.y=h.y)}});C.exports=m},function(C,w){C.exports=function(l,m){for(var f=0;f<m.length;f++)if(l.hasOwnProperty(m[f]))return!0;return!1}},function(C,w,n){var l=n(0),m=n(3),f=new l({initialize:function(u){this.source=u,this._tempVec=new m},getPoint:function(h){var u=this._tempVec;this.source.getRandomPoint(u),h.x=u.x,h.y=u.y}});C.exports=f},function(C,w,n){var l=n(0),m=n(11),f=n(73),h=new l({Extends:f,Mixins:[m.PathFollower],initialize:function(s,o,d,a,c,p){f.call(this,s,d,a,c,p),this.path=o},preUpdate:function(u,s){this.anims.update(u,s),this.pathUpdate(u)}});C.exports=h},function(C,w){C.exports=function(l,m,f){var u=l.context,s=l.style,o=[],d=0,a=f.length;s.maxLines>0&&s.maxLines<f.length&&(a=s.maxLines),s.syncFont(l.canvas,u);for(var c=0;c<a;c++){var p=s.strokeThickness;p+=u.measureText(f[c]).width,s.wordWrap&&(p-=u.measureText(" ").width),o[c]=Math.ceil(p),d=Math.max(d,o[c])}var v=m.fontSize+s.strokeThickness,g=v*a,x=l.lineSpacing;return a>1&&(g+=x*(a-1)),{width:d,height:g,lines:a,lineWidths:o,lineSpacing:x,lineHeight:v}}},function(C,w,n){var l=n(0),m=n(13),f=n(6),h=n(460),u={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|M\xc3\u2030qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},s=new l({initialize:function(d,a){this.parent=d,this.setStyle(a,!1,!0);var c=f(a,"metrics",!1);this.metrics=c?{ascent:f(c,"ascent",0),descent:f(c,"descent",0),fontSize:f(c,"fontSize",0)}:h(this)},setStyle:function(o,d,a){for(var c in void 0===d&&(d=!0),void 0===a&&(a=!1),o&&o.hasOwnProperty("fontSize")&&"number"==typeof o.fontSize&&(o.fontSize=o.fontSize.toString()+"px"),u){var p=a?u[c][1]:this[c];this[c]="wordWrapCallback"===c||"wordWrapCallbackScope"===c?f(o,u[c][0],p):m(o,u[c][0],p)}var v=f(o,"font",null);null!==v&&this.setFont(v,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var g=f(o,"fill",null);return null!==g&&(this.color=g),d?this.update(!0):this.parent},syncFont:function(o,d){d.font=this._font},syncStyle:function(o,d){d.textBaseline="alphabetic",d.fillStyle=this.color,d.strokeStyle=this.stroke,d.lineWidth=this.strokeThickness,d.lineCap="round",d.lineJoin="round"},syncShadow:function(o,d){d?(o.shadowOffsetX=this.shadowOffsetX,o.shadowOffsetY=this.shadowOffsetY,o.shadowColor=this.shadowColor,o.shadowBlur=this.shadowBlur):(o.shadowOffsetX=0,o.shadowOffsetY=0,o.shadowColor=0,o.shadowBlur=0)},update:function(o){return o&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=h(this)),this.parent.updateText()},setFont:function(o,d){void 0===d&&(d=!0);var a=o,c="",p="";if("string"!=typeof o)a=f(o,"fontFamily","Courier"),c=f(o,"fontSize","16px"),p=f(o,"fontStyle","");else{var v=o.split(" "),g=0;p=v.length>2?v[g++]:"",c=v[g++]||"16px",a=v[g++]||"Courier"}return(a!==this.fontFamily||c!==this.fontSize||p!==this.fontStyle)&&(this.fontFamily=a,this.fontSize=c,this.fontStyle=p,d&&this.update(!0)),this.parent},setFontFamily:function(o){return this.fontFamily!==o&&(this.fontFamily=o,this.update(!0)),this.parent},setFontStyle:function(o){return this.fontStyle!==o&&(this.fontStyle=o,this.update(!0)),this.parent},setFontSize:function(o){return"number"==typeof o&&(o=o.toString()+"px"),this.fontSize!==o&&(this.fontSize=o,this.update(!0)),this.parent},setTestString:function(o){return this.testString=o,this.update(!0)},setFixedSize:function(o,d){return this.fixedWidth=o,this.fixedHeight=d,o&&(this.parent.width=o),d&&(this.parent.height=d),this.update(!1)},setBackgroundColor:function(o){return this.backgroundColor=o,this.update(!1)},setFill:function(o){return this.color=o,this.update(!1)},setColor:function(o){return this.color=o,this.update(!1)},setResolution:function(o){return this.resolution=o,this.update(!1)},setStroke:function(o,d){return void 0===d&&(d=this.strokeThickness),void 0===o&&0!==this.strokeThickness?(this.strokeThickness=0,this.update(!0)):(this.stroke!==o||this.strokeThickness!==d)&&(this.stroke=o,this.strokeThickness=d,this.update(!0)),this.parent},setShadow:function(o,d,a,c,p,v){return void 0===o&&(o=0),void 0===d&&(d=0),void 0===a&&(a="#000"),void 0===c&&(c=0),void 0===p&&(p=!1),void 0===v&&(v=!0),this.shadowOffsetX=o,this.shadowOffsetY=d,this.shadowColor=a,this.shadowBlur=c,this.shadowStroke=p,this.shadowFill=v,this.update(!1)},setShadowOffset:function(o,d){return void 0===o&&(o=0),void 0===d&&(d=o),this.shadowOffsetX=o,this.shadowOffsetY=d,this.update(!1)},setShadowColor:function(o){return void 0===o&&(o="#000"),this.shadowColor=o,this.update(!1)},setShadowBlur:function(o){return void 0===o&&(o=0),this.shadowBlur=o,this.update(!1)},setShadowStroke:function(o){return this.shadowStroke=o,this.update(!1)},setShadowFill:function(o){return this.shadowFill=o,this.update(!1)},setWordWrapWidth:function(o,d){return void 0===d&&(d=!1),this.wordWrapWidth=o,this.wordWrapUseAdvanced=d,this.update(!1)},setWordWrapCallback:function(o,d){return void 0===d&&(d=null),this.wordWrapCallback=o,this.wordWrapCallbackScope=d,this.update(!1)},setAlign:function(o){return void 0===o&&(o="left"),this.align=o,this.update(!1)},setMaxLines:function(o){return void 0===o&&(o=0),this.maxLines=o,this.update(!1)},getTextMetrics:function(){var o=this.metrics;return{ascent:o.ascent,descent:o.descent,fontSize:o.fontSize}},toJSON:function(){var o={};for(var d in u)o[d]=this[d];return o.metrics=this.getTextMetrics(),o},destroy:function(){this.parent=void 0}});C.exports=s},function(C,w,n){var l=n(31);C.exports=function(f){var h=l.create(this),u=h.getContext("2d");f.syncFont(h,u);var s=u.measureText(f.testString);if("actualBoundingBoxAscent"in s){var o=s.actualBoundingBoxAscent,d=s.actualBoundingBoxDescent;return l.remove(h),{ascent:o,descent:d,fontSize:o+d}}var a=Math.ceil(s.width*f.baselineX),c=a,p=2*c;c=c*f.baselineY|0,h.width=a,h.height=p,u.fillStyle="#f00",u.fillRect(0,0,a,p),u.font=f._font,u.textBaseline="alphabetic",u.fillStyle="#000",u.fillText(f.testString,0,c);var v={ascent:0,descent:0,fontSize:0},g=u.getImageData(0,0,a,p);if(!g)return v.ascent=c,v.descent=c+6,v.fontSize=v.ascent+v.descent,l.remove(h),v;var D,M,x=g.data,T=x.length,S=4*a,R=0,P=!1;for(D=0;D<c;D++){for(M=0;M<S;M+=4)if(255!==x[R+M]){P=!0;break}if(P)break;R+=S}for(v.ascent=c-D,R=T-S,P=!1,D=p;D>c;D--){for(M=0;M<S;M+=4)if(255!==x[R+M]){P=!0;break}if(P)break;R-=S}return v.descent=D-c,v.fontSize=v.ascent+v.descent,l.remove(h),v}},function(C,w,n){var l=n(1097),m=n(0),f=n(36),h=n(59),u=n(65),s=n(14),o=n(34),d=new m({Extends:o,Mixins:[l],initialize:function(c,p,v,g,x,T,S,D,M){void 0===p&&(p=0),void 0===v&&(v=0),void 0===g&&(g=128),void 0===x&&(x=0),void 0===T&&(T=360),void 0===S&&(S=!1),o.call(this,c,"Arc",new u(0,0,g)),this._startAngle=x,this._endAngle=T,this._anticlockwise=S,this._iterations=.01,this.setPosition(p,v);var R=2*this.geom.radius;this.setSize(R,R),void 0!==D&&this.setFillStyle(D,M),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(a){this._iterations=a,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(a){this.geom.radius=a;var c=2*a;this.setSize(c,c),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(a){this._startAngle=a,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(a){this._endAngle=a,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(a){this._anticlockwise=a,this.updateData()}},setRadius:function(a){return this.radius=a,this},setIterations:function(a){return void 0===a&&(a=.01),this.iterations=a,this},setStartAngle:function(a,c){return this._startAngle=a,void 0!==c&&(this._anticlockwise=c),this.updateData()},setEndAngle:function(a,c){return this._endAngle=a,void 0!==c&&(this._anticlockwise=c),this.updateData()},updateData:function(){var a=this._iterations,c=a,p=this.geom.radius,v=f(this._startAngle),g=f(this._endAngle),T=p,S=p;g-=v,this._anticlockwise?g<-s.PI2?g=-s.PI2:g>0&&(g=g%s.PI2-s.PI2):g>s.PI2?g=s.PI2:g<0&&(g=s.PI2+g%s.PI2);for(var M,D=[T+Math.cos(v)*p,S+Math.sin(v)*p];c<1;)M=g*c+v,D.push(T+Math.cos(M)*p,S+Math.sin(M)*p),c+=a;return M=g+v,D.push(T+Math.cos(M)*p,S+Math.sin(M)*p),D.push(T+Math.cos(v)*p,S+Math.sin(v)*p),this.pathIndexes=h(D),this.pathData=D,this}});C.exports=d},function(C,w,n){var l=n(0),m=n(1100),f=n(59),h=n(10),u=n(34),s=new l({Extends:u,Mixins:[m],initialize:function(d,a,c,p,v,g){void 0===a&&(a=0),void 0===c&&(c=0),u.call(this,d,"Curve",p),this._smoothness=32,this._curveBounds=new h,this.closePath=!1,this.setPosition(a,c),void 0!==v&&this.setFillStyle(v,g),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(o){this._smoothness=o,this.updateData()}},setSmoothness:function(o){return this._smoothness=o,this.updateData()},updateData:function(){var o=this._curveBounds,d=this._smoothness;this.geom.getBounds(o,d),this.setSize(o.width,o.height),this.updateDisplayOrigin();for(var a=[],c=this.geom.getPoints(d),p=0;p<c.length;p++)a.push(c[p].x,c[p].y);return a.push(c[0].x,c[0].y),this.pathIndexes=f(a),this.pathData=a,this}});C.exports=s},function(C,w,n){var l=n(0),m=n(59),f=n(1103),h=n(111),u=n(34),s=new l({Extends:u,Mixins:[f],initialize:function(d,a,c,p,v,g,x){void 0===a&&(a=0),void 0===c&&(c=0),void 0===p&&(p=128),void 0===v&&(v=128),u.call(this,d,"Ellipse",new h(p/2,v/2,p,v)),this._smoothness=64,this.setPosition(a,c),this.width=p,this.height=v,void 0!==g&&this.setFillStyle(g,x),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(o){this._smoothness=o,this.updateData()}},setSize:function(o,d){return this.width=o,this.height=d,this.geom.setPosition(o/2,d/2),this.geom.setSize(o,d),this.updateData()},setSmoothness:function(o){return this._smoothness=o,this.updateData()},updateData:function(){for(var o=[],d=this.geom.getPoints(this._smoothness),a=0;a<d.length;a++)o.push(d[a].x,d[a].y);return o.push(d[0].x,d[0].y),this.pathIndexes=m(o),this.pathData=o,this}});C.exports=s},function(C,w,n){var l=n(0),m=n(34),f=n(1106),h=new l({Extends:m,Mixins:[f],initialize:function(s,o,d,a,c,p,v,g,x,T,S){void 0===o&&(o=0),void 0===d&&(d=0),void 0===a&&(a=128),void 0===c&&(c=128),void 0===p&&(p=32),void 0===v&&(v=32),m.call(this,s,"Grid",null),this.cellWidth=p,this.cellHeight=v,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.setPosition(o,d),this.setSize(a,c),this.setFillStyle(g,x),void 0!==T&&this.setOutlineStyle(T,S),this.updateDisplayOrigin()},setFillStyle:function(u,s){return void 0===s&&(s=1),void 0===u?this.showCells=!1:(this.fillColor=u,this.fillAlpha=s,this.showCells=!0),this},setAltFillStyle:function(u,s){return void 0===s&&(s=1),void 0===u?this.showAltCells=!1:(this.altFillColor=u,this.altFillAlpha=s,this.showAltCells=!0),this},setOutlineStyle:function(u,s){return void 0===s&&(s=1),void 0===u?this.showOutline=!1:(this.outlineFillColor=u,this.outlineFillAlpha=s,this.showOutline=!0),this}});C.exports=h},function(C,w,n){var l=n(1109),m=n(0),f=n(34),h=new m({Extends:f,Mixins:[l],initialize:function(s,o,d,a,c,p,v,g){void 0===o&&(o=0),void 0===d&&(d=0),void 0===a&&(a=48),void 0===c&&(c=32),void 0===p&&(p=15658734),void 0===v&&(v=10066329),void 0===g&&(g=13421772),f.call(this,s,"IsoBox",null),this.projection=4,this.fillTop=p,this.fillLeft=v,this.fillRight=g,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(o,d),this.setSize(a,c),this.updateDisplayOrigin()},setProjection:function(u){return this.projection=u,this},setFaces:function(u,s,o){return void 0===u&&(u=!0),void 0===s&&(s=!0),void 0===o&&(o=!0),this.showTop=u,this.showLeft=s,this.showRight=o,this},setFillStyle:function(u,s,o){return this.fillTop=u,this.fillLeft=s,this.fillRight=o,this.isFilled=!0,this}});C.exports=h},function(C,w,n){var l=n(0),m=n(1112),f=n(34),h=new l({Extends:f,Mixins:[m],initialize:function(s,o,d,a,c,p,v,g,x){void 0===o&&(o=0),void 0===d&&(d=0),void 0===a&&(a=48),void 0===c&&(c=32),void 0===p&&(p=!1),void 0===v&&(v=15658734),void 0===g&&(g=10066329),void 0===x&&(x=13421772),f.call(this,s,"IsoTriangle",null),this.projection=4,this.fillTop=v,this.fillLeft=g,this.fillRight=x,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=p,this.isFilled=!0,this.setPosition(o,d),this.setSize(a,c),this.updateDisplayOrigin()},setProjection:function(u){return this.projection=u,this},setReversed:function(u){return this.isReversed=u,this},setFaces:function(u,s,o){return void 0===u&&(u=!0),void 0===s&&(s=!0),void 0===o&&(o=!0),this.showTop=u,this.showLeft=s,this.showRight=o,this},setFillStyle:function(u,s,o){return this.fillTop=u,this.fillLeft=s,this.fillRight=o,this.isFilled=!0,this}});C.exports=h},function(C,w,n){var l=n(0),m=n(34),f=n(47),h=n(1115),u=new l({Extends:m,Mixins:[h],initialize:function(o,d,a,c,p,v,g,x,T){void 0===d&&(d=0),void 0===a&&(a=0),void 0===c&&(c=0),void 0===p&&(p=0),void 0===v&&(v=128),void 0===g&&(g=0),m.call(this,o,"Line",new f(c,p,v,g));var S=Math.max(1,this.geom.right-this.geom.left),D=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(d,a),this.setSize(S,D),void 0!==x&&this.setStrokeStyle(1,x,T),this.updateDisplayOrigin()},setLineWidth:function(s,o){return void 0===o&&(o=s),this._startWidth=s,this._endWidth=o,this.lineWidth=s,this},setTo:function(s,o,d,a){return this.geom.setTo(s,o,d,a),this}});C.exports=u},function(C,w,n){var l=n(1118),m=n(0),f=n(59),h=n(469),u=n(227),s=n(34),o=n(472),d=new m({Extends:s,Mixins:[l],initialize:function(c,p,v,g,x,T){void 0===p&&(p=0),void 0===v&&(v=0),s.call(this,c,"Polygon",new u(g));var S=h(this.geom);this.setPosition(p,v),this.setSize(S.width,S.height),void 0!==x&&this.setFillStyle(x,T),this.updateDisplayOrigin(),this.updateData()},smooth:function(a){void 0===a&&(a=1);for(var c=0;c<a;c++)o(this.geom);return this.updateData()},updateData:function(){for(var a=[],c=this.geom.points,p=0;p<c.length;p++)a.push(c[p].x,c[p].y);return a.push(c[0].x,c[0].y),this.pathIndexes=f(a),this.pathData=a,this}});C.exports=d},function(C,w,n){var l=n(10);C.exports=function(f,h){void 0===h&&(h=new l);for(var a,u=1/0,s=1/0,o=-u,d=-s,c=0;c<f.points.length;c++)a=f.points[c],u=Math.min(u,a.x),s=Math.min(s,a.y),o=Math.max(o,a.x),d=Math.max(d,a.y);return h.x=u,h.y=s,h.width=o-u,h.height=d-s,h}},function(C,w,n){var l=n(67),m=n(47),f=n(471);C.exports=function(u,s,o,d){void 0===d&&(d=[]);var a=u.points,c=f(u);!s&&o>0&&(s=c/o);for(var p=0;p<s;p++)for(var v=c*(p/s),g=0,x=0;x<a.length;x++){var T=a[x],S=a[(x+1)%a.length],D=new m(T.x,T.y,S.x,S.y),M=l(D);if(!(v<g||v>g+M)){var R=D.getPoint((v-g)/M);d.push(R);break}g+=M}return d}},function(C,w,n){var l=n(67),m=n(47);C.exports=function(h){for(var u=h.points,s=0,o=0;o<u.length;o++){var d=u[o],a=u[(o+1)%u.length],c=new m(d.x,d.y,a.x,a.y);s+=l(c)}return s}},function(C,w){var n=function(m,f){return m[0]=f[0],m[1]=f[1],m};C.exports=function(m){var f,h=[],u=m.points;for(f=0;f<u.length;f++)h.push([u[f].x,u[f].y]);var s=[];for(h.length>0&&s.push(n([0,0],h[0])),f=0;f<h.length-1;f++){var o=h[f],d=h[f+1],a=o[0],c=o[1],p=d[0],v=d[1];s.push([.85*a+.15*p,.85*c+.15*v]),s.push([.15*a+.85*p,.15*c+.85*v])}return h.length>1&&s.push(n([0,0],h[h.length-1])),m.setTo(s)}},function(C,w,n){var l=n(0),m=n(10),f=n(34),h=n(1121),u=new l({Extends:f,Mixins:[h],initialize:function(o,d,a,c,p,v,g){void 0===d&&(d=0),void 0===a&&(a=0),void 0===c&&(c=128),void 0===p&&(p=128),f.call(this,o,"Rectangle",new m(0,0,c,p)),this.setPosition(d,a),this.setSize(c,p),void 0!==v&&this.setFillStyle(v,g),this.updateDisplayOrigin(),this.updateData()},setSize:function(s,o){return this.width=s,this.height=o,this.geom.setSize(s,o),this.updateData(),this},updateData:function(){var s=[],o=this.geom,d=this._tempLine;return o.getLineA(d),s.push(d.x1,d.y1,d.x2,d.y2),o.getLineB(d),s.push(d.x2,d.y2),o.getLineC(d),s.push(d.x2,d.y2),o.getLineD(d),s.push(d.x2,d.y2),this.pathData=s,this}});C.exports=u},function(C,w,n){var l=n(1124),m=n(0),f=n(59),h=n(34),u=new m({Extends:h,Mixins:[l],initialize:function(o,d,a,c,p,v,g,x){void 0===d&&(d=0),void 0===a&&(a=0),void 0===c&&(c=5),void 0===p&&(p=32),void 0===v&&(v=64),h.call(this,o,"Star",null),this._points=c,this._innerRadius=p,this._outerRadius=v,this.setPosition(d,a),this.setSize(2*v,2*v),void 0!==g&&this.setFillStyle(g,x),this.updateDisplayOrigin(),this.updateData()},setPoints:function(s){return this._points=s,this.updateData()},setInnerRadius:function(s){return this._innerRadius=s,this.updateData()},setOuterRadius:function(s){return this._outerRadius=s,this.updateData()},points:{get:function(){return this._points},set:function(s){this._points=s,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(s){this._innerRadius=s,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(s){this._outerRadius=s,this.updateData()}},updateData:function(){var s=[],o=this._points,d=this._innerRadius,a=this._outerRadius,c=Math.PI/2*3,p=Math.PI/o,v=a,g=a;s.push(v,g+-a);for(var x=0;x<o;x++)s.push(v+Math.cos(c)*a,g+Math.sin(c)*a),c+=p,s.push(v+Math.cos(c)*d,g+Math.sin(c)*d),c+=p;return s.push(v,g+-a),this.pathIndexes=f(s),this.pathData=s,this}});C.exports=u},function(C,w,n){var l=n(0),m=n(34),f=n(82),h=n(1127),u=new l({Extends:m,Mixins:[h],initialize:function(o,d,a,c,p,v,g,x,T,S,D){void 0===d&&(d=0),void 0===a&&(a=0),void 0===c&&(c=0),void 0===p&&(p=128),void 0===v&&(v=64),void 0===g&&(g=0),void 0===x&&(x=128),void 0===T&&(T=128),m.call(this,o,"Triangle",new f(c,p,v,g,x,T));var M=this.geom.right-this.geom.left,R=this.geom.bottom-this.geom.top;this.setPosition(d,a),this.setSize(M,R),void 0!==S&&this.setFillStyle(S,D),this.updateDisplayOrigin(),this.updateData()},setTo:function(s,o,d,a,c,p){return this.geom.setTo(s,o,d,a,c,p),this.updateData()},updateData:function(){var s=[],o=this.geom,d=this._tempLine;return o.getLineA(d),s.push(d.x1,d.y1,d.x2,d.y2),o.getLineB(d),s.push(d.x2,d.y2),o.getLineC(d),s.push(d.x2,d.y2),this.pathData=s,this}});C.exports=u},function(C,w,n){var l=n(4),m=n(67);C.exports=function(h,u,s){void 0===s&&(s=new l);var o=h.getLineA(),d=h.getLineB(),a=h.getLineC();if(u<=0||u>=1)return s.x=o.x1,s.y=o.y1,s;var c=m(o),p=m(d),v=m(a),x=(c+p+v)*u,T=0;return x<c?(s.x=o.x1+(o.x2-o.x1)*(T=x/c),s.y=o.y1+(o.y2-o.y1)*T):x>c+p?(s.x=a.x1+(a.x2-a.x1)*(T=(x-=c+p)/v),s.y=a.y1+(a.y2-a.y1)*T):(s.x=d.x1+(d.x2-d.x1)*(T=(x-=c)/p),s.y=d.y1+(d.y2-d.y1)*T),s}},function(C,w,n){var l=n(67),m=n(4);C.exports=function(h,u,s,o){void 0===o&&(o=[]);var d=h.getLineA(),a=h.getLineB(),c=h.getLineC(),p=l(d),v=l(a),g=l(c),x=p+v+g;!u&&s>0&&(u=x/s);for(var T=0;T<u;T++){var S=x*(T/u),D=0,M=new m;S<p?(M.x=d.x1+(d.x2-d.x1)*(D=S/p),M.y=d.y1+(d.y2-d.y1)*D):S>p+v?(M.x=c.x1+(c.x2-c.x1)*(D=(S-=p+v)/g),M.y=c.y1+(c.y2-c.y1)*D):(M.x=a.x1+(a.x2-a.x1)*(D=(S-=p)/v),M.y=a.y1+(a.y2-a.y1)*D),o.push(M)}return o}},function(C,w){C.exports=function(l,m,f){if(!l||"number"==typeof l)return!1;if(l.hasOwnProperty(m))return l[m]=f,!0;if(-1!==m.indexOf(".")){for(var h=m.split("."),u=l,s=l,o=0;o<h.length;o++){if(!u.hasOwnProperty(h[o]))return!1;s=u,u=u[h[o]]}return s[h[h.length-1]]=f,!0}return!1}},function(C,w,n){var l=n(116),m=n(117);C.exports=function(h,u,s,o,d,a,c){if(void 0===o&&(o=!1),void 0===a&&(a=16777215),void 0===c&&(c=1),h.length===u.length){var v,P,I,b,p={faces:[],vertices:[]},L=o?3:2,B=Array.isArray(a),V=Array.isArray(c);if(Array.isArray(s)&&s.length>0)for(v=0;v<s.length;v++){var z=s[v],W=2*s[v],K=s[v]*L;P=0,I=0,b=0,d&&(P=d[K],I=d[K+1],b=o?d[K+2]:0),p.vertices.push(new m(h[K],h[K+1],o?h[K+2]:0,u[W],u[W+1],B?a[z]:a,V?c[z]:c,P,I,b))}else{var J=0,tt=0;for(v=0;v<h.length;v+=L)P=0,I=0,b=0,d&&(P=d[v],I=d[v+1],b=o?d[v+2]:0),p.vertices.push(new m(h[v],h[v+1],o?h[v+2]:0,u[J],u[J+1],B?a[tt]:a,V?c[tt]:c,P,I,b)),J+=2,tt++}for(v=0;v<p.vertices.length;v+=3)p.faces.push(new l(p.vertices[v],p.vertices[v+1],p.vertices[v+2]));return p}console.warn("GenerateVerts: vertices and uvs count not equal")}},function(C,w,n){var l=n(116),m=n(69),f=n(39),h=n(117),u=new f,s=new f,o=new m;C.exports=function(a,c,p,v,g,x,T,S,D,M){void 0===p&&(p=1),void 0===v&&(v=0),void 0===g&&(g=0),void 0===x&&(x=0),void 0===T&&(T=0),void 0===S&&(S=0),void 0===D&&(D=0),void 0===M&&(M=!0);var R={faces:[],verts:[]},P=a.materials;u.set(v,g,x),s.set(T,S,D),o.fromRotationXYTranslation(s,u,M);for(var I=0;I<a.models.length;I++)for(var b=a.models[I],L=b.vertices,B=b.textureCoords,V=b.faces,z=0;z<V.length;z++){var W=V[z],K=W.vertices[0],J=W.vertices[1],tt=W.vertices[2],it=L[K.vertexIndex],H=L[J.vertexIndex],G=L[tt.vertexIndex],Y=K.textureCoordsIndex,X=J.textureCoordsIndex,$=tt.textureCoordsIndex,Q=-1===Y?{u:0,v:1}:B[Y],_=-1===X?{u:0,v:0}:B[X],et=-1===$?{u:1,v:1}:B[$],ot=16777215;""!==W.material&&P[W.material]&&(ot=P[W.material]);var lt=new h(it.x*p,it.y*p,it.z*p,Q.u,Q.v,ot).transformMat4(o),ht=new h(H.x*p,H.y*p,H.z*p,_.u,_.v,ot).transformMat4(o),ft=new h(G.x*p,G.y*p,G.z*p,et.u,et.v,ot).transformMat4(o);R.verts.push(lt,ht,ft),R.faces.push(new l(lt,ht,ft))}return c&&(c.faces=c.faces.concat(R.faces),c.vertices=c.vertices.concat(R.verts)),R}},function(C,w,n){var l=n(65),m=n(0),f=n(11),h=n(200),u=n(12),s=new m({Extends:l,Mixins:[f.ScrollFactor,f.Visible],initialize:function(d,a,c,p,v,g,x){l.call(this,d,a,c),this.color=new h(p,v,g),this.intensity=x,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1)},willRender:function(o){return!(s.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&o.id)},setColor:function(o){var d=u.getFloatsFromUintRGB(o);return this.color.set(d[0],d[1],d[2]),this},setIntensity:function(o){return this.intensity=o,this},setRadius:function(o){return this.radius=o,this}});s.RENDER_MASK=15,C.exports=s},function(C,w,n){var l=n(151),m=n(0),f=n(50),h=n(481),u=n(150),s=n(200),o=n(74),d=n(79),a=n(12),c=new m({initialize:function(){this.lights=[],this.ambientColor=new s(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(p,v,g,x,T,S){return this.systems.displayList.add(new u(this.scene,p,v,g,x,T,S))},enable:function(){return-1===this.maxLights&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(p){for(var v=this.lights,g=p.worldView,x=[],T=0;T<v.length;T++){var S=v[T];S.willRender(p)&&l(S,g)&&x.push({light:S,distance:f(S.x,S.y,g.centerX,g.centerY)})}return x.length>this.maxLights&&(d(x,this.sortByDistance),x=x.slice(0,this.maxLights)),this.visibleLights=x.length,x},sortByDistance:function(p,v){return p.distance>=v.distance},setAmbientColor:function(p){var v=a.getFloatsFromUintRGB(p);return this.ambientColor.set(v[0],v[1],v[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(p,v,g,x,T){void 0===p&&(p=0),void 0===v&&(v=0),void 0===g&&(g=128),void 0===x&&(x=16777215),void 0===T&&(T=1);var S=a.getFloatsFromUintRGB(x),D=new h(p,v,g,S[0],S[1],S[2],T);return this.lights.push(D),D},removeLight:function(p){var v=this.lights.indexOf(p);return v>=0&&o(this.lights,v),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});C.exports=c},function(C,w,n){var l=n(56),m=n(17),f={Circle:n(1191),Ellipse:n(1201),Intersects:n(484),Line:n(1221),Mesh:n(1243),Point:n(1246),Polygon:n(1260),Rectangle:n(502),Triangle:n(1293)};f=m(!1,f,l),C.exports=f},function(C,w,n){C.exports={CircleToCircle:n(231),CircleToRectangle:n(151),GetCircleToCircle:n(1211),GetCircleToRectangle:n(1212),GetLineToCircle:n(232),GetLineToLine:n(485),GetLineToPoints:n(486),GetLineToPolygon:n(487),GetLineToRectangle:n(234),GetRaysFromPointToPolygon:n(1213),GetRectangleIntersection:n(1214),GetRectangleToRectangle:n(1215),GetRectangleToTriangle:n(1216),GetTriangleToCircle:n(1217),GetTriangleToLine:n(492),GetTriangleToTriangle:n(1218),LineToCircle:n(233),LineToLine:n(96),LineToRectangle:n(488),PointToLine:n(496),PointToLineSegment:n(1219),RectangleToRectangle:n(152),RectangleToTriangle:n(489),RectangleToValues:n(1220),TriangleToCircle:n(491),TriangleToLine:n(493),TriangleToTriangle:n(494)}},function(C,w,n){var l=n(39);C.exports=function(f,h,u){var s=f.x1,o=f.y1,c=h.x1,p=h.y1,x=f.x2-s,T=f.y2-o,S=h.x2-c,D=h.y2-p;if(0===x||0==D*x-S*T)return!1;var R=(x*(p-o)+T*(s-c))/(S*T-D*x),P=(c+S*R-s)/x;return P<0||R<0||R>1?null:(void 0===u&&(u=new l),u.set(s+x*P,o+T*P,P))}},function(C,w,n){var l=n(39),m=n(485),h=new(n(47)),u=new l;C.exports=function(o,d,a){void 0===a&&(a=new l);var c=!1;a.set(),u.set();for(var p=d[0],v=1;v<d.length;v++){var g=d[v];h.setTo(p.x,p.y,g.x,g.y),p=g,m(o,h,u)&&(!c||u.z<a.z)&&(a.copy(u),c=!0)}return c?a:null}},function(C,w,n){var l=n(39),m=n(140),f=n(486),h=new l;C.exports=function(s,o,d){void 0===d&&(d=new m),Array.isArray(o)||(o=[o]);var a=!1;d.set(),h.set();for(var c=0;c<o.length;c++)f(s,o[c].points,h)&&(!a||h.z<d.z)&&(d.set(h.x,h.y,h.z,c),a=!0);return a?d:null}},function(C,w){C.exports=function(l,m){var f=l.x1,h=l.y1,u=l.x2,s=l.y2,o=m.x,d=m.y,a=m.right,c=m.bottom,p=0;if(f>=o&&f<=a&&h>=d&&h<=c||u>=o&&u<=a&&s>=d&&s<=c)return!0;if(f<o&&u>=o){if((p=h+(s-h)*(o-f)/(u-f))>d&&p<=c)return!0}else if(f>a&&u<=a&&(p=h+(s-h)*(a-f)/(u-f))>=d&&p<=c)return!0;if(h<d&&s>=d){if((p=f+(u-f)*(d-h)/(s-h))>=o&&p<=a)return!0}else if(h>c&&s<=c&&(p=f+(u-f)*(c-h)/(s-h))>=o&&p<=a)return!0;return!1}},function(C,w,n){var l=n(96),m=n(57),f=n(235),h=n(490);C.exports=function(s,o){if(o.left>s.right||o.right<s.left||o.top>s.bottom||o.bottom<s.top)return!1;var d=o.getLineA(),a=o.getLineB(),c=o.getLineC();if(m(s,d.x1,d.y1)||m(s,d.x2,d.y2)||m(s,a.x1,a.y1)||m(s,a.x2,a.y2)||m(s,c.x1,c.y1)||m(s,c.x2,c.y2))return!0;var p=s.getLineA(),v=s.getLineB(),g=s.getLineC(),x=s.getLineD();if(l(d,p)||l(d,v)||l(d,g)||l(d,x)||l(a,p)||l(a,v)||l(a,g)||l(a,x)||l(c,p)||l(c,v)||l(c,g)||l(c,x))return!0;var T=h(s);return f(o,T,!0).length>0}},function(C,w){C.exports=function(l,m){return void 0===m&&(m=[]),m.push({x:l.x,y:l.y}),m.push({x:l.right,y:l.y}),m.push({x:l.right,y:l.bottom}),m.push({x:l.x,y:l.bottom}),m}},function(C,w,n){var l=n(233),m=n(115);C.exports=function(h,u){return!(h.left>u.right||h.right<u.left||h.top>u.bottom||h.bottom<u.top||!(m(h,u.x,u.y)||l(h.getLineA(),u)||l(h.getLineB(),u)||l(h.getLineC(),u)))}},function(C,w,n){var l=n(4),m=n(493),f=n(96);C.exports=function(u,s,o){if(void 0===o&&(o=[]),m(u,s))for(var d=u.getLineA(),a=u.getLineB(),c=u.getLineC(),p=[new l,new l,new l],v=[f(d,s,p[0]),f(a,s,p[1]),f(c,s,p[2])],g=0;g<3;g++)v[g]&&o.push(p[g]);return o}},function(C,w,n){var l=n(96);C.exports=function(f,h){return!!(f.contains(h.x1,h.y1)||f.contains(h.x2,h.y2)||l(f.getLineA(),h)||l(f.getLineB(),h)||l(f.getLineC(),h))}},function(C,w,n){var l=n(235),m=n(495),f=n(96);C.exports=function(u,s){if(u.left>s.right||u.right<s.left||u.top>s.bottom||u.bottom<s.top)return!1;var o=u.getLineA(),d=u.getLineB(),a=u.getLineC(),c=s.getLineA(),p=s.getLineB(),v=s.getLineC();if(f(o,c)||f(o,p)||f(o,v)||f(d,c)||f(d,p)||f(d,v)||f(a,c)||f(a,p)||f(a,v))return!0;var g=m(u),x=l(s,g,!0);return x.length>0||(g=m(s),(x=l(u,g,!0)).length>0)}},function(C,w){C.exports=function(l,m){return void 0===m&&(m=[]),m.push({x:l.x1,y:l.y1}),m.push({x:l.x2,y:l.y2}),m.push({x:l.x3,y:l.y3}),m}},function(C,w){C.exports=function(l,m,f){void 0===f&&(f=1);var h=m.x1,u=m.y1,s=m.x2,o=m.y2,d=l.x,a=l.y,c=(s-h)*(s-h)+(o-u)*(o-u);if(0===c)return!1;var p=((d-h)*(s-h)+(a-u)*(o-u))/c;return p<0?Math.sqrt((h-d)*(h-d)+(u-a)*(u-a))<=f:p>=0&&p<=1?Math.abs(((u-a)*(s-h)-(h-d)*(o-u))/c)*Math.sqrt(c)<=f:Math.sqrt((s-d)*(s-d)+(o-a)*(o-a))<=f}},function(C,w,n){var l=n(14),m=n(68),f=n(97);C.exports=function(u){var s=f(u)-l.TAU;return m(s,-Math.PI,Math.PI)}},function(C,w){var n=!0,l="untitled",m="",f="";function h(T){var S=T.indexOf("#");return S>-1?T.substring(0,S):T}function u(T){return 0===T.models.length&&T.models.push({faces:[],name:l,textureCoords:[],vertexNormals:[],vertices:[]}),m="",T.models[T.models.length-1]}function s(T,S){S.models.push({faces:[],name:T.length>=2?T[1]:l,textureCoords:[],vertexNormals:[],vertices:[]}),m=""}function o(T){2===T.length&&(m=T[1])}function d(T,S){var D=T.length,M=D>=2?parseFloat(T[1]):0,R=D>=3?parseFloat(T[2]):0,P=D>=4?parseFloat(T[3]):0;u(S).vertices.push({x:M,y:R,z:P})}function a(T,S){var D=T.length,M=D>=2?parseFloat(T[1]):0,R=D>=3?parseFloat(T[2]):0,P=D>=4?parseFloat(T[3]):0;isNaN(M)&&(M=0),isNaN(R)&&(R=0),isNaN(P)&&(P=0),n&&(R=1-R),u(S).textureCoords.push({u:M,v:R,w:P})}function c(T,S){var D=T.length,M=D>=2?parseFloat(T[1]):0,R=D>=3?parseFloat(T[2]):0,P=D>=4?parseFloat(T[3]):0;u(S).vertexNormals.push({x:M,y:R,z:P})}function p(T,S){var D=T.length-1;if(!(D<3)){for(var M={group:m,material:f,vertices:[]},R=0;R<D;R++){var I=T[R+1].split("/"),b=I.length;if(!(b<1||b>3)){var L=0,B=0,V=0;L=parseInt(I[0],10),b>1&&""!==I[1]&&(B=parseInt(I[1],10)),b>2&&(V=parseInt(I[2],10)),0!==L&&(L<0&&(L=u(S).vertices.length+1+L),M.vertices.push({textureCoordsIndex:B-=1,vertexIndex:L-=1,vertexNormalIndex:V-=1}))}}u(S).faces.push(M)}}function v(T,S){T.length>=2&&S.materialLibraries.push(T[1])}function g(T){T.length>=2&&(f=T[1])}C.exports=function(T,S){void 0===S&&(S=!0),n=S;var D={materials:{},materialLibraries:[],models:[]};m="",f="";for(var M=T.split("\n"),R=0;R<M.length;R++){var I=h(M[R]).replace(/\s\s+/g," ").trim().split(" ");switch(I[0].toLowerCase()){case"o":s(I,D);break;case"g":o(I);break;case"v":d(I,D);break;case"vt":a(I,D);break;case"vn":c(I,D);break;case"f":p(I,D);break;case"mtllib":v(I,D);break;case"usemtl":g(I)}}return D}},function(C,w,n){var l=n(103);C.exports=function(f){for(var h={},u=f.split("\n"),s="",o=0;o<u.length;o++){var d=u[o].trim();if(0!==d.indexOf("#")&&""!==d){var a=d.replace(/\s\s+/g," ").trim().split(" ");switch(a[0].toLowerCase()){case"newmtl":s=a[1];break;case"kd":var c=Math.floor(255*a[1]),p=a.length>=2?Math.floor(255*a[2]):c,v=a.length>=3?Math.floor(255*a[3]):c;h[s]=l(c,p,v)}}}return h}},function(C,w){C.exports=function(l){return Math.sqrt(l.x*l.x+l.y*l.y)}},function(C,w){C.exports=function(l){return l.x*l.x+l.y*l.y}},function(C,w,n){var l=n(10);l.Area=n(1267),l.Ceil=n(1268),l.CeilAll=n(1269),l.CenterOn=n(190),l.Clone=n(1270),l.Contains=n(57),l.ContainsPoint=n(1271),l.ContainsRect=n(503),l.CopyFrom=n(1272),l.Decompose=n(490),l.Equals=n(1273),l.FitInside=n(1274),l.FitOutside=n(1275),l.Floor=n(1276),l.FloorAll=n(1277),l.FromPoints=n(199),l.FromXY=n(1278),l.GetAspectRatio=n(237),l.GetCenter=n(1279),l.GetPoint=n(171),l.GetPoints=n(306),l.GetSize=n(1280),l.Inflate=n(1281),l.Intersection=n(1282),l.MarchingAnts=n(316),l.MergePoints=n(1283),l.MergeRect=n(1284),l.MergeXY=n(1285),l.Offset=n(1286),l.OffsetPoint=n(1287),l.Overlaps=n(1288),l.Perimeter=n(130),l.PerimeterPoint=n(1289),l.Random=n(174),l.RandomOutside=n(1290),l.SameDimensions=n(1291),l.Scale=n(1292),l.Union=n(441),C.exports=l},function(C,w){C.exports=function(l,m){return!(m.width*m.height>l.width*l.height)&&m.x>l.x&&m.x<l.right&&m.right>l.x&&m.right<l.right&&m.y>l.y&&m.y<l.bottom&&m.bottom>l.y&&m.bottom<l.bottom}},function(C,w,n){var l=n(4);C.exports=function(f,h){return void 0===h&&(h=new l),h.x=(f.x1+f.x2+f.x3)/3,h.y=(f.y1+f.y2+f.y3)/3,h}},function(C,w){C.exports=function(l,m,f){return l.x1+=m,l.y1+=f,l.x2+=m,l.y2+=f,l.x3+=m,l.y3+=f,l}},function(C,w,n){var l=n(4);function m(h,u,s,o){var d=h-s,a=u-o;return Math.sqrt(d*d+a*a)}C.exports=function(h,u){void 0===u&&(u=new l);var s=h.x1,o=h.y1,d=h.x2,a=h.y2,c=h.x3,p=h.y3,v=m(c,p,d,a),g=m(s,o,c,p),x=m(d,a,s,o),T=v+g+x;return u.x=(s*v+d*g+c*x)/T,u.y=(o*v+a*g+p*x)/T,u}},function(C,w){C.exports=function(l,m){return function(f,h,u,s){var o=l.getPixelAlpha(h,u,s.texture.key,s.frame.name);return o&&o>=m}}},function(C,w){C.exports=function(l,m,f){return{gameObject:l,enabled:!0,alwaysEnabled:!1,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:m,hitAreaCallback:f,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}}},function(C,w,n){var m=new(n(0))({initialize:function(h,u){this.pad=h,this.events=h.events,this.index=u,this.value=0,this.threshold=.1},update:function(f){this.value=f},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});C.exports=m},function(C,w,n){var l=n(0),m=n(239),f=new l({initialize:function(u,s){this.pad=u,this.events=u.manager,this.index=s,this.value=0,this.threshold=1,this.pressed=!1},update:function(h){this.value=h;var u=this.pad,s=this.index;h>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(m.BUTTON_DOWN,u,this,h),this.pad.emit(m.GAMEPAD_BUTTON_DOWN,s,h,this)):this.pressed&&(this.pressed=!1,this.events.emit(m.BUTTON_UP,u,this,h),this.pad.emit(m.GAMEPAD_BUTTON_UP,s,h,this))},destroy:function(){this.pad=null,this.events=null}});C.exports=f},function(C,w,n){var l=n(509),m=n(510),f=n(0),h=n(9),u=n(3),s=new f({Extends:h,initialize:function(d,a){h.call(this),this.manager=d,this.pad=a,this.id=a.id,this.index=a.index;for(var c=[],p=0;p<a.buttons.length;p++)c.push(new m(this,p));this.buttons=c;var v=[];for(p=0;p<a.axes.length;p++)v.push(new l(this,p));this.axes=v,this.vibration=a.vibrationActuator;var g={value:0,pressed:!1};this._LCLeft=c[14]?c[14]:g,this._LCRight=c[15]?c[15]:g,this._LCTop=c[12]?c[12]:g,this._LCBottom=c[13]?c[13]:g,this._RCLeft=c[2]?c[2]:g,this._RCRight=c[1]?c[1]:g,this._RCTop=c[3]?c[3]:g,this._RCBottom=c[0]?c[0]:g,this._FBLeftTop=c[4]?c[4]:g,this._FBLeftBottom=c[6]?c[6]:g,this._FBRightTop=c[5]?c[5]:g,this._FBRightBottom=c[7]?c[7]:g;var x={value:0};this._HAxisLeft=v[0]?v[0]:x,this._VAxisLeft=v[1]?v[1]:x,this._HAxisRight=v[2]?v[2]:x,this._VAxisRight=v[3]?v[3]:x,this.leftStick=new u,this.rightStick=new u,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(o){return this.axes[o].getValue()},setAxisThreshold:function(o){for(var d=0;d<this.axes.length;d++)this.axes[d].threshold=o},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(o){return this.buttons[o].value},isButtonDown:function(o){return this.buttons[o].pressed},update:function(o){if(!(o.timestamp<this._created)){var d,a=this.buttons,c=o.buttons,p=a.length;for(d=0;d<p;d++)a[d].update(c[d].value);var v=this.axes,g=o.axes;for(p=v.length,d=0;d<p;d++)v[d].update(g[d]);p>=2&&(this.leftStick.set(v[0].getValue(),v[1].getValue()),p>=4&&this.rightStick.set(v[2].getValue(),v[3].getValue()))}},destroy:function(){var o;for(this.removeAllListeners(),this.manager=null,this.pad=null,o=0;o<this.buttons.length;o++)this.buttons[o].destroy();for(o=0;o<this.axes.length;o++)this.axes[o].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});C.exports=s},function(C,w,n){var l=n(0),m=n(9),f=n(154),h=new l({Extends:m,initialize:function(s,o){m.call(this),this.plugin=s,this.keyCode=o,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(u){return this.emitOnRepeat=u,this},onDown:function(u){this.originalEvent=u,this.enabled&&(this.altKey=u.altKey,this.ctrlKey=u.ctrlKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.location=u.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(f.DOWN,this,u):(this.isDown=!0,this.isUp=!1,this.timeDown=u.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(f.DOWN,this,u)))},onUp:function(u){this.originalEvent=u,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=u.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(f.UP,this,u))},reset:function(){return this.preventDefault=!0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});C.exports=h},function(C,w,n){var l=n(0),m=n(154),f=n(2),h=n(514),u=n(516),s=new l({initialize:function(d,a,c){if(void 0===c&&(c={}),a.length<2)return!1;this.manager=d,this.enabled=!0,this.keyCodes=[];for(var p=0;p<a.length;p++){var v=a[p];"string"==typeof v?this.keyCodes.push(v.toUpperCase().charCodeAt(0)):"number"==typeof v?this.keyCodes.push(v):v.hasOwnProperty("keyCode")&&this.keyCodes.push(v.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=f(c,"resetOnWrongKey",!0),this.maxKeyDelay=f(c,"maxKeyDelay",0),this.resetOnMatch=f(c,"resetOnMatch",!1),this.deleteOnMatch=f(c,"deleteOnMatch",!1);var g=this;this.onKeyDown=function(T){!g.matched&&g.enabled&&h(T,g)&&(g.manager.emit(m.COMBO_MATCH,g,T),g.resetOnMatch?u(g):g.deleteOnMatch&&g.destroy())},this.manager.on(m.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(m.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});C.exports=s},function(C,w,n){var l=n(515);C.exports=function(f,h){if(h.matched)return!0;var u=!1,s=!1;return f.keyCode===h.current&&(h.index>0&&h.maxKeyDelay>0?f.timeStamp<=h.timeLastMatched+h.maxKeyDelay&&(s=!0,u=l(f,h)):(s=!0,u=l(f,h))),!s&&h.resetOnWrongKey&&(h.index=0,h.current=h.keyCodes[0]),u&&(h.timeLastMatched=f.timeStamp,h.matched=!0,h.timeMatched=f.timeStamp),u}},function(C,w){C.exports=function(l,m){return m.timeLastMatched=l.timeStamp,m.index++,m.index===m.size||(m.current=m.keyCodes[m.index],!1)}},function(C,w){C.exports=function(l){return l.current=l.keyCodes[0],l.index=0,l.timeLastMatched=0,l.matched=!1,l.timeMatched=0,l}},function(C,w,n){var l=n(240);C.exports=function(f,h){var u=l(h,f.xhrSettings),s=new XMLHttpRequest;if(s.open("GET",f.src,u.async,u.user,u.password),s.responseType=f.xhrSettings.responseType,s.timeout=u.timeout,u.headers)for(var o in u.headers)s.setRequestHeader(o,u.headers[o]);return u.header&&u.headerValue&&s.setRequestHeader(u.header,u.headerValue),u.requestedWith&&s.setRequestHeader("X-Requested-With",u.requestedWith),u.overrideMimeType&&s.overrideMimeType(u.overrideMimeType),u.withCredentials&&(s.withCredentials=!0),s.onload=f.onLoad.bind(f,s),s.onerror=f.onError.bind(f,s),s.onprogress=f.onProgress.bind(f),s.send(),s}},function(C,w,n){var l=n(0),m=n(21),f=n(23),h=n(8),u=n(2),s=n(519),o=n(7),d=new l({Extends:f,initialize:function(c,p,v,g,x){if(o(p)){var T=p;p=u(T,"key"),g=u(T,"xhrSettings"),x=u(T,"context",x)}f.call(this,c,{type:"audio",cache:c.cacheManager.audio,extension:v.type,responseType:"arraybuffer",key:p,url:v.url,xhrSettings:g,config:{context:x}})},onProcess:function(){this.state=m.FILE_PROCESSING;var a=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(c){a.data=c,a.onProcessComplete()},function(c){console.error("Error decoding audio: "+a.key+" - ",c?c.message:null),a.onProcessError()}),this.config.context=null}});d.create=function(a,c,p,v,g){var x=a.systems.game,T=x.config.audio,S=x.device.audio;o(c)&&(p=u(c,"url",[]),v=u(c,"config",{}));var D=d.getAudioURL(x,p);return D?S.webAudio&&!T.disableWebAudio?new d(a,c,D,g,x.sound.context):new s(a,c,D,v):null},d.getAudioURL=function(a,c){Array.isArray(c)||(c=[c]);for(var p=0;p<c.length;p++){var v=u(c[p],"url",c[p]);if(0===v.indexOf("blob:")||0===v.indexOf("data:"))return{url:v,type:""};var g=v.match(/\.([a-zA-Z0-9]+)($|\?)/);if(g=u(c[p],"type",g?g[1]:"").toLowerCase(),a.device.audio[g])return{url:v,type:g}}return null},h.register("audio",function(a,c,p,v){var S,g=this.systems.game,T=g.device.audio;if(g.config.audio.noAudio||!T.webAudio&&!T.audioData)return this;if(Array.isArray(a))for(var D=0;D<a.length;D++)(S=d.create(this,a[D]))&&this.addFile(S);else(S=d.create(this,a,c,p,v))&&this.addFile(S);return this}),C.exports=d},function(C,w,n){var l=n(0),m=n(95),f=n(23),h=n(2),u=n(155),s=n(7),o=new l({Extends:f,initialize:function(a,c,p,v){if(s(c)){var g=c;c=h(g,"key"),v=h(g,"config",v)}f.call(this,a,{type:"audio",cache:a.cacheManager.audio,extension:p.type,key:c,url:p.url,config:v}),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var d=0;d<this.data.length;d++){var a=this.data[d];a.oncanplaythrough=null,a.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(d){var a=d.target;a.oncanplaythrough=null,a.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(m.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var d=this.config&&this.config.instances||1;this.filesTotal=d,this.filesLoaded=0,this.percentComplete=0;for(var a=0;a<d;a++){var c=new Audio;c.dataset||(c.dataset={}),c.dataset.name=this.key+("0"+a).slice(-2),c.dataset.used="false",this.locked?c.dataset.locked="true":(c.dataset.locked="false",c.preload="auto",c.oncanplaythrough=this.onProgress.bind(this),c.onerror=this.onError.bind(this)),this.data.push(c)}for(a=0;a<this.data.length;a++)(c=this.data[a]).src=u(this,this.loader.baseURL),this.locked||c.load();this.locked&&setTimeout(this.onLoad.bind(this))}});C.exports=o},function(C,w,n){var l=n(0),m=n(21),f=n(23),h=n(8),u=n(2),s=n(7),o=new l({Extends:f,initialize:function(a,c,p,v){var g="js";if(s(c)){var x=c;c=u(x,"key"),p=u(x,"url"),v=u(x,"xhrSettings"),g=u(x,"extension",g)}f.call(this,a,{type:"script",cache:!1,extension:g,responseType:"text",key:c,url:p,xhrSettings:v})},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});h.register("script",function(d,a,c){if(Array.isArray(d))for(var p=0;p<d.length;p++)this.addFile(new o(this,d[p]));else this.addFile(new o(this,d,a,c));return this}),C.exports=o},function(C,w,n){var l=n(522),m=n(157),f=n(0),h=n(62),u=n(524),s=n(525),o=new f({initialize:function(a){this.world=a,this.scene=a.scene,this.sys=a.scene.sys},collider:function(d,a,c,p,v){return this.world.addCollider(d,a,c,p,v)},overlap:function(d,a,c,p,v){return this.world.addOverlap(d,a,c,p,v)},existing:function(d,a){return this.world.enableBody(d,a?h.STATIC_BODY:h.DYNAMIC_BODY),d},staticImage:function(d,a,c,p){var v=new l(this.scene,d,a,c,p);return this.sys.displayList.add(v),this.world.enableBody(v,h.STATIC_BODY),v},image:function(d,a,c,p){var v=new l(this.scene,d,a,c,p);return this.sys.displayList.add(v),this.world.enableBody(v,h.DYNAMIC_BODY),v},staticSprite:function(d,a,c,p){var v=new m(this.scene,d,a,c,p);return this.sys.displayList.add(v),this.sys.updateList.add(v),this.world.enableBody(v,h.STATIC_BODY),v},sprite:function(d,a,c,p){var v=new m(this.scene,d,a,c,p);return this.sys.displayList.add(v),this.sys.updateList.add(v),this.world.enableBody(v,h.DYNAMIC_BODY),v},staticGroup:function(d,a){return this.sys.updateList.add(new s(this.world,this.world.scene,d,a))},group:function(d,a){return this.sys.updateList.add(new u(this.world,this.world.scene,d,a))},destroy:function(){this.world=null,this.scene=null,this.sys=null}});C.exports=o},function(C,w,n){var l=n(0),m=n(243),f=n(125),h=new l({Extends:f,Mixins:[m.Acceleration,m.Angular,m.Bounce,m.Debug,m.Drag,m.Enable,m.Friction,m.Gravity,m.Immovable,m.Mass,m.Pushable,m.Size,m.Velocity],initialize:function(s,o,d,a,c){f.call(this,s,o,d,a,c),this.body=null}});C.exports=h},function(C,w,n){var l=n(244),m=n(65),f=n(231),h=n(151);C.exports=function(s,o,d,a,c,p){var v=l(s,o-a,d-a,2*a,2*a,c,p);if(0===v.length)return v;for(var g=new m(o,d,a),x=new m,T=[],S=0;S<v.length;S++){var D=v[S];D.isCircle?(x.setTo(D.center.x,D.center.y,D.halfWidth),f(g,x)&&T.push(D)):h(g,D)&&T.push(D)}return T}},function(C,w,n){var l=n(157),m=n(0),f=n(62),h=n(2),u=n(113),s=n(7),o=new m({Extends:u,initialize:function(a,c,p,v){if(p||v)if(s(p))v=p,p=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(p)&&s(p[0])){v=p[0];var g=this;p.forEach(function(x){x.internalCreateCallback=g.createCallbackHandler,x.internalRemoveCallback=g.removeCallbackHandler}),p=null}else v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=a,v.classType=h(v,"classType",l),this.physicsType=f.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:h(v,"collideWorldBounds",!1),setBoundsRectangle:h(v,"customBoundsRectangle",null),setAccelerationX:h(v,"accelerationX",0),setAccelerationY:h(v,"accelerationY",0),setAllowDrag:h(v,"allowDrag",!0),setAllowGravity:h(v,"allowGravity",!0),setAllowRotation:h(v,"allowRotation",!0),setBounceX:h(v,"bounceX",0),setBounceY:h(v,"bounceY",0),setDragX:h(v,"dragX",0),setDragY:h(v,"dragY",0),setEnable:h(v,"enable",!0),setGravityX:h(v,"gravityX",0),setGravityY:h(v,"gravityY",0),setFrictionX:h(v,"frictionX",0),setFrictionY:h(v,"frictionY",0),setMaxVelocityX:h(v,"maxVelocityX",1e4),setMaxVelocityY:h(v,"maxVelocityY",1e4),setVelocityX:h(v,"velocityX",0),setVelocityY:h(v,"velocityY",0),setAngularVelocity:h(v,"angularVelocity",0),setAngularAcceleration:h(v,"angularAcceleration",0),setAngularDrag:h(v,"angularDrag",0),setMass:h(v,"mass",1),setImmovable:h(v,"immovable",!1)},u.call(this,c,p,v),this.type="PhysicsGroup"},createCallbackHandler:function(d){d.body||this.world.enableBody(d,f.DYNAMIC_BODY);var a=d.body;for(var c in this.defaults)a[c](this.defaults[c])},removeCallbackHandler:function(d){d.body&&this.world.disableBody(d)},setVelocity:function(d,a,c){void 0===c&&(c=0);for(var p=this.getChildren(),v=0;v<p.length;v++)p[v].body.velocity.set(d+v*c,a+v*c);return this},setVelocityX:function(d,a){void 0===a&&(a=0);for(var c=this.getChildren(),p=0;p<c.length;p++)c[p].body.velocity.x=d+p*a;return this},setVelocityY:function(d,a){void 0===a&&(a=0);for(var c=this.getChildren(),p=0;p<c.length;p++)c[p].body.velocity.y=d+p*a;return this}});C.exports=o},function(C,w,n){var l=n(157),m=n(0),f=n(62),h=n(2),u=n(113),s=n(7),o=new m({Extends:u,initialize:function(a,c,p,v){p||v?s(p)?(v=p,p=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler,v.createMultipleCallback=this.createMultipleCallbackHandler,v.classType=h(v,"classType",l)):Array.isArray(p)&&s(p[0])?(v=p,p=null,v.forEach(function(g){g.internalCreateCallback=this.createCallbackHandler,g.internalRemoveCallback=this.removeCallbackHandler,g.createMultipleCallback=this.createMultipleCallbackHandler,g.classType=h(g,"classType",l)})):v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler}:v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:l},this.world=a,this.physicsType=f.STATIC_BODY,u.call(this,c,p,v),this.type="StaticPhysicsGroup"},createCallbackHandler:function(d){d.body||this.world.enableBody(d,f.STATIC_BODY)},removeCallbackHandler:function(d){d.body&&this.world.disableBody(d)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var d=this.children.entries,a=0;a<d.length;a++)d[a].body.reset();return this}});C.exports=o},function(C,w,n){var l=n(350),m=n(527),f=n(18),h=n(0),u=n(528),s=n(62),o=n(50),d=n(9),a=n(245),c=n(124),p=n(354),v=n(355),g=n(246),x=n(247),T=n(529),S=n(6),D=n(14),M=n(211),R=n(530),P=n(10),I=n(531),b=n(532),L=n(537),B=n(538),V=n(149),z=n(539),W=n(248),K=n(25),J=n(3),tt=n(68),it=new h({Extends:d,initialize:function(G,Y){d.call(this),this.scene=G,this.bodies=new V,this.staticBodies=new V,this.pendingDestroy=new V,this.colliders=new M,this.gravity=new J(S(Y,"gravity.x",0),S(Y,"gravity.y",0)),this.bounds=new P(S(Y,"x",0),S(Y,"y",0),S(Y,"width",G.sys.scale.width),S(Y,"height",G.sys.scale.height)),this.checkCollision={up:S(Y,"checkCollision.up",!0),down:S(Y,"checkCollision.down",!0),left:S(Y,"checkCollision.left",!0),right:S(Y,"checkCollision.right",!0)},this.fps=S(Y,"fps",60),this.fixedStep=S(Y,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=S(Y,"timeScale",1),this.OVERLAP_BIAS=S(Y,"overlapBias",4),this.TILE_BIAS=S(Y,"tileBias",16),this.forceX=S(Y,"forceX",!1),this.isPaused=S(Y,"isPaused",!1),this._total=0,this.drawDebug=S(Y,"debug",!1),this.defaults={debugShowBody:S(Y,"debugShowBody",!0),debugShowStaticBody:S(Y,"debugShowStaticBody",!0),debugShowVelocity:S(Y,"debugShowVelocity",!0),bodyDebugColor:S(Y,"debugBodyColor",16711935),staticBodyDebugColor:S(Y,"debugStaticBodyColor",255),velocityDebugColor:S(Y,"debugVelocityColor",65280)},this.maxEntries=S(Y,"maxEntries",16),this.useTree=S(Y,"useTree",!0),this.tree=new I(this.maxEntries),this.staticTree=new I(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new K,this._tempMatrix2=new K,this.drawDebug&&this.createDebugGraphic()},enable:function(H,G){void 0===G&&(G=s.DYNAMIC_BODY),Array.isArray(H)||(H=[H]);for(var Y=0;Y<H.length;Y++){var X=H[Y];if(X.isParent)for(var $=X.getChildren(),Q=0;Q<$.length;Q++){var _=$[Q];_.isParent?this.enable(_,G):this.enableBody(_,G)}else this.enableBody(X,G)}},enableBody:function(H,G){return void 0===G&&(G=s.DYNAMIC_BODY),H.body||(G===s.DYNAMIC_BODY?H.body=new m(this,H):G===s.STATIC_BODY&&(H.body=new z(this,H))),this.add(H.body),H},add:function(H){return H.physicsType===s.DYNAMIC_BODY?this.bodies.set(H):H.physicsType===s.STATIC_BODY&&(this.staticBodies.set(H),this.staticTree.insert(H)),H.enable=!0,H},disable:function(H){Array.isArray(H)||(H=[H]);for(var G=0;G<H.length;G++){var Y=H[G];if(Y.isParent)for(var X=Y.getChildren(),$=0;$<X.length;$++){var Q=X[$];Q.isParent?this.disable(Q):this.disableBody(Q.body)}else this.disableBody(Y.body)}},disableBody:function(H){this.remove(H),H.enable=!1},remove:function(H){H.physicsType===s.DYNAMIC_BODY?(this.tree.remove(H),this.bodies.delete(H)):H.physicsType===s.STATIC_BODY&&(this.staticBodies.delete(H),this.staticTree.remove(H))},createDebugGraphic:function(){var H=this.scene.sys.add.graphics({x:0,y:0});return H.setDepth(Number.MAX_VALUE),this.debugGraphic=H,this.drawDebug=!0,H},setBounds:function(H,G,Y,X,$,Q,_,et){return this.bounds.setTo(H,G,Y,X),void 0!==$&&this.setBoundsCollision($,Q,_,et),this},setBoundsCollision:function(H,G,Y,X){return void 0===H&&(H=!0),void 0===G&&(G=!0),void 0===Y&&(Y=!0),void 0===X&&(X=!0),this.checkCollision.left=H,this.checkCollision.right=G,this.checkCollision.up=Y,this.checkCollision.down=X,this},pause:function(){return this.isPaused=!0,this.emit(a.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(a.RESUME),this},addCollider:function(H,G,Y,X,$){void 0===Y&&(Y=null),void 0===X&&(X=null),void 0===$&&($=Y);var Q=new u(this,!1,H,G,Y,X,$);return this.colliders.add(Q),Q},addOverlap:function(H,G,Y,X,$){void 0===Y&&(Y=null),void 0===X&&(X=null),void 0===$&&($=Y);var Q=new u(this,!0,H,G,Y,X,$);return this.colliders.add(Q),Q},removeCollider:function(H){return this.colliders.remove(H),this},setFPS:function(H){return this.fps=H,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(H,G){if(!this.isPaused&&0!==this.bodies.size){var Y,X=this._frameTime,$=this._frameTimeMS*this.timeScale;this._elapsed+=G;var Q,_=this.bodies.entries,et=this._elapsed>=$;for(this.fixedStep||(X=.001*G,et=!0,this._elapsed=0),Y=0;Y<_.length;Y++)(Q=_[Y]).enable&&Q.preUpdate(et,X);if(et){this._elapsed-=$,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(_));var ot=this.colliders.update();for(Y=0;Y<ot.length;Y++){var lt=ot[Y];lt.active&&lt.update()}this.emit(a.WORLD_STEP,X)}for(;this._elapsed>=$;)this._elapsed-=$,this.step(X)}},step:function(H){var G,Y,X=this.bodies.entries,$=X.length;for(G=0;G<$;G++)(Y=X[G]).enable&&Y.update(H);this.useTree&&(this.tree.clear(),this.tree.load(X));var Q=this.colliders.update();for(G=0;G<Q.length;G++){var _=Q[G];_.active&&_.update()}this.emit(a.WORLD_STEP,H),this.stepsLastFrame++},postUpdate:function(){var H,G,Y=this.bodies.entries,X=Y.length,$=this.bodies,Q=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,H=0;H<X;H++)(G=Y[H]).enable&&G.postUpdate();if(this.drawDebug){var _=this.debugGraphic;for(_.clear(),H=0;H<X;H++)(G=Y[H]).willDrawDebug()&&G.drawDebug(_);for(X=(Y=Q.entries).length,H=0;H<X;H++)(G=Y[H]).willDrawDebug()&&G.drawDebug(_)}var et=this.pendingDestroy;if(et.size>0){var ot=this.tree,lt=this.staticTree;for(X=(Y=et.entries).length,H=0;H<X;H++)(G=Y[H]).physicsType===s.DYNAMIC_BODY?(ot.remove(G),$.delete(G)):G.physicsType===s.STATIC_BODY&&(lt.remove(G),Q.delete(G)),G.world=void 0,G.gameObject=void 0;et.clear()}},updateMotion:function(H,G){H.allowRotation&&this.computeAngularVelocity(H,G),this.computeVelocity(H,G)},computeAngularVelocity:function(H,G){var Y=H.angularVelocity,X=H.angularAcceleration,$=H.angularDrag,Q=H.maxAngular;X?Y+=X*G:H.allowDrag&&$&&(p(Y-($*=G),0,.1)?Y-=$:v(Y+$,0,.1)?Y+=$:Y=0),Y=f(Y,-Q,Q),H.angularVelocity+=Y-H.angularVelocity,H.rotation+=H.angularVelocity*G},computeVelocity:function(H,G){var Y=H.velocity.x,X=H.acceleration.x,$=H.drag.x,Q=H.maxVelocity.x,_=H.velocity.y,et=H.acceleration.y,ot=H.drag.y,lt=H.maxVelocity.y,ht=H.speed,ft=H.maxSpeed,gt=H.allowDrag,Et=H.useDamping;H.allowGravity&&(Y+=(this.gravity.x+H.gravity.x)*G,_+=(this.gravity.y+H.gravity.y)*G),X?Y+=X*G:gt&&$&&(Et?(Y*=$=Math.pow($,G),ht=Math.sqrt(Y*Y+_*_),c(ht,0,.001)&&(Y=0)):p(Y-($*=G),0,.01)?Y-=$:v(Y+$,0,.01)?Y+=$:Y=0),et?_+=et*G:gt&&ot&&(Et?(_*=ot=Math.pow(ot,G),ht=Math.sqrt(Y*Y+_*_),c(ht,0,.001)&&(_=0)):p(_-(ot*=G),0,.01)?_-=ot:v(_+ot,0,.01)?_+=ot:_=0),Y=f(Y,-Q,Q),_=f(_,-lt,lt),H.velocity.set(Y,_),ft>-1&&ht>ft&&(H.velocity.normalize().scale(ft),ht=ft),H.speed=ht},separate:function(H,G,Y,X,$,Q){if(!Q&&!H.enable||!G.enable||H.checkCollision.none||G.checkCollision.none||!this.intersects(H,G)||Y&&!1===Y.call(X,H.gameObject,G.gameObject))return!1;if(H.isCircle&&G.isCircle)return this.separateCircle(H,G,$);if(H.isCircle!==G.isCircle){var _=H.isCircle?G:H,ot={x:_.x,y:_.y,right:_.right,bottom:_.bottom},lt=(H.isCircle?H:G).center;if((lt.y<ot.y||lt.y>ot.bottom)&&(lt.x<ot.x||lt.x>ot.right))return this.separateCircle(H,G,$)}var ht=!1,ft=!1;$?(ht=L(H,G,$,this.OVERLAP_BIAS),ft=B(H,G,$,this.OVERLAP_BIAS)):this.forceX||Math.abs(this.gravity.y+H.gravity.y)<Math.abs(this.gravity.x+H.gravity.x)?(ht=L(H,G,$,this.OVERLAP_BIAS),this.intersects(H,G)&&(ft=B(H,G,$,this.OVERLAP_BIAS))):(ft=B(H,G,$,this.OVERLAP_BIAS),this.intersects(H,G)&&(ht=L(H,G,$,this.OVERLAP_BIAS)));var gt=ht||ft;return gt&&($?(H.onOverlap||G.onOverlap)&&this.emit(a.OVERLAP,H.gameObject,G.gameObject,H,G):(H.onCollide||G.onCollide)&&this.emit(a.COLLIDE,H.gameObject,G.gameObject,H,G)),gt},separateCircle:function(H,G,Y,X){g(H,G,!1,X),x(H,G,!1,X);var $=0;if(H.isCircle!==G.isCircle){var Q={x:G.isCircle?H.position.x:G.position.x,y:G.isCircle?H.position.y:G.position.y,right:G.isCircle?H.right:G.right,bottom:G.isCircle?H.bottom:G.bottom},_={x:H.isCircle?H.center.x:G.center.x,y:H.isCircle?H.center.y:G.center.y,radius:H.isCircle?H.halfWidth:G.halfWidth};_.y<Q.y?_.x<Q.x?$=o(_.x,_.y,Q.x,Q.y)-_.radius:_.x>Q.right&&($=o(_.x,_.y,Q.right,Q.y)-_.radius):_.y>Q.bottom&&(_.x<Q.x?$=o(_.x,_.y,Q.x,Q.bottom)-_.radius:_.x>Q.right&&($=o(_.x,_.y,Q.right,Q.bottom)-_.radius)),$*=-1}else $=H.halfWidth+G.halfWidth-o(H.center.x,H.center.y,G.center.x,G.center.y);if(H.overlapR=$,G.overlapR=$,Y||0===$||H.immovable&&G.immovable||H.customSeparateX||G.customSeparateX)return 0!==$&&(H.onOverlap||G.onOverlap)&&this.emit(a.OVERLAP,H.gameObject,G.gameObject,H,G),0!==$;var ot=H.center.y-G.center.y,lt=Math.sqrt(Math.pow(H.center.x-G.center.x,2)+Math.pow(ot,2)),ht=(G.center.x-H.center.x)/lt||0,ft=(G.center.y-H.center.y)/lt||0,gt=2*(H.velocity.x*ht+H.velocity.y*ft-G.velocity.x*ht-G.velocity.y*ft)/(H.mass+G.mass);(H.immovable||G.immovable)&&(gt*=2),H.immovable||(H.velocity.x=H.velocity.x-gt/H.mass*ht,H.velocity.y=H.velocity.y-gt/H.mass*ft),G.immovable||(G.velocity.x=G.velocity.x+gt/G.mass*ht,G.velocity.y=G.velocity.y+gt/G.mass*ft),!H.immovable&&!G.immovable&&($/=2);var Et=l(H.center,G.center),Ct=($+D.EPSILON)*Math.cos(Et),Mt=($+D.EPSILON)*Math.sin(Et);return H.immovable||(H.x-=Ct,H.y-=Mt,H.updateCenter()),G.immovable||(G.x+=Ct,G.y+=Mt,G.updateCenter()),H.velocity.x*=H.bounce.x,H.velocity.y*=H.bounce.y,G.velocity.x*=G.bounce.x,G.velocity.y*=G.bounce.y,(H.onCollide||G.onCollide)&&this.emit(a.COLLIDE,H.gameObject,G.gameObject,H,G),!0},intersects:function(H,G){return H!==G&&(H.isCircle||G.isCircle?H.isCircle?G.isCircle?o(H.center.x,H.center.y,G.center.x,G.center.y)<=H.halfWidth+G.halfWidth:this.circleBodyIntersects(H,G):this.circleBodyIntersects(G,H):!(H.right<=G.position.x||H.bottom<=G.position.y||H.position.x>=G.right||H.position.y>=G.bottom))},circleBodyIntersects:function(H,G){var Y=f(H.center.x,G.left,G.right),X=f(H.center.y,G.top,G.bottom);return(H.center.x-Y)*(H.center.x-Y)+(H.center.y-X)*(H.center.y-X)<=H.halfWidth*H.halfWidth},overlap:function(H,G,Y,X,$){return void 0===Y&&(Y=null),void 0===X&&(X=null),void 0===$&&($=Y),this.collideObjects(H,G,Y,X,$,!0)},collide:function(H,G,Y,X,$){return void 0===Y&&(Y=null),void 0===X&&(X=null),void 0===$&&($=Y),this.collideObjects(H,G,Y,X,$,!1)},collideObjects:function(H,G,Y,X,$,Q){var _,et;H.isParent&&void 0===H.physicsType&&(H=H.children.entries),G&&G.isParent&&void 0===G.physicsType&&(G=G.children.entries);var ot=Array.isArray(H),lt=Array.isArray(G);if(this._total=0,ot||lt)if(!ot&&lt)for(_=0;_<G.length;_++)this.collideHandler(H,G[_],Y,X,$,Q);else if(ot&&!lt)if(G)for(_=0;_<H.length;_++)this.collideHandler(H[_],G,Y,X,$,Q);else for(_=0;_<H.length;_++){var ht=H[_];for(et=_+1;et<H.length;et++)_!==et&&this.collideHandler(ht,H[et],Y,X,$,Q)}else for(_=0;_<H.length;_++)for(et=0;et<G.length;et++)this.collideHandler(H[_],G[et],Y,X,$,Q);else this.collideHandler(H,G,Y,X,$,Q);return this._total>0},collideHandler:function(H,G,Y,X,$,Q){if(void 0===G&&H.isParent)return this.collideGroupVsGroup(H,H,Y,X,$,Q);if(!H||!G)return!1;if(H.body){if(G.body)return this.collideSpriteVsSprite(H,G,Y,X,$,Q);if(G.isParent)return this.collideSpriteVsGroup(H,G,Y,X,$,Q);if(G.isTilemap)return this.collideSpriteVsTilemapLayer(H,G,Y,X,$,Q)}else if(H.isParent){if(G.body)return this.collideSpriteVsGroup(G,H,Y,X,$,Q);if(G.isParent)return this.collideGroupVsGroup(H,G,Y,X,$,Q);if(G.isTilemap)return this.collideGroupVsTilemapLayer(H,G,Y,X,$,Q)}else if(H.isTilemap){if(G.body)return this.collideSpriteVsTilemapLayer(G,H,Y,X,$,Q);if(G.isParent)return this.collideGroupVsTilemapLayer(G,H,Y,X,$,Q)}},collideSpriteVsSprite:function(H,G,Y,X,$,Q){return!(!H.body||!G.body||(this.separate(H.body,G.body,X,$,Q)&&(Y&&Y.call($,H,G),this._total++),0))},collideSpriteVsGroup:function(H,G,Y,X,$,Q){var et,ot,lt,_=H.body;if(0!==G.length&&_&&_.enable&&!_.checkCollision.none)if(this.useTree||G.physicsType===s.STATIC_BODY){var ht=this.treeMinMax;ht.minX=_.left,ht.minY=_.top,ht.maxX=_.right,ht.maxY=_.bottom;var ft=G.physicsType===s.DYNAMIC_BODY?this.tree.search(ht):this.staticTree.search(ht);for(ot=ft.length,et=0;et<ot;et++)_!==(lt=ft[et])&&lt.enable&&!lt.checkCollision.none&&G.contains(lt.gameObject)&&this.separate(_,lt,X,$,Q,!0)&&(Y&&Y.call($,_.gameObject,lt.gameObject),this._total++)}else{var gt=G.getChildren(),Et=G.children.entries.indexOf(H);for(ot=gt.length,et=0;et<ot;et++)(lt=gt[et].body)&&et!==Et&&lt.enable&&this.separate(_,lt,X,$,Q)&&(Y&&Y.call($,_.gameObject,lt.gameObject),this._total++)}},collideGroupVsTilemapLayer:function(H,G,Y,X,$,Q){var _=H.getChildren();if(0===_.length)return!1;for(var et=!1,ot=0;ot<_.length;ot++)_[ot].body&&this.collideSpriteVsTilemapLayer(_[ot],G,Y,X,$,Q)&&(et=!0);return et},collideTiles:function(H,G,Y,X,$){return!(!H.body.enable||0===G.length)&&this.collideSpriteVsTilesHandler(H,G,Y,X,$,!1,!1)},overlapTiles:function(H,G,Y,X,$){return!(!H.body.enable||0===G.length)&&this.collideSpriteVsTilesHandler(H,G,Y,X,$,!0,!1)},collideSpriteVsTilemapLayer:function(H,G,Y,X,$,Q){var _=H.body;if(!_.enable||_.checkCollision.none)return!1;var et=_.position.x,lt=_.width,ht=_.height,ft=G.layer;if(ft.tileWidth>ft.baseTileWidth){var gt=(ft.tileWidth-ft.baseTileWidth)*G.scaleX;et-=gt,lt+=gt}ft.tileHeight>ft.baseTileHeight&&(ht+=(ft.tileHeight-ft.baseTileHeight)*G.scaleY);var Ct=T(et,_.position.y,lt,ht,null,G.scene.cameras.main,G.layer);return 0!==Ct.length&&this.collideSpriteVsTilesHandler(H,Ct,Y,X,$,Q,!0)},collideSpriteVsTilesHandler:function(H,G,Y,X,$,Q,_){for(var ot,ht,et=H.body,lt={left:0,right:0,top:0,bottom:0},ft=!1,gt=0;gt<G.length;gt++){var Et=(ht=(ot=G[gt]).tilemapLayer).tileToWorldXY(ot.x,ot.y);lt.left=Et.x,lt.top=Et.y,ot.baseHeight!==ot.height&&(lt.top-=(ot.height-ot.baseHeight)*ht.scaleY),lt.right=lt.left+ot.width*ht.scaleX,lt.bottom=lt.top+ot.height*ht.scaleY,W(lt,et)&&(!X||X.call($,H,ot))&&R(ot,H)&&(Q||b(gt,et,ot,lt,ht,this.TILE_BIAS,_))&&(this._total++,ft=!0,Y&&Y.call($,H,ot),Q&&et.onOverlap?this.emit(a.TILE_OVERLAP,H,ot,et):et.onCollide&&this.emit(a.TILE_COLLIDE,H,ot,et))}return ft},collideGroupVsGroup:function(H,G,Y,X,$,Q){if(0!==H.length&&0!==G.length)for(var _=H.getChildren(),et=0;et<_.length;et++)this.collideSpriteVsGroup(_[et],G,Y,X,$,Q)},wrap:function(H,G){H.body?this.wrapObject(H,G):H.getChildren?this.wrapArray(H.getChildren(),G):Array.isArray(H)?this.wrapArray(H,G):this.wrapObject(H,G)},wrapArray:function(H,G){for(var Y=0;Y<H.length;Y++)this.wrapObject(H[Y],G)},wrapObject:function(H,G){void 0===G&&(G=0),H.x=tt(H.x,this.bounds.left-G,this.bounds.right+G),H.y=tt(H.y,this.bounds.top-G,this.bounds.bottom+G)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null}});C.exports=it},function(C,w,n){var l=n(0),m=n(62),f=n(245),h=n(196),u=n(10),s=n(57),o=n(3),d=new l({initialize:function(c,p){var v=p.displayWidth?p.displayWidth:64,g=p.displayHeight?p.displayHeight:64;this.world=c,this.gameObject=p,this.transform={x:p.x,y:p.y,rotation:p.angle,scaleX:p.scaleX,scaleY:p.scaleY,displayOriginX:p.displayOriginX,displayOriginY:p.displayOriginY},this.debugShowBody=c.defaults.debugShowBody,this.debugShowVelocity=c.defaults.debugShowVelocity,this.debugBodyColor=c.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new o,this.position=new o(p.x-p.scaleX*p.displayOriginX,p.y-p.scaleY*p.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=p.angle,this.preRotation=p.angle,this.width=v,this.height=g,this.sourceWidth=v,this.sourceHeight=g,p.frame&&(this.sourceWidth=p.frame.realWidth,this.sourceHeight=p.frame.realHeight),this.halfWidth=Math.abs(v/2),this.halfHeight=Math.abs(g/2),this.center=new o(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new o,this.newVelocity=new o,this.deltaMax=new o,this.acceleration=new o,this.allowDrag=!0,this.drag=new o,this.allowGravity=!0,this.gravity=new o,this.bounce=new o,this.worldBounce=null,this.customBoundsRectangle=c.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new o(1e4,1e4),this.maxSpeed=-1,this.friction=new o(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=m.FACING_NONE,this.immovable=!1,this.pushable=!0,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=m.DYNAMIC_BODY,this._sx=p.scaleX,this._sy=p.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new u},updateBounds:function(){var a=this.gameObject,c=this.transform;if(a.parentContainer){var p=a.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);c.x=p.tx,c.y=p.ty,c.rotation=h(p.rotation),c.scaleX=p.scaleX,c.scaleY=p.scaleY,c.displayOriginX=a.displayOriginX,c.displayOriginY=a.displayOriginY}else c.x=a.x,c.y=a.y,c.rotation=a.angle,c.scaleX=a.scaleX,c.scaleY=a.scaleY,c.displayOriginX=a.displayOriginX,c.displayOriginY=a.displayOriginY;var v=!1;if(this.syncBounds){var g=a.getBounds(this._bounds);this.width=g.width,this.height=g.height,v=!0}else{var x=Math.abs(c.scaleX),T=Math.abs(c.scaleY);(this._sx!==x||this._sy!==T)&&(this.width=this.sourceWidth*x,this.height=this.sourceHeight*T,this._sx=x,this._sy=T,v=!0)}v&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var a=this.transform;this.position.x=a.x+a.scaleX*(this.offset.x-a.displayOriginX),this.position.y=a.y+a.scaleY*(this.offset.y-a.displayOriginY),this.updateCenter()},resetFlags:function(a){void 0===a&&(a=!1);var c=this.wasTouching,p=this.touching,v=this.blocked;a?(c.none=!0,c.up=!1,c.down=!1,c.left=!1,c.right=!1):(c.none=p.none,c.up=p.up,c.down=p.down,c.left=p.left,c.right=p.right),p.none=!0,p.up=!1,p.down=!1,p.left=!1,p.right=!1,v.none=!0,v.up=!1,v.down=!1,v.left=!1,v.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(a,c){a&&this.resetFlags(),this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),a&&this.update(c)},update:function(a){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,a);var c=this.velocity.x,p=this.velocity.y;this.newVelocity.set(c*a,p*a),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(p,c),this.speed=Math.sqrt(c*c+p*p),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(f.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var a=this.position.x-this.prevFrame.x,c=this.position.y-this.prevFrame.y;if(this.moves){var p=this.deltaMax.x,v=this.deltaMax.y;0!==p&&0!==a&&(a<0&&a<-p?a=-p:a>0&&a>p&&(a=p)),0!==v&&0!==c&&(c<0&&c<-v?c=-v:c>0&&c>v&&(c=v)),this.gameObject.x+=a,this.gameObject.y+=c}a<0?this.facing=m.FACING_LEFT:a>0&&(this.facing=m.FACING_RIGHT),c<0?this.facing=m.FACING_UP:c>0&&(this.facing=m.FACING_DOWN),this.allowRotation&&(this.gameObject.angle+=this.deltaZ()),this._tx=a,this._ty=c},setBoundsRectangle:function(a){return this.customBoundsRectangle=a||this.world.bounds,this},checkWorldBounds:function(){var a=this.position,c=this.customBoundsRectangle,p=this.world.checkCollision,v=this.worldBounce?-this.worldBounce.x:-this.bounce.x,g=this.worldBounce?-this.worldBounce.y:-this.bounce.y,x=!1;return a.x<c.x&&p.left?(a.x=c.x,this.velocity.x*=v,this.blocked.left=!0,x=!0):this.right>c.right&&p.right&&(a.x=c.right-this.width,this.velocity.x*=v,this.blocked.right=!0,x=!0),a.y<c.y&&p.up?(a.y=c.y,this.velocity.y*=g,this.blocked.up=!0,x=!0):this.bottom>c.bottom&&p.down&&(a.y=c.bottom-this.height,this.velocity.y*=g,this.blocked.down=!0,x=!0),x&&(this.blocked.none=!1,this.updateCenter()),x},setOffset:function(a,c){return void 0===c&&(c=a),this.offset.set(a,c),this},setSize:function(a,c,p){void 0===p&&(p=!0);var v=this.gameObject;return!a&&v.frame&&(a=v.frame.realWidth),!c&&v.frame&&(c=v.frame.realHeight),this.sourceWidth=a,this.sourceHeight=c,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),p&&v.getCenter&&this.offset.set((v.width-a)/2,(v.height-c)/2),this.isCircle=!1,this.radius=0,this},setCircle:function(a,c,p){return void 0===c&&(c=this.offset.x),void 0===p&&(p=this.offset.y),a>0?(this.isCircle=!0,this.radius=a,this.sourceWidth=2*a,this.sourceHeight=2*a,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(c,p),this.updateCenter()):this.isCircle=!1,this},reset:function(a,c){this.stop();var p=this.gameObject;p.setPosition(a,c),p.getTopLeft?p.getTopLeft(this.position):this.position.set(a,c),this.prev.copy(this.position),this.prevFrame.copy(this.position),this.rotation=p.angle,this.preRotation=p.angle,this.updateBounds(),this.updateCenter(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(a){return a.x=this.x,a.y=this.y,a.right=this.right,a.bottom=this.bottom,a},hitTest:function(a,c){return this.isCircle?this.radius>0&&a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom&&(this.center.x-a)*(this.center.x-a)+(this.center.y-c)*(this.center.y-c)<=this.radius*this.radius:s(this,a,c)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(a){var c=this.position,p=c.x+this.halfWidth,v=c.y+this.halfHeight;this.debugShowBody&&(a.lineStyle(a.defaultStrokeWidth,this.debugBodyColor),this.isCircle?a.strokeCircle(p,v,this.width/2):(this.checkCollision.up&&a.lineBetween(c.x,c.y,c.x+this.width,c.y),this.checkCollision.right&&a.lineBetween(c.x+this.width,c.y,c.x+this.width,c.y+this.height),this.checkCollision.down&&a.lineBetween(c.x,c.y+this.height,c.x+this.width,c.y+this.height),this.checkCollision.left&&a.lineBetween(c.x,c.y,c.x,c.y+this.height))),this.debugShowVelocity&&(a.lineStyle(a.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),a.lineBetween(p,v,p+this.velocity.x/2,v+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(a,c,p,v){void 0===a&&(a=!0),this.collideWorldBounds=a;var g=void 0!==c,x=void 0!==p;return(g||x)&&(this.worldBounce||(this.worldBounce=new o),g&&(this.worldBounce.x=c),x&&(this.worldBounce.y=p)),void 0!==v&&(this.onWorldBounds=v),this},setVelocity:function(a,c){return this.velocity.set(a,c),a=this.velocity.x,c=this.velocity.y,this.speed=Math.sqrt(a*a+c*c),this},setVelocityX:function(a){this.velocity.x=a;var p=this.velocity.y;return this.speed=Math.sqrt(a*a+p*p),this},setVelocityY:function(a){this.velocity.y=a;var c=this.velocity.x;return this.speed=Math.sqrt(c*c+a*a),this},setMaxVelocity:function(a,c){return this.maxVelocity.set(a,c),this},setMaxVelocityX:function(a){return this.maxVelocity.x=a,this},setMaxVelocityY:function(a){return this.maxVelocity.y=a,this},setMaxSpeed:function(a){return this.maxSpeed=a,this},setBounce:function(a,c){return this.bounce.set(a,c),this},setBounceX:function(a){return this.bounce.x=a,this},setBounceY:function(a){return this.bounce.y=a,this},setAcceleration:function(a,c){return this.acceleration.set(a,c),this},setAccelerationX:function(a){return this.acceleration.x=a,this},setAccelerationY:function(a){return this.acceleration.y=a,this},setAllowDrag:function(a){return void 0===a&&(a=!0),this.allowDrag=a,this},setAllowGravity:function(a){return void 0===a&&(a=!0),this.allowGravity=a,this},setAllowRotation:function(a){return void 0===a&&(a=!0),this.allowRotation=a,this},setDrag:function(a,c){return this.drag.set(a,c),this},setDamping:function(a){return this.useDamping=a,this},setDragX:function(a){return this.drag.x=a,this},setDragY:function(a){return this.drag.y=a,this},setGravity:function(a,c){return this.gravity.set(a,c),this},setGravityX:function(a){return this.gravity.x=a,this},setGravityY:function(a){return this.gravity.y=a,this},setFriction:function(a,c){return this.friction.set(a,c),this},setFrictionX:function(a){return this.friction.x=a,this},setFrictionY:function(a){return this.friction.y=a,this},setAngularVelocity:function(a){return this.angularVelocity=a,this},setAngularAcceleration:function(a){return this.angularAcceleration=a,this},setAngularDrag:function(a){return this.angularDrag=a,this},setMass:function(a){return this.mass=a,this},setImmovable:function(a){return void 0===a&&(a=!0),this.immovable=a,this},setEnable:function(a){return void 0===a&&(a=!0),this.enable=a,this},processX:function(a,c,p,v){this.x+=a,this.updateCenter(),null!==c&&(this.velocity.x=c);var g=this.blocked;p&&(g.left=!0),v&&(g.right=!0)},processY:function(a,c,p,v){this.y+=a,this.updateCenter(),null!==c&&(this.velocity.y=c);var g=this.blocked;p&&(g.up=!0),v&&(g.down=!0)},x:{get:function(){return this.position.x},set:function(a){this.position.x=a}},y:{get:function(){return this.position.y},set:function(a){this.position.y=a}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});C.exports=d},function(C,w,n){var m=new(n(0))({initialize:function(h,u,s,o,d,a,c){this.world=h,this.name="",this.active=!0,this.overlapOnly=u,this.object1=s,this.object2=o,this.collideCallback=d,this.processCallback=a,this.callbackContext=c},setName:function(f){return this.name=f,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});C.exports=m},function(C,w,n){var l=n(26),m=n(3),f=new m,h=new m;C.exports=function(s,o,d,a,c,p,v){var g=v.tilemapLayer.tilemap._convert.WorldToTileXY;g(s,o,!0,f,p,v);var x=f.x,T=f.y;g(s+d,o+a,!1,h,p,v);var S=Math.ceil(h.x),D=Math.ceil(h.y);return l(x,T,S-x,D-T,c,v)}},function(C,w){C.exports=function(l,m){return l.collisionCallback?!l.collisionCallback.call(l.collisionCallbackContext,m,l):!l.layer.callbacks[l.index]||!l.layer.callbacks[l.index].callback.call(l.layer.callbacks[l.index].callbackContext,m,l)}},function(C,w,n){var l=n(436);function m(D){if(!(this instanceof m))return new m(D,[".left",".top",".right",".bottom"]);this._maxEntries=Math.max(4,D||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}function f(D,M,R){if(!R)return M.indexOf(D);for(var P=0;P<M.length;P++)if(R(D,M[P]))return P;return-1}function h(D,M){u(D,0,D.children.length,M,D)}function u(D,M,R,P,I){I||(I=T(null)),I.minX=1/0,I.minY=1/0,I.maxX=-1/0,I.maxY=-1/0;for(var L,b=M;b<R;b++)L=D.children[b],s(I,D.leaf?P(L):L);return I}function s(D,M){return D.minX=Math.min(D.minX,M.minX),D.minY=Math.min(D.minY,M.minY),D.maxX=Math.max(D.maxX,M.maxX),D.maxY=Math.max(D.maxY,M.maxY),D}function o(D,M){return D.minX-M.minX}function d(D,M){return D.minY-M.minY}function a(D){return(D.maxX-D.minX)*(D.maxY-D.minY)}function c(D){return D.maxX-D.minX+(D.maxY-D.minY)}function p(D,M){return(Math.max(M.maxX,D.maxX)-Math.min(M.minX,D.minX))*(Math.max(M.maxY,D.maxY)-Math.min(M.minY,D.minY))}function v(D,M){var R=Math.max(D.minX,M.minX),P=Math.max(D.minY,M.minY),I=Math.min(D.maxX,M.maxX),b=Math.min(D.maxY,M.maxY);return Math.max(0,I-R)*Math.max(0,b-P)}function g(D,M){return D.minX<=M.minX&&D.minY<=M.minY&&M.maxX<=D.maxX&&M.maxY<=D.maxY}function x(D,M){return M.minX<=D.maxX&&M.minY<=D.maxY&&M.maxX>=D.minX&&M.maxY>=D.minY}function T(D){return{children:D,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function S(D,M,R,P,I){for(var L,b=[M,R];b.length;)!((R=b.pop())-(M=b.pop())<=P)&&(L=M+Math.ceil((R-M)/P/2)*P,l(D,L,M,R,I),b.push(M,L,L,R))}m.prototype={all:function(){return this._all(this.data,[])},search:function(D){var M=this.data,R=[],P=this.toBBox;if(!x(D,M))return R;for(var b,L,B,V,I=[];M;){for(b=0,L=M.children.length;b<L;b++)B=M.children[b],x(D,V=M.leaf?P(B):B)&&(M.leaf?R.push(B):g(D,V)?this._all(B,R):I.push(B));M=I.pop()}return R},collides:function(D){var M=this.data,R=this.toBBox;if(!x(D,M))return!1;for(var I,b,L,B,P=[];M;){for(I=0,b=M.children.length;I<b;I++)if(L=M.children[I],x(D,B=M.leaf?R(L):L)){if(M.leaf||g(D,B))return!0;P.push(L)}M=P.pop()}return!1},load:function(D){if(!D||!D.length)return this;if(D.length<this._minEntries){for(var M=0,R=D.length;M<R;M++)this.insert(D[M]);return this}var P=this._build(D.slice(),0,D.length-1,0);if(this.data.children.length)if(this.data.height===P.height)this._splitRoot(this.data,P);else{if(this.data.height<P.height){var I=this.data;this.data=P,P=I}this._insert(P,this.data.height-P.height-1,!0)}else this.data=P;return this},insert:function(D){return D&&this._insert(D,this.data.height-1),this},clear:function(){return this.data=T([]),this},remove:function(D,M){if(!D)return this;for(var L,B,V,z,R=this.data,P=this.toBBox(D),I=[],b=[];R||I.length;){if(R||(R=I.pop(),B=I[I.length-1],L=b.pop(),z=!0),R.leaf&&-1!==(V=f(D,R.children,M)))return R.children.splice(V,1),I.push(R),this._condense(I),this;z||R.leaf||!g(R,P)?B?(L++,R=B.children[L],z=!1):R=null:(I.push(R),b.push(L),L=0,B=R,R=R.children[0])}return this},toBBox:function(D){return D},compareMinX:o,compareMinY:d,toJSON:function(){return this.data},fromJSON:function(D){return this.data=D,this},_all:function(D,M){for(var R=[];D;)D.leaf?M.push.apply(M,D.children):R.push.apply(R,D.children),D=R.pop();return M},_build:function(D,M,R,P){var L,I=R-M+1,b=this._maxEntries;if(I<=b)return h(L=T(D.slice(M,R+1)),this.toBBox),L;P||(P=Math.ceil(Math.log(I)/Math.log(b)),b=Math.ceil(I/Math.pow(b,P-1))),(L=T([])).leaf=!1,L.height=P;var z,W,K,J,B=Math.ceil(I/b),V=B*Math.ceil(Math.sqrt(b));for(S(D,M,R,V,this.compareMinX),z=M;z<=R;z+=V)for(S(D,z,K=Math.min(z+V-1,R),B,this.compareMinY),W=z;W<=K;W+=B)J=Math.min(W+B-1,K),L.children.push(this._build(D,W,J,P-1));return h(L,this.toBBox),L},_chooseSubtree:function(D,M,R,P){for(var I,b,L,B,V,z,W,K;P.push(M),!M.leaf&&P.length-1!==R;){for(W=K=1/0,I=0,b=M.children.length;I<b;I++)V=a(L=M.children[I]),(z=p(D,L)-V)<K?(K=z,W=V<W?V:W,B=L):z===K&&V<W&&(W=V,B=L);M=B||M.children[0]}return M},_insert:function(D,M,R){var I=R?D:(0,this.toBBox)(D),b=[],L=this._chooseSubtree(I,this.data,M,b);for(L.children.push(D),s(L,I);M>=0&&b[M].children.length>this._maxEntries;)this._split(b,M),M--;this._adjustParentBBoxes(I,b,M)},_split:function(D,M){var R=D[M],P=R.children.length,I=this._minEntries;this._chooseSplitAxis(R,I,P);var b=this._chooseSplitIndex(R,I,P),L=T(R.children.splice(b,R.children.length-b));L.height=R.height,L.leaf=R.leaf,h(R,this.toBBox),h(L,this.toBBox),M?D[M-1].children.push(L):this._splitRoot(R,L)},_splitRoot:function(D,M){this.data=T([D,M]),this.data.height=D.height+1,this.data.leaf=!1,h(this.data,this.toBBox)},_chooseSplitIndex:function(D,M,R){var P,I,b,L,B,V,z,W;for(V=z=1/0,P=M;P<=R-M;P++)L=v(I=u(D,0,P,this.toBBox),b=u(D,P,R,this.toBBox)),B=a(I)+a(b),L<V?(V=L,W=P,z=B<z?B:z):L===V&&B<z&&(z=B,W=P);return W},_chooseSplitAxis:function(D,M,R){var P=D.leaf?this.compareMinX:o,I=D.leaf?this.compareMinY:d;this._allDistMargin(D,M,R,P)<this._allDistMargin(D,M,R,I)&&D.children.sort(P)},_allDistMargin:function(D,M,R,P){D.children.sort(P);var V,z,I=this.toBBox,b=u(D,0,M,I),L=u(D,R-M,R,I),B=c(b)+c(L);for(V=M;V<R-M;V++)z=D.children[V],s(b,D.leaf?I(z):z),B+=c(b);for(V=R-M-1;V>=M;V--)z=D.children[V],s(L,D.leaf?I(z):z),B+=c(L);return B},_adjustParentBBoxes:function(D,M,R){for(var P=R;P>=0;P--)s(M[P],D)},_condense:function(D){for(var R,M=D.length-1;M>=0;M--)0===D[M].children.length?M>0?(R=D[M-1].children).splice(R.indexOf(D[M]),1):this.clear():h(D[M],this.toBBox)},compareMinX:function(D,M){return D.left-M.left},compareMinY:function(D,M){return D.top-M.top},toBBox:function(D){return{minX:D.left,minY:D.top,maxX:D.right,maxY:D.bottom}}},C.exports=m},function(C,w,n){var l=n(533),m=n(535),f=n(248);C.exports=function(u,s,o,d,a,c,p){var v=d.left,g=d.top,x=d.right,T=d.bottom,S=o.faceLeft||o.faceRight,D=o.faceTop||o.faceBottom;if(p||(S=!0,D=!0),!S&&!D)return!1;var M=0,R=0,P=0,I=1;if(s.deltaAbsX()>s.deltaAbsY()?P=-1:s.deltaAbsX()<s.deltaAbsY()&&(I=-1),0!==s.deltaX()&&0!==s.deltaY()&&S&&D&&(P=Math.min(Math.abs(s.position.x-x),Math.abs(s.right-v)),I=Math.min(Math.abs(s.position.y-T),Math.abs(s.bottom-g))),P<I){if(S&&0!==(M=l(s,o,v,x,c,p))&&!f(d,s))return!0;D&&(R=m(s,o,g,T,c,p))}else{if(D&&0!==(R=m(s,o,g,T,c,p))&&!f(d,s))return!0;S&&(M=l(s,o,v,x,c,p))}return 0!==M||0!==R}},function(C,w,n){var l=n(534);C.exports=function(f,h,u,s,o,d){var a=0,c=h.faceLeft,p=h.faceRight,v=h.collideLeft,g=h.collideRight;return d||(c=!0,p=!0,v=!0,g=!0),f.deltaX()<0&&g&&f.checkCollision.left?p&&f.x<s&&(a=f.x-s)<-o&&(a=0):f.deltaX()>0&&v&&f.checkCollision.right&&c&&f.right>u&&(a=f.right-u)>o&&(a=0),0!==a&&(f.customSeparateX?f.overlapX=a:l(f,a)),a}},function(C,w){C.exports=function(l,m){m<0?(l.blocked.none=!1,l.blocked.left=!0):m>0&&(l.blocked.none=!1,l.blocked.right=!0),l.position.x-=m,l.velocity.x=0===l.bounce.x?0:-l.velocity.x*l.bounce.x}},function(C,w,n){var l=n(536);C.exports=function(f,h,u,s,o,d){var a=0,c=h.faceTop,p=h.faceBottom,v=h.collideUp,g=h.collideDown;return d||(c=!0,p=!0,v=!0,g=!0),f.deltaY()<0&&g&&f.checkCollision.up?p&&f.y<s&&(a=f.y-s)<-o&&(a=0):f.deltaY()>0&&v&&f.checkCollision.down&&c&&f.bottom>u&&(a=f.bottom-u)>o&&(a=0),0!==a&&(f.customSeparateY?f.overlapY=a:l(f,a)),a}},function(C,w){C.exports=function(l,m){m<0?(l.blocked.none=!1,l.blocked.up=!0):m>0&&(l.blocked.none=!1,l.blocked.down=!0),l.position.y-=m,l.velocity.y=0===l.bounce.y?0:-l.velocity.y*l.bounce.y}},function(C,w,n){var l=n(246),m=n(1389);C.exports=function(h,u,s,o){var d=l(h,u,s,o),a=h.immovable,c=u.immovable;if(s||0===d||a&&c||h.customSeparateX||u.customSeparateX)return 0!==d||h.embedded&&u.embedded;var p=m.Set(h,u,d);return a||c?(a?m.RunImmovableBody1(p):c&&m.RunImmovableBody2(p),!0):p>0||m.Check()}},function(C,w,n){var l=n(247),m=n(1390);C.exports=function(h,u,s,o){var d=l(h,u,s,o),a=h.immovable,c=u.immovable;if(s||0===d||a&&c||h.customSeparateY||u.customSeparateY)return 0!==d||h.embedded&&u.embedded;var p=m.Set(h,u,d);return a||c?(a?m.RunImmovableBody1(p):c&&m.RunImmovableBody2(p),!0):p>0||m.Check()}},function(C,w,n){var l=n(66),m=n(0),f=n(62),h=n(57),u=n(3),s=new m({initialize:function(d,a){var c=a.displayWidth?a.displayWidth:64,p=a.displayHeight?a.displayHeight:64;this.world=d,this.gameObject=a,this.debugShowBody=d.defaults.debugShowStaticBody,this.debugBodyColor=d.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new u,this.position=new u(a.x-c*a.originX,a.y-p*a.originY),this.width=c,this.height=p,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new u(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=u.ZERO,this.allowGravity=!1,this.gravity=u.ZERO,this.bounce=u.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=f.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(o,d){return o&&o!==this.gameObject&&(this.gameObject.body=null,o.body=this,this.gameObject=o),d&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var o=this.gameObject;return o.getTopLeft(this.position),this.width=o.displayWidth,this.height=o.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(o,d){return void 0===d&&(d=o),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(o,d),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(o,d,a){void 0===a&&(a=!0);var c=this.gameObject;if(!o&&c.frame&&(o=c.frame.realWidth),!d&&c.frame&&(d=c.frame.realHeight),this.world.staticTree.remove(this),this.width=o,this.height=d,this.halfWidth=Math.floor(o/2),this.halfHeight=Math.floor(d/2),a&&c.getCenter){var p=c.displayWidth/2,v=c.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(p-this.halfWidth,v-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(o,d,a){return void 0===d&&(d=this.offset.x),void 0===a&&(a=this.offset.y),o>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=o,this.width=2*o,this.height=2*o,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(d,a),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(o,d){var a=this.gameObject;void 0===o&&(o=a.x),void 0===d&&(d=a.y),this.world.staticTree.remove(this),a.setPosition(o,d),a.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(o){return o.x=this.x,o.y=this.y,o.right=this.right,o.bottom=this.bottom,o},hitTest:function(o,d){return this.isCircle?l(this,o,d):h(this,o,d)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(o){var d=this.position,a=d.x+this.halfWidth,c=d.y+this.halfHeight;this.debugShowBody&&(o.lineStyle(o.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?o.strokeCircle(a,c,this.width/2):o.strokeRect(d.x,d.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(o){return o<=0&&(o=.1),this.mass=o,this},x:{get:function(){return this.position.x},set:function(o){this.world.staticTree.remove(this),this.position.x=o,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(o){this.world.staticTree.remove(this),this.position.y=o,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});C.exports=s},function(C,w,n){var m=new(n(0))({initialize:function(h){this.pluginManager=h,this.game=h.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});C.exports=m},function(C,w,n){var m=new(n(3));C.exports=function(h,u,s,o){var d=s.tilemapLayer,a=d.cullPaddingX,c=d.cullPaddingY,p=d.tilemap.tileToWorldXY(h,u,m,o,d);return p.x>o.worldView.x+d.scaleX*s.tileWidth*(-a-.5)&&p.x<o.worldView.right+d.scaleX*s.tileWidth*(a-.5)&&p.y>o.worldView.y+d.scaleY*s.tileHeight*(-c-1)&&p.y<o.worldView.bottom+d.scaleY*s.tileHeight*(c-.5)}},function(C,w,n){var l=n(26);C.exports=function(f,h,u,s,o,d,a){for(var c=l(u,s,o,d,null,a),p=0;p<c.length;p++)c[p]&&c[p].index===f&&(c[p].index=h)}},function(C,w,n){var l=n(10),m=n(139),f=n(76),h=new l;C.exports=function(s,o){var d=s.tilemapLayer.tilemap,a=s.tilemapLayer,c=Math.floor(d.tileWidth*a.scaleX),p=Math.floor(d.tileHeight*a.scaleY),v=f(o.worldView.x-a.x,c,0,!0)-a.cullPaddingX,g=m(o.worldView.right-a.x,c,0,!0)+a.cullPaddingX,x=f(o.worldView.y-a.y,p,0,!0)-a.cullPaddingY,T=m(o.worldView.bottom-a.y,p,0,!0)+a.cullPaddingY;return h.setTo(v,x,g-v,T-x)}},function(C,w,n){var l=n(543),m=n(159);C.exports=function(h,u,s,o){void 0===s&&(s=[]),void 0===o&&(o=0),s.length=0;var d=h.tilemapLayer,a=l(h,u);return(d.skipCull||1!==d.scrollFactorX||1!==d.scrollFactorY)&&(a.left=0,a.right=h.width,a.top=0,a.bottom=h.height),m(h,a,o,s),s}},function(C,w,n){var l=n(546),m=n(159);C.exports=function(h,u,s,o){void 0===s&&(s=[]),void 0===o&&(o=0),s.length=0;var d=h.tilemapLayer;if(!d.skipCull&&1===d.scrollFactorX&&1===d.scrollFactorY){var a=l(h,u);m(h,a,o,s)}return s}},function(C,w,n){var l=n(139),m=n(76);C.exports=function(h,u){var s=h.tilemapLayer.tilemap,o=h.tilemapLayer,d=Math.floor(s.tileWidth*o.scaleX),a=Math.floor(s.tileHeight*o.scaleY),c=h.hexSideLength,p=(a-c)/2+c;return{left:m(u.worldView.x-o.x,d,0,!0)-o.cullPaddingX,right:l(u.worldView.right-o.x,d,0,!0)+o.cullPaddingX,top:m(u.worldView.y-o.y,p,0,!0)-o.cullPaddingY,bottom:l(u.worldView.bottom-o.y,p,0,!0)+o.cullPaddingY}}},function(C,w,n){var l=n(541);C.exports=function(f,h,u,s){void 0===u&&(u=[]),void 0===s&&(s=0),u.length=0;var T,S,D,o=f.tilemapLayer,d=f.data,a=f.width,c=f.height,v=a,x=c;if(!o.skipCull)if(0===s){for(S=0;S<x;S++)for(T=0;d[S]&&T<v;T++)if(l(T,S,f,h)){if(!(D=d[S][T])||-1===D.index||!D.visible||0===D.alpha)continue;u.push(D)}}else if(1===s){for(S=0;S<x;S++)for(T=v;d[S]&&T>=0;T--)if(l(T,S,f,h)){if(!(D=d[S][T])||-1===D.index||!D.visible||0===D.alpha)continue;u.push(D)}}else if(2===s){for(S=x;S>=0;S--)for(T=0;d[S]&&T<v;T++)if(l(T,S,f,h)){if(!(D=d[S][T])||-1===D.index||!D.visible||0===D.alpha)continue;u.push(D)}}else if(3===s)for(S=x;S>=0;S--)for(T=v;d[S]&&T>=0;T--)if(l(T,S,f,h)){if(!(D=d[S][T])||-1===D.index||!D.visible||0===D.alpha)continue;u.push(D)}return o.tilesDrawn=u.length,o.tilesTotal=a*c,u}},function(C,w,n){var l=n(549),m=n(159);C.exports=function(h,u,s,o){void 0===s&&(s=[]),void 0===o&&(o=0),s.length=0;var d=h.tilemapLayer;if(!d.skipCull&&1===d.scrollFactorX&&1===d.scrollFactorY){var a=l(h,u);m(h,a,o,s)}return s}},function(C,w,n){var l=n(139),m=n(76);C.exports=function(h,u){var s=h.tilemapLayer.tilemap,o=h.tilemapLayer,d=Math.floor(s.tileWidth*o.scaleX),a=Math.floor(s.tileHeight*o.scaleY);return{left:m(u.worldView.x-o.x,d,0,!0)-o.cullPaddingX,right:l(u.worldView.right-o.x,d,0,!0)+o.cullPaddingX,top:m(u.worldView.y-o.y,a/2,0,!0)-o.cullPaddingY,bottom:l(u.worldView.bottom-o.y,a/2,0,!0)+o.cullPaddingY}}},function(C,w,n){var l=n(3);C.exports=function(f,h,u,s,o){u||(u=new l);var d=o.baseTileWidth,a=o.baseTileHeight,c=o.tilemapLayer,p=0,v=0;c&&(s||(s=c.scene.cameras.main),p=c.x+s.scrollX*(1-c.scrollFactorX),d*=c.scaleX,v=c.y+s.scrollY*(1-c.scrollFactorY),a*=c.scaleY);var g=o.hexSideLength;return u.set(p+f*d+h%2*(d/2),v+h*((a-g)/2+g))}},function(C,w,n){var l=n(3);C.exports=function(f,h,u,s,o){u||(u=new l);var d=o.baseTileWidth,a=o.baseTileHeight,c=o.tilemapLayer,p=0,v=0;return c&&(s||(s=c.scene.cameras.main),p=c.x+s.scrollX*(1-c.scrollFactorX),d*=c.scaleX,v=c.y+s.scrollY*(1-c.scrollFactorY),a*=c.scaleY),u.set(p+d/2*(f-h),v+(f+h)*(a/2))}},function(C,w,n){var l=n(3);C.exports=function(f,h,u,s,o){u||(u=new l);var d=o.baseTileWidth,a=o.baseTileHeight,c=o.tilemapLayer,p=0,v=0;return c&&(s||(s=c.scene.cameras.main),p=c.x+s.scrollX*(1-c.scrollFactorX),d*=c.scaleX,v=c.y+s.scrollY*(1-c.scrollFactorY),a*=c.scaleY),u.set(p+f*d+h%2*(d/2),v+h*(a/2))}},function(C,w,n){var l=n(253),m=n(254),f=n(3);C.exports=function(u,s,o,d,a){return o||(o=new f(0,0)),o.x=l(u,d,a),o.y=m(s,d,a),o}},function(C,w){C.exports=function(l,m,f){var h=f.baseTileHeight,u=f.tilemapLayer,s=0;u&&(void 0===m&&(m=u.scene.cameras.main),s=u.y+m.scrollY*(1-u.scrollFactorY),h*=u.scaleY);var o=u.tilemap.hexSideLength;return s+l*((h-o)/2+o)}},function(C,w){C.exports=function(l,m,f){var h=f.baseTileHeight,u=f.tilemapLayer,s=0;return u&&(void 0===m&&(m=u.scene.cameras.main),s=u.y+m.scrollY*(1-u.scrollFactorY),h*=u.scaleY),s+l*(h/2)}},function(C,w,n){var l=n(3);C.exports=function(f,h,u,s,o,d){s||(s=new l);var a=d.baseTileWidth,c=d.baseTileHeight,p=d.tilemapLayer;p&&(o||(o=p.scene.cameras.main),h-=p.y+o.scrollY*(1-p.scrollFactorY),c*=p.scaleY,f-=p.x+o.scrollX*(1-p.scrollFactorX),a*=p.scaleX);var v=d.hexSideLength,g=(c-v)/2+v,x=u?Math.floor(h/g):h/g,T=u?Math.floor((f-x%2*.5*a)/a):(f-x%2*.5*a)/a;return s.set(T,x)}},function(C,w,n){var l=n(3);C.exports=function(f,h,u,s,o,d){s||(s=new l);var a=d.baseTileWidth,c=d.baseTileHeight,p=d.tilemapLayer;p&&(o||(o=p.scene.cameras.main),h-=p.y+o.scrollY*(1-p.scrollFactorY),c*=p.scaleY,f-=p.x+o.scrollX*(1-p.scrollFactorX),a*=p.scaleX);var v=u?Math.floor((f/(a/2)+h/(c/2))/2):(f/(a/2)+h/(c/2))/2,g=u?Math.floor((h/(c/2)-f/(a/2))/2):(h/(c/2)-f/(a/2))/2;return s.set(v,g)}},function(C,w,n){var l=n(3);C.exports=function(f,h,u,s,o,d){s||(s=new l);var a=d.baseTileWidth,c=d.baseTileHeight,p=d.tilemapLayer;p&&(o||(o=p.scene.cameras.main),h-=p.y+o.scrollY*(1-p.scrollFactorY),c*=p.scaleY,f-=p.x+o.scrollX*(1-p.scrollFactorX),a*=p.scaleX);var v=u?Math.floor(h/(c/2)):h/(c/2),g=u?Math.floor((f+v%2*.5*a)/a):(f+v%2*.5*a)/a;return s.set(g,v)}},function(C,w,n){var l=n(255),m=n(256),f=n(3);C.exports=function(u,s,o,d,a,c){return void 0===o&&(o=!0),d||(d=new f(0,0)),d.x=l(u,o,a,c),d.y=m(s,o,a,c),d}},function(C,w){C.exports=function(l,m,f,h){var u=h.baseTileHeight,s=h.tilemapLayer;s&&(f||(f=s.scene.cameras.main),l-=s.y+f.scrollY*(1-s.scrollFactorY),u*=s.scaleY);var o=h.hexSideLength,d=(u-o)/2+o;return m?Math.floor(l/d):l/d}},function(C,w){C.exports=function(l,m,f,h){var u=h.baseTileHeight,s=h.tilemapLayer;return s&&(f||(f=s.scene.cameras.main),l-=s.y+f.scrollY*(1-s.scrollFactorY),u*=s.scaleY),m?Math.floor(l/(u/2)):l/(u/2)}},function(C,w,n){var l=n(119);C.exports=function(f,h,u){if(l(f,h,u)){var s=u.data[h][f];return null!==s&&s.index>-1}return!1}},function(C,w,n){var l=n(85),m=n(119),f=n(252);C.exports=function(u,s,o,d,a){if(void 0===o&&(o=!0),void 0===d&&(d=!0),!m(u,s,a))return null;var c=a.data[s][u];return c?(a.data[s][u]=o?null:new l(a,-1,u,s,a.tileWidth,a.tileHeight),d&&c&&c.collides&&f(u,s,a),c):null}},function(C,w,n){var l=n(40),m=n(259),f=n(565),h=n(566),u=n(577);C.exports=function(o,d,a,c,p,v){var g;switch(d){case l.ARRAY_2D:g=m(o,a,c,p,v);break;case l.CSV:g=f(o,a,c,p,v);break;case l.TILED_JSON:g=h(o,a,v);break;case l.WELTMEISTER:g=u(o,a,v);break;default:console.warn("Unrecognized tilemap data format: "+d),g=null}return g}},function(C,w,n){var l=n(40),m=n(259);C.exports=function(h,u,s,o,d){var a=u.trim().split("\n").map(function(p){return p.split(",")}),c=m(h,a,s,o,d);return c.format=l.CSV,c}},function(C,w,n){var l=n(567),m=n(568),f=n(29),h=n(40),u=n(258),s=n(121),o=n(569),d=n(570),a=n(573),c=n(575);C.exports=function(v,g,x){var T=new s({width:g.width,height:g.height,name:v,tileWidth:g.tilewidth,tileHeight:g.tileheight,orientation:u(g.orientation),format:h.TILED_JSON,version:g.version,properties:g.properties,renderOrder:g.renderorder,infinite:g.infinite});T.orientation===f.HEXAGONAL&&(T.hexSideLength=g.hexsidelength),T.layers=a(g,x),T.images=o(g);var S=c(g);return T.tilesets=S.tilesets,T.imageCollections=S.imageCollections,T.objects=d(g),T.tiles=m(T),l(T),T}},function(C,w,n){var l=n(17);C.exports=function(f){for(var h,u,o,d,a=0;a<f.layers.length;a++){h=f.layers[a],o=null;for(var c=0;c<h.data.length;c++){d=h.data[c];for(var p=0;p<d.length;p++)!(null===(u=d[p])||u.index<0)&&(u.width=(o=f.tilesets[f.tiles[u.index][2]]).tileWidth,u.height=o.tileHeight,o.tileProperties&&o.tileProperties[u.index-o.firstgid]&&(u.properties=l(u.properties,o.tileProperties[u.index-o.firstgid])))}}}},function(C,w,n){var l=n(122);C.exports=function(f){var h,u,s=[];for(h=0;h<f.imageCollections.length;h++)for(var o=f.imageCollections[h],d=o.images,a=0;a<d.length;a++){var c=d[a];(u=new l(c.image,c.gid,o.imageWidth,o.imageHeight,0,0)).updateTileData(o.imageWidth,o.imageHeight),f.tilesets.push(u)}for(h=0;h<f.tilesets.length;h++)for(var p=(u=f.tilesets[h]).tileMargin,v=u.tileMargin,g=0,x=0,T=0,S=u.firstgid;S<u.firstgid+u.total&&(s[S]=[p,v,h],p+=u.tileWidth+u.tileSpacing,++g!==u.total&&(++x!==u.columns||(p=u.tileMargin,v+=u.tileHeight+u.tileSpacing,x=0,++T!==u.rows)));S++);return s}},function(C,w,n){var l=n(2),m=n(161);C.exports=function(h){for(var u=[],s=[],o=m(h);o.i<o.layers.length||s.length>0;)if(o.i>=o.layers.length){if(s.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}o=s.pop()}else{var d=o.layers[o.i];if(o.i++,"imagelayer"===d.type){var c=l(d,"offsetx",0)+l(d,"startx",0),p=l(d,"offsety",0)+l(d,"starty",0);u.push({name:o.name+d.name,image:d.image,x:o.x+c+d.x,y:o.y+p+d.y,alpha:o.opacity*d.opacity,visible:o.visible&&d.visible,properties:l(d,"properties",{})})}else if("group"===d.type){var a=m(h,d,o);s.push(o),o=a}}return u}},function(C,w,n){var l=n(2),m=n(260),f=n(572),h=n(161);C.exports=function(s){for(var o=[],d=[],a=h(s);a.i<a.layers.length||d.length>0;)if(a.i>=a.layers.length){if(d.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}a=d.pop()}else{var c=a.layers[a.i];if(a.i++,c.opacity*=a.opacity,c.visible=a.visible&&c.visible,"objectgroup"===c.type){c.name=a.name+c.name;for(var v=a.x+l(c,"startx",0)+l(c,"offsetx",0),g=a.y+l(c,"starty",0)+l(c,"offsety",0),x=[],T=0;T<c.objects.length;T++){var S=m(c.objects[T],v,g);x.push(S)}var D=new f(c);D.objects=x,o.push(D)}else if("group"===c.type){var p=h(s,c,a);d.push(a),a=p}}return o}},function(C,w,n){var l=n(126);C.exports=function(f,h){for(var u={},s=0;s<h.length;s++){var o=h[s];l(f,o)&&(u[o]=f[o])}return u}},function(C,w,n){var l=n(0),m=n(2),f=new l({initialize:function(u){void 0===u&&(u={}),this.name=m(u,"name","object layer"),this.opacity=m(u,"opacity",1),this.properties=m(u,"properties",{}),this.propertyTypes=m(u,"propertytypes",{}),this.type=m(u,"type","objectgroup"),this.visible=m(u,"visible",!0),this.objects=m(u,"objects",[])}});C.exports=f},function(C,w,n){var l=n(574),m=n(29),f=n(161),h=n(258),u=n(2),s=n(120),o=n(261),d=n(85);C.exports=function(c,p){for(var v=u(c,"infinite",!1),g=[],x=[],T=f(c);T.i<T.layers.length||x.length>0;)if(T.i>=T.layers.length){if(x.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}T=x.pop()}else{var S=T.layers[T.i];if(T.i++,"tilelayer"===S.type)if(S.compression)console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+S.name+"'");else{if(S.encoding&&"base64"===S.encoding){if(S.chunks)for(var M=0;M<S.chunks.length;M++)S.chunks[M].data=l(S.chunks[M].data);S.data&&(S.data=l(S.data)),delete S.encoding}var R,P,I,b,L=[],B=0;if(v){var V=u(S,"startx",0)+S.x,z=u(S,"starty",0)+S.y;(R=new s({name:T.name+S.name,x:T.x+u(S,"offsetx",0)+V*c.tilewidth,y:T.y+u(S,"offsety",0)+z*c.tileheight,width:S.width,height:S.height,tileWidth:c.tilewidth,tileHeight:c.tileheight,alpha:T.opacity*S.opacity,visible:T.visible&&S.visible,properties:u(S,"properties",[]),orientation:h(c.orientation)})).orientation===m.HEXAGONAL&&(R.hexSideLength=c.hexsidelength);for(var W=0;W<S.height;W++){L.push([null]);for(var K=0;K<S.width;K++)L[W][K]=null}for(W=0,et=S.chunks.length;W<et;W++)for(var J=S.chunks[W],tt=J.x-V,it=J.y-z,H=0,G=0,Y=J.data.length;G<Y;G++){var X=B+tt,$=H+it;(P=o(J.data[G])).gid>0?((I=new d(R,P.gid,X,$,c.tilewidth,c.tileheight)).rotation=P.rotation,I.flipX=P.flipped,L[$][X]=I):(b=p?null:new d(R,-1,X,$,c.tilewidth,c.tileheight),L[$][X]=b),++B===J.width&&(H++,B=0)}}else{(R=new s({name:T.name+S.name,x:T.x+u(S,"offsetx",0)+S.x,y:T.y+u(S,"offsety",0)+S.y,width:S.width,height:S.height,tileWidth:c.tilewidth,tileHeight:c.tileheight,alpha:T.opacity*S.opacity,visible:T.visible&&S.visible,properties:u(S,"properties",[]),orientation:h(c.orientation)})).orientation===m.HEXAGONAL&&(R.hexSideLength=c.hexsidelength);for(var Q=[],_=0,et=S.data.length;_<et;_++)(P=o(S.data[_])).gid>0?((I=new d(R,P.gid,B,L.length,c.tilewidth,c.tileheight)).rotation=P.rotation,I.flipX=P.flipped,Q.push(I)):(b=p?null:new d(R,-1,B,L.length,c.tilewidth,c.tileheight),Q.push(b)),++B===S.width&&(L.push(Q),B=0,Q=[])}R.data=L,g.push(R)}else if("group"===S.type){var D=f(c,S,T);x.push(T),T=D}}return g}},function(C,w){C.exports=function(l){for(var m=window.atob(l),f=m.length,h=new Array(f/4),u=0;u<f;u+=4)h[u/4]=(m.charCodeAt(u)|m.charCodeAt(u+1)<<8|m.charCodeAt(u+2)<<16|m.charCodeAt(u+3)<<24)>>>0;return h}},function(C,w,n){var l=n(122),m=n(576),f=n(260),h=n(1453);C.exports=function(s){for(var c,o=[],d=[],a=null,p=0;p<s.tilesets.length;p++){var v=s.tilesets[p];if(v.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(v.image){var g=new l(v.name,v.firstgid,v.tilewidth,v.tileheight,v.margin,v.spacing);if(s.version>1){var x=void 0,T=void 0;if(Array.isArray(v.tiles)){x=x||{},T=T||{};for(var S=0;S<v.tiles.length;S++){var D=v.tiles[S];if(D.properties){var M={};D.properties.forEach(function(W){M[W.name]=W.value}),T[D.id]=M}if(D.objectgroup&&((x[D.id]||(x[D.id]={})).objectgroup=D.objectgroup,D.objectgroup.objects)){var R=D.objectgroup.objects.map(function(W){return f(W)});x[D.id].objectgroup.objects=R}D.animation&&((x[D.id]||(x[D.id]={})).animation=D.animation),D.type&&((x[D.id]||(x[D.id]={})).type=D.type)}}Array.isArray(v.wangsets)&&(T=T||{},h(v.wangsets,x=x||{})),x&&(g.tileData=x,g.tileProperties=T)}else if(v.tileproperties&&(g.tileProperties=v.tileproperties),v.tiles)for(c in g.tileData=v.tiles,g.tileData){var P=g.tileData[c].objectgroup;if(P&&P.objects){var I=P.objects.map(function(W){return f(W)});g.tileData[c].objectgroup.objects=I}}g.updateTileData(v.imagewidth,v.imageheight),o.push(g)}else{var b=new m(v.name,v.firstgid,v.tilewidth,v.tileheight,v.margin,v.spacing,v.properties),L=0;for(S=0;S<v.tiles.length;S++){var B=(D=v.tiles[S]).image,V=parseInt(D.id,10);b.addImage(v.firstgid+V,B),L=Math.max(V,L)}b.maxId=L,d.push(b)}a&&(a.lastgid=v.firstgid-1),a=v}return{tilesets:o,imageCollections:d}}},function(C,w,n){var m=new(n(0))({initialize:function(h,u,s,o,d,a,c){(void 0===s||s<=0)&&(s=32),(void 0===o||o<=0)&&(o=32),void 0===d&&(d=0),void 0===a&&(a=0),this.name=h,this.firstgid=0|u,this.imageWidth=0|s,this.imageHeight=0|o,this.imageMargin=0|d,this.imageSpacing=0|a,this.properties=c||{},this.images=[],this.total=0},containsImageIndex:function(f){return f>=this.firstgid&&f<this.firstgid+this.total},addImage:function(f,h){return this.images.push({gid:f,image:h}),this.total++,this}});C.exports=m},function(C,w,n){var l=n(40),m=n(121),f=n(578),h=n(579);C.exports=function(s,o,d){if(0===o.layer.length)return console.warn("No layers found in the Weltmeister map: "+s),null;for(var a=0,c=0,p=0;p<o.layer.length;p++)o.layer[p].width>a&&(a=o.layer[p].width),o.layer[p].height>c&&(c=o.layer[p].height);var v=new m({width:a,height:c,name:s,tileWidth:o.layer[0].tilesize,tileHeight:o.layer[0].tilesize,format:l.WELTMEISTER});return v.layers=f(o,d),v.tilesets=h(o),v}},function(C,w,n){var l=n(120),m=n(85);C.exports=function(h,u){for(var s=[],o=0;o<h.layer.length;o++){for(var d=h.layer[o],a=new l({name:d.name,width:d.width,height:d.height,tileWidth:d.tilesize,tileHeight:d.tilesize,visible:1===d.visible}),c=[],p=[],v=0;v<d.data.length;v++){for(var g=0;g<d.data[v].length;g++){var T,x=d.data[v][g]-1;T=x>-1?new m(a,x,g,v,d.tilesize,d.tilesize):u?null:new m(a,-1,g,v,d.tilesize,d.tilesize),c.push(T)}p.push(c),c=[]}a.data=p,s.push(a)}return s}},function(C,w,n){var l=n(122);C.exports=function(f){for(var h=[],u=[],s=0;s<f.layer.length;s++){var o=f.layer[s],d=o.tilesetName;""!==d&&-1===u.indexOf(d)&&(u.push(d),h.push(new l(d,0,o.tilesize,o.tilesize,0,0)))}return h}},function(C,w,n){var l=n(0),m=n(36),f=n(40),h=n(2),u=n(120),s=n(29),o=n(362),d=n(74),a=n(73),c=n(85),p=n(251),v=n(581),g=n(122),x=new l({initialize:function(S,D){this.scene=S,this.tileWidth=D.tileWidth,this.tileHeight=D.tileHeight,this.width=D.width,this.height=D.height,this.orientation=D.orientation,this.renderOrder=D.renderOrder,this.format=D.format,this.version=D.version,this.properties=D.properties,this.widthInPixels=D.widthInPixels,this.heightInPixels=D.heightInPixels,this.imageCollections=D.imageCollections,this.images=D.images,this.layers=D.layers,this.tilesets=D.tilesets,this.objects=D.objects,this.currentLayerIndex=0,this.hexSideLength=D.hexSideLength;var M=this.orientation;this._convert={WorldToTileXY:p.GetWorldToTileXYFunction(M),WorldToTileX:p.GetWorldToTileXFunction(M),WorldToTileY:p.GetWorldToTileYFunction(M),TileToWorldXY:p.GetTileToWorldXYFunction(M),TileToWorldX:p.GetTileToWorldXFunction(M),TileToWorldY:p.GetTileToWorldYFunction(M)}},createBlankDynamicLayer:function(T,S,D,M,R,P,I,b){return console.warn("createBlankDynamicLayer is deprecated. Use createBlankLayer"),this.createBlankLayer(T,S,D,M,R,P,I,b)},createDynamicLayer:function(T,S,D,M){return console.warn("createDynamicLayer is deprecated. Use createLayer"),this.createLayer(T,S,D,M)},createStaticLayer:function(T,S,D,M){return console.warn("createStaticLayer is deprecated. Use createLayer"),this.createLayer(T,S,D,M)},setRenderOrder:function(T){var S=["right-down","left-down","right-up","left-up"];return"number"==typeof T&&(T=S[T]),S.indexOf(T)>-1&&(this.renderOrder=T),this},addTilesetImage:function(T,S,D,M,R,P,I){if(void 0===T)return null;if(null==S&&(S=T),!this.scene.sys.textures.exists(S))return console.warn("Invalid Tileset Image: "+S),null;var b=this.scene.sys.textures.get(S),L=this.getTilesetIndex(T);if(null===L&&this.format===f.TILED_JSON)return console.warn("No data found for Tileset: "+T),null;var B=this.tilesets[L];return B?(B.setTileSize(D,M),B.setSpacing(R,P),B.setImage(b),B):(void 0===D&&(D=this.tileWidth),void 0===M&&(M=this.tileHeight),void 0===R&&(R=0),void 0===P&&(P=0),void 0===I&&(I=0),(B=new g(T,I,D,M,R,P)).setImage(b),this.tilesets.push(B),B)},copy:function(T,S,D,M,R,P,I,b){return null!==(b=this.getLayer(b))?(p.Copy(T,S,D,M,R,P,I,b),this):null},createBlankLayer:function(T,S,D,M,R,P,I,b){if(void 0===D&&(D=0),void 0===M&&(M=0),void 0===R&&(R=this.width),void 0===P&&(P=this.height),void 0===I&&(I=this.tileWidth),void 0===b&&(b=this.tileHeight),null!==this.getLayerIndex(T))return console.warn("Invalid Tilemap Layer ID: "+T),null;for(var V,B=new u({name:T,tileWidth:I,tileHeight:b,width:R,height:P,orientation:this.orientation}),z=0;z<P;z++){V=[];for(var W=0;W<R;W++)V.push(new c(B,-1,W,z,I,b,this.tileWidth,this.tileHeight));B.data.push(V)}this.layers.push(B),this.currentLayerIndex=this.layers.length-1;var K=new v(this.scene,this,this.currentLayerIndex,S,D,M);return K.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(K),K},createLayer:function(T,S,D,M){var R=this.getLayerIndex(T);if(null===R)return console.warn("Invalid Tilemap Layer ID: "+T),"string"==typeof T&&console.warn("Valid tilelayer names:\n\t"+this.getTileLayerNames().join(",\n\t")),null;var P=this.layers[R];if(P.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+T),null;this.currentLayerIndex=R,void 0===D&&(D=P.x),void 0===M&&(M=P.y);var I=new v(this.scene,this,R,S,D,M);return I.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(I),I},createFromObjects:function(T,S){var D=[],M=this.getObjectLayer(T);if(!M)return console.warn("createFromObjects: Invalid objectLayerName given: "+T),D;Array.isArray(S)||(S=[S]);for(var R=M.objects,P=0;P<S.length;P++){for(var V,I=S[P],b=h(I,"id",null),L=h(I,"gid",null),B=h(I,"name",null),z=[],W=0;W<R.length;W++)V=R[W],(null===b&&null===L&&null===B||null!==b&&V.id===b||null!==L&&V.gid===L||null!==B&&V.name===B)&&z.push(V);for(var K=h(I,"classType",a),J=h(I,"scene",this.scene),tt=h(I,"container",null),it=h(I,"key",null),H=h(I,"frame",null),G=0;G<z.length;G++){V=z[G];var Y=new K(J);Y.setName(V.name),Y.setPosition(V.x,V.y),Y.setTexture(it,H),V.width&&(Y.displayWidth=V.width),V.height&&(Y.displayHeight=V.height);var X={x:Y.originX*V.width,y:(Y.originY-1)*V.height};if(V.rotation){var $=m(V.rotation);o(X,$),Y.rotation=$}if(Y.x+=X.x,Y.y+=X.y,(void 0!==V.flippedHorizontal||void 0!==V.flippedVertical)&&Y.setFlip(V.flippedHorizontal,V.flippedVertical),V.visible||(Y.visible=!1),Array.isArray(V.properties))V.properties.forEach(function(_){var et=_.name;void 0!==Y[et]?Y[et]=_.value:Y.setData(et,_.value)});else for(var Q in V.properties)void 0!==Y[Q]?Y[Q]=V.properties[Q]:Y.setData(Q,V.properties[Q]);tt?tt.add(Y):J.add.existing(Y),D.push(Y)}}return D},createFromTiles:function(T,S,D,M,R,P){return null===(P=this.getLayer(P))?null:p.CreateFromTiles(T,S,D,M,R,P)},fill:function(T,S,D,M,R,P,I){return void 0===P&&(P=!0),null===(I=this.getLayer(I))?null:(p.Fill(T,S,D,M,R,P,I),this)},filterObjects:function(T,S,D){if("string"==typeof T){var M=T;if(!(T=this.getObjectLayer(T)))return console.warn("No object layer found with the name: "+M),null}return T.objects.filter(S,D)},filterTiles:function(T,S,D,M,R,P,I,b){return null===(b=this.getLayer(b))?null:p.FilterTiles(T,S,D,M,R,P,I,b)},findByIndex:function(T,S,D,M){return null===(M=this.getLayer(M))?null:p.FindByIndex(T,S,D,M)},findObject:function(T,S,D){if("string"==typeof T){var M=T;if(!(T=this.getObjectLayer(T)))return console.warn("No object layer found with the name: "+M),null}return T.objects.find(S,D)||null},findTile:function(T,S,D,M,R,P,I,b){return null===(b=this.getLayer(b))?null:p.FindTile(T,S,D,M,R,P,I,b)},forEachTile:function(T,S,D,M,R,P,I,b){return null===(b=this.getLayer(b))?null:(p.ForEachTile(T,S,D,M,R,P,I,b),this)},getImageIndex:function(T){return this.getIndex(this.images,T)},getImageLayerNames:function(){return this.images&&Array.isArray(this.images)?this.images.map(function(T){return T.name}):[]},getIndex:function(T,S){for(var D=0;D<T.length;D++)if(T[D].name===S)return D;return null},getLayer:function(T){var S=this.getLayerIndex(T);return null!==S?this.layers[S]:null},getObjectLayer:function(T){var S=this.getIndex(this.objects,T);return null!==S?this.objects[S]:null},getObjectLayerNames:function(){return this.objects&&Array.isArray(this.objects)?this.objects.map(function(T){return T.name}):[]},getLayerIndex:function(T){return void 0===T?this.currentLayerIndex:"string"==typeof T?this.getLayerIndexByName(T):"number"==typeof T&&T<this.layers.length?T:T instanceof v?T.layerIndex:null},getLayerIndexByName:function(T){return this.getIndex(this.layers,T)},getTileAt:function(T,S,D,M){return null===(M=this.getLayer(M))?null:p.GetTileAt(T,S,D,M)},getTileAtWorldXY:function(T,S,D,M,R){return null===(R=this.getLayer(R))?null:p.GetTileAtWorldXY(T,S,D,M,R)},getTileLayerNames:function(){return this.layers&&Array.isArray(this.layers)?this.layers.map(function(T){return T.name}):[]},getTilesWithin:function(T,S,D,M,R,P){return null===(P=this.getLayer(P))?null:p.GetTilesWithin(T,S,D,M,R,P)},getTilesWithinShape:function(T,S,D,M){return null===(M=this.getLayer(M))?null:p.GetTilesWithinShape(T,S,D,M)},getTilesWithinWorldXY:function(T,S,D,M,R,P,I){return null===(I=this.getLayer(I))?null:p.GetTilesWithinWorldXY(T,S,D,M,R,P,I)},getTileset:function(T){var S=this.getIndex(this.tilesets,T);return null!==S?this.tilesets[S]:null},getTilesetIndex:function(T){return this.getIndex(this.tilesets,T)},hasTileAt:function(T,S,D){return null===(D=this.getLayer(D))?null:p.HasTileAt(T,S,D)},hasTileAtWorldXY:function(T,S,D,M){return null===(M=this.getLayer(M))?null:p.HasTileAtWorldXY(T,S,D,M)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(T){this.setLayer(T)}},putTileAt:function(T,S,D,M,R){return void 0===M&&(M=!0),null===(R=this.getLayer(R))?null:p.PutTileAt(T,S,D,M,R)},putTileAtWorldXY:function(T,S,D,M,R,P){return void 0===M&&(M=!0),null===(P=this.getLayer(P))?null:p.PutTileAtWorldXY(T,S,D,M,R,P)},putTilesAt:function(T,S,D,M,R){return void 0===M&&(M=!0),null===(R=this.getLayer(R))?null:(p.PutTilesAt(T,S,D,M,R),this)},randomize:function(T,S,D,M,R,P){return null===(P=this.getLayer(P))?null:(p.Randomize(T,S,D,M,R,P),this)},calculateFacesAt:function(T,S,D){return null===(D=this.getLayer(D))?null:(p.CalculateFacesAt(T,S,D),this)},calculateFacesWithin:function(T,S,D,M,R){return null===(R=this.getLayer(R))?null:(p.CalculateFacesWithin(T,S,D,M,R),this)},removeLayer:function(T){var S=this.getLayerIndex(T);if(null!==S){d(this.layers,S);for(var D=S;D<this.layers.length;D++)this.layers[D].tilemapLayer&&this.layers[D].tilemapLayer.layerIndex--;return this.currentLayerIndex===S&&(this.currentLayerIndex=0),this}return null},destroyLayer:function(T){var S=this.getLayerIndex(T);return null!==S?((T=this.layers[S]).destroy(),d(this.layers,S),this.currentLayerIndex===S&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var T=this.layers,S=0;S<T.length;S++)T[S].tilemapLayer&&T[S].tilemapLayer.destroy(!1);return T.length=0,this.currentLayerIndex=0,this},removeTile:function(T,S,D){void 0===S&&(S=-1),void 0===D&&(D=!0);var M=[];Array.isArray(T)||(T=[T]);for(var R=0;R<T.length;R++){var P=T[R];M.push(this.removeTileAt(P.x,P.y,!0,D,P.tilemapLayer)),S>-1&&this.putTileAt(S,P.x,P.y,D,P.tilemapLayer)}return M},removeTileAt:function(T,S,D,M,R){return void 0===D&&(D=!0),void 0===M&&(M=!0),null===(R=this.getLayer(R))?null:p.RemoveTileAt(T,S,D,M,R)},removeTileAtWorldXY:function(T,S,D,M,R,P){return void 0===D&&(D=!0),void 0===M&&(M=!0),null===(P=this.getLayer(P))?null:p.RemoveTileAtWorldXY(T,S,D,M,R,P)},renderDebug:function(T,S,D){return null===(D=this.getLayer(D))?null:(this.orientation===s.ORTHOGONAL&&p.RenderDebug(T,S,D),this)},renderDebugFull:function(T,S){for(var D=this.layers,M=0;M<D.length;M++)p.RenderDebug(T,S,D[M]);return this},replaceByIndex:function(T,S,D,M,R,P,I){return null===(I=this.getLayer(I))?null:(p.ReplaceByIndex(T,S,D,M,R,P,I),this)},setCollision:function(T,S,D,M,R){return void 0===S&&(S=!0),void 0===D&&(D=!0),void 0===R&&(R=!0),null===(M=this.getLayer(M))?null:(p.SetCollision(T,S,D,M,R),this)},setCollisionBetween:function(T,S,D,M,R){return void 0===D&&(D=!0),void 0===M&&(M=!0),null===(R=this.getLayer(R))?null:(p.SetCollisionBetween(T,S,D,M,R),this)},setCollisionByProperty:function(T,S,D,M){return void 0===S&&(S=!0),void 0===D&&(D=!0),null===(M=this.getLayer(M))?null:(p.SetCollisionByProperty(T,S,D,M),this)},setCollisionByExclusion:function(T,S,D,M){return void 0===S&&(S=!0),void 0===D&&(D=!0),null===(M=this.getLayer(M))?null:(p.SetCollisionByExclusion(T,S,D,M),this)},setCollisionFromCollisionGroup:function(T,S,D){return void 0===T&&(T=!0),void 0===S&&(S=!0),null===(D=this.getLayer(D))?null:(p.SetCollisionFromCollisionGroup(T,S,D),this)},setTileIndexCallback:function(T,S,D,M){return null===(M=this.getLayer(M))?null:(p.SetTileIndexCallback(T,S,D,M),this)},setTileLocationCallback:function(T,S,D,M,R,P,I){return null===(I=this.getLayer(I))?null:(p.SetTileLocationCallback(T,S,D,M,R,P,I),this)},setLayer:function(T){var S=this.getLayerIndex(T);return null!==S&&(this.currentLayerIndex=S),this},setBaseTileSize:function(T,S){this.tileWidth=T,this.tileHeight=S,this.widthInPixels=this.width*T,this.heightInPixels=this.height*S;for(var D=0;D<this.layers.length;D++){this.layers[D].baseTileWidth=T,this.layers[D].baseTileHeight=S;for(var M=this.layers[D].data,R=this.layers[D].width,P=this.layers[D].height,I=0;I<P;I++)for(var b=0;b<R;b++){var L=M[I][b];null!==L&&L.setSize(void 0,void 0,T,S)}}return this},setLayerTileSize:function(T,S,D){if(null===(D=this.getLayer(D)))return this;D.tileWidth=T,D.tileHeight=S;for(var M=D.data,R=D.width,P=D.height,I=0;I<P;I++)for(var b=0;b<R;b++){var L=M[I][b];null!==L&&L.setSize(T,S)}return this},shuffle:function(T,S,D,M,R){return null===(R=this.getLayer(R))?null:(p.Shuffle(T,S,D,M,R),this)},swapByIndex:function(T,S,D,M,R,P,I){return null===(I=this.getLayer(I))?null:(p.SwapByIndex(T,S,D,M,R,P,I),this)},tileToWorldX:function(T,S,D){return null===(D=this.getLayer(D))?null:this._convert.TileToWorldX(T,S,D)},tileToWorldY:function(T,S,D){return null===(D=this.getLayer(D))?null:this._convert.TileToWorldY(T,S,D)},tileToWorldXY:function(T,S,D,M,R){return null===(R=this.getLayer(R))?null:this._convert.TileToWorldXY(T,S,D,M,R)},weightedRandomize:function(T,S,D,M,R,P){return null===(P=this.getLayer(P))?null:(p.WeightedRandomize(S,D,M,R,T,P),this)},worldToTileX:function(T,S,D,M){return null===(M=this.getLayer(M))?null:this._convert.WorldToTileX(T,S,D,M)},worldToTileY:function(T,S,D,M){return null===(M=this.getLayer(M))?null:this._convert.WorldToTileY(T,S,D,M)},worldToTileXY:function(T,S,D,M,R,P){return null===(P=this.getLayer(P))?null:this._convert.WorldToTileXY(T,S,D,M,R,P)},destroy:function(){this.removeAllLayers(),this.tilesets.length=0,this.objects.length=0,this.scene=null}});C.exports=x},function(C,w,n){var l=n(0),m=n(11),f=n(15),h=n(251),u=n(1456),s=new l({Extends:f,Mixins:[m.Alpha,m.BlendMode,m.ComputedSize,m.Depth,m.Flip,m.GetBounds,m.Origin,m.Pipeline,m.Transform,m.Visible,m.ScrollFactor,u],initialize:function(d,a,c,p,v,g){f.call(this,d,"TilemapLayer"),this.isTilemap=!0,this.tilemap=a,this.layerIndex=c,this.layer=a.layers[c],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=h.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.setTilesets(p),this.setAlpha(this.layer.alpha),this.setPosition(v,g),this.setOrigin(),this.setSize(a.tileWidth*this.layer.width,a.tileHeight*this.layer.height),this.initPipeline()},setTilesets:function(o){var d=[],a=[],c=this.tilemap;Array.isArray(o)||(o=[o]);for(var p=0;p<o.length;p++){var v=o[p];if("string"==typeof v&&(v=c.getTileset(v)),v){a.push(v);for(var g=v.firstgid,x=0;x<v.total;x++)d[g+x]=v}}this.gidMap=d,this.tileset=a},setRenderOrder:function(o){return"string"==typeof o&&(o=["right-down","left-down","right-up","left-up"].indexOf(o)),o>=0&&o<4&&(this._renderOrder=o),this},calculateFacesAt:function(o,d){return h.CalculateFacesAt(o,d,this.layer),this},calculateFacesWithin:function(o,d,a,c){return h.CalculateFacesWithin(o,d,a,c,this.layer),this},createFromTiles:function(o,d,a,c,p){return h.CreateFromTiles(o,d,a,c,p,this.layer)},cull:function(o){return this.cullCallback(this.layer,o,this.culledTiles,this._renderOrder)},copy:function(o,d,a,c,p,v,g){return h.Copy(o,d,a,c,p,v,g,this.layer),this},fill:function(o,d,a,c,p,v){return h.Fill(o,d,a,c,p,v,this.layer),this},filterTiles:function(o,d,a,c,p,v,g){return h.FilterTiles(o,d,a,c,p,v,g,this.layer)},findByIndex:function(o,d,a){return h.FindByIndex(o,d,a,this.layer)},findTile:function(o,d,a,c,p,v,g){return h.FindTile(o,d,a,c,p,v,g,this.layer)},forEachTile:function(o,d,a,c,p,v,g){return h.ForEachTile(o,d,a,c,p,v,g,this.layer),this},getTileAt:function(o,d,a){return h.GetTileAt(o,d,a,this.layer)},getTileAtWorldXY:function(o,d,a,c){return h.GetTileAtWorldXY(o,d,a,c,this.layer)},getTilesWithin:function(o,d,a,c,p){return h.GetTilesWithin(o,d,a,c,p,this.layer)},getTilesWithinShape:function(o,d,a){return h.GetTilesWithinShape(o,d,a,this.layer)},getTilesWithinWorldXY:function(o,d,a,c,p,v){return h.GetTilesWithinWorldXY(o,d,a,c,p,v,this.layer)},hasTileAt:function(o,d){return h.HasTileAt(o,d,this.layer)},hasTileAtWorldXY:function(o,d,a){return h.HasTileAtWorldXY(o,d,a,this.layer)},putTileAt:function(o,d,a,c){return h.PutTileAt(o,d,a,c,this.layer)},putTileAtWorldXY:function(o,d,a,c,p){return h.PutTileAtWorldXY(o,d,a,c,p,this.layer)},putTilesAt:function(o,d,a,c){return h.PutTilesAt(o,d,a,c,this.layer),this},randomize:function(o,d,a,c,p){return h.Randomize(o,d,a,c,p,this.layer),this},removeTileAt:function(o,d,a,c){return h.RemoveTileAt(o,d,a,c,this.layer)},removeTileAtWorldXY:function(o,d,a,c,p){return h.RemoveTileAtWorldXY(o,d,a,c,p,this.layer)},renderDebug:function(o,d){return h.RenderDebug(o,d,this.layer),this},replaceByIndex:function(o,d,a,c,p,v){return h.ReplaceByIndex(o,d,a,c,p,v,this.layer),this},setSkipCull:function(o){return void 0===o&&(o=!0),this.skipCull=o,this},setCullPadding:function(o,d){return void 0===o&&(o=1),void 0===d&&(d=1),this.cullPaddingX=o,this.cullPaddingY=d,this},setCollision:function(o,d,a,c){return h.SetCollision(o,d,a,this.layer,c),this},setCollisionBetween:function(o,d,a,c){return h.SetCollisionBetween(o,d,a,c,this.layer),this},setCollisionByProperty:function(o,d,a){return h.SetCollisionByProperty(o,d,a,this.layer),this},setCollisionByExclusion:function(o,d,a){return h.SetCollisionByExclusion(o,d,a,this.layer),this},setCollisionFromCollisionGroup:function(o,d){return h.SetCollisionFromCollisionGroup(o,d,this.layer),this},setTileIndexCallback:function(o,d,a){return h.SetTileIndexCallback(o,d,a,this.layer),this},setTileLocationCallback:function(o,d,a,c,p,v){return h.SetTileLocationCallback(o,d,a,c,p,v,this.layer),this},shuffle:function(o,d,a,c){return h.Shuffle(o,d,a,c,this.layer),this},swapByIndex:function(o,d,a,c,p,v){return h.SwapByIndex(o,d,a,c,p,v,this.layer),this},tileToWorldX:function(o,d){return this.tilemap.tileToWorldX(o,d,this)},tileToWorldY:function(o,d){return this.tilemap.tileToWorldY(o,d,this)},tileToWorldXY:function(o,d,a,c){return this.tilemap.tileToWorldXY(o,d,a,c,this)},weightedRandomize:function(o,d,a,c,p){return h.WeightedRandomize(d,a,c,p,o,this.layer),this},worldToTileX:function(o,d,a){return this.tilemap.worldToTileX(o,d,a,this)},worldToTileY:function(o,d,a){return this.tilemap.worldToTileY(o,d,a,this)},worldToTileXY:function(o,d,a,c,p){return this.tilemap.worldToTileXY(o,d,a,c,p,this)},destroy:function(o){void 0===o&&(o=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),o&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],f.prototype.destroy.call(this))}});C.exports=s},function(C,w,n){var l=n(0),m=n(2),f=new l({initialize:function(u){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(u)},reset:function(h){return this.delay=m(h,"delay",0),this.repeat=m(h,"repeat",0),this.loop=m(h,"loop",!1),this.callback=m(h,"callback",void 0),this.callbackScope=m(h,"callbackScope",this.callback),this.args=m(h,"args",[]),this.timeScale=m(h,"timeScale",1),this.startAt=m(h,"startAt",0),this.paused=m(h,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=-1===this.repeat||this.loop?999999999999:this.repeat,this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){return this.repeat>0?(this.elapsed+this.delay*(this.repeat-this.repeatCount))/(this.delay+this.delay*this.repeat):this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return.001*this.elapsed},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return.001*this.getRemaining()},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return.001*this.getOverallRemaining()},remove:function(h){void 0===h&&(h=!1),this.elapsed=this.delay,this.hasDispatched=!h,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});C.exports=f},function(C,w,n){var l=n(1465);C.exports=function(f){var h,u=[];if(f.hasOwnProperty("props"))for(h in f.props)"_"!==h.substr(0,1)&&u.push({key:h,value:f.props[h]});else for(h in f)-1===l.indexOf(h)&&"_"!==h.substr(0,1)&&u.push({key:h,value:f[h]});return u}},function(C,w,n){var l=n(6);C.exports=function(f){var h=l(f,"tweens",null);return null===h?[]:("function"==typeof h&&(h=h.call()),Array.isArray(h)||(h=[h]),h)}},function(C,w,n){var l=n(265),m=n(13),f=n(99),h=n(80),u=n(162),s=n(6),o=n(264),d=n(266),a=n(268);C.exports=function(p,v,g){void 0===g&&(g=l);var x=s(v,"from",0),T=s(v,"to",1),S=[{value:x}],D=u(v,"delay",g.delay),M=u(v,"duration",g.duration),R=s(v,"easeParams",g.easeParams),P=h(s(v,"ease",g.ease),R),I=u(v,"hold",g.hold),b=u(v,"repeat",g.repeat),L=u(v,"repeatDelay",g.repeatDelay),B=f(v,"yoyo",g.yoyo),V=[],z=o("value",T),W=a(S[0],0,"value",z.getEnd,z.getStart,z.getActive,P,D,M,B,I,b,L,!1,!1);W.start=x,W.current=x,W.to=T,V.push(W);var K=new d(p,V,S);K.offset=m(v,"offset",null),K.completeDelay=m(v,"completeDelay",0),K.loop=Math.round(m(v,"loop",0)),K.loopDelay=Math.round(m(v,"loopDelay",0)),K.paused=f(v,"paused",!1),K.useFrames=f(v,"useFrames",!1);for(var J=s(v,"callbackScope",K),tt=[K,null],it=d.TYPES,H=0;H<it.length;H++){var G=it[H],Y=s(v,G,!1);if(Y){var X=s(v,G+"Scope",J),$=s(v,G+"Params",[]);K.setCallback(G,Y,tt.concat($),X)}}return K}},function(C,w,n){var l=n(80),m=n(6),f=n(14);C.exports=function(u,s){void 0===s&&(s={});var d=m(s,"start",0),a=m(s,"ease",null),c=m(s,"grid",null),p=m(s,"from",0),v="first"===p,g="center"===p,x="last"===p,T="number"==typeof p,S=Array.isArray(u),D=parseFloat(S?u[0]:u),M=S?parseFloat(u[1]):0,R=Math.max(D,M);if(S&&(d+=D),c){var P=c[0],I=c[1],b=0,L=0,B=0,V=0,z=[];x?(b=P-1,L=I-1):T?(b=p%P,L=Math.floor(p/P)):g&&(b=(P-1)/2,L=(I-1)/2);for(var W=f.MIN_SAFE_INTEGER,K=0;K<I;K++){z[K]=[];for(var J=0;J<P;J++){B=b-J,V=L-K;var tt=Math.sqrt(B*B+V*V);tt>W&&(W=tt),z[K][J]=tt}}}var it=a?l(a):null;return c?function(H,G,Y,X){var et,$=0,Q=X%P,_=Math.floor(X/P);if(Q>=0&&Q<P&&_>=0&&_<I&&($=z[_][Q]),S){var ot=M-D;et=it?$/W*ot*it($/W):$/W*ot}else et=it?$*D*it($/W):$*D;return et+d}:function(H,G,Y,X,$){var Q,_,et;return $--,v?Q=X:g?Q=Math.abs($/2-X):x?Q=$-X:T&&(Q=Math.abs(p-X)),S?(et=g?(M-D)/$*(2*Q):(M-D)/$*Q,_=it?et*it(Q/$):et):_=it?$*R*it(Q/$):Q*D,_+d}}},function(C,w,n){var l=n(77),m=n(265),f=n(13),h=n(99),u=n(80),s=n(162),o=n(263),d=n(584),a=n(6),c=n(588),p=n(163);C.exports=function(g,x){var T=new c(g);T.completeDelay=f(x,"completeDelay",0),T.loop=Math.round(f(x,"loop",0)),T.loopDelay=Math.round(f(x,"loopDelay",0)),T.paused=h(x,"paused",!1),T.useFrames=h(x,"useFrames",!1);var S=a(x,"callbackScope",T),D=[T],M=a(x,"onStart",!1);if(M){var R=a(x,"onStartScope",S),P=a(x,"onStartParams",[]);T.setCallback("onStart",M,D.concat(P),R)}var I=a(x,"onUpdate",!1);if(I){var b=a(x,"onUpdateScope",S),L=a(x,"onUpdateParams",[]);T.setCallback("onUpdate",I,D.concat(L),b)}var B=a(x,"onLoop",!1);if(B){var V=a(x,"onLoopScope",S),z=a(x,"onLoopParams",[]);T.setCallback("onLoop",B,D.concat(z),V)}var W=a(x,"onYoyo",!1);if(W){var K=a(x,"onYoyoScope",S),J=a(x,"onYoyoParams",[]);T.setCallback("onYoyo",W,D.concat(null,J),K)}var tt=a(x,"onComplete",!1);if(tt){var it=a(x,"onCompleteScope",S),H=a(x,"onCompleteParams",[]);T.setCallback("onComplete",tt,D.concat(H),it)}var G=d(x);if(0===G.length)return T.paused=!0,T;var Y=l(m);Y.targets=o(x);var X=f(x,"totalDuration",0);Y.duration=X>0?Math.floor(X/G.length):s(x,"duration",Y.duration),Y.delay=s(x,"delay",Y.delay),Y.easeParams=a(x,"easeParams",Y.easeParams),Y.ease=u(a(x,"ease",Y.ease),Y.easeParams),Y.hold=s(x,"hold",Y.hold),Y.repeat=s(x,"repeat",Y.repeat),Y.repeatDelay=s(x,"repeatDelay",Y.repeatDelay),Y.yoyo=h(x,"yoyo",Y.yoyo),Y.flipX=h(x,"flipX",Y.flipX),Y.flipY=h(x,"flipY",Y.flipY);for(var $=0;$<G.length;$++)T.queue(p(T,G[$],Y));return T}},function(C,w,n){var l=n(0),m=n(9),f=n(267),h=n(163),u=n(100),s=new l({Extends:m,initialize:function(d){m.call(this),this.manager=d,this.isTimeline=!0,this.data=[],this.totalData=0,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=u.PENDING_ADD,this._pausedState=u.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onStart:null,onUpdate:null,onYoyo:null}},dispatchTimelineEvent:function(o,d){this.emit(o,this),d&&d.func.apply(d.scope,d.params)},setTimeScale:function(o){return this.timeScale=o,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===u.ACTIVE},add:function(o){return this.queue(h(this,o))},queue:function(o){return this.isPlaying()||(o.parent=this,o.parentIsTimeline=!0,this.data.push(o),this.totalData=this.data.length),this},hasOffset:function(o){return null!==o.offset},isOffsetAbsolute:function(o){return"number"==typeof o},isOffsetRelative:function(o){if("string"==typeof o){var a=o[0];if("-"===a||"+"===a)return!0}return!1},getRelativeOffset:function(o,d){var a=o[0],c=parseFloat(o.substr(2)),p=d;switch(a){case"+":p+=c;break;case"-":p-=c}return Math.max(0,p)},calcDuration:function(){for(var o=0,d=0,a=0,c=0;c<this.totalData;c++){var p=this.data[c];p.init(),this.hasOffset(p)?this.isOffsetAbsolute(p.offset)?(p.calculatedOffset=p.offset,0===p.offset&&(a=0)):this.isOffsetRelative(p.offset)&&(p.calculatedOffset=this.getRelativeOffset(p.offset,o)):p.calculatedOffset=a,o=p.totalDuration+p.calculatedOffset,d+=p.totalDuration,a+=p.totalDuration}this.duration=d,this.loopCounter=-1===this.loop?999999999999:this.loop,this.totalDuration=this.loopCounter>0?this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.duration+this.completeDelay},init:function(){return this.calcDuration(),this.progress=0,this.totalProgress=0,!this.paused||(this.state=u.PAUSED,!1)},resetTweens:function(o){for(var d=0;d<this.totalData;d++)this.data[d].play(o)},setCallback:function(o,d,a,c){return-1!==s.TYPES.indexOf(o)&&(this.callbacks[o]={func:d,scope:c,params:a}),this},makeActive:function(o){return this.manager.makeActive(o)},play:function(){if(this.state!==u.ACTIVE){if(this.paused)return this.paused=!1,void this.manager.makeActive(this);this.resetTweens(!1),this.state=u.ACTIVE,this.dispatchTimelineEvent(f.TIMELINE_START,this.callbacks.onStart)}},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweens(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=u.LOOP_DELAY):(this.state=u.ACTIVE,this.dispatchTimelineEvent(f.TIMELINE_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=u.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=u.PENDING_REMOVE,this.dispatchTimelineEvent(f.TIMELINE_COMPLETE,this.callbacks.onComplete))},update:function(o,d){if(this.state!==u.PAUSED){switch(this.useFrames&&(d=1*this.manager.timeScale),this.elapsed+=d*=this.timeScale,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=d,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case u.ACTIVE:for(var a=this.totalData,c=0;c<this.totalData;c++)this.data[c].update(o,d)&&a--;this.dispatchTimelineEvent(f.TIMELINE_UPDATE,this.callbacks.onUpdate),0===a&&this.nextState();break;case u.LOOP_DELAY:this.countdown-=d,this.countdown<=0&&(this.state=u.ACTIVE,this.dispatchTimelineEvent(f.TIMELINE_LOOP,this.callbacks.onLoop));break;case u.COMPLETE_DELAY:this.countdown-=d,this.countdown<=0&&(this.state=u.PENDING_REMOVE,this.dispatchTimelineEvent(f.TIMELINE_COMPLETE,this.callbacks.onComplete))}return this.state===u.PENDING_REMOVE}},stop:function(){this.state=u.PENDING_REMOVE},pause:function(){if(this.state!==u.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=u.PAUSED,this.emit(f.TIMELINE_PAUSE,this),this},resume:function(){return this.state===u.PAUSED&&(this.paused=!1,this.state=this._pausedState,this.emit(f.TIMELINE_RESUME,this)),this},hasTarget:function(o){for(var d=0;d<this.data.length;d++)if(this.data[d].hasTarget(o))return!0;return!1},destroy:function(){for(var o=0;o<this.data.length;o++)this.data[o].stop()}});s.TYPES=["onStart","onUpdate","onLoop","onComplete","onYoyo"],C.exports=s},function(C,w,n){var l=n(86),m=n(41),f=n(32),h=n(2),u=n(64);C.exports={parseBody:function(o,d,a,c){void 0===c&&(c={});for(var p=h(a,"fixtures",[]),v=[],g=0;g<p.length;g++)for(var x=this.parseFixture(p[g]),T=0;T<x.length;T++)v.push(x[T]);var S=f.clone(a,!0);f.extend(S,c,!0),delete S.fixtures,delete S.type;var D=m.create(S);return m.setParts(D,v),m.setPosition(D,{x:o,y:d}),D},parseFixture:function(o){var a,d=f.extend({},!1,o);if(delete d.circle,delete d.vertices,o.circle){var c=h(o.circle,"x"),p=h(o.circle,"y"),v=h(o.circle,"radius");a=[l.circle(c,p,v,d)]}else o.vertices&&(a=this.parseVertices(o.vertices,d));return a},parseVertices:function(o,d){void 0===d&&(d={});for(var a=[],c=0;c<o.length;c++)u.clockwiseSort(o[c]),a.push(m.create(f.extend({position:u.centre(o[c]),vertices:o[c]},d)));return l.flagCoincidentParts(a)}}},function(C,w,n){var l=n(86),m=n(41);C.exports={parseBody:function(h,u,s,o){void 0===o&&(o={});var d,a=s.vertices;if(1===a.length)o.vertices=a[0],d=m.create(o),l.flagCoincidentParts(d.parts);else{for(var c=[],p=0;p<a.length;p++){var v=m.create({vertices:a[p]});c.push(v)}l.flagCoincidentParts(c),o.parts=c,d=m.create(o)}return d.label=s.label,m.setPosition(d,{x:h,y:u}),d}}},function(C,w,n){var l={};C.exports=l;var m=n(118),f=n(128),h=n(32),u=n(41),s=n(86);l.stack=function(o,d,a,c,p,v,g){for(var D,x=m.create({label:"Stack"}),T=o,S=d,M=0,R=0;R<c;R++){for(var P=0,I=0;I<a;I++){var b=g(T,S,I,R,D,M);if(b){var L=b.bounds.max.y-b.bounds.min.y;L>P&&(P=L),u.translate(b,{x:.5*(b.bounds.max.x-b.bounds.min.x),y:.5*L}),T=b.bounds.max.x+p,m.addBody(x,b),D=b,M+=1}else T+=p}S+=P+v,T=o}return x},l.chain=function(o,d,a,c,p,v){for(var g=o.bodies,x=1;x<g.length;x++){var T=g[x-1],S=g[x],b=h.extend({bodyA:T,pointA:{x:(T.bounds.max.x-T.bounds.min.x)*d,y:(T.bounds.max.y-T.bounds.min.y)*a},bodyB:S,pointB:{x:(S.bounds.max.x-S.bounds.min.x)*c,y:(S.bounds.max.y-S.bounds.min.y)*p}},v);m.addConstraint(o,f.create(b))}return o.label+=" Chain",o},l.mesh=function(o,d,a,c,p){var g,x,S,v=o.bodies;for(g=0;g<a;g++){for(x=1;x<d;x++)m.addConstraint(o,f.create(h.extend({bodyA:v[x-1+g*d],bodyB:S=v[x+g*d]},p)));if(g>0)for(x=0;x<d;x++)m.addConstraint(o,f.create(h.extend({bodyA:v[x+(g-1)*d],bodyB:S=v[x+g*d]},p))),c&&x>0&&m.addConstraint(o,f.create(h.extend({bodyA:v[x-1+(g-1)*d],bodyB:S},p))),c&&x<d-1&&m.addConstraint(o,f.create(h.extend({bodyA:v[x+1+(g-1)*d],bodyB:S},p)))}return o.label+=" Mesh",o},l.pyramid=function(o,d,a,c,p,v,g){return l.stack(o,d,a,c,p,v,function(x,T,S,D,M,R){var P=Math.min(c,Math.ceil(a/2)),I=M?M.bounds.max.x-M.bounds.min.x:0;if(!(D>P||S<(D=P-D)||S>a-1-D))return 1===R&&u.translate(M,{x:(S+(a%2==1?1:-1))*I,y:0}),g(o+(M?S*I:0)+S*p,T,S,D,M,R)})},l.newtonsCradle=function(o,d,a,c,p){for(var v=m.create({label:"Newtons Cradle"}),g=0;g<a;g++){var T=s.circle(o+g*(1.9*c),d+p,c,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),S=f.create({pointA:{x:o+g*(1.9*c),y:d},bodyB:T});m.addBody(v,T),m.addConstraint(v,S)}return v},l.car=function(o,d,a,c,p){var v=u.nextGroup(!0),x=.5*-a+20,T=.5*a-20,D=m.create({label:"Car"}),M=s.rectangle(o,d,a,c,{collisionFilter:{group:v},chamfer:{radius:.5*c},density:2e-4}),R=s.circle(o+x,d+0,p,{collisionFilter:{group:v},friction:.8}),P=s.circle(o+T,d+0,p,{collisionFilter:{group:v},friction:.8}),I=f.create({bodyB:M,pointB:{x,y:0},bodyA:R,stiffness:1,length:0}),b=f.create({bodyB:M,pointB:{x:T,y:0},bodyA:P,stiffness:1,length:0});return m.addBody(D,M),m.addBody(D,R),m.addBody(D,P),m.addConstraint(D,I),m.addConstraint(D,b),D},l.softBody=function(o,d,a,c,p,v,g,x,T,S){T=h.extend({inertia:1/0},T),S=h.extend({stiffness:.2,render:{type:"line",anchors:!1}},S);var D=l.stack(o,d,a,c,p,v,function(M,R){return s.circle(M,R,x,T)});return l.mesh(D,a,c,g,S),D.label="Soft Body",D}},function(C,w,n){var l={};C.exports=l,n(84);var f=n(32);l.pathToVertices=function(h,u){"undefined"!=typeof window&&!("SVGPathSeg"in window)&&f.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var s,o,d,a,c,p,v,g,x,D,M,S=[],R=0,P=0,I=0;u=u||15;var b=function(B,V,z){var W=z%2==1&&z>1;if(!x||B!=x.x||V!=x.y){x&&W?(D=x.x,M=x.y):(D=0,M=0);var K={x:D+B,y:M+V};(W||!x)&&(x=K),S.push(K),P=D+B,I=M+V}},L=function(B){var V=B.pathSegTypeAsLetter.toUpperCase();if("Z"!==V){switch(V){case"M":case"L":case"T":case"C":case"S":case"Q":P=B.x,I=B.y;break;case"H":P=B.x;break;case"V":I=B.y}b(P,I,B.pathSegType)}};for(l._svgPathToAbsolute(h),d=h.getTotalLength(),p=[],s=0;s<h.pathSegList.numberOfItems;s+=1)p.push(h.pathSegList.getItem(s));for(v=p.concat();R<d;){if((c=p[h.getPathSegAtLength(R)])!=g){for(;v.length&&v[0]!=c;)L(v.shift());g=c}switch(c.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":a=h.getPointAtLength(R),b(a.x,a.y,0)}R+=u}for(s=0,o=v.length;s<o;++s)L(v[s]);return S},l._svgPathToAbsolute=function(h){for(var u,s,o,d,a,c,p=h.pathSegList,v=0,g=0,x=p.numberOfItems,T=0;T<x;++T){var S=p.getItem(T),D=S.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(D))"x"in S&&(v=S.x),"y"in S&&(g=S.y);else switch("x1"in S&&(o=v+S.x1),"x2"in S&&(a=v+S.x2),"y1"in S&&(d=g+S.y1),"y2"in S&&(c=g+S.y2),"x"in S&&(v+=S.x),"y"in S&&(g+=S.y),D){case"m":p.replaceItem(h.createSVGPathSegMovetoAbs(v,g),T);break;case"l":p.replaceItem(h.createSVGPathSegLinetoAbs(v,g),T);break;case"h":p.replaceItem(h.createSVGPathSegLinetoHorizontalAbs(v),T);break;case"v":p.replaceItem(h.createSVGPathSegLinetoVerticalAbs(g),T);break;case"c":p.replaceItem(h.createSVGPathSegCurvetoCubicAbs(v,g,o,d,a,c),T);break;case"s":p.replaceItem(h.createSVGPathSegCurvetoCubicSmoothAbs(v,g,a,c),T);break;case"q":p.replaceItem(h.createSVGPathSegCurvetoQuadraticAbs(v,g,o,d),T);break;case"t":p.replaceItem(h.createSVGPathSegCurvetoQuadraticSmoothAbs(v,g),T);break;case"a":p.replaceItem(h.createSVGPathSegArcAbs(v,g,S.r1,S.r2,S.angle,S.largeArcFlag,S.sweepFlag),T);break;case"z":case"Z":v=u,g=s}("M"==D||"m"==D)&&(u=v,s=g)}}},function(C,w,n){var l=n(86),m=n(41),f=n(0),h=n(249),u=n(9),s=n(2),o=n(126),d=n(64),a=new f({Extends:u,Mixins:[h.Bounce,h.Collision,h.Friction,h.Gravity,h.Mass,h.Sensor,h.Sleep,h.Static],initialize:function(p,v,g){u.call(this),this.tile=v,this.world=p,v.physics.matterBody&&v.physics.matterBody.destroy(),v.physics.matterBody=this;var x=s(g,"body",null),T=s(g,"addToWorld",!0);if(x)this.setBody(x,T);else{var S=v.getCollisionGroup();s(S,"objects",[]).length>0?this.setFromTileCollision(g):this.setFromTileRectangle(g)}},setFromTileRectangle:function(c){void 0===c&&(c={}),o(c,"isStatic")||(c.isStatic=!0),o(c,"addToWorld")||(c.addToWorld=!0);var p=this.tile.getBounds(),x=l.rectangle(p.x+p.width/2,p.y+p.height/2,p.width,p.height,c);return this.setBody(x,c.addToWorld),this},setFromTileCollision:function(c){void 0===c&&(c={}),o(c,"isStatic")||(c.isStatic=!0),o(c,"addToWorld")||(c.addToWorld=!0);for(var p=this.tile.tilemapLayer.scaleX,v=this.tile.tilemapLayer.scaleY,g=this.tile.getLeft(),x=this.tile.getTop(),T=this.tile.getCollisionGroup(),S=s(T,"objects",[]),D=[],M=0;M<S.length;M++){var R=S[M],P=g+R.x*p,I=x+R.y*v,b=R.width*p,L=R.height*v,B=null;if(R.rectangle)B=l.rectangle(P+b/2,I+L/2,b,L,c);else if(R.ellipse)B=l.circle(P+b/2,I+L/2,b/2,c);else if(R.polygon||R.polyline){var z=(R.polygon?R.polygon:R.polyline).map(function(J){return{x:J.x*p,y:J.y*v}}),W=d.create(z),K=d.centre(W);B=l.fromVertices(P+=K.x,I+=K.y,W,c)}B&&D.push(B)}return 1===D.length?this.setBody(D[0],c.addToWorld):D.length>1&&(c.parts=D,this.setBody(m.create(c),c.addToWorld)),this},setBody:function(c,p){return void 0===p&&(p=!0),this.body&&this.removeBody(),this.body=c,this.body.gameObject=this,p&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});C.exports=a},function(C,w,n){var l=n(1399);l.Body=n(41),l.Composite=n(118),l.World=n(596),l.Detector=n(273),l.Grid=n(597),l.Pairs=n(598),l.Pair=n(250),l.Query=n(1400),l.Resolver=n(599),l.SAT=n(274),l.Constraint=n(128),l.Common=n(32),l.Engine=n(1401),l.Events=n(166),l.Sleeping=n(165),l.Plugin=n(595),l.Bodies=n(86),l.Composites=n(591),l.Axes=n(271),l.Bounds=n(84),l.Svg=n(592),l.Vector=n(83),l.Vertices=n(64),l.World.add=l.Composite.add,l.World.remove=l.Composite.remove,l.World.addComposite=l.Composite.addComposite,l.World.addBody=l.Composite.addBody,l.World.addConstraint=l.Composite.addConstraint,l.World.clear=l.Composite.clear,C.exports=l},function(C,w,n){var l={};C.exports=l;var m=n(32);l._registry={},l.register=function(f){if(l.isPlugin(f)||m.warn("Plugin.register:",l.toString(f),"does not implement all required fields."),f.name in l._registry){var h=l._registry[f.name],u=l.versionParse(f.version).number,s=l.versionParse(h.version).number;u>s?(m.warn("Plugin.register:",l.toString(h),"was upgraded to",l.toString(f)),l._registry[f.name]=f):u<s?m.warn("Plugin.register:",l.toString(h),"can not be downgraded to",l.toString(f)):f!==h&&m.warn("Plugin.register:",l.toString(f),"is already registered to different plugin object")}else l._registry[f.name]=f;return f},l.resolve=function(f){return l._registry[l.dependencyParse(f).name]},l.toString=function(f){return"string"==typeof f?f:(f.name||"anonymous")+"@"+(f.version||f.range||"0.0.0")},l.isPlugin=function(f){return f&&f.name&&f.version&&f.install},l.isUsed=function(f,h){return f.used.indexOf(h)>-1},l.isFor=function(f,h){var u=f.for&&l.dependencyParse(f.for);return!f.for||h.name===u.name&&l.versionSatisfies(h.version,u.range)},l.use=function(f,h){if(f.uses=(f.uses||[]).concat(h||[]),0!==f.uses.length){for(var u=l.dependencies(f),s=m.topologicalSort(u),o=[],d=0;d<s.length;d+=1)if(s[d]!==f.name){var a=l.resolve(s[d]);if(!a){o.push("\u274c "+s[d]);continue}l.isUsed(f,a.name)||(l.isFor(a,f)||(m.warn("Plugin.use:",l.toString(a),"is for",a.for,"but installed on",l.toString(f)+"."),a._warned=!0),a.install?a.install(f):(m.warn("Plugin.use:",l.toString(a),"does not specify an install function."),a._warned=!0),a._warned?(o.push("\u{1f536} "+l.toString(a)),delete a._warned):o.push("\u2705 "+l.toString(a)),f.used.push(a.name))}o.length>0&&!a.silent&&m.info(o.join("  "))}else m.warn("Plugin.use:",l.toString(f),"does not specify any dependencies to install.")},l.dependencies=function(f,h){var u=l.dependencyParse(f),s=u.name;if(!(s in(h=h||{}))){f=l.resolve(f)||f,h[s]=m.map(f.uses||[],function(d){l.isPlugin(d)&&l.register(d);var a=l.dependencyParse(d),c=l.resolve(d);return c&&!l.versionSatisfies(c.version,a.range)?(m.warn("Plugin.dependencies:",l.toString(c),"does not satisfy",l.toString(a),"used by",l.toString(u)+"."),c._warned=!0,f._warned=!0):c||(m.warn("Plugin.dependencies:",l.toString(d),"used by",l.toString(u),"could not be resolved."),f._warned=!0),a.name});for(var o=0;o<h[s].length;o+=1)l.dependencies(h[s][o],h);return h}},l.dependencyParse=function(f){return m.isString(f)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/.test(f)||m.warn("Plugin.dependencyParse:",f,"is not a valid dependency string."),{name:f.split("@")[0],range:f.split("@")[1]||"*"}):{name:f.name,range:f.range||f.version}},l.versionParse=function(f){/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/.test(f)||m.warn("Plugin.versionParse:",f,"is not a valid version or range.");var u=f.split("-");f=u[0];var s=isNaN(Number(f[0])),o=s?f.substr(1):f,d=m.map(o.split("."),function(a){return Number(a)});return{isRange:s,version:o,range:f,operator:s?f[0]:"",parts:d,prerelease:u[1],number:1e8*d[0]+1e4*d[1]+d[2]}},l.versionSatisfies=function(f,h){var u=l.versionParse(h=h||"*"),s=u.parts,o=l.versionParse(f),d=o.parts;if(u.isRange){if("*"===u.operator||"*"===f)return!0;if("~"===u.operator)return d[0]===s[0]&&d[1]===s[1]&&d[2]>=s[2];if("^"===u.operator)return s[0]>0?d[0]===s[0]&&o.number>=u.number:s[1]>0?d[1]===s[1]&&d[2]>=s[2]:d[2]===s[2]}return f===h||"*"===f}},function(C,w,n){var l={};C.exports=l;var m=n(118),h=(n(128),n(32));l.create=function(u){var s=m.create();return h.extend(s,{label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}},u)}},function(C,w,n){var l={};C.exports=l;var m=n(250),f=n(273),h=n(32);l.create=function(u){return h.extend({controller:l,detector:f.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48},u)},l.update=function(u,s,o,d){var a,c,p,x,T,v=o.world,g=u.buckets,S=!1,D=o.metrics;for(D.broadphaseTests=0,a=0;a<s.length;a++){var M=s[a];if((!M.isSleeping||d)&&!(M.bounds.max.x<v.bounds.min.x||M.bounds.min.x>v.bounds.max.x||M.bounds.max.y<v.bounds.min.y||M.bounds.min.y>v.bounds.max.y)){var R=l._getRegion(u,M);if(!M.region||R.id!==M.region.id||d){D.broadphaseTests+=1,(!M.region||d)&&(M.region=R);var P=l._regionUnion(R,M.region);for(c=P.startCol;c<=P.endCol;c++)for(p=P.startRow;p<=P.endRow;p++){x=g[T=l._getBucketId(c,p)];var I=c>=R.startCol&&c<=R.endCol&&p>=R.startRow&&p<=R.endRow,b=c>=M.region.startCol&&c<=M.region.endCol&&p>=M.region.startRow&&p<=M.region.endRow;!I&&b&&b&&x&&l._bucketRemoveBody(u,x,M),(M.region===R||I&&!b||d)&&(x||(x=l._createBucket(g,T)),l._bucketAddBody(u,x,M))}M.region=R,S=!0}}}S&&(u.pairsList=l._createActivePairsList(u))},l.clear=function(u){u.buckets={},u.pairs={},u.pairsList=[]},l._regionUnion=function(u,s){var o=Math.min(u.startCol,s.startCol),d=Math.max(u.endCol,s.endCol),a=Math.min(u.startRow,s.startRow),c=Math.max(u.endRow,s.endRow);return l._createRegion(o,d,a,c)},l._getRegion=function(u,s){var o=s.bounds,d=Math.floor(o.min.x/u.bucketWidth),a=Math.floor(o.max.x/u.bucketWidth),c=Math.floor(o.min.y/u.bucketHeight),p=Math.floor(o.max.y/u.bucketHeight);return l._createRegion(d,a,c,p)},l._createRegion=function(u,s,o,d){return{id:u+","+s+","+o+","+d,startCol:u,endCol:s,startRow:o,endRow:d}},l._getBucketId=function(u,s){return"C"+u+"R"+s},l._createBucket=function(u,s){return u[s]=[]},l._bucketAddBody=function(u,s,o){for(var d=0;d<s.length;d++){var a=s[d];if(!(o.id===a.id||o.isStatic&&a.isStatic)){var c=m.id(o,a),p=u.pairs[c];p?p[2]+=1:u.pairs[c]=[o,a,1]}}s.push(o)},l._bucketRemoveBody=function(u,s,o){s.splice(s.indexOf(o),1);for(var d=0;d<s.length;d++){var c=m.id(o,s[d]),p=u.pairs[c];p&&(p[2]-=1)}},l._createActivePairsList=function(u){var s,o,d=[];s=h.keys(u.pairs);for(var a=0;a<s.length;a++)(o=u.pairs[s[a]])[2]>0?d.push(o):delete u.pairs[s[a]];return d}},function(C,w,n){var l={};C.exports=l;var m=n(250),f=n(32);l._pairMaxIdleLife=1e3,l.create=function(h){return f.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},h)},l.update=function(h,u,s){var v,g,x,T,o=h.list,d=h.table,a=h.collisionStart,c=h.collisionEnd,p=h.collisionActive;for(a.length=0,c.length=0,p.length=0,T=0;T<o.length;T++)o[T].confirmedActive=!1;for(T=0;T<u.length;T++)(v=u[T]).collided&&((x=d[g=m.id(v.bodyA,v.bodyB)])?(x.isActive?p.push(x):a.push(x),m.update(x,v,s),x.confirmedActive=!0):(x=m.create(v,s),d[g]=x,a.push(x),o.push(x)));for(T=0;T<o.length;T++)(x=o[T]).isActive&&!x.confirmedActive&&(m.setActive(x,!1,s),c.push(x))},l.removeOld=function(h,u){var a,c,p,v,s=h.list,o=h.table,d=[];for(v=0;v<s.length;v++)(c=(a=s[v]).collision).bodyA.isSleeping||c.bodyB.isSleeping?a.timeUpdated=u:u-a.timeUpdated>l._pairMaxIdleLife&&d.push(v);for(v=0;v<d.length;v++)delete o[(a=s[p=d[v]-v]).id],s.splice(p,1)},l.clear=function(h){return h.table={},h.list.length=0,h.collisionStart.length=0,h.collisionActive.length=0,h.collisionEnd.length=0,h}},function(C,w,n){var l={};C.exports=l;var m=n(64),f=n(83),h=n(32),u=n(84);l._restingThresh=4,l._restingThreshTangent=6,l._positionDampen=.9,l._positionWarming=.8,l._frictionNormalMultiplier=5,l.preSolvePosition=function(s){var o,d,a;for(o=0;o<s.length;o++)(d=s[o]).isActive&&(d.collision.parentA.totalContacts+=a=d.activeContacts.length,d.collision.parentB.totalContacts+=a)},l.solvePosition=function(s,o,d){var a,c,p,v,g,x,T,S,D,M,R,P,I,B,V=d*l._positionDampen;for(a=0;a<o.length;a++){var z=o[a];z.previousPositionImpulse.x=z.positionImpulse.x,z.previousPositionImpulse.y=z.positionImpulse.y}for(a=0;a<s.length;a++)(v=s[a]).isActive&&!v.isSensor&&(v.separation=D=(c=(S=(g=v.collision).normal).x)*((P=(T=g.parentB).previousPositionImpulse).x-(R=(x=g.parentA).previousPositionImpulse).x+(M=g.penetration).x)+(p=S.y)*(P.y-R.y+M.y),B=(D-v.slop)*V,(x.isStatic||T.isStatic)&&(B*=2),x.isStatic||x.isSleeping||(x.positionImpulse.x+=c*(I=B/x.totalContacts),x.positionImpulse.y+=p*I),T.isStatic||T.isSleeping||(T.positionImpulse.x-=c*(I=B/T.totalContacts),T.positionImpulse.y-=p*I))},l.postSolvePosition=function(s){for(var o=0;o<s.length;o++){var d=s[o];if(d.totalContacts=0,0!==d.positionImpulse.x||0!==d.positionImpulse.y){for(var a=0;a<d.parts.length;a++){var c=d.parts[a];m.translate(c.vertices,d.positionImpulse),u.update(c.bounds,c.vertices,d.velocity),c.position.x+=d.positionImpulse.x,c.position.y+=d.positionImpulse.y}d.positionPrev.x+=d.positionImpulse.x,d.positionPrev.y+=d.positionImpulse.y,f.dot(d.positionImpulse,d.velocity)<0?(d.positionImpulse.x=0,d.positionImpulse.y=0):(d.positionImpulse.x*=l._positionWarming,d.positionImpulse.y*=l._positionWarming)}}},l.preSolveVelocity=function(s){var o,d,a,c,p,v,g,x,T,S,D,M,R,P,I=f._temp[0],b=f._temp[1];for(o=0;o<s.length;o++)if((a=s[o]).isActive&&!a.isSensor)for(c=a.activeContacts,v=(p=a.collision).parentA,g=p.parentB,x=p.normal,T=p.tangent,d=0;d<c.length;d++)D=(S=c[d]).vertex,R=S.tangentImpulse,(0!==(M=S.normalImpulse)||0!==R)&&(I.x=x.x*M+T.x*R,I.y=x.y*M+T.y*R,v.isStatic||v.isSleeping||(P=f.sub(D,v.position,b),v.positionPrev.x+=I.x*v.inverseMass,v.positionPrev.y+=I.y*v.inverseMass,v.anglePrev+=f.cross(P,I)*v.inverseInertia),g.isStatic||g.isSleeping||(P=f.sub(D,g.position,b),g.positionPrev.x-=I.x*g.inverseMass,g.positionPrev.y-=I.y*g.inverseMass,g.anglePrev-=f.cross(P,I)*g.inverseInertia))},l.solveVelocity=function(s,o){for(var d=o*o,a=f._temp[0],c=f._temp[1],p=f._temp[2],v=f._temp[3],g=f._temp[4],x=f._temp[5],T=0;T<s.length;T++){var S=s[T];if(S.isActive&&!S.isSensor){var D=S.collision,M=D.parentA,R=D.parentB,P=D.normal,I=D.tangent,b=S.activeContacts,L=1/b.length;M.velocity.x=M.position.x-M.positionPrev.x,M.velocity.y=M.position.y-M.positionPrev.y,R.velocity.x=R.position.x-R.positionPrev.x,R.velocity.y=R.position.y-R.positionPrev.y,M.angularVelocity=M.angle-M.anglePrev,R.angularVelocity=R.angle-R.anglePrev;for(var B=0;B<b.length;B++){var V=b[B],z=V.vertex,W=f.sub(z,M.position,c),K=f.sub(z,R.position,p),J=f.add(M.velocity,f.mult(f.perp(W),M.angularVelocity),v),tt=f.add(R.velocity,f.mult(f.perp(K),R.angularVelocity),g),it=f.sub(J,tt,x),H=f.dot(P,it),G=f.dot(I,it),Y=Math.abs(G),X=h.sign(G),$=(1+S.restitution)*H,Q=h.clamp(S.separation+H,0,1)*l._frictionNormalMultiplier,_=G,et=1/0;Y>S.friction*S.frictionStatic*Q*d&&(_=h.clamp(S.friction*X*d,-(et=Y),et));var ot=f.cross(W,P),lt=f.cross(K,P),ht=L/(M.inverseMass+R.inverseMass+M.inverseInertia*ot*ot+R.inverseInertia*lt*lt);if($*=ht,_*=ht,H<0&&H*H>l._restingThresh*d)V.normalImpulse=0;else{var ft=V.normalImpulse;V.normalImpulse=Math.min(V.normalImpulse+$,0),$=V.normalImpulse-ft}if(G*G>l._restingThreshTangent*d)V.tangentImpulse=0;else{var gt=V.tangentImpulse;V.tangentImpulse=h.clamp(V.tangentImpulse+_,-et,et),_=V.tangentImpulse-gt}a.x=P.x*$+I.x*_,a.y=P.y*$+I.y*_,M.isStatic||M.isSleeping||(M.positionPrev.x+=a.x*M.inverseMass,M.positionPrev.y+=a.y*M.inverseMass,M.anglePrev+=f.cross(W,a)*M.inverseInertia),R.isStatic||R.isSleeping||(R.positionPrev.x-=a.x*R.inverseMass,R.positionPrev.y-=a.y*R.inverseMass,R.anglePrev-=f.cross(K,a)*R.inverseInertia)}}}}},function(C,w){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(l){"object"==typeof window&&(n=window)}C.exports=n},function(C,w,n){var l=n(276);C.exports=function(f,h,u,s){for(var o=f[0],d=1;d<f.length;d++){var a=f[d];l(a,o,h,u,s),o=a}return f}},function(C,w,n){var l=n(46);C.exports=function(f,h,u,s,o){return l(f,"angle",h,u,s,o)}},function(C,w){C.exports=function(l,m,f){for(var h=0;h<l.length;h++)m.call(f,l[h]);return l}},function(C,w){C.exports=function(l,m,f){void 0===f&&(f=0);for(var h=f;h<l.length;h++){var u=l[h],s=!0;for(var o in m)u[o]!==m[o]&&(s=!1);if(s)return u}return null}},function(C,w){C.exports=function(l,m,f){void 0===f&&(f=0);for(var h=f;h<l.length;h++){var u=l[h],s=!0;for(var o in m)u[o]!==m[o]&&(s=!1);if(s)return u}return null}},function(C,w,n){var l=n(289),m=n(123),f=n(2),h=n(1),s=new(n(129))({sys:{queueDepthSort:h,events:{once:h}}},0,0,1,1);C.exports=function(d,a){void 0===a&&(a={});var c=a.hasOwnProperty("width"),p=a.hasOwnProperty("height"),v=f(a,"width",-1),g=f(a,"height",-1),x=f(a,"cellWidth",1),T=f(a,"cellHeight",x),S=f(a,"position",m.TOP_LEFT),D=f(a,"x",0),M=f(a,"y",0),R=0,P=0,I=v*x,b=g*T;s.setPosition(D,M),s.setSize(x,T);for(var L=0;L<d.length;L++)if(l(d[L],s,S),c&&-1===v)s.x+=x;else if(p&&-1===g)s.y+=T;else if(p&&!c){if(P+=T,s.y+=T,P===b&&(P=0,R+=x,s.y=M,s.x+=x,R===I))break}else if(R+=x,s.x+=x,R===I&&(R=0,P+=T,s.x=D,s.y+=T,P===b))break;return d}},function(C,w,n){var l=n(18);C.exports={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(h,u,s,o){return void 0===h&&(h=1),void 0===u?this.alpha=h:(this._alphaTL=l(h,0,1),this._alphaTR=l(u,0,1),this._alphaBL=l(s,0,1),this._alphaBR=l(o,0,1)),this},alpha:{get:function(){return this._alpha},set:function(h){var u=l(h,0,1);this._alpha=u,this._alphaTL=u,this._alphaTR=u,this._alphaBL=u,this._alphaBR=u,0===u?this.renderFlags&=-3:this.renderFlags|=2}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(h){var u=l(h,0,1);this._alphaTL=u,0!==u&&(this.renderFlags|=2)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(h){var u=l(h,0,1);this._alphaTR=u,0!==u&&(this.renderFlags|=2)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(h){var u=l(h,0,1);this._alphaBL=u,0!==u&&(this.renderFlags|=2)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(h){var u=l(h,0,1);this._alphaBR=u,0!==u&&(this.renderFlags|=2)}}}},function(C,w){C.exports={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(l){this.scaleX=l/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(l){this.scaleY=l/this.height}},setSize:function(l,m){return this.width=l,this.height=m,this},setDisplaySize:function(l,m){return this.displayWidth=l,this.displayHeight=m,this}}},function(C,w){C.exports={texture:null,frame:null,isCropped:!1,setCrop:function(l,m,f,h){return void 0===l?this.isCropped=!1:this.frame&&("number"==typeof l?this.frame.setCropUVs(this._crop,l,m,f,h,this.flipX,this.flipY):this.frame.setCropUVs(this._crop,l.x,l.y,l.width,l.height,this.flipX,this.flipY),this.isCropped=!0),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}}},function(C,w){C.exports={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(l){return this.flipX=l,this},setFlipY:function(l){return this.flipY=l,this},setFlip:function(l,m){return this.flipX=l,this.flipY=m,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}}},function(C,w,n){var l=n(10),m=n(308),f=n(3);C.exports={prepareBoundsOutput:function(u,s){return void 0===s&&(s=!1),0!==this.rotation&&m(u,this.x,this.y,this.rotation),s&&this.parentContainer&&this.parentContainer.getBoundsTransformMatrix().transformPoint(u.x,u.y,u),u},getCenter:function(u){return void 0===u&&(u=new f),u.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,u.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,u},getTopLeft:function(u,s){return u||(u=new f),u.x=this.x-this.displayWidth*this.originX,u.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(u,s)},getTopCenter:function(u,s){return u||(u=new f),u.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,u.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(u,s)},getTopRight:function(u,s){return u||(u=new f),u.x=this.x-this.displayWidth*this.originX+this.displayWidth,u.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(u,s)},getLeftCenter:function(u,s){return u||(u=new f),u.x=this.x-this.displayWidth*this.originX,u.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(u,s)},getRightCenter:function(u,s){return u||(u=new f),u.x=this.x-this.displayWidth*this.originX+this.displayWidth,u.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(u,s)},getBottomLeft:function(u,s){return u||(u=new f),u.x=this.x-this.displayWidth*this.originX,u.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(u,s)},getBottomCenter:function(u,s){return u||(u=new f),u.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,u.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(u,s)},getBottomRight:function(u,s){return u||(u=new f),u.x=this.x-this.displayWidth*this.originX+this.displayWidth,u.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(u,s)},getBounds:function(u){var s,o,d,a,c,p,v,g;if(void 0===u&&(u=new l),this.parentContainer){var x=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(u),x.transformPoint(u.x,u.y,u),s=u.x,o=u.y,this.getTopRight(u),x.transformPoint(u.x,u.y,u),d=u.x,a=u.y,this.getBottomLeft(u),x.transformPoint(u.x,u.y,u),c=u.x,p=u.y,this.getBottomRight(u),x.transformPoint(u.x,u.y,u),v=u.x,g=u.y}else this.getTopLeft(u),s=u.x,o=u.y,this.getTopRight(u),d=u.x,a=u.y,this.getBottomLeft(u),c=u.x,p=u.y,this.getBottomRight(u),v=u.x,g=u.y;return u.x=Math.min(s,d,c,v),u.y=Math.min(o,a,p,g),u.width=Math.max(s,d,c,v)-u.x,u.height=Math.max(o,a,p,g)-u.y,u}}},function(C,w){C.exports="blur"},function(C,w){C.exports="boot"},function(C,w){C.exports="contextlost"},function(C,w){C.exports="contextrestored"},function(C,w){C.exports="destroy"},function(C,w){C.exports="focus"},function(C,w){C.exports="hidden"},function(C,w){C.exports="pause"},function(C,w){C.exports="postrender"},function(C,w){C.exports="poststep"},function(C,w){C.exports="prerender"},function(C,w){C.exports="prestep"},function(C,w){C.exports="ready"},function(C,w){C.exports="resume"},function(C,w){C.exports="step"},function(C,w){C.exports="visible"},function(C,w){C.exports="postrender"},function(C,w){C.exports="prerender"},function(C,w){C.exports="render"},function(C,w){C.exports="resize"},function(C,w){C.exports={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(l){this._displayOriginX=l,this.originX=l/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(l){this._displayOriginY=l,this.originY=l/this.height}},setOrigin:function(l,m){return void 0===l&&(l=.5),void 0===m&&(m=l),this.originX=l,this.originY=m,this.updateDisplayOrigin()},setOriginFromFrame:function(){return this.frame&&this.frame.customPivot?(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin()):this.setOrigin()},setDisplayOrigin:function(l,m){return void 0===l&&(l=0),void 0===m&&(m=l),this.displayOriginX=l,this.displayOriginY=m,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}}},function(C,w,n){var l=n(36),m=n(99),f=n(6),h=n(100),u=n(3);C.exports={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:h.PLAYING_FORWARD,setPath:function(o,d){void 0===d&&(d=this.pathConfig);var a=this.pathTween;return a&&a.isPlaying()&&a.stop(),this.path=o,d&&this.startFollow(d),this},setRotateToPath:function(o,d){return void 0===d&&(d=0),this.rotateToPath=o,this.pathRotationOffset=d,this},isFollowing:function(){var o=this.pathTween;return o&&o.isPlaying()},startFollow:function(o,d){void 0===o&&(o={}),void 0===d&&(d=0);var a=this.pathTween;a&&a.isPlaying()&&a.stop(),"number"==typeof o&&(o={duration:o}),o.from=f(o,"from",0),o.to=f(o,"to",1);var c=m(o,"positionOnPath",!1);this.rotateToPath=m(o,"rotateToPath",!1),this.pathRotationOffset=f(o,"rotationOffset",0);var p=f(o,"startAt",d);if(p&&(o.onStart=function(g){var x=g.data[0];x.progress=p,x.elapsed=x.duration*p;var T=x.ease(x.progress);x.current=x.start+(x.end-x.start)*T,x.target[x.key]=x.current}),this.pathOffset||(this.pathOffset=new u(this.x,this.y)),this.pathVector||(this.pathVector=new u),this.pathDelta||(this.pathDelta=new u),this.pathDelta.reset(),this.pathTween=this.scene.sys.tweens.addCounter(o),this.path.getStartPoint(this.pathOffset),c&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=h.PLAYING_FORWARD,this.rotateToPath){var v=this.path.getPoint(.1);this.rotation=Math.atan2(v.y-this.y,v.x-this.x)+l(this.pathRotationOffset)}return this.pathConfig=o,this},pauseFollow:function(){var o=this.pathTween;return o&&o.isPlaying()&&o.pause(),this},resumeFollow:function(){var o=this.pathTween;return o&&o.isPaused()&&o.resume(),this},stopFollow:function(){var o=this.pathTween;return o&&o.isPlaying()&&o.stop(),this},pathUpdate:function(){var o=this.pathTween;if(o){var d=o.data[0],a=this.pathDelta,c=this.pathVector;if(a.copy(c).negate(),d.state===h.COMPLETE)return this.path.getPoint(1,c),a.add(c),c.add(this.pathOffset),void this.setPosition(c.x,c.y);if(d.state!==h.PLAYING_FORWARD&&d.state!==h.PLAYING_BACKWARD)return;this.path.getPoint(o.getValue(),c),a.add(c),c.add(this.pathOffset);var p=this.x,v=this.y;this.setPosition(c.x,c.y);var g=this.x-p,x=this.y-v;if(0===g&&0===x)return;if(d.state!==this._prevDirection)return void(this._prevDirection=d.state);this.rotateToPath&&(this.rotation=Math.atan2(x,g)+l(this.pathRotationOffset))}}}},function(C,w){C.exports={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(l){this.scaleX=l/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(l){this.scaleY=l/this.frame.realHeight}},setSizeToFrame:function(l){return void 0===l&&(l=this.frame),this.width=l.realWidth,this.height=l.realHeight,this},setSize:function(l,m){return this.width=l,this.height=m,this},setDisplaySize:function(l,m){return this.displayWidth=l,this.displayHeight=m,this}}},function(C,w){C.exports={texture:null,frame:null,isCropped:!1,setTexture:function(m,f){return this.texture=this.scene.sys.textures.get(m),this.setFrame(f)},setFrame:function(m,f,h){return void 0===f&&(f=!0),void 0===h&&(h=!0),this.frame=this.texture.get(m),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&f&&this.setSizeToFrame(),this._originComponent&&h&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}}},function(C,w){C.exports={texture:null,frame:null,isCropped:!1,setCrop:function(m,f,h,u){return void 0===m?this.isCropped=!1:this.frame&&("number"==typeof m?this.frame.setCropUVs(this._crop,m,f,h,u,this.flipX,this.flipY):this.frame.setCropUVs(this._crop,m.x,m.y,m.width,m.height,this.flipX,this.flipY),this.isCropped=!0),this},setTexture:function(m,f){return this.texture=this.scene.sys.textures.get(m),this.setFrame(f)},setFrame:function(m,f,h){return void 0===f&&(f=!0),void 0===h&&(h=!0),this.frame=this.texture.get(m),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&f&&this.setSizeToFrame(),this._originComponent&&h&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}}},function(C,w){C.exports={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(l,m,f,h){return void 0===l&&(l=16777215),void 0===m&&(m=l,f=l,h=l),this.tintTopLeft=l,this.tintTopRight=m,this.tintBottomLeft=f,this.tintBottomRight=h,this.tintFill=!1,this},setTintFill:function(l,m,f,h){return this.setTint(l,m,f,h),this.tintFill=!0,this},tint:{set:function(l){this.setTint(l,l,l,l)}},isTinted:{get:function(){var l=16777215;return this.tintFill||this.tintTopLeft!==l||this.tintTopRight!==l||this.tintBottomLeft!==l||this.tintBottomRight!==l}}}},function(C,w){C.exports="changedata"},function(C,w){C.exports="changedata-"},function(C,w){C.exports="destroy"},function(C,w){C.exports="removedata"},function(C,w){C.exports="setdata"},function(C,w){C.exports="addedtoscene"},function(C,w){C.exports="destroy"},function(C,w){C.exports="removedfromscene"},function(C,w){C.exports="complete"},function(C,w){C.exports="created"},function(C,w){C.exports="error"},function(C,w){C.exports="loop"},function(C,w){C.exports="play"},function(C,w){C.exports="seeked"},function(C,w){C.exports="seeking"},function(C,w){C.exports="stop"},function(C,w){C.exports="timeout"},function(C,w){C.exports="unlocked"},function(C,w){C.exports="addedtoscene"},function(C,w){C.exports="boot"},function(C,w){C.exports="create"},function(C,w){C.exports="destroy"},function(C,w){C.exports="pause"},function(C,w){C.exports="postupdate"},function(C,w){C.exports="prerender"},function(C,w){C.exports="preupdate"},function(C,w){C.exports="ready"},function(C,w){C.exports="removedfromscene"},function(C,w){C.exports="render"},function(C,w){C.exports="resume"},function(C,w){C.exports="shutdown"},function(C,w){C.exports="sleep"},function(C,w){C.exports="start"},function(C,w){C.exports="transitioncomplete"},function(C,w){C.exports="transitioninit"},function(C,w){C.exports="transitionout"},function(C,w){C.exports="transitionstart"},function(C,w){C.exports="transitionwake"},function(C,w){C.exports="update"},function(C,w){C.exports="wake"},function(C,w,n){var l=n(46);C.exports=function(f,h,u,s,o){return l(f,"alpha",h,u,s,o)}},function(C,w,n){var l=n(46);C.exports=function(f,h,u,s,o){return l(f,"x",h,u,s,o)}},function(C,w,n){var l=n(46);C.exports=function(f,h,u,s,o,d,a){return null==u&&(u=h),l(f,"x",h,s,d,a),l(f,"y",u,o,d,a)}},function(C,w,n){var l=n(46);C.exports=function(f,h,u,s,o){return l(f,"y",h,u,s,o)}},function(C,w){C.exports=function(l,m,f,h){void 0===f&&(f=0),void 0===h&&(h=6.28);for(var u=f,s=(h-f)/l.length,o=0;o<l.length;o++)l[o].x=m.x+m.radius*Math.cos(u),l[o].y=m.y+m.radius*Math.sin(u),u+=s;return l}},function(C,w){C.exports=function(l,m,f,h){void 0===f&&(f=0),void 0===h&&(h=6.28);for(var u=f,s=(h-f)/l.length,o=m.width/2,d=m.height/2,a=0;a<l.length;a++)l[a].x=m.x+o*Math.cos(u),l[a].y=m.y+d*Math.sin(u),u+=s;return l}},function(C,w,n){var l=n(172);C.exports=function(f,h){for(var u=l(h,f.length),s=0;s<f.length;s++){var o=f[s],d=u[s];o.x=d.x,o.y=d.y}return f}},function(C,w,n){var l=n(316),m=n(178),f=n(179);C.exports=function(u,s,o){void 0===o&&(o=0);var d=l(s,!1,u.length);o>0?m(d,o):o<0&&f(d,Math.abs(o));for(var a=0;a<u.length;a++)u[a].x=d[a].x,u[a].y=d[a].y;return u}},function(C,w,n){var l=n(317);C.exports=function(f,h,u){var s=l({x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2},u),o=l({x1:h.x2,y1:h.y2,x2:h.x3,y2:h.y3},u),d=l({x1:h.x3,y1:h.y3,x2:h.x1,y2:h.y1},u);s.pop(),o.pop(),d.pop();for(var a=(s=s.concat(o,d)).length/f.length,c=0,p=0;p<f.length;p++){var v=f[p],g=s[Math.floor(c)];v.x=g.x,v.y=g.y,c+=a}return f}},function(C,w){C.exports=function(l,m,f){for(var h=0;h<l.length;h++){var u=l[h];u.anims&&u.anims.play(m,f)}return l}},function(C,w,n){var l=n(170);C.exports=function(f,h){for(var u=0;u<f.length;u++)l(h,f[u]);return f}},function(C,w,n){var l=n(180);C.exports=function(f,h){for(var u=0;u<f.length;u++)l(h,f[u]);return f}},function(C,w,n){var l=n(173);C.exports=function(f,h){for(var u=0;u<f.length;u++)l(h,f[u]);return f}},function(C,w,n){var l=n(174);C.exports=function(f,h){for(var u=0;u<f.length;u++)l(h,f[u]);return f}},function(C,w,n){var l=n(181);C.exports=function(f,h){for(var u=0;u<f.length;u++)l(h,f[u]);return f}},function(C,w,n){var l=n(46);C.exports=function(f,h,u,s,o){return l(f,"rotation",h,u,s,o)}},function(C,w,n){var l=n(182),m=n(50);C.exports=function(h,u,s){for(var o=u.x,d=u.y,a=0;a<h.length;a++){var c=h[a];l(c,o,d,s,Math.max(1,m(c.x,c.y,o,d)))}return h}},function(C,w,n){var l=n(182);C.exports=function(f,h,u,s){var o=h.x,d=h.y;if(0===s)return f;for(var a=0;a<f.length;a++)l(f[a],o,d,u,s);return f}},function(C,w,n){var l=n(46);C.exports=function(f,h,u,s,o){return l(f,"scaleX",h,u,s,o)}},function(C,w,n){var l=n(46);C.exports=function(f,h,u,s,o,d,a){return null==u&&(u=h),l(f,"scaleX",h,s,d,a),l(f,"scaleY",u,o,d,a)}},function(C,w,n){var l=n(46);C.exports=function(f,h,u,s,o){return l(f,"scaleY",h,u,s,o)}},function(C,w,n){var l=n(27);C.exports=function(f,h,u,s,o){return l(f,"alpha",h,u,s,o)}},function(C,w,n){var l=n(27);C.exports=function(f,h,u,s){return l(f,"blendMode",h,0,u,s)}},function(C,w,n){var l=n(27);C.exports=function(f,h,u,s,o){return l(f,"depth",h,u,s,o)}},function(C,w){C.exports=function(l,m,f){for(var h=0;h<l.length;h++)l[h].setInteractive(m,f);return l}},function(C,w,n){var l=n(27);C.exports=function(f,h,u,s,o,d,a){return null==u&&(u=h),l(f,"originX",h,s,d,a),l(f,"originY",u,o,d,a),f.forEach(function(c){c.updateDisplayOrigin()}),f}},function(C,w,n){var l=n(27);C.exports=function(f,h,u,s,o){return l(f,"rotation",h,u,s,o)}},function(C,w,n){var l=n(27);C.exports=function(f,h,u,s,o,d,a){return null==u&&(u=h),l(f,"scaleX",h,s,d,a),l(f,"scaleY",u,o,d,a)}},function(C,w,n){var l=n(27);C.exports=function(f,h,u,s,o){return l(f,"scaleX",h,u,s,o)}},function(C,w,n){var l=n(27);C.exports=function(f,h,u,s,o){return l(f,"scaleY",h,u,s,o)}},function(C,w,n){var l=n(27);C.exports=function(f,h,u,s,o,d,a){return null==u&&(u=h),l(f,"scrollFactorX",h,s,d,a),l(f,"scrollFactorY",u,o,d,a)}},function(C,w,n){var l=n(27);C.exports=function(f,h,u,s,o){return l(f,"scrollFactorX",h,u,s,o)}},function(C,w,n){var l=n(27);C.exports=function(f,h,u,s,o){return l(f,"scrollFactorY",h,u,s,o)}},function(C,w){C.exports=function(l,m,f,h,u){for(var s=0;s<l.length;s++)l[s].setTint(m,f,h,u);return l}},function(C,w,n){var l=n(27);C.exports=function(f,h,u,s){return l(f,"visible",h,0,u,s)}},function(C,w,n){var l=n(27);C.exports=function(f,h,u,s,o){return l(f,"x",h,u,s,o)}},function(C,w,n){var l=n(27);C.exports=function(f,h,u,s,o,d,a){return null==u&&(u=h),l(f,"x",h,s,d,a),l(f,"y",u,o,d,a)}},function(C,w,n){var l=n(27);C.exports=function(f,h,u,s,o){return l(f,"y",h,u,s,o)}},function(C,w,n){var l=n(3);C.exports=function(f,h,u,s,o){var d,a,c,p,v,g;if(void 0===s&&(s=0),void 0===o&&(o=new l),f.length>1)if(0===s){var x=f.length-1;for(d=f[x].x,a=f[x].y,c=x-1;c>=0;c--)p=(g=f[c]).x,v=g.y,g.x=d,g.y=a,d=p,a=v;f[x].x=h,f[x].y=u}else{for(d=f[0].x,a=f[0].y,c=1;c<f.length;c++)p=(g=f[c]).x,v=g.y,g.x=d,g.y=a,d=p,a=v;f[0].x=h,f[0].y=u}else d=f[0].x,a=f[0].y,f[0].x=h,f[0].y=u;return o.x=d,o.y=a,o}},function(C,w,n){var l=n(131);C.exports=function(f){return l(f)}},function(C,w,n){var l=n(183);C.exports=function(f,h,u,s,o){void 0===o&&(o=!1);var a,d=Math.abs(s-u)/f.length;if(o)for(a=0;a<f.length;a++)f[a][h]+=l(a*d,u,s);else for(a=0;a<f.length;a++)f[a][h]=l(a*d,u,s);return f}},function(C,w,n){var l=n(184);C.exports=function(f,h,u,s,o){void 0===o&&(o=!1);var a,d=Math.abs(s-u)/f.length;if(o)for(a=0;a<f.length;a++)f[a][h]+=l(a*d,u,s);else for(a=0;a<f.length;a++)f[a][h]=l(a*d,u,s);return f}},function(C,w){C.exports=function(l,m,f,h,u){void 0===u&&(u=!1);var o,s=Math.abs(h-f)/l.length;if(u)for(o=0;o<l.length;o++)l[o][m]+=o*s+f;else for(o=0;o<l.length;o++)l[o][m]=o*s+f;return l}},function(C,w){C.exports=function(l){for(var m=0;m<l.length;m++)l[m].visible=!l[m].visible;return l}},function(C,w,n){var l=n(68);C.exports=function(f,h,u){void 0===u&&(u=0);for(var s=0;s<f.length;s++){var o=f[s];o.x=l(o.x,h.left-u,h.right+u),o.y=l(o.y,h.top-u,h.bottom+u)}return f}},function(C,w,n){C.exports={Animation:n(185),AnimationFrame:n(319),AnimationManager:n(321),AnimationState:n(164),Events:n(132)}},function(C,w){C.exports="add"},function(C,w){C.exports="animationcomplete"},function(C,w){C.exports="animationcomplete-"},function(C,w){C.exports="animationrepeat"},function(C,w){C.exports="animationrestart"},function(C,w){C.exports="animationstart"},function(C,w){C.exports="animationstop"},function(C,w){C.exports="animationupdate"},function(C,w){C.exports="pauseall"},function(C,w){C.exports="remove"},function(C,w){C.exports="resumeall"},function(C,w,n){C.exports={BaseCache:n(323),CacheManager:n(325),Events:n(324)}},function(C,w){C.exports="add"},function(C,w){C.exports="remove"},function(C,w,n){C.exports={Controls:n(739),Scene2D:n(742)}},function(C,w,n){C.exports={FixedKeyControl:n(740),SmoothedKeyControl:n(741)}},function(C,w,n){var l=n(0),m=n(6),f=new l({initialize:function(u){this.camera=m(u,"camera",null),this.left=m(u,"left",null),this.right=m(u,"right",null),this.up=m(u,"up",null),this.down=m(u,"down",null),this.zoomIn=m(u,"zoomIn",null),this.zoomOut=m(u,"zoomOut",null),this.zoomSpeed=m(u,"zoomSpeed",.01),this.minZoom=m(u,"minZoom",.001),this.maxZoom=m(u,"maxZoom",1e3),this.speedX=0,this.speedY=0;var s=m(u,"speed",null);"number"==typeof s?(this.speedX=s,this.speedY=s):(this.speedX=m(u,"speed.x",0),this.speedY=m(u,"speed.y",0)),this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(h){return this.camera=h,this},update:function(h){if(this.active){void 0===h&&(h=1);var u=this.camera;this.up&&this.up.isDown?u.scrollY-=this.speedY*h|0:this.down&&this.down.isDown&&(u.scrollY+=this.speedY*h|0),this.left&&this.left.isDown?u.scrollX-=this.speedX*h|0:this.right&&this.right.isDown&&(u.scrollX+=this.speedX*h|0),this.zoomIn&&this.zoomIn.isDown?(u.zoom-=this.zoomSpeed,u.zoom<this.minZoom&&(u.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(u.zoom+=this.zoomSpeed,u.zoom>this.maxZoom&&(u.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});C.exports=f},function(C,w,n){var l=n(0),m=n(6),f=new l({initialize:function(u){this.camera=m(u,"camera",null),this.left=m(u,"left",null),this.right=m(u,"right",null),this.up=m(u,"up",null),this.down=m(u,"down",null),this.zoomIn=m(u,"zoomIn",null),this.zoomOut=m(u,"zoomOut",null),this.zoomSpeed=m(u,"zoomSpeed",.01),this.minZoom=m(u,"minZoom",.001),this.maxZoom=m(u,"maxZoom",1e3),this.accelX=0,this.accelY=0;var s=m(u,"acceleration",null);"number"==typeof s?(this.accelX=s,this.accelY=s):(this.accelX=m(u,"acceleration.x",0),this.accelY=m(u,"acceleration.y",0)),this.dragX=0,this.dragY=0;var o=m(u,"drag",null);"number"==typeof o?(this.dragX=o,this.dragY=o):(this.dragX=m(u,"drag.x",0),this.dragY=m(u,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var d=m(u,"maxSpeed",null);"number"==typeof d?(this.maxSpeedX=d,this.maxSpeedY=d):(this.maxSpeedX=m(u,"maxSpeed.x",0),this.maxSpeedY=m(u,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(h){return this.camera=h,this},update:function(h){if(this.active){void 0===h&&(h=1);var u=this.camera;this._speedX>0?(this._speedX-=this.dragX*h,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*h,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*h,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*h,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this._zoom=this.zoomIn&&this.zoomIn.isDown?-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this.zoomSpeed:0,0!==this._speedX&&(u.scrollX-=this._speedX*h|0),0!==this._speedY&&(u.scrollY-=this._speedY*h|0),0!==this._zoom&&(u.zoom+=this._zoom,u.zoom<this.minZoom?u.zoom=this.minZoom:u.zoom>this.maxZoom&&(u.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});C.exports=f},function(C,w,n){C.exports={Camera:n(326),BaseCamera:n(133),CameraManager:n(799),Effects:n(333),Events:n(37)}},function(C,w){C.exports="cameradestroy"},function(C,w){C.exports="camerafadeincomplete"},function(C,w){C.exports="camerafadeinstart"},function(C,w){C.exports="camerafadeoutcomplete"},function(C,w){C.exports="camerafadeoutstart"},function(C,w){C.exports="cameraflashcomplete"},function(C,w){C.exports="cameraflashstart"},function(C,w){C.exports="followupdate"},function(C,w){C.exports="camerapancomplete"},function(C,w){C.exports="camerapanstart"},function(C,w){C.exports="postrender"},function(C,w){C.exports="prerender"},function(C,w){C.exports="camerarotatecomplete"},function(C,w){C.exports="camerarotatestart"},function(C,w){C.exports="camerashakecomplete"},function(C,w){C.exports="camerashakestart"},function(C,w){C.exports="camerazoomcomplete"},function(C,w){C.exports="camerazoomstart"},function(C,w,n){var l=n(18),m=n(0),f=n(37),h=new m({initialize:function(s){this.camera=s,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0},start:function(u,s,o,d,a,c,p,v){return void 0===u&&(u=!0),void 0===s&&(s=1e3),void 0===o&&(o=0),void 0===d&&(d=0),void 0===a&&(a=0),void 0===c&&(c=!1),void 0===p&&(p=null),void 0===v&&(v=this.camera.scene),!c&&this.isRunning||(this.isRunning=!0,this.isComplete=!1,this.duration=s,this.direction=u,this.progress=0,this.red=o,this.green=d,this.blue=a,this.alpha=u?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=p,this._onUpdateScope=v,this.camera.emit(u?f.FADE_OUT_START:f.FADE_IN_START,this.camera,this,s,o,d,a)),this.camera},update:function(u,s){!this.isRunning||(this._elapsed+=s,this.progress=l(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(u){if(!this.isRunning&&!this.isComplete)return!1;var s=this.camera;return u.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",u.fillRect(s.x,s.y,s.width,s.height),!0},postRenderWebGL:function(u,s){if(!this.isRunning&&!this.isComplete)return!1;var o=this.camera;return u.drawFillRect(o.x,o.y,o.width,o.height,s(this.blue/255,this.green/255,this.red/255,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0,this.camera.emit(this.direction?f.FADE_OUT_COMPLETE:f.FADE_IN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});C.exports=h},function(C,w,n){var l=n(18),m=n(0),f=n(37),h=new m({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0},start:function(u,s,o,d,a,c,p){return void 0===u&&(u=250),void 0===s&&(s=255),void 0===o&&(o=255),void 0===d&&(d=255),void 0===a&&(a=!1),void 0===c&&(c=null),void 0===p&&(p=this.camera.scene),!a&&this.isRunning||(this.isRunning=!0,this.duration=u,this.progress=0,this.red=s,this.green=o,this.blue=d,this.alpha=1,this._elapsed=0,this._onUpdate=c,this._onUpdateScope=p,this.camera.emit(f.FLASH_START,this.camera,this,u,s,o,d)),this.camera},update:function(u,s){!this.isRunning||(this._elapsed+=s,this.progress=l(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=1-this.progress:this.effectComplete())},postRenderCanvas:function(u){if(!this.isRunning)return!1;var s=this.camera;return u.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",u.fillRect(s.x,s.y,s.width,s.height),!0},postRenderWebGL:function(u,s){if(!this.isRunning)return!1;var o=this.camera;return u.drawFillRect(o.x,o.y,o.width,o.height,s(this.blue/255,this.green/255,this.red/255,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});C.exports=h},function(C,w,n){var l=n(18),m=n(0),f=n(134),h=n(37),u=n(3),s=new m({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.source=new u,this.current=new u,this.destination=new u,this.progress=0,this._elapsed=0},start:function(o,d,a,c,p,v,g){void 0===a&&(a=1e3),void 0===c&&(c=f.Linear),void 0===p&&(p=!1),void 0===v&&(v=null),void 0===g&&(g=this.camera.scene);var x=this.camera;return!p&&this.isRunning||(this.isRunning=!0,this.duration=a,this.progress=0,this.source.set(x.scrollX,x.scrollY),this.destination.set(o,d),x.getScroll(o,d,this.current),"string"==typeof c&&f.hasOwnProperty(c)?this.ease=f[c]:"function"==typeof c&&(this.ease=c),this._elapsed=0,this._onUpdate=v,this._onUpdateScope=g,this.camera.emit(h.PAN_START,this.camera,this,a,o,d)),x},update:function(o,d){if(this.isRunning){this._elapsed+=d;var a=l(this._elapsed/this.duration,0,1);this.progress=a;var c=this.camera;if(this._elapsed<this.duration){var p=this.ease(a);c.getScroll(this.destination.x,this.destination.y,this.current);var v=this.source.x+(this.current.x-this.source.x)*p,g=this.source.y+(this.current.y-this.source.y)*p;c.setScroll(v,g),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,c,a,v,g)}else c.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,c,a,c.scrollX,c.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});C.exports=s},function(C,w){C.exports=function(l,m){return void 0===m&&(m=1.70158),l*l*((m+1)*l-m)}},function(C,w){C.exports=function(l,m){return void 0===m&&(m=1.70158),--l*l*((m+1)*l+m)+1}},function(C,w){C.exports=function(l,m){void 0===m&&(m=1.70158);var f=1.525*m;return(l*=2)<1?l*l*((f+1)*l-f)*.5:.5*((l-=2)*l*((f+1)*l+f)+2)}},function(C,w){C.exports=function(l){return(l=1-l)<.36363636363636365?1-7.5625*l*l:l<.7272727272727273?1-(7.5625*(l-=.5454545454545454)*l+.75):l<.9090909090909091?1-(7.5625*(l-=.8181818181818182)*l+.9375):1-(7.5625*(l-=.9545454545454546)*l+.984375)}},function(C,w){C.exports=function(l){return l<.36363636363636365?7.5625*l*l:l<.7272727272727273?7.5625*(l-=.5454545454545454)*l+.75:l<.9090909090909091?7.5625*(l-=.8181818181818182)*l+.9375:7.5625*(l-=.9545454545454546)*l+.984375}},function(C,w){C.exports=function(l){var m=!1;return l<.5?(l=1-2*l,m=!0):l=2*l-1,l<.36363636363636365?l*=7.5625*l:l=l<.7272727272727273?7.5625*(l-=.5454545454545454)*l+.75:l<.9090909090909091?7.5625*(l-=.8181818181818182)*l+.9375:7.5625*(l-=.9545454545454546)*l+.984375,m?.5*(1-l):.5*l+.5}},function(C,w){C.exports=function(l){return 1-Math.sqrt(1-l*l)}},function(C,w){C.exports=function(l){return Math.sqrt(1- --l*l)}},function(C,w){C.exports=function(l){return(l*=2)<1?-.5*(Math.sqrt(1-l*l)-1):.5*(Math.sqrt(1-(l-=2)*l)+1)}},function(C,w){C.exports=function(l){return l*l*l}},function(C,w){C.exports=function(l){return--l*l*l+1}},function(C,w){C.exports=function(l){return(l*=2)<1?.5*l*l*l:.5*((l-=2)*l*l+2)}},function(C,w){C.exports=function(l,m,f){if(void 0===m&&(m=.1),void 0===f&&(f=.1),0===l)return 0;if(1===l)return 1;var h=f/4;return m<1?m=1:h=f*Math.asin(1/m)/(2*Math.PI),-m*Math.pow(2,10*(l-=1))*Math.sin((l-h)*(2*Math.PI)/f)}},function(C,w){C.exports=function(l,m,f){if(void 0===m&&(m=.1),void 0===f&&(f=.1),0===l)return 0;if(1===l)return 1;var h=f/4;return m<1?m=1:h=f*Math.asin(1/m)/(2*Math.PI),m*Math.pow(2,-10*l)*Math.sin((l-h)*(2*Math.PI)/f)+1}},function(C,w){C.exports=function(l,m,f){if(void 0===m&&(m=.1),void 0===f&&(f=.1),0===l)return 0;if(1===l)return 1;var h=f/4;return m<1?m=1:h=f*Math.asin(1/m)/(2*Math.PI),(l*=2)<1?m*Math.pow(2,10*(l-=1))*Math.sin((l-h)*(2*Math.PI)/f)*-.5:m*Math.pow(2,-10*(l-=1))*Math.sin((l-h)*(2*Math.PI)/f)*.5+1}},function(C,w){C.exports=function(l){return Math.pow(2,10*(l-1))-.001}},function(C,w){C.exports=function(l){return 1-Math.pow(2,-10*l)}},function(C,w){C.exports=function(l){return(l*=2)<1?.5*Math.pow(2,10*(l-1)):.5*(2-Math.pow(2,-10*(l-1)))}},function(C,w){C.exports=function(l){return l}},function(C,w){C.exports=function(l){return l*l}},function(C,w){C.exports=function(l){return l*(2-l)}},function(C,w){C.exports=function(l){return(l*=2)<1?.5*l*l:-.5*(--l*(l-2)-1)}},function(C,w){C.exports=function(l){return l*l*l*l}},function(C,w){C.exports=function(l){return 1- --l*l*l*l}},function(C,w){C.exports=function(l){return(l*=2)<1?.5*l*l*l*l:-.5*((l-=2)*l*l*l-2)}},function(C,w){C.exports=function(l){return l*l*l*l*l}},function(C,w){C.exports=function(l){return--l*l*l*l*l+1}},function(C,w){C.exports=function(l){return(l*=2)<1?.5*l*l*l*l*l:.5*((l-=2)*l*l*l*l+2)}},function(C,w){C.exports=function(l){return 0===l?0:1===l?1:1-Math.cos(l*Math.PI/2)}},function(C,w){C.exports=function(l){return 0===l?0:1===l?1:Math.sin(l*Math.PI/2)}},function(C,w){C.exports=function(l){return 0===l?0:1===l?1:.5*(1-Math.cos(Math.PI*l))}},function(C,w){C.exports=function(l,m){return void 0===m&&(m=1),l<=0?0:l>=1?1:1/m*(1+(m*l|0))}},function(C,w,n){var l=n(18),m=n(0),f=n(37),h=n(3),u=new m({initialize:function(o){this.camera=o,this.isRunning=!1,this.duration=0,this.intensity=new h,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0},start:function(s,o,d,a,c){return void 0===s&&(s=100),void 0===o&&(o=.05),void 0===d&&(d=!1),void 0===a&&(a=null),void 0===c&&(c=this.camera.scene),!d&&this.isRunning||(this.isRunning=!0,this.duration=s,this.progress=0,"number"==typeof o?this.intensity.set(o):this.intensity.set(o.x,o.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=a,this._onUpdateScope=c,this.camera.emit(f.SHAKE_START,this.camera,this,s,o)),this.camera},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(s,o){if(this.isRunning)if(this._elapsed+=o,this.progress=l(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var d=this.intensity,a=this.camera.width,c=this.camera.height,p=this.camera.zoom;this._offsetX=(Math.random()*d.x*a*2-d.x*a)*p,this._offsetY=(Math.random()*d.y*c*2-d.y*c)*p,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});C.exports=u},function(C,w,n){var l=n(18),m=n(0),f=n(37),h=n(134),u=new m({initialize:function(o){this.camera=o,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.progress=0,this._elapsed=0,this.clockwise=!0,this.shortestPath=!1},start:function(s,o,d,a,c,p,v){void 0===d&&(d=1e3),void 0===a&&(a=h.Linear),void 0===c&&(c=!1),void 0===p&&(p=null),void 0===v&&(v=this.camera.scene),void 0===o&&(o=!1),this.shortestPath=o;var g=s;s<0?(g=-1*s,this.clockwise=!1):this.clockwise=!0;var x=360*Math.PI/180;g-=Math.floor(g/x)*x;var T=this.camera;if(!c&&this.isRunning)return T;if(this.isRunning=!0,this.duration=d,this.progress=0,this.source=T.rotation,this.destination=g,"string"==typeof a&&h.hasOwnProperty(a)?this.ease=h[a]:"function"==typeof a&&(this.ease=a),this._elapsed=0,this._onUpdate=p,this._onUpdateScope=v,this.shortestPath){var S,D;(S=this.destination>this.source?Math.abs(this.destination-this.source):Math.abs(this.destination+x)-this.source)<(D=this.source>this.destination?Math.abs(this.source-this.destination):Math.abs(this.source+x)-this.destination)?this.clockwise=!0:S>D&&(this.clockwise=!1)}return this.camera.emit(f.ROTATE_START,this.camera,this,d,g),T},update:function(s,o){if(this.isRunning){this._elapsed+=o;var d=l(this._elapsed/this.duration,0,1);this.progress=d;var a=this.camera;if(this._elapsed<this.duration){var c=this.ease(d);this.current=a.rotation;var p,v=360*Math.PI/180,g=this.destination,x=this.current;!1===this.clockwise&&(g=this.current,x=this.destination),p=g>=x?Math.abs(g-x):Math.abs(g+v)-x;var T;a.rotation=T=this.clockwise?a.rotation+p*c:a.rotation-p*c,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,a,d,T)}else a.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,a,d,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});C.exports=u},function(C,w,n){var l=n(18),m=n(0),f=n(134),h=n(37),u=new m({initialize:function(o){this.camera=o,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.progress=0,this._elapsed=0},start:function(s,o,d,a,c,p){void 0===o&&(o=1e3),void 0===d&&(d=f.Linear),void 0===a&&(a=!1),void 0===c&&(c=null),void 0===p&&(p=this.camera.scene);var v=this.camera;return!a&&this.isRunning||(this.isRunning=!0,this.duration=o,this.progress=0,this.source=v.zoom,this.destination=s,"string"==typeof d&&f.hasOwnProperty(d)?this.ease=f[d]:"function"==typeof d&&(this.ease=d),this._elapsed=0,this._onUpdate=c,this._onUpdateScope=p,this.camera.emit(h.ZOOM_START,this.camera,this,o,s)),v},update:function(s,o){!this.isRunning||(this._elapsed+=o,this.progress=l(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});C.exports=u},function(C,w,n){var l=n(326),m=n(0),f=n(2),h=n(24),u=n(57),s=n(104),o=n(20),d=new m({initialize:function(c){this.scene=c,this.systems=c.sys,this.roundPixels=c.sys.game.config.roundPixels,this.cameras=[],c.sys.events.once(o.BOOT,this.boot,this),c.sys.events.on(o.START,this.start,this)},boot:function(){var a=this.systems;a.settings.cameras?this.fromJSON(a.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new l(0,0,a.scale.width,a.scale.height).setScene(this.scene),a.game.scale.on(s.RESIZE,this.onResize,this),this.systems.events.once(o.DESTROY,this.destroy,this)},start:function(){if(!this.main){var a=this.systems;a.settings.cameras?this.fromJSON(a.settings.cameras):this.add(),this.main=this.cameras[0]}var c=this.systems.events;c.on(o.UPDATE,this.update,this),c.once(o.SHUTDOWN,this.shutdown,this)},add:function(a,c,p,v,g,x){void 0===a&&(a=0),void 0===c&&(c=0),void 0===p&&(p=this.scene.sys.scale.width),void 0===v&&(v=this.scene.sys.scale.height),void 0===g&&(g=!1),void 0===x&&(x="");var T=new l(a,c,p,v);return T.setName(x),T.setScene(this.scene),T.setRoundPixels(this.roundPixels),T.id=this.getNextID(),this.cameras.push(T),g&&(this.main=T),T},addExisting:function(a,c){return void 0===c&&(c=!1),-1===this.cameras.indexOf(a)?(a.id=this.getNextID(),a.setRoundPixels(this.roundPixels),this.cameras.push(a),c&&(this.main=a),a):null},getNextID:function(){for(var a=this.cameras,c=1,p=0;p<32;p++){for(var v=!1,g=0;g<a.length;g++){var x=a[g];x&&x.id===c&&(v=!0)}if(!v)return c;c<<=1}return 0},getTotal:function(a){void 0===a&&(a=!1);for(var c=0,p=this.cameras,v=0;v<p.length;v++)(!a||a&&p[v].visible)&&c++;return c},fromJSON:function(a){Array.isArray(a)||(a=[a]);for(var c=this.scene.sys.scale.width,p=this.scene.sys.scale.height,v=0;v<a.length;v++){var g=a[v],x=f(g,"x",0),T=f(g,"y",0),S=f(g,"width",c),D=f(g,"height",p),M=this.add(x,T,S,D);M.name=f(g,"name",""),M.zoom=f(g,"zoom",1),M.rotation=f(g,"rotation",0),M.scrollX=f(g,"scrollX",0),M.scrollY=f(g,"scrollY",0),M.roundPixels=f(g,"roundPixels",!1),M.visible=f(g,"visible",!0);var R=f(g,"backgroundColor",!1);R&&M.setBackgroundColor(R);var P=f(g,"bounds",null);if(P){var I=f(P,"x",0),b=f(P,"y",0),L=f(P,"width",c),B=f(P,"height",p);M.setBounds(I,b,L,B)}}return this},getCamera:function(a){for(var c=this.cameras,p=0;p<c.length;p++)if(c[p].name===a)return c[p];return null},getCamerasBelowPointer:function(a){for(var c=this.cameras,p=a.x,v=a.y,g=[],x=0;x<c.length;x++){var T=c[x];T.visible&&T.inputEnabled&&u(T,p,v)&&g.unshift(T)}return g},remove:function(a,c){void 0===c&&(c=!0),Array.isArray(a)||(a=[a]);for(var p=0,v=this.cameras,g=0;g<a.length;g++){var x=v.indexOf(a[g]);-1!==x&&(c?v[x].destroy():v[x].renderList=[],v.splice(x,1),p++)}return!this.main&&v[0]&&(this.main=v[0]),p},render:function(a,c){for(var p=this.scene,v=this.cameras,g=0;g<this.cameras.length;g++){var x=v[g];if(x.visible&&x.alpha>0){x.preRender();var T=this.getVisibleChildren(c.getChildren(),x);a.render(p,T,x)}}},getVisibleChildren:function(a,c){for(var p=[],v=0;v<a.length;v++){var g=a[v];g.willRender(c)&&p.push(g)}return p},resetAll:function(){for(var a=0;a<this.cameras.length;a++)this.cameras[a].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(a,c){for(var p=0;p<this.cameras.length;p++)this.cameras[p].update(a,c)},onResize:function(a,c,p,v,g){for(var x=0;x<this.cameras.length;x++){var T=this.cameras[x];0===T._x&&0===T._y&&T._width===v&&T._height===g&&T.setSize(c.width,c.height)}},resize:function(a,c){for(var p=0;p<this.cameras.length;p++)this.cameras[p].setSize(a,c)},shutdown:function(){this.main=void 0;for(var a=0;a<this.cameras.length;a++)this.cameras[a].destroy();this.cameras=[];var c=this.systems.events;c.off(o.UPDATE,this.update,this),c.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});h.register("CameraManager",d,"cameras"),C.exports=d},function(C,w){C.exports="enterfullscreen"},function(C,w){C.exports="fullscreenfailed"},function(C,w){C.exports="fullscreenunsupported"},function(C,w){C.exports="leavefullscreen"},function(C,w){C.exports="orientationchange"},function(C,w){C.exports="resize"},function(C,w,n){C.exports={Config:n(346),CreateRenderer:n(366),DebugHeader:n(384),Events:n(22),TimeStep:n(385),VisibilityHandler:n(387)}},function(C,w){var l,m,n=C.exports={};function f(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}function u(T){if(l===setTimeout)return setTimeout(T,0);if((l===f||!l)&&setTimeout)return l=setTimeout,setTimeout(T,0);try{return l(T,0)}catch(S){try{return l.call(null,T,0)}catch(D){return l.call(this,T,0)}}}!function(){try{l="function"==typeof setTimeout?setTimeout:f}catch(T){l=f}try{m="function"==typeof clearTimeout?clearTimeout:h}catch(T){m=h}}();var a,o=[],d=!1,c=-1;function p(){!d||!a||(d=!1,a.length?o=a.concat(o):c=-1,o.length&&v())}function v(){if(!d){var T=u(p);d=!0;for(var S=o.length;S;){for(a=o,o=[];++c<S;)a&&a[c].run();c=-1,S=o.length}a=null,d=!1,function s(T){if(m===clearTimeout)return clearTimeout(T);if((m===h||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(T);try{return m(T)}catch(S){try{return m.call(null,T)}catch(D){return m.call(this,T)}}}(T)}}function g(T,S){this.fun=T,this.array=S}function x(){}n.nextTick=function(T){var S=new Array(arguments.length-1);if(arguments.length>1)for(var D=1;D<arguments.length;D++)S[D-1]=arguments[D];o.push(new g(T,S)),1===o.length&&!d&&u(v)},g.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=x,n.addListener=x,n.once=x,n.off=x,n.removeListener=x,n.removeAllListeners=x,n.emit=x,n.prependListener=x,n.prependOnceListener=x,n.listeners=function(T){return[]},n.binding=function(T){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(T){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(C,w,n){var l=n(136),m={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};C.exports=function f(){return"function"==typeof importScripts||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(m.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(m.mspointer=!0),navigator.getGamepads&&(m.gamepads=!0),"onwheel"in window||l.ie&&"WheelEvent"in window?m.wheelEvent="wheel":"onmousewheel"in window?m.wheelEvent="mousewheel":l.firefox&&"MouseScrollEvent"in window&&(m.wheelEvent="DOMMouseScroll")),m}()},function(C,w,n){var l=n(136),m={audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};C.exports=function f(){if("function"==typeof importScripts)return m;m.audioData=!!window.Audio,m.webAudio=!(!window.AudioContext&&!window.webkitAudioContext);var h=document.createElement("audio"),u=!!h.canPlayType;try{if(u&&(h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(m.ogg=!0),(h.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||h.canPlayType("audio/opus;").replace(/^no$/,""))&&(m.opus=!0),h.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(m.mp3=!0),h.canPlayType("audio/wav").replace(/^no$/,"")&&(m.wav=!0),(h.canPlayType("audio/x-m4a;")||h.canPlayType("audio/aac;").replace(/^no$/,""))&&(m.m4a=!0),h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(m.webm=!0),""!==h.canPlayType('audio/mp4;codecs="ec-3"')))if(l.edge)m.dolby=!0;else if(l.safari&&l.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var s=parseInt(RegExp.$1,10),o=parseInt(RegExp.$2,10);(10===s&&o>=11||s>10)&&(m.dolby=!0)}}catch(d){}return m}()},function(C,w){var n={h264:!1,hls:!1,mp4:!1,ogg:!1,vp9:!1,webm:!1};C.exports=function l(){if("function"==typeof importScripts)return n;var m=document.createElement("video"),f=!!m.canPlayType;try{f&&(m.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(n.ogg=!0),m.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(n.h264=!0,n.mp4=!0),m.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(n.webm=!0),m.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(n.vp9=!0),m.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(n.hls=!0))}catch(h){}return n}()},function(C,w){var n={available:!1,cancel:"",keyboard:!1,request:""};C.exports=function l(){if("function"==typeof importScripts)return n;var m,f="Fullscreen",h="FullScreen",u=["request"+f,"request"+h,"webkitRequest"+f,"webkitRequest"+h,"msRequest"+f,"msRequest"+h,"mozRequest"+h,"mozRequest"+f];for(m=0;m<u.length;m++)if(document.documentElement[u[m]]){n.available=!0,n.request=u[m];break}var s=["cancel"+h,"exit"+f,"webkitCancel"+h,"webkitExit"+f,"msCancel"+h,"msExit"+f,"mozCancel"+h,"mozExit"+f];if(n.available)for(m=0;m<s.length;m++)if(document[s[m]]){n.cancel=s[m];break}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(n.keyboard=!0),Object.defineProperty(n,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),n}()},function(C,w,n){C.exports={Between:n(349),BetweenPoints:n(350),BetweenPointsY:n(813),BetweenY:n(814),CounterClockwise:n(815),Normalize:n(351),Random:n(816),RandomDegrees:n(817),Reverse:n(818),RotateTo:n(819),ShortestBetween:n(820),Wrap:n(269),WrapDegrees:n(270)}},function(C,w){C.exports=function(l,m){return Math.atan2(m.x-l.x,m.y-l.y)}},function(C,w){C.exports=function(l,m,f,h){return Math.atan2(f-l,h-m)}},function(C,w,n){var l=n(14);C.exports=function(f){return f>Math.PI&&(f-=l.PI2),Math.abs(((f+l.TAU)%l.PI2-l.PI2)%l.PI2)}},function(C,w,n){var l=n(137);C.exports=function(){return l(-Math.PI,Math.PI)}},function(C,w,n){var l=n(137);C.exports=function(){return l(-180,180)}},function(C,w,n){var l=n(351);C.exports=function(f){return l(f+Math.PI)}},function(C,w,n){var l=n(14);C.exports=function(f,h,u){return void 0===u&&(u=.05),f===h||(Math.abs(h-f)<=u||Math.abs(h-f)>=l.PI2-u?f=h:(Math.abs(h-f)>Math.PI&&(h<f?h+=l.PI2:h-=l.PI2),h>f?f+=u:h<f&&(f-=u))),f}},function(C,w){C.exports=function(l,m){var f=m-l;return 0===f?0:f-360*Math.floor((f- -180)/360)}},function(C,w,n){C.exports={Between:n(50),BetweenPoints:n(352),BetweenPointsSquared:n(822),Chebyshev:n(823),Power:n(824),Snake:n(825),Squared:n(353)}},function(C,w){C.exports=function(l,m){var f=l.x-m.x,h=l.y-m.y;return f*f+h*h}},function(C,w){C.exports=function(l,m,f,h){return Math.max(Math.abs(l-f),Math.abs(m-h))}},function(C,w){C.exports=function(l,m,f,h,u){return void 0===u&&(u=2),Math.sqrt(Math.pow(f-l,u)+Math.pow(h-m,u))}},function(C,w){C.exports=function(l,m,f,h){return Math.abs(l-f)+Math.abs(m-h)}},function(C,w,n){C.exports={Back:n(334),Bounce:n(335),Circular:n(336),Cubic:n(337),Elastic:n(338),Expo:n(339),Linear:n(340),Quadratic:n(341),Quartic:n(342),Quintic:n(343),Sine:n(344),Stepped:n(345)}},function(C,w,n){C.exports={Ceil:n(828),Equal:n(124),Floor:n(829),GreaterThan:n(354),LessThan:n(355)}},function(C,w){C.exports=function(l,m){return void 0===m&&(m=1e-4),Math.ceil(l-m)}},function(C,w){C.exports=function(l,m){return void 0===m&&(m=1e-4),Math.floor(l+m)}},function(C,w,n){C.exports={Bezier:n(831),CatmullRom:n(832),CubicBezier:n(358),Linear:n(833),QuadraticBezier:n(359),SmoothStep:n(360),SmootherStep:n(834)}},function(C,w,n){var l=n(356);C.exports=function(f,h){for(var u=0,s=f.length-1,o=0;o<=s;o++)u+=Math.pow(1-h,s-o)*Math.pow(h,o)*f[o]*l(s,o);return u}},function(C,w,n){var l=n(194);C.exports=function(f,h){var u=f.length-1,s=u*h,o=Math.floor(s);return f[0]===f[u]?(h<0&&(o=Math.floor(s=u*(1+h))),l(s-o,f[(o-1+u)%u],f[o],f[(o+1)%u],f[(o+2)%u])):h<0?f[0]-(l(-s,f[0],f[0],f[1],f[1])-f[0]):h>1?f[u]-(l(s-u,f[u],f[u],f[u-1],f[u-1])-f[u]):l(s-o,f[o?o-1:0],f[o],f[u<o+1?u:o+1],f[u<o+2?u:o+2])}},function(C,w,n){var l=n(135);C.exports=function(f,h){var u=f.length-1,s=u*h,o=Math.floor(s);return h<0?l(f[0],f[1],s):h>1?l(f[u],f[u-1],u-s):l(f[o],f[o+1>u?u:o+1],s-o)}},function(C,w,n){var l=n(183);C.exports=function(f,h,u){return h+(u-h)*l(f,0,1)}},function(C,w,n){C.exports={GetNext:n(361),IsSize:n(138),IsValue:n(836)}},function(C,w){C.exports=function(l){return l>0&&0==(l&l-1)}},function(C,w,n){C.exports={Ceil:n(139),Floor:n(76),To:n(838)}},function(C,w){C.exports=function(l,m,f,h){return void 0===f&&(f=0),0===m?l:(l-=f,l=m*Math.round(l/m),h?(f+l)/m:f+l)}},function(C,w,n){var m=new(n(0))({initialize:function(h){void 0===h&&(h=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],h&&this.init(h)},rnd:function(){var f=2091639*this.s0+2.3283064365386963e-10*this.c;return this.c=0|f,this.s0=this.s1,this.s1=this.s2,this.s2=f-this.c,this.s2},hash:function(f){var h,u=this.n;f=f.toString();for(var s=0;s<f.length;s++)h=.02519603282416938*(u+=f.charCodeAt(s)),h-=u=h>>>0,u=(h*=u)>>>0,u+=4294967296*(h-=u);return this.n=u,2.3283064365386963e-10*(u>>>0)},init:function(f){"string"==typeof f?this.state(f):this.sow(f)},sow:function(f){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,f)for(var h=0;h<f.length&&null!=f[h];h++){var u=f[h];this.s0-=this.hash(u),this.s0+=~~(this.s0<0),this.s1-=this.hash(u),this.s1+=~~(this.s1<0),this.s2-=this.hash(u),this.s2+=~~(this.s2<0)}},integer:function(){return 4294967296*this.rnd()},frac:function(){return this.rnd()+11102230246251565e-32*(2097152*this.rnd()|0)},real:function(){return this.integer()+this.frac()},integerInRange:function(f,h){return Math.floor(this.realInRange(0,h-f+1)+f)},between:function(f,h){return Math.floor(this.realInRange(0,h-f+1)+f)},realInRange:function(f,h){return this.frac()*(h-f)+f},normal:function(){return 1-2*this.frac()},uuid:function(){var f="",h="";for(h=f="";f++<36;h+=~f%5|3*f&4?(15^f?8^this.frac()*(20^f?16:4):4).toString(16):"-");return h},pick:function(f){return f[this.integerInRange(0,f.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(f){return f[~~(Math.pow(this.frac(),2)*(f.length-1)+.5)]},timestamp:function(f,h){return this.realInRange(f||9466848e5,h||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(f){return"string"==typeof f&&f.match(/^!rnd/)&&(f=f.split(","),this.c=parseFloat(f[1]),this.s0=parseFloat(f[2]),this.s1=parseFloat(f[3]),this.s2=parseFloat(f[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(f){for(var u=f.length-1;u>0;u--){var s=Math.floor(this.frac()*(u+1)),o=f[s];f[s]=f[u],f[u]=o}return f}});C.exports=m},function(C,w){C.exports=function(l){for(var m=0,f=0;f<l.length;f++)m+=+l[f];return m/l.length}},function(C,w){C.exports=function(l,m,f){void 0===m&&(m=0),void 0===f&&(f=10);var h=Math.pow(f,-m);return Math.ceil(l*h)/h}},function(C,w){C.exports=function(l,m){return Math.abs(l-m)}},function(C,w,n){var l=n(18),m=n(0),f=n(69),h=n(1),u=new f,s=new m({initialize:function o(d,a,c,p){void 0===d&&(d=0),void 0===a&&(a=0),void 0===c&&(c=0),void 0===p&&(p=o.DefaultOrder),this._x=d,this._y=a,this._z=c,this._order=p,this.onChangeCallback=h},x:{get:function(){return this._x},set:function(o){this._x=o,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(o){this._y=o,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(o){this._z=o,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(o){this._order=o,this.onChangeCallback(this)}},set:function(o,d,a,c){return void 0===c&&(c=this._order),this._x=o,this._y=d,this._z=a,this._order=c,this.onChangeCallback(this),this},copy:function(o){return this.set(o.x,o.y,o.z,o.order)},setFromQuaternion:function(o,d,a){return void 0===d&&(d=this._order),void 0===a&&(a=!1),u.fromQuat(o),this.setFromRotationMatrix(u,d,a)},setFromRotationMatrix:function(o,d,a){void 0===d&&(d=this._order),void 0===a&&(a=!1);var c=o.val,p=c[0],v=c[4],g=c[8],x=c[1],T=c[5],S=c[9],D=c[2],M=c[6],R=c[10],P=0,I=0,b=0,L=.99999;switch(d){case"XYZ":I=Math.asin(l(g,-1,1)),Math.abs(g)<L?(P=Math.atan2(-S,R),b=Math.atan2(-v,p)):P=Math.atan2(M,T);break;case"YXZ":P=Math.asin(-l(S,-1,1)),Math.abs(S)<L?(I=Math.atan2(g,R),b=Math.atan2(x,T)):I=Math.atan2(-D,p);break;case"ZXY":P=Math.asin(l(M,-1,1)),Math.abs(M)<L?(I=Math.atan2(-D,R),b=Math.atan2(-v,T)):b=Math.atan2(x,p);break;case"ZYX":I=Math.asin(-l(D,-1,1)),Math.abs(D)<L?(P=Math.atan2(M,R),b=Math.atan2(x,p)):b=Math.atan2(-v,T);break;case"YZX":b=Math.asin(l(x,-1,1)),Math.abs(x)<L?(P=Math.atan2(-S,T),I=Math.atan2(-D,p)):I=Math.atan2(g,R);break;case"XZY":b=Math.asin(-l(v,-1,1)),Math.abs(v)<L?(P=Math.atan2(M,T),I=Math.atan2(g,p)):P=Math.atan2(-S,R)}return this._x=P,this._y=I,this._z=b,this._order=d,a&&this.onChangeCallback(this),this}});s.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],s.DefaultOrder="XYZ",C.exports=s},function(C,w){C.exports=function(l,m,f){void 0===m&&(m=0),void 0===f&&(f=10);var h=Math.pow(f,-m);return Math.floor(l*h)/h}},function(C,w){C.exports=function(l,m){return l/m/1e3}},function(C,w){C.exports=function(l){return l==parseFloat(l)?!(l%2):void 0}},function(C,w){C.exports=function(l){return l===parseFloat(l)?!(l%2):void 0}},function(C,w){C.exports=function(l,m,f){return Math.min(l+m,f)}},function(C,w){C.exports=function(l){var m=l.length;if(0===m)return 0;l.sort(function(h,u){return h-u});var f=Math.floor(m/2);return m%2==0?(l[f]+l[f-1])/2:l[f]}},function(C,w){C.exports=function(l,m,f){return Math.max(l-m,f)}},function(C,w){C.exports=function(l,m,f,h){void 0===f&&(f=m+1);var u=(l-m)/(f-m);return u>1?void 0!==h?(u=(h-l)/(h-f))<0&&(u=0):u=1:u<0&&(u=0),u}},function(C,w){C.exports=function(l,m){void 0===m&&(m=1);var f=2*Math.random()*Math.PI;return l.x=Math.cos(f)*m,l.y=Math.sin(f)*m,l}},function(C,w){C.exports=function(l,m){void 0===m&&(m=1);var f=2*Math.random()*Math.PI,h=2*Math.random()-1,u=Math.sqrt(1-h*h)*m;return l.x=Math.cos(f)*u,l.y=Math.sin(f)*u,l.z=h*m,l}},function(C,w){C.exports=function(l,m){return void 0===m&&(m=1),l.x=(2*Math.random()-1)*m,l.y=(2*Math.random()-1)*m,l.z=(2*Math.random()-1)*m,l.w=(2*Math.random()-1)*m,l}},function(C,w){C.exports=function(l,m,f,h,u){return l.x=m+u*Math.cos(h),l.y=f+u*Math.sin(h),l}},function(C,w){C.exports=function(l,m,f){void 0===m&&(m=0),void 0===f&&(f=10);var h=Math.pow(f,-m);return Math.round(l*h)/h}},function(C,w){C.exports=function(l,m,f,h){void 0===m&&(m=1),void 0===f&&(f=1),void 0===h&&(h=1),h*=Math.PI/l;for(var u=[],s=[],o=0;o<l;o++)m+=(f-=m*h)*h,u[o]=f,s[o]=m;return{sin:s,cos:u,length:l}}},function(C,w,n){var l=n(3);C.exports=function(f,h,u,s){void 0===s&&(s=new l);var o=0,d=0;return f>0&&f<=h*u&&(o=f>h-1?f-(d=Math.floor(f/h))*h:f),s.set(o,d)}},function(C,w){C.exports=function(l,m,f){return Math.abs(l-m)<=f}},function(C,w,n){var l=n(39),m=n(69),f=n(365),h=new m,u=new f,s=new l;C.exports=function(d,a,c){return u.setAxisAngle(a,c),h.fromRotationTranslation(u,s.set(0,0,0)),d.transformMat4(h)}},function(C,w){C.exports="addtexture"},function(C,w){C.exports="onerror"},function(C,w){C.exports="onload"},function(C,w){C.exports="ready"},function(C,w){C.exports="removetexture"},function(C,w){C.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    float alpha = mainColor.a;","","    if (!uInvertMaskAlpha)","    {","        alpha *= (maskColor.a);","    }","    else","    {","        alpha *= (1.0 - maskColor.a);","    }","","    gl_FragColor = vec4(mainColor.rgb * alpha, alpha);","}",""].join("\n")},function(C,w){C.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","","precision mediump float;","","attribute vec2 inPosition;","","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}",""].join("\n")},function(C,w){C.exports="pipelineafterflush"},function(C,w){C.exports="pipelinebeforeflush"},function(C,w){C.exports="pipelinebind"},function(C,w){C.exports="pipelineboot"},function(C,w){C.exports="pipelinedestroy"},function(C,w){C.exports="pipelinerebind"},function(C,w){C.exports="pipelineresize"},function(C,w){C.exports=["#define SHADER_NAME PHASER_GRAPHICS_FS","","precision mediump float;","","varying vec4 outColor;","","void main ()","{","    gl_FragColor = vec4(outColor.bgr * outColor.a, outColor.a);","}",""].join("\n")},function(C,w){C.exports=["#define SHADER_NAME PHASER_GRAPHICS_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec4 inColor;","","varying vec4 outColor;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outColor = inColor;","}",""].join("\n")},function(C,w){C.exports=["#define SHADER_NAME PHASER_LIGHT_FS","","precision mediump float;","","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","","const int kMaxLights = %LIGHT_COUNT%;","","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","","varying vec2 outTexCoord;","varying vec4 outTint;","","void main()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 color = texture2D(uMainSampler, outTexCoord) * vec4(outTint.bgr * outTint.a, outTint.a);","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","","    for (int index = 0; index < kMaxLights; ++index)","    {","        Light light = uLights[index];","        vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","        vec3 lightNormal = normalize(lightDir);","        float distToSurf = length(lightDir) * uCamera.w;","        float diffuseFactor = max(dot(normal, lightNormal), 0.0);","        float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","        float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","        vec3 diffuse = light.color * diffuseFactor;","        finalColor += (attenuation * diffuse) * light.intensity;","    }","","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}",""].join("\n")},function(C,w){C.exports=["#define SHADER_NAME PHASER_MULTI_FS","","precision mediump float;","","uniform sampler2D uMainSampler[%count%];","","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    vec4 texture;","","    %forloop%","","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","","    //  Multiply texture tint","    vec4 color = texture * texel;","","    if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join("\n")},function(C,w){C.exports=["#define SHADER_NAME PHASER_MULTI_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}",""].join("\n")},function(C,w){C.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform float uCameraZoom;","","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","","    float distToSurf = length(center - gl_FragCoord.xy);","","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}",""].join("\n")},function(C,w){C.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}",""].join("\n")},function(C,w){C.exports=["#define SHADER_NAME PHASER_SINGLE_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","","    //  Multiply texture tint","    vec4 color = texture * texel;","","    if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join("\n")},function(C,w){C.exports=["#define SHADER_NAME PHASER_SINGLE_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}",""].join("\n")},function(C,w){C.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","","precision mediump float;","","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","","    gl_FragColor = frame1 + frame2 * uStrength;","}",""].join("\n")},function(C,w){C.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","","        return;","    }","","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","","    vec4 result;","","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","","    rgb *= result.a;","","    gl_FragColor = vec4(rgb, result.a);","}",""].join("\n")},function(C,w){C.exports=["#define SHADER_NAME PHASER_COPY_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","uniform float uBrightness;","","varying vec2 outTexCoord;","","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}",""].join("\n")},function(C,w){C.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","","precision mediump float;","","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}",""].join("\n")},function(C,w,n){C.exports={GenerateTexture:n(388),Palettes:n(889)}},function(C,w,n){C.exports={ARNE16:n(389),C64:n(890),CGA:n(891),JMP:n(892),MSX:n(893)}},function(C,w){C.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},function(C,w){C.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},function(C,w){C.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},function(C,w){C.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},function(C,w,n){C.exports={Path:n(895),MoveTo:n(393),CubicBezier:n(390),Curve:n(94),Ellipse:n(391),Line:n(392),QuadraticBezier:n(394),Spline:n(395)}},function(C,w,n){var l=n(0),m=n(390),f=n(391),h=n(5),u=n(392),s=n(393),o=n(394),d=n(10),a=n(395),c=n(3),p=n(14),v=new l({initialize:function(x,T){void 0===x&&(x=0),void 0===T&&(T=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new c,this._tmpVec2A=new c,this._tmpVec2B=new c,"object"==typeof x?this.fromJSON(x):this.startPoint.set(x,T)},add:function(g){return this.curves.push(g),this},circleTo:function(g,x,T){return void 0===x&&(x=!1),this.ellipseTo(g,g,0,360,x,T)},closePath:function(){var g=this.curves[0].getPoint(0),x=this.curves[this.curves.length-1].getPoint(1);return g.equals(x)||this.curves.push(new u(x,g)),this},cubicBezierTo:function(g,x,T,S,D,M){var P,I,b,R=this.getEndPoint();return g instanceof c?(P=g,I=x,b=T):(P=new c(T,S),I=new c(D,M),b=new c(g,x)),this.add(new m(R,P,I,b))},quadraticBezierTo:function(g,x,T,S){var M,R,D=this.getEndPoint();return g instanceof c?(M=g,R=x):(M=new c(T,S),R=new c(g,x)),this.add(new o(D,M,R))},draw:function(g,x){for(var T=0;T<this.curves.length;T++){var S=this.curves[T];!S.active||S.draw(g,x)}return g},ellipseTo:function(g,x,T,S,D,M){var R=new f(0,0,g,x,T,S,D,M),P=this.getEndPoint(this._tmpVec2A),I=R.getStartPoint(this._tmpVec2B);return P.subtract(I),R.x=P.x,R.y=P.y,this.add(R)},fromJSON:function(g){this.curves=[],this.cacheLengths=[],this.startPoint.set(g.x,g.y),this.autoClose=g.autoClose;for(var x=0;x<g.curves.length;x++){var T=g.curves[x];switch(T.type){case"LineCurve":this.add(u.fromJSON(T));break;case"EllipseCurve":this.add(f.fromJSON(T));break;case"SplineCurve":this.add(a.fromJSON(T));break;case"CubicBezierCurve":this.add(m.fromJSON(T));break;case"QuadraticBezierCurve":this.add(o.fromJSON(T))}}return this},getBounds:function(g,x){void 0===g&&(g=new d),void 0===x&&(x=16),g.x=Number.MAX_VALUE,g.y=Number.MAX_VALUE;for(var T=new d,S=p.MIN_SAFE_INTEGER,D=p.MIN_SAFE_INTEGER,M=0;M<this.curves.length;M++){var R=this.curves[M];!R.active||(R.getBounds(T,x),g.x=Math.min(g.x,T.x),g.y=Math.min(g.y,T.y),S=Math.max(S,T.right),D=Math.max(D,T.bottom))}return g.right=S,g.bottom=D,g},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var g=[],x=0,T=0;T<this.curves.length;T++)x+=this.curves[T].getLength(),g.push(x);return this.cacheLengths=g,g},getEndPoint:function(g){return void 0===g&&(g=new c),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,g):g.copy(this.startPoint),g},getLength:function(){var g=this.getCurveLengths();return g[g.length-1]},getPoint:function(g,x){void 0===x&&(x=new c);for(var T=g*this.getLength(),S=this.getCurveLengths(),D=0;D<S.length;){if(S[D]>=T){var M=S[D]-T,R=this.curves[D],P=R.getLength();return R.getPointAt(0===P?0:1-M/P,x)}D++}return null},getPoints:function(g){void 0===g&&(g=12);for(var T,x=[],S=0;S<this.curves.length;S++){var D=this.curves[S];if(D.active)for(var M=D.getResolution(g),R=D.getPoints(M),P=0;P<R.length;P++){var I=R[P];T&&T.equals(I)||(x.push(I),T=I)}}return this.autoClose&&x.length>1&&!x[x.length-1].equals(x[0])&&x.push(x[0]),x},getRandomPoint:function(g){return void 0===g&&(g=new c),this.getPoint(Math.random(),g)},getSpacedPoints:function(g){void 0===g&&(g=40);for(var x=[],T=0;T<=g;T++)x.push(this.getPoint(T/g));return this.autoClose&&x.push(x[0]),x},getStartPoint:function(g){return void 0===g&&(g=new c),g.copy(this.startPoint)},getTangent:function(g,x){void 0===x&&(x=new c);for(var T=g*this.getLength(),S=this.getCurveLengths(),D=0;D<S.length;){if(S[D]>=T){var M=S[D]-T,R=this.curves[D],P=R.getLength();return R.getTangentAt(0===P?0:1-M/P,x)}D++}return null},lineTo:function(g,x){g instanceof c?this._tmpVec2B.copy(g):this._tmpVec2B.set(g,x);var T=this.getEndPoint(this._tmpVec2A);return this.add(new u([T.x,T.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(g){return g.unshift(this.getEndPoint()),this.add(new a(g))},moveTo:function(g,x){return this.add(g instanceof c?new s(g.x,g.y):new s(g,x))},toJSON:function(){for(var g=[],x=0;x<this.curves.length;x++)g.push(this.curves[x].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:g}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});h.register("path",function(g,x){return new v(g,x)}),C.exports=v},function(C,w,n){C.exports={DataManager:n(101),DataManagerPlugin:n(897),Events:n(315)}},function(C,w,n){var l=n(0),m=n(101),f=n(24),h=n(20),u=new l({Extends:m,initialize:function(o){m.call(this,o,o.sys.events),this.scene=o,this.systems=o.sys,o.sys.events.once(h.BOOT,this.boot,this),o.sys.events.on(h.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(h.DESTROY,this.destroy,this)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){m.prototype.destroy.call(this),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});f.register("DataManagerPlugin",u,"data"),C.exports=u},function(C,w,n){C.exports={Align:n(899),BaseShader:n(396),Bounds:n(902),Canvas:n(906),Color:n(397),ColorMatrix:n(198),Masks:n(916),RGB:n(200)}},function(C,w,n){var l=n(123),m=n(17),f={In:n(900),To:n(901)};f=m(!1,f,l),C.exports=f},function(C,w,n){C.exports={BottomCenter:n(290),BottomLeft:n(291),BottomRight:n(292),Center:n(293),LeftCenter:n(295),QuickSet:n(289),RightCenter:n(296),TopCenter:n(297),TopLeft:n(298),TopRight:n(299)}},function(C,w,n){C.exports={BottomCenter:n(277),BottomLeft:n(278),BottomRight:n(279),LeftBottom:n(280),LeftCenter:n(281),LeftTop:n(282),QuickSet:n(276),RightBottom:n(283),RightCenter:n(284),RightTop:n(285),TopCenter:n(286),TopLeft:n(287),TopRight:n(288)}},function(C,w,n){C.exports={CenterOn:n(294),GetBottom:n(42),GetBounds:n(903),GetCenterX:n(87),GetCenterY:n(89),GetLeft:n(43),GetOffsetX:n(904),GetOffsetY:n(905),GetRight:n(44),GetTop:n(45),SetBottom:n(55),SetCenterX:n(88),SetCenterY:n(90),SetLeft:n(53),SetRight:n(54),SetTop:n(52)}},function(C,w,n){var l=n(42),m=n(43),f=n(44),h=n(45);C.exports=function(s,o){void 0===o&&(o={});var d=m(s),a=h(s);return o.x=d,o.y=a,o.width=f(s)-d,o.height=l(s)-a,o}},function(C,w){C.exports=function(l){return l.width*l.originX}},function(C,w){C.exports=function(l){return l.height*l.originY}},function(C,w,n){C.exports={CanvasInterpolation:n(367),CanvasPool:n(31),Smoothing:n(192),TouchAction:n(907),UserSelect:n(908)}},function(C,w){C.exports=function(l,m){return void 0===m&&(m="none"),l.style.msTouchAction=m,l.style["ms-touch-action"]=m,l.style["touch-action"]=m,l}},function(C,w){C.exports=function(l,m){return void 0===m&&(m="none"),["-webkit-","-khtml-","-moz-","-ms-",""].forEach(function(h){l.style[h+"user-select"]=m}),l.style["-webkit-touch-callout"]=m,l.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",l}},function(C,w,n){var l=n(103);C.exports=function(f){void 0===f&&(f=1024);var s,h=[],u=255,o=255,d=0,a=0;for(s=0;s<=u;s++)h.push({r:o,g:s,b:a,color:l(o,s,a)});for(d=255,s=u;s>=0;s--)h.push({r:s,g:d,b:a,color:l(s,d,a)});for(o=0,s=0;s<=u;s++,d--)h.push({r:o,g:d,b:s,color:l(o,d,s)});for(d=0,a=255,s=0;s<=u;s++,a--,o++)h.push({r:o,g:d,b:a,color:l(o,d,a)});if(1024===f)return h;var c=[],p=0,v=1024/f;for(s=0;s<f;s++)c.push(h[Math.floor(p)]),p+=v;return c}},function(C,w){C.exports=function(l){var m={r:l>>16&255,g:l>>8&255,b:255&l,a:255};return l>16777215&&(m.a=l>>>24),m}},function(C,w,n){var l=n(38),m=n(399);C.exports=function(h,u,s){var o=s,d=s,a=s;if(0!==u){var c=s<.5?s*(1+u):s+u-s*u,p=2*s-c;o=m(p,c,h+1/3),d=m(p,c,h),a=m(p,c,h-1/3)}return(new l).setGLTo(o,d,a,1)}},function(C,w,n){var l=n(188);C.exports=function(f,h){void 0===f&&(f=1),void 0===h&&(h=1);for(var u=[],s=0;s<=359;s++)u.push(l(s/359,f,h));return u}},function(C,w,n){var l=n(135),m=function(u,s,o,d,a,c,p,v){void 0===p&&(p=100),void 0===v&&(v=0);var g=v/p;return{r:l(u,d,g),g:l(s,a,g),b:l(o,c,g)}};C.exports={RGBWithRGB:m,ColorWithRGB:function(u,s,o,d,a,c){return void 0===a&&(a=100),void 0===c&&(c=0),m(u.r,u.g,u.b,s,o,d,a,c)},ColorWithColor:function(u,s,o,d){return void 0===o&&(o=100),void 0===d&&(d=0),m(u.r,u.g,u.b,s.r,s.g,s.b,o,d)}}},function(C,w,n){var l=n(195),m=n(38);C.exports=function(h,u){return void 0===h&&(h=0),void 0===u&&(u=255),new m(l(h,u),l(h,u),l(h,u))}},function(C,w,n){var l=n(398);C.exports=function(f,h,u,s,o){return void 0===s&&(s=255),void 0===o&&(o="#"),"#"===o?"#"+((1<<24)+(f<<16)+(h<<8)+u).toString(16).slice(1,7):"0x"+l(s)+l(f)+l(h)+l(u)}},function(C,w,n){C.exports={BitmapMask:n(310),GeometryMask:n(311)}},function(C,w,n){var l={AddToDOM:n(142),DOMContentLoaded:n(400),GetInnerHeight:n(401),GetScreenOrientation:n(402),GetTarget:n(407),ParseXML:n(408),RemoveFromDOM:n(202),RequestAnimationFrame:n(386)};C.exports=l},function(C,w,n){C.exports={EventEmitter:n(919)}},function(C,w,n){var l=n(0),m=n(9),f=n(24),h=new l({Extends:m,initialize:function(){m.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});f.register("EventEmitter",h,"events"),C.exports=h},function(C,w,n){var l=n(142),m=n(321),f=n(325),h=n(31),u=n(0),s=n(346),o=n(921),d=n(366),a=n(101),c=n(384),p=n(347),v=n(400),g=n(9),x=n(22),T=n(409),S=n(24),D=n(414),M=n(415),R=n(417),P=n(106),I=n(422),b=n(385),L=n(387),B=n(426),z=new u({initialize:function(K){this.config=new s(K),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new g,this.anims=new m(this),this.textures=new I(this),this.cache=new f(this),this.registry=new a(this),this.input=new T(this,this.config),this.scene=new R(this,this.config.sceneConfig),this.device=p,this.scale=new M(this,this.config),this.sound=null,this.sound=B.create(this),this.loop=new b(this,this.config.fps),this.plugins=new D(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,v(this.boot.bind(this))},boot:function(){S.hasCore("EventEmitter")?(this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),d(this),o(this),c(this),l(this.canvas,this.config.parent),this.textures.once(P.READY,this.texturesReady,this),this.events.emit(x.BOOT)):console.warn("Aborting. Core Plugins missing.")},texturesReady:function(){this.events.emit(x.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.loop.start(this.renderer?this.step.bind(this):this.headlessStep.bind(this)),L(this);var W=this.events;W.on(x.HIDDEN,this.onHidden,this),W.on(x.VISIBLE,this.onVisible,this),W.on(x.BLUR,this.onBlur,this),W.on(x.FOCUS,this.onFocus,this)},step:function(W,K){if(this.pendingDestroy)return this.runDestroy();var J=this.events;J.emit(x.PRE_STEP,W,K),J.emit(x.STEP,W,K),this.scene.update(W,K),J.emit(x.POST_STEP,W,K);var tt=this.renderer;tt.preRender(),J.emit(x.PRE_RENDER,tt,W,K),this.scene.render(tt),tt.postRender(),J.emit(x.POST_RENDER,tt,W,K)},headlessStep:function(W,K){if(this.pendingDestroy)return this.runDestroy();var J=this.events;J.emit(x.PRE_STEP,W,K),J.emit(x.STEP,W,K),this.scene.update(W,K),J.emit(x.POST_STEP,W,K),J.emit(x.PRE_RENDER),J.emit(x.POST_RENDER)},onHidden:function(){this.loop.pause(),this.events.emit(x.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(x.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(W,K){void 0===K&&(K=!1),this.pendingDestroy=!0,this.removeCanvas=W,this.noReturn=K},runDestroy:function(){this.scene.destroy(),this.events.emit(x.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(h.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});C.exports=z},function(C,w,n){var l=n(142);C.exports=function(f){var h=f.config;if(h.parent&&h.domCreateContainer){var u=document.createElement("div");u.style.cssText=["display: block;","width: "+f.scale.width+"px;","height: "+f.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+h.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),f.domContainer=u,l(u,h.parent)}}},function(C,w){C.exports="boot"},function(C,w){C.exports="destroy"},function(C,w){C.exports="dragend"},function(C,w){C.exports="dragenter"},function(C,w){C.exports="drag"},function(C,w){C.exports="dragleave"},function(C,w){C.exports="dragover"},function(C,w){C.exports="dragstart"},function(C,w){C.exports="drop"},function(C,w){C.exports="gameout"},function(C,w){C.exports="gameover"},function(C,w){C.exports="gameobjectdown"},function(C,w){C.exports="dragend"},function(C,w){C.exports="dragenter"},function(C,w){C.exports="drag"},function(C,w){C.exports="dragleave"},function(C,w){C.exports="dragover"},function(C,w){C.exports="dragstart"},function(C,w){C.exports="drop"},function(C,w){C.exports="gameobjectmove"},function(C,w){C.exports="gameobjectout"},function(C,w){C.exports="gameobjectover"},function(C,w){C.exports="pointerdown"},function(C,w){C.exports="pointermove"},function(C,w){C.exports="pointerout"},function(C,w){C.exports="pointerover"},function(C,w){C.exports="pointerup"},function(C,w){C.exports="wheel"},function(C,w){C.exports="gameobjectup"},function(C,w){C.exports="gameobjectwheel"},function(C,w){C.exports="boot"},function(C,w){C.exports="process"},function(C,w){C.exports="update"},function(C,w){C.exports="pointerdown"},function(C,w){C.exports="pointerdownoutside"},function(C,w){C.exports="pointermove"},function(C,w){C.exports="pointerout"},function(C,w){C.exports="pointerover"},function(C,w){C.exports="pointerup"},function(C,w){C.exports="pointerupoutside"},function(C,w){C.exports="wheel"},function(C,w){C.exports="pointerlockchange"},function(C,w){C.exports="preupdate"},function(C,w){C.exports="shutdown"},function(C,w){C.exports="start"},function(C,w){C.exports="update"},function(C,w){C.exports="addfile"},function(C,w){C.exports="complete"},function(C,w){C.exports="filecomplete"},function(C,w){C.exports="filecomplete-"},function(C,w){C.exports="loaderror"},function(C,w){C.exports="load"},function(C,w){C.exports="fileprogress"},function(C,w){C.exports="postprocess"},function(C,w){C.exports="progress"},function(C,w){C.exports="start"},function(C,w,n){C.exports={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"}},function(C,w){C.exports=function(l,m,f){if(f.getElementsByTagName("TextureAtlas")){var h=l.source[m];l.add("__BASE",m,0,0,h.width,h.height);for(var s,u=f.getElementsByTagName("SubTexture"),o=0;o<u.length;o++){var d=u[o].attributes,a=d.name.value,c=parseInt(d.x.value,10),p=parseInt(d.y.value,10),v=parseInt(d.width.value,10),g=parseInt(d.height.value,10);if(s=l.add(a,m,c,p,v,g),d.frameX){var x=Math.abs(parseInt(d.frameX.value,10)),T=Math.abs(parseInt(d.frameY.value,10)),S=parseInt(d.frameWidth.value,10),D=parseInt(d.frameHeight.value,10);s.setTrim(v,g,x,T,S,D)}}return l}console.warn("Invalid Texture Atlas XML given")}},function(C,w){C.exports=function(l,m){var f=l.source[m];return l.add("__BASE",m,0,0,f.width,f.height),l}},function(C,w){C.exports=function(l,m){var f=l.source[m];return l.add("__BASE",m,0,0,f.width,f.height),l}},function(C,w,n){var l=n(77);C.exports=function(f,h,u){if(u.frames||u.textures){var s=f.source[h];f.add("__BASE",h,0,0,s.width,s.height);for(var d,o=Array.isArray(u.textures)?u.textures[h].frames:u.frames,a=0;a<o.length;a++){var c=o[a];d=f.add(c.filename,h,c.frame.x,c.frame.y,c.frame.w,c.frame.h),c.trimmed&&d.setTrim(c.sourceSize.w,c.sourceSize.h,c.spriteSourceSize.x,c.spriteSourceSize.y,c.spriteSourceSize.w,c.spriteSourceSize.h),c.rotated&&(d.rotated=!0,d.updateUVsInverted());var p=c.anchor||c.pivot;p&&(d.customPivot=!0,d.pivotX=p.x,d.pivotY=p.y),d.customData=l(c)}for(var v in u)"frames"!==v&&(f.customData[v]=Array.isArray(u[v])?u[v].slice(0):u[v]);return f}console.warn("Invalid Texture Atlas JSON Array")}},function(C,w,n){var l=n(77);C.exports=function(f,h,u){if(u.frames){var s=f.source[h];f.add("__BASE",h,0,0,s.width,s.height);var d,o=u.frames;for(var a in o)if(o.hasOwnProperty(a)){var c=o[a];d=f.add(a,h,c.frame.x,c.frame.y,c.frame.w,c.frame.h),c.trimmed&&d.setTrim(c.sourceSize.w,c.sourceSize.h,c.spriteSourceSize.x,c.spriteSourceSize.y,c.spriteSourceSize.w,c.spriteSourceSize.h),c.rotated&&(d.rotated=!0,d.updateUVsInverted());var p=c.anchor||c.pivot;p&&(d.customPivot=!0,d.pivotX=p.x,d.pivotY=p.y),d.customData=l(c)}for(var v in u)"frames"!==v&&(f.customData[v]=Array.isArray(u[v])?u[v].slice(0):u[v]);return f}console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object")}},function(C,w,n){var l=n(2);C.exports=function(f,h,u,s,o,d,a){var c=l(a,"frameWidth",null),p=l(a,"frameHeight",c);if(null===c)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var v=f.source[h];f.add("__BASE",h,0,0,v.width,v.height);var g=l(a,"startFrame",0),x=l(a,"endFrame",-1),T=l(a,"margin",0),S=l(a,"spacing",0),R=Math.floor((o-T+S)/(c+S))*Math.floor((d-T+S)/(p+S));0===R&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",f.key),(g>R||g<-R)&&(g=0),g<0&&(g=R+g),-1!==x&&(R=g+(x+1));for(var P=T,I=T,b=0,L=0,B=0;B<R;B++){b=0,L=0;var V=P+c,z=I+p;V>o&&(b=V-o),z>d&&(L=z-d),f.add(B,h,u+P,s+I,c-b,p-L),(P+=c+S)+c>o&&(P=T,I+=p+S)}return f}},function(C,w,n){var l=n(2);C.exports=function(f,h,u){var s=l(u,"frameWidth",null),o=l(u,"frameHeight",s);if(!s)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var d=f.source[0];f.add("__BASE",0,0,0,d.width,d.height);var a=l(u,"startFrame",0),c=l(u,"endFrame",-1),p=l(u,"margin",0),v=l(u,"spacing",0),g=h.cutX,x=h.cutY,T=h.cutWidth,S=h.cutHeight,D=h.realWidth,M=h.realHeight,R=Math.floor((D-p+v)/(s+v)),P=Math.floor((M-p+v)/(o+v)),I=R*P,b=h.x,L=s-b,B=s-(D-T-b),V=h.y,z=o-V,W=o-(M-S-V);(a>I||a<-I)&&(a=0),a<0&&(a=I+a),-1!==c&&(I=a+(c+1));for(var K,J=p,tt=p,it=0,H=h.sourceIndex,G=0;G<P;G++){for(var Y=0===G,X=G===P-1,$=0;$<R;$++){var Q=0===$,_=$===R-1;if(K=f.add(it,H,g+J,x+tt,s,o),Q||Y||_||X){var et=Q?b:0,ot=Y?V:0,lt=0,ht=0;Q&&(lt+=s-L),_&&(lt+=s-B),Y&&(ht+=o-z),X&&(ht+=o-W);var ft=s-lt,gt=o-ht;K.cutWidth=ft,K.cutHeight=gt,K.setTrim(s,o,et,ot,ft,gt)}J+=v,J+=Q?L:_?B:s,it++}J=p,tt+=v,tt+=Y?z:X?W:o}return f}},function(C,w){var n=0,l=function(f,h,u,s){f.add(u,h,s.x,n-s.y-s.height,s.width,s.height)};C.exports=function(f,h,u){var s=f.source[h];f.add("__BASE",h,0,0,s.width,s.height),n=s.height;for(var o=u.split("\n"),d=/^[ ]*(- )*(\w+)+[: ]+(.*)/,a="",c="",p={x:0,y:0,width:0,height:0},v=0;v<o.length;v++){var g=o[v].match(d);if(g){var T=g[2],S=g[3];if("- "===g[1]&&(c!==a&&(l(f,h,c,p),a=c),p={x:0,y:0,width:0,height:0}),"name"===T){c=S;continue}switch(T){case"x":case"y":case"width":case"height":p[T]=parseInt(S,10)}}}return c!==a&&l(f,h,c,p),f}},function(C,w){C.exports="complete"},function(C,w){C.exports="decoded"},function(C,w){C.exports="decodedall"},function(C,w){C.exports="destroy"},function(C,w){C.exports="detune"},function(C,w){C.exports="detune"},function(C,w){C.exports="mute"},function(C,w){C.exports="rate"},function(C,w){C.exports="volume"},function(C,w){C.exports="loop"},function(C,w){C.exports="looped"},function(C,w){C.exports="mute"},function(C,w){C.exports="pan"},function(C,w){C.exports="pauseall"},function(C,w){C.exports="pause"},function(C,w){C.exports="play"},function(C,w){C.exports="rate"},function(C,w){C.exports="resumeall"},function(C,w){C.exports="resume"},function(C,w){C.exports="seek"},function(C,w){C.exports="stopall"},function(C,w){C.exports="stop"},function(C,w){C.exports="unlocked"},function(C,w){C.exports="volume"},function(C,w,n){var l={Events:n(75),DisplayList:n(1012),GameObjectCreator:n(16),GameObjectFactory:n(5),UpdateList:n(1040),Components:n(11),GetCalcMatrix:n(19),BuildGameObject:n(28),BuildGameObjectAnimation:n(439),GameObject:n(15),BitmapText:n(148),Blitter:n(213),Bob:n(440),Container:n(214),DOMElement:n(442),DynamicBitmapText:n(215),Extern:n(444),Graphics:n(216),Group:n(113),Image:n(125),Layer:n(219),Particles:n(1074),PathFollower:n(457),RenderTexture:n(221),RetroFont:n(1082),Rope:n(223),Sprite:n(73),Text:n(224),GetTextSize:n(458),MeasureText:n(460),TextStyle:n(459),TileSprite:n(225),Zone:n(129),Video:n(226),Shape:n(34),Arc:n(461),Curve:n(462),Ellipse:n(463),Grid:n(464),IsoBox:n(465),IsoTriangle:n(466),Line:n(467),Polygon:n(468),Rectangle:n(473),Star:n(474),Triangle:n(475),Factories:{Blitter:n(1130),Container:n(1131),DOMElement:n(1132),DynamicBitmapText:n(1133),Extern:n(1134),Graphics:n(1135),Group:n(1136),Image:n(1137),Layer:n(1138),Particles:n(1139),PathFollower:n(1140),RenderTexture:n(1141),Rope:n(1142),Sprite:n(1143),StaticBitmapText:n(1144),Text:n(1145),TileSprite:n(1146),Zone:n(1147),Video:n(1148),Arc:n(1149),Curve:n(1150),Ellipse:n(1151),Grid:n(1152),IsoBox:n(1153),IsoTriangle:n(1154),Line:n(1155),Polygon:n(1156),Rectangle:n(1157),Star:n(1158),Triangle:n(1159)},Creators:{Blitter:n(1160),Container:n(1161),DynamicBitmapText:n(1162),Graphics:n(1163),Group:n(1164),Image:n(1165),Layer:n(1166),Particles:n(1167),RenderTexture:n(1168),Rope:n(1169),Sprite:n(1170),StaticBitmapText:n(1171),Text:n(1172),TileSprite:n(1173),Zone:n(1174),Video:n(1175)}};l.Shader=n(229),l.Mesh=n(230),l.PointLight=n(150),l.Factories.Shader=n(1184),l.Factories.Mesh=n(1185),l.Factories.PointLight=n(1186),l.Creators.Shader=n(1187),l.Creators.Mesh=n(1188),l.Creators.PointLight=n(1189),l.Light=n(481),l.LightsManager=n(482),l.LightsPlugin=n(1190),C.exports=l},function(C,w,n){var l=n(0),m=n(110),f=n(24),h=n(75),u=n(20),s=n(79),o=new l({Extends:m,initialize:function(a){m.call(this,a),this.sortChildrenFlag=!1,this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(u.BOOT,this.boot,this),this.events.on(u.START,this.start,this)},boot:function(){this.events.once(u.DESTROY,this.destroy,this)},addChildCallback:function(d){d.displayList&&d.displayList!==this&&d.removeFromDisplayList(),d.displayList||(this.queueDepthSort(),d.displayList=this,d.emit(h.ADDED_TO_SCENE,d,this.scene),this.events.emit(u.ADDED_TO_SCENE,d,this.scene))},removeChildCallback:function(d){this.queueDepthSort(),d.displayList=null,d.emit(h.REMOVED_FROM_SCENE,d,this.scene),this.events.emit(u.REMOVED_FROM_SCENE,d,this.scene)},start:function(){this.events.once(u.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(s(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(d,a){return d._depth-a._depth},getChildren:function(){return this.list},shutdown:function(){for(var d=this.list,a=d.length;a--;)d[a].destroy(!0);d.length=0,this.events.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(u.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});f.register("DisplayList",o,"displayList"),C.exports=o},function(C,w,n){C.exports={CheckMatrix:n(209),MatrixToString:n(1014),ReverseColumns:n(1015),ReverseRows:n(1016),Rotate180:n(1017),RotateLeft:n(1018),RotateMatrix:n(147),RotateRight:n(1019),Translate:n(1020),TransposeMatrix:n(435)}},function(C,w,n){var l=n(186),m=n(209);C.exports=function(h){var u="";if(!m(h))return u;for(var s=0;s<h.length;s++){for(var o=0;o<h[s].length;o++){var d=h[s][o].toString();u+="undefined"!==d?l(d,2):"?",o<h[s].length-1&&(u+=" |")}if(s<h.length-1){u+="\n";for(var a=0;a<h[s].length;a++)u+="---",a<h[s].length-1&&(u+="+");u+="\n"}}return u}},function(C,w){C.exports=function(l){return l.reverse()}},function(C,w){C.exports=function(l){for(var m=0;m<l.length;m++)l[m].reverse();return l}},function(C,w,n){var l=n(147);C.exports=function(f){return l(f,180)}},function(C,w,n){var l=n(147);C.exports=function(f){return l(f,90)}},function(C,w,n){var l=n(147);C.exports=function(f){return l(f,-90)}},function(C,w,n){var l=n(178),m=n(179);C.exports=function(h,u,s){if(void 0===u&&(u=0),void 0===s&&(s=0),0!==s&&(s<0?l(h,Math.abs(s)):m(h,s)),0!==u)for(var o=0;o<h.length;o++){var d=h[o];u<0?l(d,Math.abs(u)):m(d,u)}return h}},function(C,w){C.exports=function(l,m,f,h,u){if(void 0===u&&(u=l),f>0){var s=f-l.length;if(s<=0)return null}if(!Array.isArray(m))return-1===l.indexOf(m)?(l.push(m),h&&h.call(u,m),m):null;for(var o=m.length-1;o>=0;)-1!==l.indexOf(m[o])&&m.splice(o,1),o--;if(0===(o=m.length))return null;f>0&&o>s&&(m.splice(s),o=s);for(var d=0;d<o;d++){var a=m[d];l.push(a),h&&h.call(u,a)}return m}},function(C,w){C.exports=function(l,m,f,h,u,s){if(void 0===f&&(f=0),void 0===s&&(s=l),h>0){var o=h-l.length;if(o<=0)return null}if(!Array.isArray(m))return-1===l.indexOf(m)?(l.splice(f,0,m),u&&u.call(s,m),m):null;for(var d=m.length-1;d>=0;)-1!==l.indexOf(m[d])&&m.pop(),d--;if(0===(d=m.length))return null;h>0&&d>o&&(m.splice(o),d=o);for(var a=d-1;a>=0;a--){var c=m[a];l.splice(f,0,c),u&&u.call(s,c)}return m}},function(C,w){C.exports=function(l,m){var f=l.indexOf(m);return-1!==f&&f<l.length&&(l.splice(f,1),l.push(m)),m}},function(C,w,n){var l=n(78);C.exports=function(f,h,u,s,o){void 0===s&&(s=0),void 0===o&&(o=f.length);var d=0;if(l(f,s,o))for(var a=s;a<o;a++)f[a][h]===u&&d++;return d}},function(C,w){C.exports=function(l,m,f){var h,u=[null];for(h=3;h<arguments.length;h++)u.push(arguments[h]);for(h=0;h<l.length;h++)u[0]=l[h],m.apply(f,u);return l}},function(C,w,n){var l=n(78);C.exports=function(f,h,u,s,o){if(void 0===s&&(s=0),void 0===o&&(o=f.length),l(f,s,o)){var d,a=[null];for(d=5;d<arguments.length;d++)a.push(arguments[d]);for(d=s;d<o;d++)a[0]=f[d],h.apply(u,a)}return f}},function(C,w){C.exports=function(l,m){var f=l.indexOf(m);if(f>0){var h=l[f-1],u=l.indexOf(h);l[f]=h,l[u]=m}return l}},function(C,w){C.exports=function(l,m,f){var h=l.indexOf(m);if(-1===h||f<0||f>=l.length)throw new Error("Supplied index out of bounds");return h!==f&&(l.splice(h,1),l.splice(f,0,m)),m}},function(C,w){C.exports=function(l,m){var f=l.indexOf(m);if(-1!==f&&f<l.length-1){var h=l[f+1],u=l.indexOf(h);l[f]=h,l[u]=m}return l}},function(C,w){C.exports=function(l,m,f){if(m===f)return l;var h=l.indexOf(m),u=l.indexOf(f);if(h<0||u<0)throw new Error("Supplied items must be elements of the same array");return h>u||(l.splice(h,1),u===l.length-1?l.push(m):l.splice(u,0,m)),l}},function(C,w){C.exports=function(l,m,f){if(m===f)return l;var h=l.indexOf(m),u=l.indexOf(f);if(h<0||u<0)throw new Error("Supplied items must be elements of the same array");return h<u||(l.splice(h,1),0===u?l.unshift(m):l.splice(u,0,m)),l}},function(C,w,n){var l=n(363);C.exports=function(f,h,u){void 0===f&&(f=0),void 0===h&&(h=null),void 0===u&&(u=1),null===h&&(h=f,f=0);for(var s=[],o=Math.max(l((h-f)/(u||1)),0),d=0;d<o;d++)s.push(f),f+=u;return s}},function(C,w,n){var l=n(74);C.exports=function(f,h,u,s){if(void 0===s&&(s=f),h<0||h>f.length-1)throw new Error("Index out of bounds");var o=l(f,h);return u&&u.call(s,o),o}},function(C,w,n){var l=n(78);C.exports=function(f,h,u,s,o){if(void 0===h&&(h=0),void 0===u&&(u=f.length),void 0===o&&(o=f),l(f,h,u)){var a=f.splice(h,u-h);if(s)for(var c=0;c<a.length;c++)s.call(o,a[c]);return a}return[]}},function(C,w,n){var l=n(74);C.exports=function(f,h,u){void 0===h&&(h=0),void 0===u&&(u=f.length);var s=h+Math.floor(Math.random()*u);return l(f,s)}},function(C,w){C.exports=function(l,m,f){var h=l.indexOf(m),u=l.indexOf(f);return-1!==h&&-1===u&&(l[h]=f,!0)}},function(C,w){C.exports=function(l,m){var f=l.indexOf(m);return-1!==f&&f>0&&(l.splice(f,1),l.unshift(m)),m}},function(C,w,n){var l=n(78);C.exports=function(f,h,u,s,o){if(void 0===s&&(s=0),void 0===o&&(o=f.length),l(f,s,o))for(var d=s;d<o;d++){var a=f[d];a.hasOwnProperty(h)&&(a[h]=u)}return f}},function(C,w){C.exports=function(l,m,f){if(m===f)return l;var h=l.indexOf(m),u=l.indexOf(f);if(h<0||u<0)throw new Error("Supplied items must be elements of the same array");return l[h]=f,l[u]=m,l}},function(C,w,n){var l=n(0),m=n(211),f=n(24),h=n(20),u=new l({Extends:m,initialize:function(o){m.call(this),this.checkQueue=!0,this.scene=o,this.systems=o.sys,o.sys.events.once(h.BOOT,this.boot,this),o.sys.events.on(h.START,this.start,this)},boot:function(){this.systems.events.once(h.DESTROY,this.destroy,this)},start:function(){var s=this.systems.events;s.on(h.PRE_UPDATE,this.update,this),s.on(h.UPDATE,this.sceneUpdate,this),s.once(h.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(s,o){for(var d=this._active,a=d.length,c=0;c<a;c++){var p=d[c];p.active&&p.preUpdate.call(p,s,o)}},shutdown:function(){for(var s=this._active.length;s--;)this._active[s].destroy(!0);for(s=this._pending.length;s--;)this._pending[s].destroy(!0);for(s=this._destroy.length;s--;)this._destroy[s].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var o=this.systems.events;o.off(h.PRE_UPDATE,this.update,this),o.off(h.UPDATE,this.sceneUpdate,this),o.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});f.register("UpdateList",u,"updateList"),C.exports=u},function(C,w){C.exports="add"},function(C,w){C.exports="remove"},function(C,w){C.exports=function(l,m,f,h){if(void 0===f&&(f=!1),void 0===h)return{local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0};var G,ye,Ie,Ei,u=l.text,s=u.length,o=l.maxWidth,d=l.wordWrapCharCode,a=Number.MAX_VALUE,c=Number.MAX_VALUE,p=0,v=0,g=l.fontData.chars,x=l.fontData.lineHeight,T=l.letterSpacing,S=0,D=0,M=0,R=null,P=l._align,I=0,b=0,L=l.fontSize/l.fontData.size,B=L*l.scaleX,V=L*l.scaleY,z=null,W=0,K=[],J=Number.MAX_VALUE,tt=0,it=0,H=0,Y=[],X=[],$=null;if(o>0){for(G=0;G<s;G++)if(10!==(M=u.charCodeAt(G))){if(R=g[M]){if(null!==z)var Q=R.kerning[W];M===d?null!==$&&(Y.push({word:$.word,i:$.i,x:$.x*B,y:$.y*V,w:$.w*B,h:$.h*V,cr:!1}),$=null):(null===$&&($={word:"",i:G,x:S,y:D,w:0,h:x,cr:!1}),$.word=$.word.concat(u[G]),$.w+=R.xOffset+R.xAdvance+(void 0!==Q?Q:0)),S+=R.xAdvance+T,z=R,W=M}}else null!==$&&(Y.push({word:$.word,i:$.i,x:$.x*B,y:$.y*V,w:$.w*B,h:$.h*V,cr:!0}),$=null),S=0,D+=x,z=null;null!==$&&Y.push({word:$.word,i:$.i,x:$.x*B,y:$.y*V,w:$.w*B,h:$.h*V,cr:!1}),S=0,D=0,z=null,W=0;var _,et=0,ot=[];for(G=0;G<Y.length;G++){var lt=Y[G],ht=lt.x;_&&(et=ht-(ht-(_.x+_.w)+_.w),_=null),ht-et>o||lt.x+lt.w-et>o?(ot.push(lt.i-1),lt.cr?(ot.push(lt.i+lt.word.length),et=0,_=null):_=lt):lt.cr&&(ot.push(lt.i+lt.word.length),et=0,_=null)}for(G=ot.length-1;G>=0;G--)Ei="\n",u=(ye=u).substr(0,Ie=ot[G])+Ei+ye.substr(Ie+1);h.wrappedText=u,s=u.length,Y=[],$=null}var kt=0;for(G=0;G<s;G++)if(10!==(M=u.charCodeAt(G))){if(R=g[M]){if(I=S,null!==z){var Gt=R.kerning[W];I+=void 0!==Gt?Gt:0}a>I&&(a=I),c>(b=D)&&(c=b);var Bt=I+R.xAdvance,Tt=b+x;p<Bt&&(p=Bt),v<Tt&&(v=Tt);var ee=R.xOffset+R.xAdvance+(void 0!==Gt?Gt:0);M===d?null!==$&&(Y.push({word:$.word,i:$.i,x:$.x*B,y:$.y*V,w:$.w*B,h:$.h*V}),$=null):(null===$&&($={word:"",i:kt,x:S,y:D,w:0,h:x}),$.word=$.word.concat(u[G]),$.w+=ee),X.push({i:kt,char:u[G],code:M,x:(R.xOffset+S)*L,y:(R.yOffset+D)*L,w:R.width*L,h:R.height*L,t:D*L,r:Bt*L,b:x*L,line:it,glyph:R}),S+=R.xAdvance+T,z=R,W=M,H=Bt*L,kt++}}else null!==$&&(Y.push({word:$.word,i:$.i,x:$.x*B,y:$.y*V,w:$.w*B,h:$.h*V}),$=null),S=0,D+=x,z=null,K[it]=H,H>tt&&(tt=H),H<J&&(J=H),it++,H=0;if(null!==$&&Y.push({word:$.word,i:$.i,x:$.x*B,y:$.y*V,w:$.w*B,h:$.h*V}),K[it]=H,H>tt&&(tt=H),H<J&&(J=H),P>0)for(var bt=0;bt<X.length;bt++){var Ht=X[bt];if(1===P){var fi=(tt-K[Ht.line])/2;Ht.x+=fi,Ht.r+=fi}else if(2===P){var gi=tt-K[Ht.line];Ht.x+=gi,Ht.r+=gi}}var Ae=h.local,le=h.global,je=h.lines;return Ae.x=a*L,Ae.y=c*L,Ae.width=p*L,Ae.height=v*L,le.x=l.x-l._displayOriginX+a*B,le.y=l.y-l._displayOriginY+c*V,le.width=p*B,le.height=v*V,je.shortest=J,je.longest=tt,je.lengths=K,m&&(Ae.x=Math.ceil(Ae.x),Ae.y=Math.ceil(Ae.y),Ae.width=Math.ceil(Ae.width),Ae.height=Math.ceil(Ae.height),le.x=Math.ceil(le.x),le.y=Math.ceil(le.y),le.width=Math.ceil(le.width),le.height=Math.ceil(le.height),je.shortest=Math.ceil(J),je.longest=Math.ceil(tt)),f&&(l._displayOriginX=l.originX*Ae.width,l._displayOriginY=l.originY*Ae.height,le.x=l.x-l._displayOriginX*l.scaleX,le.y=l.y-l._displayOriginY*l.scaleY,m&&(le.x=Math.ceil(le.x),le.y=Math.ceil(le.y))),h.words=Y,h.characters=X,h.lines.height=x,h.scale=L,h.scaleX=l.scaleX,h.scaleY=l.scaleY,h}},function(C,w,n){var l=n(212);C.exports=function(f,h,u,s,o,d,a){var c=f.sys.textures.get(u),p=c.get(s),v=f.sys.cache.xml.get(o);if(p&&v){var g=l(v,p,d,a,c);return f.sys.cache.bitmapFont.add(h,{data:g,texture:u,frame:s,fromAtlas:!0}),!0}return!1}},function(C,w,n){var l=n(1),m=n(1);l=n(1046),m=n(1048),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w,n){var l=n(1047),m=n(19),f=n(12);C.exports=function(u,s,o,d){if(0!==s._text.length){o.addToRenderList(s);var V,z,W,p=u.pipelines.set(s.pipeline,s),v=m(s,o,d).calc,g=o.roundPixels,x=o.alpha,T=s.charColors,S=s.tintFill,D=f.getTintAppendFloatAlpha,M=D(s.tintTopLeft,x*s._alphaTL),R=D(s.tintTopRight,x*s._alphaTR),P=D(s.tintBottomLeft,x*s._alphaBL),I=D(s.tintBottomRight,x*s._alphaBR),b=s.frame.glTexture,L=p.setGameObject(s),K=s.getTextBounds(!1).characters,J=s.dropShadowX,tt=s.dropShadowY,it=0!==J||0!==tt;if(u.pipelines.preBatch(s),it){var H=s.dropShadowColor,G=s.dropShadowAlpha,Y=D(H,x*G*s._alphaTL),X=D(H,x*G*s._alphaTR),$=D(H,x*G*s._alphaBL),Q=D(H,x*G*s._alphaBR);for(V=0;V<K.length;V++)W=(z=K[V]).glyph,32!==z.code&&0!==W.width&&0!==W.height&&l(p,s,z,W,J,tt,v,g,Y,X,$,Q,1,b,L)}for(V=0;V<K.length;V++)if(W=(z=K[V]).glyph,32!==z.code&&0!==W.width&&0!==W.height)if(T[z.i]){var _=T[z.i],et=_.tintEffect,ot=D(_.tintTL,x*s._alphaTL),lt=D(_.tintTR,x*s._alphaTR),ht=D(_.tintBL,x*s._alphaBL),ft=D(_.tintBR,x*s._alphaBR);l(p,s,z,W,0,0,v,g,ot,lt,ht,ft,et,b,L)}else l(p,s,z,W,0,0,v,g,M,R,P,I,S,b,L);u.pipelines.postBatch(s)}}},function(C,w){C.exports=function(l,m,f,h,u,s,o,d,a,c,p,v,g,x,T){var S=f.x-m.displayOriginX+u,D=f.y-m.displayOriginY+s,M=S+f.w,R=D+f.h,P=o.getXRound(S,D,d),I=o.getYRound(S,D,d),b=o.getXRound(S,R,d),L=o.getYRound(S,R,d),B=o.getXRound(M,R,d),V=o.getYRound(M,R,d),z=o.getXRound(M,D,d),W=o.getYRound(M,D,d);l.batchQuad(m,P,I,b,L,B,V,z,W,h.u0,h.v0,h.u1,h.v1,a,c,p,v,g,x,T)}},function(C,w,n){var l=n(30);C.exports=function(f,h,u,s){var o=h._text,d=o.length,a=f.currentContext;if(0!==d&&l(f,a,h,u,s)){u.addToRenderList(h);var c=h.fromAtlas?h.frame:h.texture.frames.__BASE,p=h.fontData.chars,v=h.fontData.lineHeight,g=h._letterSpacing,x=0,T=0,S=0,D=null,M=0,R=0,P=0,I=0,b=0,L=0,B=null,V=0,z=c.source.image,W=c.cutX,K=c.cutY,J=h._fontSize/h.fontData.size,tt=h._align,it=0,H=0,G=h.getTextBounds(!1);h.maxWidth>0&&(d=(o=G.wrappedText).length);var Y=h._bounds.lines;1===tt?H=(Y.longest-Y.lengths[0])/2:2===tt&&(H=Y.longest-Y.lengths[0]),a.translate(-h.displayOriginX,-h.displayOriginY);for(var X=u.roundPixels,$=0;$<d;$++)if(10!==(S=o.charCodeAt($))){if(D=p[S]){if(M=W+D.x,R=K+D.y,I=D.height,b=D.xOffset+x,L=D.yOffset+T,null!==B){var Q=D.kerning[V];b+=void 0!==Q?Q:0}b*=J,L*=J,b+=H,x+=D.xAdvance+g,B=D,V=S,0!==(P=D.width)&&0!==I&&32!==S&&(X&&(b=Math.round(b),L=Math.round(L)),a.save(),a.translate(b,L),a.scale(J,J),a.drawImage(z,M,R,P,I,0,0,P,I),a.restore())}}else it++,1===tt?H=(Y.longest-Y.lengths[it])/2:2===tt&&(H=Y.longest-Y.lengths[it]),x=0,T+=v,B=null;a.restore()}}},function(C,w,n){var l=n(1),m=n(1);l=n(1050),m=n(1051),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w,n){var l=n(25),m=n(12),f=new l;C.exports=function(u,s,o,d){var a=s.getRenderList();if(0!==a.length){var c=o.alpha*s.alpha;if(0!==c){o.addToRenderList(s);var p=u.pipelines.set(this.pipeline,s),v=o.scrollX*s.scrollFactorX,g=o.scrollY*s.scrollFactorY,x=f.copyFrom(o.matrix);d&&(x.multiplyWithOffset(d,-v,-g),v=0,g=0);var T=s.x-v,S=s.y-g,D=-1,R=o.roundPixels;u.pipelines.preBatch(s);for(var P=0;P<a.length;P++){var I=a[P],b=I.frame,L=I.alpha*c;if(0!==L){var B=b.width,V=b.height,z=T+I.x+b.x,W=S+I.y+b.y;I.flipX&&(B*=-1,z+=b.width),I.flipY&&(V*=-1,W+=b.height);var K=z+B,J=W+V,tt=x.getX(z,W),it=x.getY(z,W),H=x.getX(K,J),G=x.getY(K,J),Y=m.getTintAppendFloatAlpha(I.tint,L);if(b.sourceIndex!==D){var X=p.setGameObject(s,b);D=b.sourceIndex}R&&(tt=Math.round(tt),it=Math.round(it),H=Math.round(H),G=Math.round(G)),p.batchQuad(s,tt,it,tt,G,H,G,H,it,b.u0,b.v0,b.u1,b.v1,Y,Y,Y,Y,false,b.glTexture,X)&&(D=-1)}}u.pipelines.postBatch(s)}}}},function(C,w){C.exports=function(l,m,f,h){var u=m.getRenderList();if(0!==u.length){var s=l.currentContext,o=f.alpha*m.alpha;if(0!==o){f.addToRenderList(m),s.globalCompositeOperation=l.blendModes[m.blendMode],s.imageSmoothingEnabled=!(!l.antialias||m.frame.source.scaleMode);var d=m.x-f.scrollX*m.scrollFactorX,a=m.y-f.scrollY*m.scrollFactorY;s.save(),h&&h.copyToContext(s);for(var c=f.roundPixels,p=0;p<u.length;p++){var v=u[p],g=v.flipX||v.flipY,x=v.frame,T=x.canvasData,S=x.x,D=x.y,M=1,R=1,P=v.alpha*o;0!==P&&(s.globalAlpha=P,g?(v.flipX&&(M=-1,S-=T.width),v.flipY&&(R=-1,D-=T.height),s.save(),s.translate(v.x+d,v.y+a),s.scale(M,R),s.drawImage(x.source.image,T.x,T.y,T.width,T.height,S,D,T.width,T.height),s.restore()):(c&&(S=Math.round(S),D=Math.round(D)),s.drawImage(x.source.image,T.x,T.y,T.width,T.height,S+v.x+d,D+v.y+a,T.width,T.height)))}s.restore()}}}},function(C,w,n){var l=n(1),m=n(1);l=n(1053),m=n(1054),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w){C.exports=function(l,m,f,h){f.addToRenderList(m);var u=m.list,s=u.length;if(0!==s){var o=m.localTransform;h?(o.loadIdentity(),o.multiply(h),o.translate(m.x,m.y),o.rotate(m.rotation),o.scale(m.scaleX,m.scaleY)):o.applyITRS(m.x,m.y,m.rotation,m.scaleX,m.scaleY),l.pipelines.preBatch(m);var d=-1!==m.blendMode;d||l.setBlendMode(0);for(var a=m.alpha,c=m.scrollFactorX,p=m.scrollFactorY,v=0;v<s;v++){var g=u[v];if(g.willRender(f)){var x,T,S,D;if(void 0!==g.alphaTopLeft)x=g.alphaTopLeft,T=g.alphaTopRight,S=g.alphaBottomLeft,D=g.alphaBottomRight;else{var M=g.alpha;x=M,T=M,S=M,D=M}var R=g.scrollFactorX,P=g.scrollFactorY;!d&&g.blendMode!==l.currentBlendMode&&l.setBlendMode(g.blendMode);var I=g.mask;I&&I.preRenderWebGL(l,g,f);var b=g.type;b!==l.currentType&&(l.newType=!0,l.currentType=b),l.nextTypeMatch=v<s-1&&u[v+1].type===l.currentType,g.setScrollFactor(R*c,P*p),g.setAlpha(x*a,T*a,S*a,D*a),g.renderWebGL(l,g,f,o),g.setAlpha(x,T,S,D),g.setScrollFactor(R,P),I&&I.postRenderWebGL(l,f),l.newType=!1}}l.pipelines.postBatch(m)}}},function(C,w){C.exports=function(l,m,f,h){f.addToRenderList(m);var u=m.list;if(0!==u.length){var s=m.localTransform;h?(s.loadIdentity(),s.multiply(h),s.translate(m.x,m.y),s.rotate(m.rotation),s.scale(m.scaleX,m.scaleY)):s.applyITRS(m.x,m.y,m.rotation,m.scaleX,m.scaleY);var o=-1!==m.blendMode;o||l.setBlendMode(0);var d=m._alpha,a=m.scrollFactorX,c=m.scrollFactorY;m.mask&&m.mask.preRenderCanvas(l,null,f);for(var p=0;p<u.length;p++){var v=u[p];if(v.willRender(f)){var g=v.alpha,x=v.scrollFactorX,T=v.scrollFactorY;!o&&v.blendMode!==l.currentBlendMode&&l.setBlendMode(v.blendMode),v.setScrollFactor(x*a,T*c),v.setAlpha(g*d),v.renderCanvas(l,v,f,s),v.setAlpha(g),v.setScrollFactor(x,T)}}m.mask&&m.mask.postRenderCanvas(l)}}},function(C,w,n){var l=n(1),m=n(1);l=n(443),m=n(443),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w){C.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},function(C,w,n){var l=n(1),m=n(1);l=n(1058),m=n(1059),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w,n){var l=n(19),m=n(25),f=n(12),h=new m;C.exports=function(s,o,d,a){var c=o.text,p=c.length;if(0!==p){d.addToRenderList(o);var v=s.pipelines.set(o.pipeline,o),g=l(o,d,a),x=g.sprite,T=g.calc,S=h,D=o.cropWidth>0||o.cropHeight>0;D&&(v.flush(),s.pushScissor(T.tx,T.ty,o.cropWidth*T.scaleX,o.cropHeight*T.scaleY));var it,Y,R=o.frame.glTexture,P=o.tintFill,I=f.getTintAppendFloatAlpha(o.tintTopLeft,d.alpha*o._alphaTL),b=f.getTintAppendFloatAlpha(o.tintTopRight,d.alpha*o._alphaTR),L=f.getTintAppendFloatAlpha(o.tintBottomLeft,d.alpha*o._alphaBL),B=f.getTintAppendFloatAlpha(o.tintBottomRight,d.alpha*o._alphaBR),V=v.setGameObject(o),z=0,W=0,K=0,J=0,tt=o.letterSpacing,H=0,G=0,X=o.scrollX,$=o.scrollY,Q=o.fontData,_=Q.chars,et=Q.lineHeight,ot=o.fontSize/Q.size,lt=0,ht=o._align,ft=0,gt=0,Et=o.getTextBounds(!1);o.maxWidth>0&&(p=(c=Et.wrappedText).length);var Ct=o._bounds.lines;1===ht?gt=(Ct.longest-Ct.lengths[0])/2:2===ht&&(gt=Ct.longest-Ct.lengths[0]);var Mt=d.roundPixels,kt=o.displayCallback,Gt=o.callbackData;s.pipelines.preBatch(o);for(var Bt=0;Bt<p;Bt++)if(10!==(K=c.charCodeAt(Bt))){if(it=_[K]){G=it.height;var Tt=it.xOffset+z-X,ee=it.yOffset+W-$;if(null!==Y){var bt=it.kerning[J];Tt+=void 0!==bt?bt:0}if(z+=it.xAdvance+tt,Y=it,J=K,0!==(H=it.width)&&0!==G&&32!==K){if(ot=o.fontSize/o.fontData.size,lt=0,kt){Gt.color=0,Gt.tint.topLeft=I,Gt.tint.topRight=b,Gt.tint.bottomLeft=L,Gt.tint.bottomRight=B,Gt.index=Bt,Gt.charCode=K,Gt.x=Tt,Gt.y=ee,Gt.scale=ot,Gt.rotation=lt,Gt.data=it.data;var Ht=kt(Gt);Tt=Ht.x,ee=Ht.y,ot=Ht.scale,lt=Ht.rotation,Ht.color?(I=Ht.color,b=Ht.color,L=Ht.color,B=Ht.color):(I=Ht.tint.topLeft,b=Ht.tint.topRight,L=Ht.tint.bottomLeft,B=Ht.tint.bottomRight),I=f.getTintAppendFloatAlpha(I,d.alpha*o._alphaTL),b=f.getTintAppendFloatAlpha(b,d.alpha*o._alphaTR),L=f.getTintAppendFloatAlpha(L,d.alpha*o._alphaBL),B=f.getTintAppendFloatAlpha(B,d.alpha*o._alphaBR)}Tt*=ot,ee*=ot,Tt-=o.displayOriginX,S.applyITRS(Tt+=gt,ee-=o.displayOriginY,lt,ot,ot),T.multiply(S,x);var fi=it.u0,gi=it.v0,Ae=it.u1,le=it.v1,Ie=x.e,Ei=x.f,mn=G*x.c+x.e,Un=G*x.d+x.f,yn=H*x.a+G*x.c+x.e,Hn=H*x.b+G*x.d+x.f,zn=H*x.a+x.e,Wn=H*x.b+x.f;Mt&&(Ie=Math.round(Ie),Ei=Math.round(Ei),mn=Math.round(mn),Un=Math.round(Un),yn=Math.round(yn),Hn=Math.round(Hn),zn=Math.round(zn),Wn=Math.round(Wn)),v.batchQuad(o,Ie,Ei,mn,Un,yn,Hn,zn,Wn,fi,gi,Ae,le,I,b,L,B,P,R,V)}}}else ft++,1===ht?gt=(Ct.longest-Ct.lengths[ft])/2:2===ht&&(gt=Ct.longest-Ct.lengths[ft]),z=0,W+=et,Y=null;D&&(v.flush(),s.popScissor()),s.pipelines.postBatch(o)}}},function(C,w,n){var l=n(30);C.exports=function(f,h,u,s){var o=h._text,d=o.length,a=f.currentContext;if(0!==d&&l(f,a,h,u,s)){u.addToRenderList(h);var c=h.fromAtlas?h.frame:h.texture.frames.__BASE,p=h.displayCallback,v=h.callbackData,g=h.fontData.chars,x=h.fontData.lineHeight,T=h._letterSpacing,S=0,D=0,M=0,R=null,P=0,I=0,b=0,L=0,B=0,V=0,z=null,W=0,K=h.frame.source.image,J=c.cutX,tt=c.cutY,it=0,H=0,G=h._fontSize/h.fontData.size,Y=h._align,X=0,$=0;h.getTextBounds(!1);var Q=h._bounds.lines;1===Y?$=(Q.longest-Q.lengths[0])/2:2===Y&&($=Q.longest-Q.lengths[0]),a.translate(-h.displayOriginX,-h.displayOriginY);var _=u.roundPixels;h.cropWidth>0&&h.cropHeight>0&&(a.beginPath(),a.rect(0,0,h.cropWidth,h.cropHeight),a.clip());for(var et=0;et<d;et++)if(H=G,it=0,10!==(M=o.charCodeAt(et))){if(R=g[M]){if(P=J+R.x,I=tt+R.y,b=R.width,L=R.height,B=R.xOffset+S-h.scrollX,V=R.yOffset+D-h.scrollY,null!==z){var ot=R.kerning[W];B+=void 0!==ot?ot:0}if(p){v.index=et,v.charCode=M,v.x=B,v.y=V,v.scale=H,v.rotation=it,v.data=R.data;var lt=p(v);B=lt.x,V=lt.y,H=lt.scale,it=lt.rotation}B*=H,V*=H,B+=$,S+=R.xAdvance+T,z=R,W=M,0!==b&&0!==L&&32!==M&&(_&&(B=Math.round(B),V=Math.round(V)),a.save(),a.translate(B,V),a.rotate(it),a.scale(H,H),a.drawImage(K,P,I,b,L,0,0,b,L),a.restore())}}else X++,1===Y?$=(Q.longest-Q.lengths[X])/2:2===Y&&($=Q.longest-Q.lengths[X]),S=0,D+=x,z=null;a.restore()}}},function(C,w,n){var l=n(1),m=n(1);l=n(1061),m=n(1062),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w,n){var l=n(19);C.exports=function(f,h,u,s){f.pipelines.clear();var o=l(h,u,s).calc;h.render.call(h,f,u,o),f.pipelines.rebind()}},function(C,w){},function(C,w,n){var l=n(1),m=n(1);l=n(1064),n(448),m=n(448),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w,n){var l=n(217),m=n(19),f=n(25),h=n(12),u=function(c,p,v){this.x=c,this.y=p,this.width=v},s=function(c,p,v){this.points=[],this.pointsLength=1,this.points[0]=new u(c,p,v)},o=[],d=new f;C.exports=function(c,p,v,g){if(0!==p.commandBuffer.length){v.addToRenderList(p);var x=c.pipelines.set(p.pipeline,p);c.pipelines.preBatch(p);for(var W,T=m(p,v,g).calc,S=d.loadIdentity(),D=p.commandBuffer,M=v.alpha*p.alpha,R=1,P=x.fillTint,I=x.strokeTint,b=0,L=0,B=0,z=2*Math.PI,K=[],J=0,tt=!0,it=null,H=h.getTintAppendFloatAlpha,G=0;G<D.length;G++)switch(W=D[G],W){case l.BEGIN_PATH:K.length=0,it=null,tt=!0;break;case l.CLOSE_PATH:tt=!1,it&&it.points.length&&it.points.push(it.points[0]);break;case l.FILL_PATH:for(J=0;J<K.length;J++)x.batchFillPath(K[J].points,S,T);break;case l.STROKE_PATH:for(J=0;J<K.length;J++)x.batchStrokePath(K[J].points,R,tt,S,T);break;case l.LINE_STYLE:R=D[++G];var $=H(D[++G],D[++G]*M);I.TL=$,I.TR=$,I.BL=$,I.BR=$;break;case l.FILL_STYLE:var et=H(D[++G],D[++G]*M);P.TL=et,P.TR=et,P.BL=et,P.BR=et;break;case l.GRADIENT_FILL_STYLE:var ot=D[++G]*M,lt=D[++G]*M,ht=D[++G]*M,ft=D[++G]*M;P.TL=H(D[++G],ot),P.TR=H(D[++G],lt),P.BL=H(D[++G],ht),P.BR=H(D[++G],ft);break;case l.GRADIENT_LINE_STYLE:R=D[++G];var gt=D[++G]*M;I.TL=H(D[++G],gt),I.TR=H(D[++G],gt),I.BL=H(D[++G],gt),I.BR=H(D[++G],gt);break;case l.ARC:var Et=0,Ct=D[++G],Mt=D[++G],kt=D[++G],Gt=D[++G],Bt=D[++G],Tt=D[++G],ee=D[++G];for(Bt-=Gt,Tt?Bt<-z?Bt=-z:Bt>0&&(Bt=Bt%z-z):Bt>z?Bt=z:Bt<0&&(Bt=z+Bt%z),null===it&&(it=new s(Ct+Math.cos(Gt)*kt,Mt+Math.sin(Gt)*kt,R),K.push(it),Et+=.01);Et<1+ee;)B=Bt*Et+Gt,b=Ct+Math.cos(B)*kt,L=Mt+Math.sin(B)*kt,it.points.push(new u(b,L,R)),Et+=.01;B=Bt+Gt,b=Ct+Math.cos(B)*kt,L=Mt+Math.sin(B)*kt,it.points.push(new u(b,L,R));break;case l.FILL_RECT:x.batchFillRect(D[++G],D[++G],D[++G],D[++G],S,T);break;case l.FILL_TRIANGLE:x.batchFillTriangle(D[++G],D[++G],D[++G],D[++G],D[++G],D[++G],S,T);break;case l.STROKE_TRIANGLE:x.batchStrokeTriangle(D[++G],D[++G],D[++G],D[++G],D[++G],D[++G],R,S,T);break;case l.LINE_TO:null!==it?it.points.push(new u(D[++G],D[++G],R)):(it=new s(D[++G],D[++G],R),K.push(it));break;case l.MOVE_TO:it=new s(D[++G],D[++G],R),K.push(it);break;case l.SAVE:o.push(S.copyToArray());break;case l.RESTORE:S.copyFromArray(o.pop());break;case l.TRANSLATE:Ct=D[++G],Mt=D[++G],S.translate(Ct,Mt);break;case l.SCALE:Ct=D[++G],Mt=D[++G],S.scale(Ct,Mt);break;case l.ROTATE:S.rotate(D[++G])}c.pipelines.postBatch(p)}}},function(C,w,n){var l=n(1),m=n(1);l=n(1066),m=n(1067),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w){C.exports=function(l,m,f,h){f.addToRenderList(m),m.pipeline.batchSprite(m,f,h)}},function(C,w){C.exports=function(l,m,f,h){f.addToRenderList(m),l.batchSprite(m,m.frame,f,h)}},function(C,w,n){var l=n(1),m=n(1);l=n(1069),m=n(1070),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w){C.exports=function(l,m,f,h){f.addToRenderList(m),this.pipeline.batchSprite(m,f,h)}},function(C,w){C.exports=function(l,m,f,h){f.addToRenderList(m),l.batchSprite(m,m.frame,f,h)}},function(C,w,n){var l=n(1),m=n(1);l=n(1072),m=n(1073),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w){C.exports=function(l,m,f){var h=m.list,u=h.length;if(0!==u){m.depthSort(),l.pipelines.preBatch(m);var s=-1!==m.blendMode;s||l.setBlendMode(0);for(var o=m.alpha,d=0;d<u;d++){var a=h[d];if(a.willRender(f)){var c,p,v,g;if(void 0!==a.alphaTopLeft)c=a.alphaTopLeft,p=a.alphaTopRight,v=a.alphaBottomLeft,g=a.alphaBottomRight;else{var x=a.alpha;c=x,p=x,v=x,g=x}!s&&a.blendMode!==l.currentBlendMode&&l.setBlendMode(a.blendMode);var T=a.mask;T&&T.preRenderWebGL(l,a,f);var S=a.type;S!==l.currentType&&(l.newType=!0,l.currentType=S),l.nextTypeMatch=d<u-1&&h[d+1].type===l.currentType,a.setAlpha(c*o,p*o,v*o,g*o),a.renderWebGL(l,a,f),a.setAlpha(c,p,v,g),T&&T.postRenderWebGL(l,f),l.newType=!1}}l.pipelines.postBatch(m)}}},function(C,w){C.exports=function(l,m,f){var h=m.list;if(0!==h.length){m.depthSort();var u=-1!==m.blendMode;u||l.setBlendMode(0);var s=m._alpha;m.mask&&m.mask.preRenderCanvas(l,null,f);for(var o=0;o<h.length;o++){var d=h[o];if(d.willRender(f)){var a=d.alpha;!u&&d.blendMode!==l.currentBlendMode&&l.setBlendMode(d.blendMode),d.setAlpha(a*s),d.renderCanvas(l,d,f),d.setAlpha(a)}}m.mask&&m.mask.postRenderCanvas(l)}}},function(C,w,n){C.exports={EmitterOp:n(449),GravityWell:n(450),Particle:n(451),ParticleEmitter:n(452),ParticleEmitterManager:n(220),Zones:n(1078)}},function(C,w,n){var l=n(1),m=n(1);l=n(1076),m=n(1077),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w,n){var l=n(25),m=n(12),f=new l,h=new l,u=new l,s=new l;C.exports=function(d,a,c,p){var v=a.emitters.list,g=v.length;if(0!==g){var x=d.pipelines.set(a.pipeline),T=f,S=h,D=u,M=s;p?(M.loadIdentity(),M.multiply(p),M.translate(a.x,a.y),M.rotate(a.rotation),M.scale(a.scaleX,a.scaleY)):M.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);var R=c.roundPixels,P=a.defaultFrame.glTexture,I=m.getTintAppendFloatAlpha,b=x.setGameObject(a,a.defaultFrame);d.pipelines.preBatch(a);for(var L=0;L<g;L++){var B=v[L],V=B.alive,z=V.length;if(B.visible&&0!==z){c.addToRenderList(B);var W=B.scrollFactorX,K=B.scrollFactorY;d.setBlendMode(B.blendMode),B.mask&&(B.mask.preRenderWebGL(d,B,c),d.pipelines.set(a.pipeline));for(var tt=0;tt<z;tt++){var it=V[tt],H=it.alpha*c.alpha;if(!(H<=0)){D.applyITRS(it.x,it.y,it.rotation,it.scaleX,it.scaleY),T.copyFrom(c.matrix),T.multiplyWithOffset(M,-c.scrollX*W,-c.scrollY*K),D.e=it.x,D.f=it.y,T.multiply(D,S);var G=it.frame,Y=-G.halfWidth,X=-G.halfHeight,$=Y+G.width,Q=X+G.height,_=S.getXRound(Y,X,R),et=S.getYRound(Y,X,R),ot=S.getXRound(Y,Q,R),lt=S.getYRound(Y,Q,R),ht=S.getXRound($,Q,R),ft=S.getYRound($,Q,R),gt=S.getXRound($,X,R),Et=S.getYRound($,X,R),Ct=I(it.tint,H);x.batchQuad(B,_,et,ot,lt,ht,ft,gt,Et,G.u0,G.v0,G.u1,G.v1,Ct,Ct,Ct,Ct,0,P,b)}}B.mask&&B.mask.postRenderWebGL(d,c)}}d.pipelines.postBatch(a)}}},function(C,w,n){var l=n(25),m=new l,f=new l,h=new l,u=new l;C.exports=function(o,d,a,c){var p=d.emitters.list,v=p.length;if(0!==v){var g=m.copyFrom(a.matrix),x=f,T=h,S=u;c?(S.loadIdentity(),S.multiply(c),S.translate(d.x,d.y),S.rotate(d.rotation),S.scale(d.scaleX,d.scaleY)):S.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY);for(var D=o.currentContext,M=a.roundPixels,R=0;R<v;R++){var P=p[R],I=P.alive,b=I.length;if(P.visible&&0!==b){a.addToRenderList(P);var L=P.scrollFactorX,B=P.scrollFactorY;D.save(),D.globalCompositeOperation=o.blendModes[P.blendMode];for(var V=0;V<b;V++){var z=I[V],W=z.alpha*a.alpha;if(!(W<=0)){T.applyITRS(z.x,z.y,z.rotation,z.scaleX,z.scaleY),g.copyFrom(a.matrix),g.multiplyWithOffset(S,-a.scrollX*L,-a.scrollY*B),T.e=z.x,T.f=z.y,g.multiply(T,x);var K=z.frame,J=K.canvasData,tt=-K.halfWidth,it=-K.halfHeight;D.globalAlpha=W,D.save(),x.setToContext(D),M&&(tt=Math.round(tt),it=Math.round(it)),D.imageSmoothingEnabled=!(!o.antialias||K.source.scaleMode),D.drawImage(K.source.image,J.x,J.y,J.width,J.height,tt,it,J.width,J.height),D.restore()}}D.restore()}}}}},function(C,w,n){C.exports={DeathZone:n(453),EdgeZone:n(454),RandomZone:n(456)}},function(C,w,n){var l=n(1),m=n(1);l=n(1080),m=n(1081),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w,n){var l=n(12);C.exports=function(f,h,u,s){u.addToRenderList(h);var o=u.alpha,d=h.renderTarget,a=d.width,c=d.height,p=l.getTintAppendFloatAlpha,v=f.pipelines.set(h.pipeline),g=v.setTexture2D(d.texture);f.pipelines.preBatch(h),v.batchTexture(h,d.texture,a,c,h.x,h.y,a,c,h.scaleX,h.scaleY,h.rotation,h.flipX,!h.flipY,h.scrollFactorX,h.scrollFactorY,h.displayOriginX,h.displayOriginY,0,0,a,c,p(h.tintTopLeft,o*h._alphaTL),p(h.tintTopRight,o*h._alphaTR),p(h.tintBottomLeft,o*h._alphaBL),p(h.tintBottomRight,o*h._alphaBR),h.tintFill,0,0,u,s,!0,g),f.resetTextures(),f.pipelines.postBatch(h)}},function(C,w){C.exports=function(l,m,f,h){f.addToRenderList(m),l.batchSprite(m,m.frame,f,h)}},function(C,w,n){var l=n(1083),m=n(17),f={Parse:n(1084)};f=m(!1,f,l),C.exports=f},function(C,w){C.exports={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:"ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ",TEXT_SET7:"AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39",TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:"ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!",TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789"}},function(C,w,n){var l=n(6);C.exports=function(f,h){var u=h.width,s=h.height,o=Math.floor(u/2),d=Math.floor(s/2),a=l(h,"chars","");if(""!==a){var c=l(h,"image",""),p=f.sys.textures.getFrame(c),v=p.cutX,g=p.cutY,x=p.source.width,T=p.source.height,S=l(h,"offset.x",0),D=l(h,"offset.y",0),M=l(h,"spacing.x",0),R=l(h,"spacing.y",0),P=l(h,"lineSpacing",0),I=l(h,"charsPerRow",null);null===I&&(I=x/u)>a.length&&(I=a.length);for(var b=S,L=D,B={retroFont:!0,font:c,size:u,lineHeight:s+P,chars:{}},V=0,z=0;z<a.length;z++){var W=a.charCodeAt(z);B.chars[W]={x:b,y:L,width:u,height:s,centerX:o,centerY:d,xOffset:0,yOffset:0,xAdvance:u,data:{},kerning:{},u0:(v+b)/x,v0:(g+L)/T,u1:(v+b+u)/x,v1:(g+L+s)/T},++V===I?(V=0,b=S,L+=s+R):b+=u+M}return{data:B,frame:null,texture:c}}}},function(C,w,n){var l=n(1),m=n(1);l=n(1086),m=n(1087),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w,n){var l=n(19),m=n(12);C.exports=function(h,u,s,o){s.addToRenderList(u);var d=h.pipelines.set(u.pipeline,u),a=l(u,s,o).calc,c=u.vertices,p=u.uv,v=u.colors,g=u.alphas,x=u.alpha,T=m.getTintAppendFloatAlpha,S=s.roundPixels,D=c.length,M=Math.floor(.5*D);d.flush(),h.pipelines.preBatch(u);var R=d.setGameObject(u),P=d.vertexViewF32,I=d.vertexViewU32,b=d.vertexCount*d.currentShader.vertexComponentCount-1,L=0,B=u.tintFill;u.dirty&&u.updateVertices();for(var V=u.debugCallback,z=[],W=0;W<D;W+=2){var K=c[W+0],J=c[W+1],tt=K*a.a+J*a.c+a.e,it=K*a.b+J*a.d+a.f;S&&(tt=Math.round(tt),it=Math.round(it)),P[++b]=tt,P[++b]=it,P[++b]=p[W+0],P[++b]=p[W+1],P[++b]=R,P[++b]=B,I[++b]=T(v[L],s.alpha*(g[L]*x)),L++,V&&(z[W+0]=tt,z[W+1]=it)}V&&V.call(u,u,D,z),d.vertexCount+=M,h.pipelines.postBatch(u)}},function(C,w){C.exports=function(){}},function(C,w,n){var l=n(1),m=n(1);l=n(1089),m=n(1090),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w,n){var l=n(12);C.exports=function(f,h,u,s){if(0!==h.width&&0!==h.height){u.addToRenderList(h);var o=h.frame,d=o.width,a=o.height,c=l.getTintAppendFloatAlpha,p=f.pipelines.set(h.pipeline,h),v=p.setTexture2D(o.glTexture,h);f.pipelines.preBatch(h),p.batchTexture(h,o.glTexture,d,a,h.x,h.y,d/h.style.resolution,a/h.style.resolution,h.scaleX,h.scaleY,h.rotation,h.flipX,h.flipY,h.scrollFactorX,h.scrollFactorY,h.displayOriginX,h.displayOriginY,0,0,d,a,c(h.tintTopLeft,u.alpha*h._alphaTL),c(h.tintTopRight,u.alpha*h._alphaTR),c(h.tintBottomLeft,u.alpha*h._alphaBL),c(h.tintBottomRight,u.alpha*h._alphaBR),h.tintFill,0,0,u,s,!1,v),f.pipelines.postBatch(h)}}},function(C,w){C.exports=function(l,m,f,h){0===m.width||0===m.height||(f.addToRenderList(m),l.batchSprite(m,m.frame,f,h))}},function(C,w,n){var l=n(1),m=n(1);l=n(1092),m=n(1093),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w,n){var l=n(12);C.exports=function(f,h,u,s){h.updateCanvas();var o=h.width,d=h.height;if(0!==o&&0!==d){u.addToRenderList(h),f.pipelines.preBatch(h);var a=l.getTintAppendFloatAlpha,c=f.pipelines.set(h.pipeline,h),p=c.setTexture2D(h.fillPattern,h);c.batchTexture(h,h.fillPattern,h.displayFrame.width*h.tileScaleX,h.displayFrame.height*h.tileScaleY,h.x,h.y,o,d,h.scaleX,h.scaleY,h.rotation,h.flipX,h.flipY,h.scrollFactorX,h.scrollFactorY,h.originX*o,h.originY*d,0,0,o,d,a(h.tintTopLeft,u.alpha*h._alphaTL),a(h.tintTopRight,u.alpha*h._alphaTR),a(h.tintBottomLeft,u.alpha*h._alphaBL),a(h.tintBottomRight,u.alpha*h._alphaBR),h.tintFill,h.tilePositionX%h.displayFrame.width/h.displayFrame.width,h.tilePositionY%h.displayFrame.height/h.displayFrame.height,u,s,!1,p),f.pipelines.postBatch(h)}}},function(C,w){C.exports=function(l,m,f,h){m.updateCanvas(),f.addToRenderList(m),l.batchSprite(m,m.frame,f,h)}},function(C,w,n){var l=n(1),m=n(1);l=n(1095),m=n(1096),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w){C.exports=function(l,m,f,h){m.videoTexture&&(f.addToRenderList(m),m.pipeline.batchSprite(m,f,h))}},function(C,w){C.exports=function(l,m,f,h){m.videoTexture&&(f.addToRenderList(m),l.batchSprite(m,m.frame,f,h))}},function(C,w,n){var l=n(1),m=n(1);l=n(1098),m=n(1099),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w,n){var l=n(19),m=n(114),f=n(81);C.exports=function(u,s,o,d){o.addToRenderList(s);var a=u.pipelines.set(s.pipeline),c=l(s,o,d),p=a.calcMatrix.copyFrom(c.calc),v=s._displayOriginX,g=s._displayOriginY,x=o.alpha*s.alpha;u.pipelines.preBatch(s),s.isFilled&&m(a,p,s,x,v,g),s.isStroked&&f(a,s,x,v,g),u.pipelines.postBatch(s)}},function(C,w,n){var l=n(36),m=n(48),f=n(60),h=n(30);C.exports=function(s,o,d,a){d.addToRenderList(o);var c=s.currentContext;if(h(s,c,o,d,a)){var p=o.radius;c.beginPath(),c.arc(p-o.originX*(2*p),p-o.originY*(2*p),p,l(o._startAngle),l(o._endAngle),o.anticlockwise),o.closePath&&c.closePath(),o.isFilled&&(m(c,o),c.fill()),o.isStroked&&(f(c,o),c.stroke()),c.restore()}}},function(C,w,n){var l=n(1),m=n(1);l=n(1101),m=n(1102),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w,n){var l=n(114),m=n(19),f=n(81);C.exports=function(u,s,o,d){o.addToRenderList(s);var a=u.pipelines.set(s.pipeline),c=m(s,o,d),p=a.calcMatrix.copyFrom(c.calc),v=s._displayOriginX+s._curveBounds.x,g=s._displayOriginY+s._curveBounds.y,x=o.alpha*s.alpha;u.pipelines.preBatch(s),s.isFilled&&l(a,p,s,x,v,g),s.isStroked&&f(a,s,x,v,g),u.pipelines.postBatch(s)}},function(C,w,n){var l=n(48),m=n(60),f=n(30);C.exports=function(u,s,o,d){o.addToRenderList(s);var a=u.currentContext;if(f(u,a,s,o,d)){var c=s._displayOriginX+s._curveBounds.x,p=s._displayOriginY+s._curveBounds.y,v=s.pathData,g=v.length-1,x=v[0]-c,T=v[1]-p;a.beginPath(),a.moveTo(x,T),s.closePath||(g-=2);for(var S=2;S<g;S+=2)a.lineTo(v[S]-c,v[S+1]-p);s.closePath&&a.closePath(),s.isFilled&&(l(a,s),a.fill()),s.isStroked&&(m(a,s),a.stroke()),a.restore()}}},function(C,w,n){var l=n(1),m=n(1);l=n(1104),m=n(1105),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w,n){var l=n(114),m=n(19),f=n(81);C.exports=function(u,s,o,d){o.addToRenderList(s);var a=u.pipelines.set(s.pipeline),c=m(s,o,d),p=a.calcMatrix.copyFrom(c.calc),v=s._displayOriginX,g=s._displayOriginY,x=o.alpha*s.alpha;u.pipelines.preBatch(s),s.isFilled&&l(a,p,s,x,v,g),s.isStroked&&f(a,s,x,v,g),u.pipelines.postBatch(s)}},function(C,w,n){var l=n(48),m=n(60),f=n(30);C.exports=function(u,s,o,d){o.addToRenderList(s);var a=u.currentContext;if(f(u,a,s,o,d)){var c=s._displayOriginX,p=s._displayOriginY,v=s.pathData,g=v.length-1,x=v[0]-c,T=v[1]-p;a.beginPath(),a.moveTo(x,T),s.closePath||(g-=2);for(var S=2;S<g;S+=2)a.lineTo(v[S]-c,v[S+1]-p);a.closePath(),s.isFilled&&(l(a,s),a.fill()),s.isStroked&&(m(a,s),a.stroke()),a.restore()}}},function(C,w,n){var l=n(1),m=n(1);l=n(1107),m=n(1108),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w,n){var l=n(19),m=n(12);C.exports=function(h,u,s,o){s.addToRenderList(u);var d=h.pipelines.set(u.pipeline),a=l(u,s,o);d.calcMatrix.copyFrom(a.calc).translate(-u._displayOriginX,-u._displayOriginY);var b,L,p=s.alpha*u.alpha,v=u.width,g=u.height,x=u.cellWidth,T=u.cellHeight,S=Math.ceil(v/x),D=Math.ceil(g/T),M=x,R=T,P=x-(S*x-v),I=T-(D*T-g),B=u.showCells,V=u.showAltCells,z=u.showOutline,W=0,K=0,J=0;if(z&&(M--,R--,P===x&&P--,I===T&&I--),h.pipelines.preBatch(u),B&&u.fillAlpha>0)for(b=d.fillTint,L=m.getTintAppendFloatAlpha(u.fillColor,u.fillAlpha*p),b.TL=L,b.TR=L,b.BL=L,b.BR=L,K=0;K<D;K++)for(V&&(J=K%2),W=0;W<S;W++)V&&J?J=0:(J++,d.batchFillRect(W*x,K*T,W<S-1?M:P,K<D-1?R:I));if(V&&u.altFillAlpha>0)for(b=d.fillTint,L=m.getTintAppendFloatAlpha(u.altFillColor,u.altFillAlpha*p),b.TL=L,b.TR=L,b.BL=L,b.BR=L,K=0;K<D;K++)for(V&&(J=K%2),W=0;W<S;W++)!V||J?(J=0,d.batchFillRect(W*x,K*T,W<S-1?M:P,K<D-1?R:I)):J=1;if(z&&u.outlineFillAlpha>0){var H=d.strokeTint,G=m.getTintAppendFloatAlpha(u.outlineFillColor,u.outlineFillAlpha*p);for(H.TL=G,H.TR=G,H.BL=G,H.BR=G,W=1;W<S;W++){var Y=W*x;d.batchLine(Y,0,Y,g,1,1,1,0,!1)}for(K=1;K<D;K++){var X=K*T;d.batchLine(0,X,v,X,1,1,1,0,!1)}}h.pipelines.postBatch(u)}},function(C,w,n){var l=n(48),m=n(60),f=n(30);C.exports=function(u,s,o,d){o.addToRenderList(s);var a=u.currentContext;if(f(u,a,s,o,d)){var c=-s._displayOriginX,p=-s._displayOriginY,v=o.alpha*s.alpha,g=s.width,x=s.height,T=s.cellWidth,S=s.cellHeight,D=Math.ceil(g/T),M=Math.ceil(x/S),R=T,P=S,I=T-(D*T-g),b=S-(M*S-x),B=s.showAltCells,V=s.showOutline,z=0,W=0,K=0;if(V&&(R--,P--,I===T&&I--,b===S&&b--),s.showCells&&s.fillAlpha>0)for(l(a,s),W=0;W<M;W++)for(B&&(K=W%2),z=0;z<D;z++)B&&K?K=0:(K++,a.fillRect(c+z*T,p+W*S,z<D-1?R:I,W<M-1?P:b));if(B&&s.altFillAlpha>0)for(l(a,s,s.altFillColor,s.altFillAlpha*v),W=0;W<M;W++)for(B&&(K=W%2),z=0;z<D;z++)!B||K?(K=0,a.fillRect(c+z*T,p+W*S,z<D-1?R:I,W<M-1?P:b)):K=1;if(V&&s.outlineFillAlpha>0){for(m(a,s,s.outlineFillColor,s.outlineFillAlpha*v),z=1;z<D;z++){var it=z*T;a.beginPath(),a.moveTo(it+c,p),a.lineTo(it+c,x+p),a.stroke()}for(W=1;W<M;W++){var H=W*S;a.beginPath(),a.moveTo(c,H+p),a.lineTo(c+g,H+p),a.stroke()}}a.restore()}}},function(C,w,n){var l=n(1),m=n(1);l=n(1110),m=n(1111),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w,n){var l=n(19),m=n(12);C.exports=function(h,u,s,o){s.addToRenderList(u);var S,D,M,R,P,I,b,L,B,d=h.pipelines.set(u.pipeline),a=l(u,s,o),c=d.calcMatrix.copyFrom(a.calc),p=u.width,v=u.height,g=p/2,x=p/u.projection,T=s.alpha*u.alpha;u.isFilled&&(h.pipelines.preBatch(u),u.showTop&&(S=m.getTintAppendFloatAlpha(u.fillTop,T),D=c.getX(-g,-v),M=c.getY(-g,-v),R=c.getX(0,-x-v),P=c.getY(0,-x-v),I=c.getX(g,-v),b=c.getY(g,-v),L=c.getX(0,x-v),B=c.getY(0,x-v),d.batchQuad(u,D,M,R,P,I,b,L,B,0,0,1,1,S,S,S,S,2)),u.showLeft&&(S=m.getTintAppendFloatAlpha(u.fillLeft,T),D=c.getX(-g,0),M=c.getY(-g,0),R=c.getX(0,x),P=c.getY(0,x),I=c.getX(0,x-v),b=c.getY(0,x-v),L=c.getX(-g,-v),B=c.getY(-g,-v),d.batchQuad(u,D,M,R,P,I,b,L,B,0,0,1,1,S,S,S,S,2)),u.showRight&&(S=m.getTintAppendFloatAlpha(u.fillRight,T),D=c.getX(g,0),M=c.getY(g,0),R=c.getX(0,x),P=c.getY(0,x),I=c.getX(0,x-v),b=c.getY(0,x-v),L=c.getX(g,-v),B=c.getY(g,-v),d.batchQuad(u,D,M,R,P,I,b,L,B,0,0,1,1,S,S,S,S,2)),h.pipelines.postBatch(u))}},function(C,w,n){var l=n(48),m=n(30);C.exports=function(h,u,s,o){s.addToRenderList(u);var d=h.currentContext;if(m(h,d,u,s,o)&&u.isFilled){var a=u.width,c=u.height,p=a/2,v=a/u.projection;u.showTop&&(l(d,u,u.fillTop),d.beginPath(),d.moveTo(-p,-c),d.lineTo(0,-v-c),d.lineTo(p,-c),d.lineTo(p,-1),d.lineTo(0,v-1),d.lineTo(-p,-1),d.lineTo(-p,-c),d.fill()),u.showLeft&&(l(d,u,u.fillLeft),d.beginPath(),d.moveTo(-p,0),d.lineTo(0,v),d.lineTo(0,v-c),d.lineTo(-p,-c),d.lineTo(-p,0),d.fill()),u.showRight&&(l(d,u,u.fillRight),d.beginPath(),d.moveTo(p,0),d.lineTo(0,v),d.lineTo(0,v-c),d.lineTo(p,-c),d.lineTo(p,0),d.fill()),d.restore()}}},function(C,w,n){var l=n(1),m=n(1);l=n(1113),m=n(1114),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w,n){var l=n(19),m=n(12);C.exports=function(h,u,s,o){s.addToRenderList(u);var d=h.pipelines.set(u.pipeline),a=l(u,s,o),c=d.calcMatrix.copyFrom(a.calc),p=u.width,v=u.height,g=p/2,x=p/u.projection,T=u.isReversed,S=s.alpha*u.alpha;if(u.isFilled){var D,M,R,P,I,b,L;if(h.pipelines.preBatch(u),u.showTop&&T){D=m.getTintAppendFloatAlpha(u.fillTop,S),M=c.getX(-g,-v),R=c.getY(-g,-v),P=c.getX(0,-x-v),I=c.getY(0,-x-v),b=c.getX(g,-v),L=c.getY(g,-v);var B=c.getX(0,x-v),V=c.getY(0,x-v);d.batchQuad(u,M,R,P,I,b,L,B,V,0,0,1,1,D,D,D,D,2)}u.showLeft&&(D=m.getTintAppendFloatAlpha(u.fillLeft,S),T?(M=c.getX(-g,-v),R=c.getY(-g,-v),P=c.getX(0,x),I=c.getY(0,x),b=c.getX(0,x-v),L=c.getY(0,x-v)):(M=c.getX(-g,0),R=c.getY(-g,0),P=c.getX(0,x),I=c.getY(0,x),b=c.getX(0,x-v),L=c.getY(0,x-v)),d.batchTri(u,M,R,P,I,b,L,0,0,1,1,D,D,D,2)),u.showRight&&(D=m.getTintAppendFloatAlpha(u.fillRight,S),T?(M=c.getX(g,-v),R=c.getY(g,-v),P=c.getX(0,x),I=c.getY(0,x),b=c.getX(0,x-v),L=c.getY(0,x-v)):(M=c.getX(g,0),R=c.getY(g,0),P=c.getX(0,x),I=c.getY(0,x),b=c.getX(0,x-v),L=c.getY(0,x-v)),d.batchTri(u,M,R,P,I,b,L,0,0,1,1,D,D,D,2)),h.pipelines.postBatch(u)}}},function(C,w,n){var l=n(48),m=n(30);C.exports=function(h,u,s,o){s.addToRenderList(u);var d=h.currentContext;if(m(h,d,u,s,o)&&u.isFilled){var a=u.width,c=u.height,p=a/2,v=a/u.projection,g=u.isReversed;u.showTop&&g&&(l(d,u,u.fillTop),d.beginPath(),d.moveTo(-p,-c),d.lineTo(0,-v-c),d.lineTo(p,-c),d.lineTo(0,v-c),d.fill()),u.showLeft&&(l(d,u,u.fillLeft),d.beginPath(),g?(d.moveTo(-p,-c),d.lineTo(0,v),d.lineTo(0,v-c)):(d.moveTo(-p,0),d.lineTo(0,v),d.lineTo(0,v-c)),d.fill()),u.showRight&&(l(d,u,u.fillRight),d.beginPath(),g?(d.moveTo(p,-c),d.lineTo(0,v),d.lineTo(0,v-c)):(d.moveTo(p,0),d.lineTo(0,v),d.lineTo(0,v-c)),d.fill()),d.restore()}}},function(C,w,n){var l=n(1),m=n(1);l=n(1116),m=n(1117),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w,n){var l=n(19),m=n(12);C.exports=function(h,u,s,o){s.addToRenderList(u);var d=h.pipelines.set(u.pipeline),a=l(u,s,o);d.calcMatrix.copyFrom(a.calc);var c=u._displayOriginX,p=u._displayOriginY,v=s.alpha*u.alpha;if(h.pipelines.preBatch(u),u.isStroked){var g=d.strokeTint,x=m.getTintAppendFloatAlpha(u.strokeColor,u.strokeAlpha*v);g.TL=x,g.TR=x,g.BL=x,g.BR=x,d.batchLine(u.geom.x1-c,u.geom.y1-p,u.geom.x2-c,u.geom.y2-p,u._startWidth,u._endWidth,1,0,!1,a.sprite,a.camera)}h.pipelines.postBatch(u)}},function(C,w,n){var l=n(60),m=n(30);C.exports=function(h,u,s,o){s.addToRenderList(u);var d=h.currentContext;if(m(h,d,u,s,o)){var a=u._displayOriginX,c=u._displayOriginY;u.isStroked&&(l(d,u),d.beginPath(),d.moveTo(u.geom.x1-a,u.geom.y1-c),d.lineTo(u.geom.x2-a,u.geom.y2-c),d.stroke()),d.restore()}}},function(C,w,n){var l=n(1),m=n(1);l=n(1119),m=n(1120),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w,n){var l=n(114),m=n(19),f=n(81);C.exports=function(u,s,o,d){o.addToRenderList(s);var a=u.pipelines.set(s.pipeline),c=m(s,o,d),p=a.calcMatrix.copyFrom(c.calc),v=s._displayOriginX,g=s._displayOriginY,x=o.alpha*s.alpha;u.pipelines.preBatch(s),s.isFilled&&l(a,p,s,x,v,g),s.isStroked&&f(a,s,x,v,g),u.pipelines.postBatch(s)}},function(C,w,n){var l=n(48),m=n(60),f=n(30);C.exports=function(u,s,o,d){o.addToRenderList(s);var a=u.currentContext;if(f(u,a,s,o,d)){var c=s._displayOriginX,p=s._displayOriginY,v=s.pathData,g=v.length-1,x=v[0]-c,T=v[1]-p;a.beginPath(),a.moveTo(x,T),s.closePath||(g-=2);for(var S=2;S<g;S+=2)a.lineTo(v[S]-c,v[S+1]-p);a.closePath(),s.isFilled&&(l(a,s),a.fill()),s.isStroked&&(m(a,s),a.stroke()),a.restore()}}},function(C,w,n){var l=n(1),m=n(1);l=n(1122),m=n(1123),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w,n){var l=n(19),m=n(81),f=n(12);C.exports=function(u,s,o,d){o.addToRenderList(s);var a=u.pipelines.set(s.pipeline),c=l(s,o,d);a.calcMatrix.copyFrom(c.calc);var p=s._displayOriginX,v=s._displayOriginY,g=o.alpha*s.alpha;if(u.pipelines.preBatch(s),s.isFilled){var x=a.fillTint,T=f.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*g);x.TL=T,x.TR=T,x.BL=T,x.BR=T,a.batchFillRect(-p,-v,s.width,s.height)}s.isStroked&&m(a,s,g,p,v),u.pipelines.postBatch(s)}},function(C,w,n){var l=n(48),m=n(60),f=n(30);C.exports=function(u,s,o,d){o.addToRenderList(s);var a=u.currentContext;if(f(u,a,s,o,d)){var c=s._displayOriginX,p=s._displayOriginY;s.isFilled&&(l(a,s),a.fillRect(-c,-p,s.width,s.height)),s.isStroked&&(m(a,s),a.beginPath(),a.rect(-c,-p,s.width,s.height),a.stroke()),a.restore()}}},function(C,w,n){var l=n(1),m=n(1);l=n(1125),m=n(1126),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w,n){var l=n(114),m=n(19),f=n(81);C.exports=function(u,s,o,d){o.addToRenderList(s);var a=u.pipelines.set(s.pipeline),c=m(s,o,d),p=a.calcMatrix.copyFrom(c.calc),v=s._displayOriginX,g=s._displayOriginY,x=o.alpha*s.alpha;u.pipelines.preBatch(s),s.isFilled&&l(a,p,s,x,v,g),s.isStroked&&f(a,s,x,v,g),u.pipelines.postBatch(s)}},function(C,w,n){var l=n(48),m=n(60),f=n(30);C.exports=function(u,s,o,d){o.addToRenderList(s);var a=u.currentContext;if(f(u,a,s,o,d)){var c=s._displayOriginX,p=s._displayOriginY,v=s.pathData,g=v.length-1,x=v[0]-c,T=v[1]-p;a.beginPath(),a.moveTo(x,T),s.closePath||(g-=2);for(var S=2;S<g;S+=2)a.lineTo(v[S]-c,v[S+1]-p);a.closePath(),s.isFilled&&(l(a,s),a.fill()),s.isStroked&&(m(a,s),a.stroke()),a.restore()}}},function(C,w,n){var l=n(1),m=n(1);l=n(1128),m=n(1129),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w,n){var l=n(19),m=n(81),f=n(12);C.exports=function(u,s,o,d){o.addToRenderList(s);var a=u.pipelines.set(s.pipeline),c=l(s,o,d);a.calcMatrix.copyFrom(c.calc);var p=s._displayOriginX,v=s._displayOriginY,g=o.alpha*s.alpha;if(u.pipelines.preBatch(s),s.isFilled){var x=a.fillTint,T=f.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*g);x.TL=T,x.TR=T,x.BL=T,x.BR=T,a.batchFillTriangle(s.geom.x1-p,s.geom.y1-v,s.geom.x2-p,s.geom.y2-v,s.geom.x3-p,s.geom.y3-v,c.sprite,c.camera)}s.isStroked&&m(a,s,g,p,v),u.pipelines.postBatch(s)}},function(C,w,n){var l=n(48),m=n(60),f=n(30);C.exports=function(u,s,o,d){o.addToRenderList(s);var a=u.currentContext;if(f(u,a,s,o,d)){var c=s._displayOriginX,p=s._displayOriginY,v=s.geom.x1-c,g=s.geom.y1-p,x=s.geom.x2-c,T=s.geom.y2-p,S=s.geom.x3-c,D=s.geom.y3-p;a.beginPath(),a.moveTo(v,g),a.lineTo(x,T),a.lineTo(S,D),a.closePath(),s.isFilled&&(l(a,s),a.fill()),s.isStroked&&(m(a,s),a.stroke()),a.restore()}}},function(C,w,n){var l=n(213);n(5).register("blitter",function(f,h,u,s){return this.displayList.add(new l(this.scene,f,h,u,s))})},function(C,w,n){var l=n(214);n(5).register("container",function(f,h,u){return this.displayList.add(new l(this.scene,f,h,u))})},function(C,w,n){var l=n(442);n(5).register("dom",function(f,h,u,s,o){var d=new l(this.scene,f,h,u,s,o);return this.displayList.add(d),d})},function(C,w,n){var l=n(215);n(5).register("dynamicBitmapText",function(f,h,u,s,o){return this.displayList.add(new l(this.scene,f,h,u,s,o))})},function(C,w,n){var l=n(444);n(5).register("extern",function(){var f=new l(this.scene);return this.displayList.add(f),f})},function(C,w,n){var l=n(216);n(5).register("graphics",function(f){return this.displayList.add(new l(this.scene,f))})},function(C,w,n){var l=n(113);n(5).register("group",function(f,h){return this.updateList.add(new l(this.scene,f,h))})},function(C,w,n){var l=n(125);n(5).register("image",function(f,h,u,s){return this.displayList.add(new l(this.scene,f,h,u,s))})},function(C,w,n){var l=n(219);n(5).register("layer",function(f){return this.displayList.add(new l(this.scene,f))})},function(C,w,n){var l=n(5),m=n(220);l.register("particles",function(f,h,u){return this.displayList.add(new m(this.scene,f,h,u))})},function(C,w,n){var l=n(5),m=n(457);l.register("follower",function(f,h,u,s,o){var d=new m(this.scene,f,h,u,s,o);return this.displayList.add(d),this.updateList.add(d),d})},function(C,w,n){var l=n(5),m=n(221);l.register("renderTexture",function(f,h,u,s,o,d){return this.displayList.add(new m(this.scene,f,h,u,s,o,d))})},function(C,w,n){var l=n(223);n(5).register("rope",function(f,h,u,s,o,d,a,c){return this.displayList.add(new l(this.scene,f,h,u,s,o,d,a,c))})},function(C,w,n){var l=n(5),m=n(73);l.register("sprite",function(f,h,u,s){var o=new m(this.scene,f,h,u,s);return this.displayList.add(o),o})},function(C,w,n){var l=n(148);n(5).register("bitmapText",function(f,h,u,s,o,d){return this.displayList.add(new l(this.scene,f,h,u,s,o,d))})},function(C,w,n){var l=n(224);n(5).register("text",function(f,h,u,s){return this.displayList.add(new l(this.scene,f,h,u,s))})},function(C,w,n){var l=n(225);n(5).register("tileSprite",function(f,h,u,s,o,d){return this.displayList.add(new l(this.scene,f,h,u,s,o,d))})},function(C,w,n){var l=n(129);n(5).register("zone",function(f,h,u,s){return this.displayList.add(new l(this.scene,f,h,u,s))})},function(C,w,n){var l=n(226);n(5).register("video",function(f,h,u){return this.displayList.add(new l(this.scene,f,h,u))})},function(C,w,n){var l=n(461),m=n(5);m.register("arc",function(f,h,u,s,o,d,a,c){return this.displayList.add(new l(this.scene,f,h,u,s,o,d,a,c))}),m.register("circle",function(f,h,u,s,o){return this.displayList.add(new l(this.scene,f,h,u,0,360,!1,s,o))})},function(C,w,n){var l=n(5),m=n(462);l.register("curve",function(f,h,u,s,o){return this.displayList.add(new m(this.scene,f,h,u,s,o))})},function(C,w,n){var l=n(463);n(5).register("ellipse",function(f,h,u,s,o,d){return this.displayList.add(new l(this.scene,f,h,u,s,o,d))})},function(C,w,n){var l=n(5),m=n(464);l.register("grid",function(f,h,u,s,o,d,a,c,p,v){return this.displayList.add(new m(this.scene,f,h,u,s,o,d,a,c,p,v))})},function(C,w,n){var l=n(5),m=n(465);l.register("isobox",function(f,h,u,s,o,d,a){return this.displayList.add(new m(this.scene,f,h,u,s,o,d,a))})},function(C,w,n){var l=n(5),m=n(466);l.register("isotriangle",function(f,h,u,s,o,d,a,c){return this.displayList.add(new m(this.scene,f,h,u,s,o,d,a,c))})},function(C,w,n){var l=n(5),m=n(467);l.register("line",function(f,h,u,s,o,d,a,c){return this.displayList.add(new m(this.scene,f,h,u,s,o,d,a,c))})},function(C,w,n){var l=n(5),m=n(468);l.register("polygon",function(f,h,u,s,o){return this.displayList.add(new m(this.scene,f,h,u,s,o))})},function(C,w,n){var l=n(5),m=n(473);l.register("rectangle",function(f,h,u,s,o,d){return this.displayList.add(new m(this.scene,f,h,u,s,o,d))})},function(C,w,n){var l=n(474);n(5).register("star",function(f,h,u,s,o,d,a){return this.displayList.add(new l(this.scene,f,h,u,s,o,d,a))})},function(C,w,n){var l=n(5),m=n(475);l.register("triangle",function(f,h,u,s,o,d,a,c,p,v){return this.displayList.add(new m(this.scene,f,h,u,s,o,d,a,c,p,v))})},function(C,w,n){var l=n(213),m=n(28),f=n(16),h=n(13);f.register("blitter",function(u,s){void 0===u&&(u={});var o=h(u,"key",null),d=h(u,"frame",null),a=new l(this.scene,0,0,o,d);return void 0!==s&&(u.add=s),m(this.scene,a,u),a})},function(C,w,n){var l=n(28),m=n(214),f=n(16),h=n(13);f.register("container",function(u,s){void 0===u&&(u={});var o=h(u,"x",0),d=h(u,"y",0),a=h(u,"children",null),c=new m(this.scene,o,d,a);return void 0!==s&&(u.add=s),l(this.scene,c,u),c})},function(C,w,n){var l=n(215),m=n(28),f=n(16),h=n(13);f.register("dynamicBitmapText",function(u,s){void 0===u&&(u={});var o=h(u,"font",""),d=h(u,"text",""),a=h(u,"size",!1),c=new l(this.scene,0,0,o,d,a);return void 0!==s&&(u.add=s),m(this.scene,c,u),c})},function(C,w,n){var l=n(16),m=n(216);l.register("graphics",function(f,h){void 0===f&&(f={}),void 0!==h&&(f.add=h);var u=new m(this.scene,f);return f.add&&this.scene.sys.displayList.add(u),u})},function(C,w,n){var l=n(16),m=n(113);l.register("group",function(f){return new m(this.scene,null,f)})},function(C,w,n){var l=n(28),m=n(16),f=n(13),h=n(125);m.register("image",function(u,s){void 0===u&&(u={});var o=f(u,"key",null),d=f(u,"frame",null),a=new h(this.scene,0,0,o,d);return void 0!==s&&(u.add=s),l(this.scene,a,u),a})},function(C,w,n){var l=n(28),m=n(219),f=n(16),h=n(13);f.register("layer",function(u,s){void 0===u&&(u={});var o=h(u,"children",null),d=new m(this.scene,o);return void 0!==s&&(u.add=s),l(this.scene,d,u),d})},function(C,w,n){var l=n(16),m=n(13),f=n(2),h=n(220);l.register("particles",function(u,s){void 0===u&&(u={});var o=m(u,"key",null),d=m(u,"frame",null),a=f(u,"emitters",null),c=new h(this.scene,o,d,a);return void 0!==s&&(u.add=s),f(u,"add",!1)?this.displayList.add(c):this.updateList.add(c),c})},function(C,w,n){var l=n(28),m=n(16),f=n(13),h=n(221);m.register("renderTexture",function(u,s){void 0===u&&(u={});var o=f(u,"x",0),d=f(u,"y",0),a=f(u,"width",32),c=f(u,"height",32),p=f(u,"key",void 0),v=f(u,"frame",void 0),g=new h(this.scene,o,d,a,c,p,v);return void 0!==s&&(u.add=s),l(this.scene,g,u),g})},function(C,w,n){var l=n(28),m=n(16),f=n(13),h=n(6),u=n(223);m.register("rope",function(s,o){void 0===s&&(s={});var d=f(s,"key",null),a=f(s,"frame",null),c=f(s,"horizontal",!0),p=h(s,"points",void 0),v=h(s,"colors",void 0),g=h(s,"alphas",void 0),x=new u(this.scene,0,0,d,a,p,c,v,g);return void 0!==o&&(s.add=o),l(this.scene,x,s),s.add||this.updateList.add(x),x})},function(C,w,n){var l=n(28),m=n(439),f=n(16),h=n(13),u=n(73);f.register("sprite",function(s,o){void 0===s&&(s={});var d=h(s,"key",null),a=h(s,"frame",null),c=new u(this.scene,0,0,d,a);return void 0!==o&&(s.add=o),l(this.scene,c,s),m(c,s),c})},function(C,w,n){var l=n(148),m=n(28),f=n(16),h=n(13),u=n(6);f.register("bitmapText",function(s,o){void 0===s&&(s={});var d=u(s,"font",""),a=h(s,"text",""),c=h(s,"size",!1),p=u(s,"align",0),v=new l(this.scene,0,0,d,a,c,p);return void 0!==o&&(s.add=o),m(this.scene,v,s),v})},function(C,w,n){var l=n(28),m=n(16),f=n(13),h=n(224);m.register("text",function(u,s){void 0===u&&(u={});var o=f(u,"text",""),d=f(u,"style",null),a=f(u,"padding",null);null!==a&&(d.padding=a);var c=new h(this.scene,0,0,o,d);return void 0!==s&&(u.add=s),l(this.scene,c,u),c.autoRound=f(u,"autoRound",!0),c.resolution=f(u,"resolution",1),c})},function(C,w,n){var l=n(28),m=n(16),f=n(13),h=n(225);m.register("tileSprite",function(u,s){void 0===u&&(u={});var o=f(u,"x",0),d=f(u,"y",0),a=f(u,"width",512),c=f(u,"height",512),p=f(u,"key",""),v=f(u,"frame",""),g=new h(this.scene,o,d,a,c,p,v);return void 0!==s&&(u.add=s),l(this.scene,g,u),g})},function(C,w,n){var l=n(16),m=n(13),f=n(129);l.register("zone",function(h){var u=m(h,"x",0),s=m(h,"y",0),o=m(h,"width",1),d=m(h,"height",o);return new f(this.scene,u,s,o,d)})},function(C,w,n){var l=n(28),m=n(16),f=n(13),h=n(226);m.register("video",function(u,s){void 0===u&&(u={});var o=f(u,"key",null),d=new h(this.scene,0,0,o);return void 0!==s&&(u.add=s),l(this.scene,d,u),u.add||this.updateList.add(d),d})},function(C,w,n){var l=n(1),m=n(1);l=n(1177),m=n(1178),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w,n){var l=n(19);C.exports=function(f,h,u,s){if(h.shader){if(u.addToRenderList(h),f.pipelines.clear(),h.renderToTexture)h.load(),h.flush();else{var o=l(h,u,s).calc;(f.width!==h._rendererWidth||f.height!==h._rendererHeight)&&h.projOrtho(0,f.width,f.height,0),h.load(o.matrix),h.flush()}f.pipelines.rebind()}}},function(C,w){C.exports=function(){}},function(C,w,n){var l=n(1),m=n(1);l=n(1180),m=n(1181),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w,n){var l=n(19);C.exports=function(f,h,u,s){var o=h.faces,d=o.length;if(0!==d){u.addToRenderList(h);var a=f.pipelines.set(h.pipeline,h),c=l(h,u,s).calc,p=a.setGameObject(h),v=a.vertexViewF32,g=a.vertexViewU32,x=a.vertexCount*a.currentShader.vertexComponentCount-1,T=h.tintFill,S=[],D=h.debugCallback,M=c.a,R=c.b,P=c.c,I=c.d,b=c.e,L=c.f,B=h.viewPosition.z,V=h.hideCCW,z=u.roundPixels,W=u.alpha*h.alpha,K=0;f.pipelines.preBatch(h);for(var J=0;J<d;J++){var tt=o[J];!tt.isInView(u,V,B,W,M,R,P,I,b,L,z)||(a.shouldFlush(3)&&(a.flush(),x=0),x=tt.load(v,g,x,p,T),K++,a.vertexCount+=3,D&&S.push(tt))}h.totalFrame+=K,D&&D.call(h,h,S),f.pipelines.postBatch(h)}}},function(C,w){C.exports=function(){}},function(C,w,n){var l=n(1),m=n(1);l=n(1183),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w,n){var l=n(19);C.exports=function(f,h,u,s){u.addToRenderList(h);var o=f.pipelines.set(h.pipeline),d=l(h,u,s).calc,p=-h._radius,v=-h._radius,g=p+h.width,x=v+h.height,T=d.getX(0,0),S=d.getY(0,0),D=d.getX(p,v),M=d.getY(p,v),R=d.getX(p,x),P=d.getY(p,x),I=d.getX(g,x),b=d.getY(g,x),L=d.getX(g,v),B=d.getY(g,v);f.pipelines.preBatch(h),o.batchPointLight(h,u,D,M,R,P,I,b,L,B,T,S),f.pipelines.postBatch(h)}},function(C,w,n){var l=n(229);n(5).register("shader",function(f,h,u,s,o,d,a){return this.displayList.add(new l(this.scene,f,h,u,s,o,d,a))})},function(C,w,n){var l=n(230);n(5).register("mesh",function(f,h,u,s,o,d,a,c,p,v,g){return this.displayList.add(new l(this.scene,f,h,u,s,o,d,a,c,p,v,g))})},function(C,w,n){var l=n(5),m=n(150);l.register("pointlight",function(f,h,u,s,o,d){return this.displayList.add(new m(this.scene,f,h,u,s,o,d))})},function(C,w,n){var l=n(28),m=n(16),f=n(13),h=n(229);m.register("shader",function(u,s){void 0===u&&(u={});var o=f(u,"key",null),d=f(u,"x",0),a=f(u,"y",0),c=f(u,"width",128),p=f(u,"height",128),v=new h(this.scene,o,d,a,c,p);return void 0!==s&&(u.add=s),l(this.scene,v,u),v})},function(C,w,n){var l=n(28),m=n(16),f=n(13),h=n(6),u=n(230);m.register("mesh",function(s,o){void 0===s&&(s={});var d=f(s,"key",null),a=f(s,"frame",null),c=h(s,"vertices",[]),p=h(s,"uvs",[]),v=h(s,"indicies",[]),g=h(s,"containsZ",!1),x=h(s,"normals",[]),T=h(s,"colors",16777215),S=h(s,"alphas",1),D=new u(this.scene,0,0,d,a,c,p,v,g,x,T,S);return void 0!==o&&(s.add=o),l(this.scene,D,s),D})},function(C,w,n){var l=n(28),m=n(16),f=n(13),h=n(150);m.register("pointlight",function(u,s){void 0===u&&(u={});var o=f(u,"color",16777215),d=f(u,"radius",128),a=f(u,"intensity",1),c=f(u,"attenuation",.1),p=new h(this.scene,0,0,o,d,a,c);return void 0!==s&&(u.add=s),l(this.scene,p,u),p})},function(C,w,n){var l=n(0),m=n(482),f=n(24),h=n(20),u=new l({Extends:m,initialize:function(o){this.scene=o,this.systems=o.sys,o.sys.settings.isBooted||o.sys.events.once(h.BOOT,this.boot,this),m.call(this)},boot:function(){var s=this.systems.events;s.on(h.SHUTDOWN,this.shutdown,this),s.on(h.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});f.register("LightsPlugin",u,"lights"),C.exports=u},function(C,w,n){var l=n(65);l.Area=n(1192),l.Circumference=n(302),l.CircumferencePoint=n(169),l.Clone=n(1193),l.Contains=n(66),l.ContainsPoint=n(1194),l.ContainsRect=n(1195),l.CopyFrom=n(1196),l.Equals=n(1197),l.GetBounds=n(1198),l.GetPoint=n(300),l.GetPoints=n(301),l.Offset=n(1199),l.OffsetPoint=n(1200),l.Random=n(170),C.exports=l},function(C,w){C.exports=function(l){return l.radius>0?Math.PI*l.radius*l.radius:0}},function(C,w,n){var l=n(65);C.exports=function(f){return new l(f.x,f.y,f.radius)}},function(C,w,n){var l=n(66);C.exports=function(f,h){return l(f,h.x,h.y)}},function(C,w,n){var l=n(66);C.exports=function(f,h){return l(f,h.x,h.y)&&l(f,h.right,h.y)&&l(f,h.x,h.bottom)&&l(f,h.right,h.bottom)}},function(C,w){C.exports=function(l,m){return m.setTo(l.x,l.y,l.radius)}},function(C,w){C.exports=function(l,m){return l.x===m.x&&l.y===m.y&&l.radius===m.radius}},function(C,w,n){var l=n(10);C.exports=function(f,h){return void 0===h&&(h=new l),h.x=f.left,h.y=f.top,h.width=f.diameter,h.height=f.diameter,h}},function(C,w){C.exports=function(l,m,f){return l.x+=m,l.y+=f,l}},function(C,w){C.exports=function(l,m){return l.x+=m.x,l.y+=m.y,l}},function(C,w,n){var l=n(111);l.Area=n(1202),l.Circumference=n(447),l.CircumferencePoint=n(218),l.Clone=n(1203),l.Contains=n(112),l.ContainsPoint=n(1204),l.ContainsRect=n(1205),l.CopyFrom=n(1206),l.Equals=n(1207),l.GetBounds=n(1208),l.GetPoint=n(445),l.GetPoints=n(446),l.Offset=n(1209),l.OffsetPoint=n(1210),l.Random=n(180),C.exports=l},function(C,w){C.exports=function(l){return l.isEmpty()?0:l.getMajorRadius()*l.getMinorRadius()*Math.PI}},function(C,w,n){var l=n(111);C.exports=function(f){return new l(f.x,f.y,f.width,f.height)}},function(C,w,n){var l=n(112);C.exports=function(f,h){return l(f,h.x,h.y)}},function(C,w,n){var l=n(112);C.exports=function(f,h){return l(f,h.x,h.y)&&l(f,h.right,h.y)&&l(f,h.x,h.bottom)&&l(f,h.right,h.bottom)}},function(C,w){C.exports=function(l,m){return m.setTo(l.x,l.y,l.width,l.height)}},function(C,w){C.exports=function(l,m){return l.x===m.x&&l.y===m.y&&l.width===m.width&&l.height===m.height}},function(C,w,n){var l=n(10);C.exports=function(f,h){return void 0===h&&(h=new l),h.x=f.left,h.y=f.top,h.width=f.width,h.height=f.height,h}},function(C,w){C.exports=function(l,m,f){return l.x+=m,l.y+=f,l}},function(C,w){C.exports=function(l,m){return l.x+=m.x,l.y+=m.y,l}},function(C,w,n){var l=n(4),m=n(231);C.exports=function(h,u,s){if(void 0===s&&(s=[]),m(h,u)){var g,x,S,D,o=h.x,d=h.y,a=h.radius,c=u.x,p=u.y,v=u.radius;if(d===p)0==(S=(x=-2*p)*x-4*(g=1)*(c*c+(D=(v*v-a*a-c*c+o*o)/(2*(o-c)))*D-2*c*D+p*p-v*v))?s.push(new l(D,-x/(2*g))):S>0&&(s.push(new l(D,(-x+Math.sqrt(S))/(2*g))),s.push(new l(D,(-x-Math.sqrt(S))/(2*g))));else{var M=(o-c)/(d-p),R=(v*v-a*a-c*c+o*o-p*p+d*d)/(2*(d-p));0==(S=(x=2*d*M-2*R*M-2*o)*x-4*(g=M*M+1)*(o*o+d*d+R*R-a*a-2*d*R))?s.push(new l(D=-x/(2*g),R-D*M)):S>0&&(D=(-x+Math.sqrt(S))/(2*g),s.push(new l(D,R-D*M)),D=(-x-Math.sqrt(S))/(2*g),s.push(new l(D,R-D*M)))}}return s}},function(C,w,n){var l=n(232),m=n(151);C.exports=function(h,u,s){if(void 0===s&&(s=[]),m(h,u)){var o=u.getLineA(),d=u.getLineB(),a=u.getLineC(),c=u.getLineD();l(o,h,s),l(d,h,s),l(a,h,s),l(c,h,s)}return s}},function(C,w,n){var l=n(140),m=n(487),h=new(n(47));function u(d,a,c,p,v){var g=Math.cos(d),x=Math.sin(d);h.setTo(a,c,a+g,c+x);var T=m(h,p);T&&v.push(new l(T.x,T.y,d,T.w))}function s(d,a){return d.z-a.z}C.exports=function(d,a,c){Array.isArray(c)||(c=[c]);for(var p=[],v=[],g=0;g<c.length;g++)for(var x=c[g].points,T=0;T<x.length;T++){var S=Math.atan2(x[T].y-a,x[T].x-d);-1===v.indexOf(S)&&(u(S,d,a,c,p),u(S-1e-5,d,a,c,p),u(S+1e-5,d,a,c,p),v.push(S))}return p.sort(s)}},function(C,w,n){var l=n(10),m=n(152);C.exports=function(h,u,s){return void 0===s&&(s=new l),m(h,u)&&(s.x=Math.max(h.x,u.x),s.y=Math.max(h.y,u.y),s.width=Math.min(h.right,u.right)-s.x,s.height=Math.min(h.bottom,u.bottom)-s.y),s}},function(C,w,n){var l=n(234),m=n(152);C.exports=function(h,u,s){if(void 0===s&&(s=[]),m(h,u)){var o=h.getLineA(),d=h.getLineB(),a=h.getLineC(),c=h.getLineD();l(o,u,s),l(d,u,s),l(a,u,s),l(c,u,s)}return s}},function(C,w,n){var l=n(489),m=n(234);C.exports=function(h,u,s){if(void 0===s&&(s=[]),l(h,u)){var o=u.getLineA(),d=u.getLineB(),a=u.getLineC();m(o,h,s),m(d,h,s),m(a,h,s)}return s}},function(C,w,n){var l=n(232),m=n(491);C.exports=function(h,u,s){if(void 0===s&&(s=[]),m(h,u)){var o=h.getLineA(),d=h.getLineB(),a=h.getLineC();l(o,u,s),l(d,u,s),l(a,u,s)}return s}},function(C,w,n){var l=n(494),m=n(492);C.exports=function(h,u,s){if(void 0===s&&(s=[]),l(h,u)){var o=u.getLineA(),d=u.getLineB(),a=u.getLineC();m(h,o,s),m(h,d,s),m(h,a,s)}return s}},function(C,w,n){var l=n(496);C.exports=function(f,h){if(!l(f,h))return!1;var u=Math.min(h.x1,h.x2),s=Math.max(h.x1,h.x2),o=Math.min(h.y1,h.y2),d=Math.max(h.y1,h.y2);return f.x>=u&&f.x<=s&&f.y>=o&&f.y<=d}},function(C,w){C.exports=function(l,m,f,h,u,s){return void 0===s&&(s=0),!(m>l.right+s||f<l.left-s||h>l.bottom+s||u<l.top-s)}},function(C,w,n){var l=n(47);l.Angle=n(97),l.BresenhamPoints=n(317),l.CenterOn=n(1222),l.Clone=n(1223),l.CopyFrom=n(1224),l.Equals=n(1225),l.Extend=n(1226),l.GetEasedPoints=n(1227),l.GetMidPoint=n(1228),l.GetNearestPoint=n(1229),l.GetNormal=n(1230),l.GetPoint=n(307),l.GetPoints=n(172),l.GetShortestDistance=n(1231),l.Height=n(1232),l.Length=n(67),l.NormalAngle=n(497),l.NormalX=n(1233),l.NormalY=n(1234),l.Offset=n(1235),l.PerpSlope=n(1236),l.Random=n(173),l.ReflectAngle=n(1237),l.Rotate=n(1238),l.RotateAroundPoint=n(1239),l.RotateAroundXY=n(236),l.SetToAngle=n(1240),l.Slope=n(1241),l.Width=n(1242),C.exports=l},function(C,w){C.exports=function(l,m,f){var h=m-(l.x1+l.x2)/2,u=f-(l.y1+l.y2)/2;return l.x1+=h,l.y1+=u,l.x2+=h,l.y2+=u,l}},function(C,w,n){var l=n(47);C.exports=function(f){return new l(f.x1,f.y1,f.x2,f.y2)}},function(C,w){C.exports=function(l,m){return m.setTo(l.x1,l.y1,l.x2,l.y2)}},function(C,w){C.exports=function(l,m){return l.x1===m.x1&&l.y1===m.y1&&l.x2===m.x2&&l.y2===m.y2}},function(C,w,n){var l=n(67);C.exports=function(f,h,u){void 0===u&&(u=h);var s=l(f),o=f.x2-f.x1,d=f.y2-f.y1;return h&&(f.x1=f.x1-o/s*h,f.y1=f.y1-d/s*h),u&&(f.x2=f.x2+o/s*u,f.y2=f.y2+d/s*u),f}},function(C,w,n){var l=n(352),m=n(80),f=n(4);C.exports=function(u,s,o,d,a){void 0===d&&(d=0),void 0===a&&(a=[]);var S,D,c=[],p=u.x1,v=u.y1,g=u.x2-p,x=u.y2-v,T=m(s,a),M=o-1;for(S=0;S<M;S++)D=T(S/M),c.push(new f(p+g*D,v+x*D));if(D=T(1),c.push(new f(p+g*D,v+x*D)),d>0){var R=c[0],P=[R];for(S=1;S<c.length-1;S++){var I=c[S];l(R,I)>=d&&(P.push(I),R=I)}var b=c[c.length-1];return l(R,b)<d&&P.pop(),P.push(b),P}return c}},function(C,w,n){var l=n(4);C.exports=function(f,h){return void 0===h&&(h=new l),h.x=(f.x1+f.x2)/2,h.y=(f.y1+f.y2)/2,h}},function(C,w,n){var l=n(4);C.exports=function(f,h,u){void 0===u&&(u=new l);var s=f.x1,o=f.y1,d=f.x2,a=f.y2,c=(d-s)*(d-s)+(a-o)*(a-o);if(0===c)return u;var p=((h.x-s)*(d-s)+(h.y-o)*(a-o))/c;return u.x=s+p*(d-s),u.y=o+p*(a-o),u}},function(C,w,n){var l=n(14),m=n(97),f=n(4);C.exports=function(u,s){void 0===s&&(s=new f);var o=m(u)-l.TAU;return s.x=Math.cos(o),s.y=Math.sin(o),s}},function(C,w){C.exports=function(l,m){var f=l.x1,h=l.y1,u=l.x2,s=l.y2,o=(u-f)*(u-f)+(s-h)*(s-h);return 0!==o&&Math.abs(((h-m.y)*(u-f)-(f-m.x)*(s-h))/o)*Math.sqrt(o)}},function(C,w){C.exports=function(l){return Math.abs(l.y1-l.y2)}},function(C,w,n){var l=n(14),m=n(97);C.exports=function(h){return Math.cos(m(h)-l.TAU)}},function(C,w,n){var l=n(14),m=n(97);C.exports=function(h){return Math.sin(m(h)-l.TAU)}},function(C,w){C.exports=function(l,m,f){return l.x1+=m,l.y1+=f,l.x2+=m,l.y2+=f,l}},function(C,w){C.exports=function(l){return-(l.x2-l.x1)/(l.y2-l.y1)}},function(C,w,n){var l=n(97),m=n(497);C.exports=function(h,u){return 2*m(u)-Math.PI-l(h)}},function(C,w,n){var l=n(236);C.exports=function(f,h){return l(f,(f.x1+f.x2)/2,(f.y1+f.y2)/2,h)}},function(C,w,n){var l=n(236);C.exports=function(f,h,u){return l(f,h.x,h.y,u)}},function(C,w){C.exports=function(l,m,f,h,u){return l.x1=m,l.y1=f,l.x2=m+Math.cos(h)*u,l.y2=f+Math.sin(h)*u,l}},function(C,w){C.exports=function(l){return(l.y2-l.y1)/(l.x2-l.x1)}},function(C,w){C.exports=function(l){return Math.abs(l.x1-l.x2)}},function(C,w,n){var l={Face:n(116),GenerateGridVerts:n(1244),GenerateObjVerts:n(480),GenerateVerts:n(479),ParseObj:n(498),ParseObjMaterial:n(499),RotateFace:n(1245),Vertex:n(117)};C.exports=l},function(C,w,n){var l=n(116),m=n(2),f=n(69),h=n(39),u=n(117),s=new h,o=new h,d=new f;C.exports=function(c){var p=m(c,"mesh"),v=m(c,"texture",null),g=m(c,"frame"),x=m(c,"width",1),T=m(c,"height",x),S=m(c,"widthSegments",1),D=m(c,"heightSegments",S),M=m(c,"x",0),R=m(c,"y",0),P=m(c,"z",0),I=m(c,"rotateX",0),b=m(c,"rotateY",0),L=m(c,"rotateZ",0),B=m(c,"zIsUp",!0),V=m(c,"isOrtho",!!p&&p.dirtyCache[11]),z=m(c,"colors",[16777215]),W=m(c,"alphas",[1]),K=m(c,"tile",!1),J=m(c,"flipY",!1),tt=m(c,"width",null),it={faces:[],verts:[]};if(s.set(M,R,P),o.set(I,b,L),d.fromRotationXYTranslation(o,s,B),!v&&p)v=p.texture;else{if(!p||"string"!=typeof v)return it;v=p.scene.sys.textures.get(v)}var H=v.get(g);!tt&&V&&v&&p&&(x=H.width/p.height,T=H.height/p.height);var ft,gt,G=x/2,Y=T/2,X=Math.floor(S),$=Math.floor(D),Q=X+1,_=$+1,et=x/X,ot=T/$,lt=[],ht=[],Et=0,Ct=1,Mt=0,kt=1;H&&(Et=H.u0,Ct=H.u1,J?(Mt=H.v1,kt=H.v0):(Mt=H.v0,kt=H.v1));var Gt=Ct-Et,Bt=kt-Mt;for(gt=0;gt<_;gt++){var Tt=gt*ot-Y;for(ft=0;ft<Q;ft++)ht.push(ft*et-G,-Tt),lt.push(Et+Gt*(ft/X),Mt+Bt*(gt/$))}Array.isArray(z)||(z=[z]),Array.isArray(W)||(W=[W]);var fi=0,gi=0;for(gt=0;gt<$;gt++)for(ft=0;ft<X;ft++){var Ae=2*(ft+Q*gt),le=2*(ft+Q*(gt+1)),je=2*(ft+1+Q*(gt+1)),ye=2*(ft+1+Q*gt),Ie=z[gi],Ei=W[fi],mn=new u(ht[Ae],ht[Ae+1],0,lt[Ae],lt[Ae+1],Ie,Ei).transformMat4(d),Un=new u(ht[le],ht[le+1],0,lt[le],lt[le+1],Ie,Ei).transformMat4(d),yn=new u(ht[ye],ht[ye+1],0,lt[ye],lt[ye+1],Ie,Ei).transformMat4(d),Hn=new u(ht[le],ht[le+1],0,lt[le],lt[le+1],Ie,Ei).transformMat4(d),zn=new u(ht[je],ht[je+1],0,lt[je],lt[je+1],Ie,Ei).transformMat4(d),Wn=new u(ht[ye],ht[ye+1],0,lt[ye],lt[ye+1],Ie,Ei).transformMat4(d);K&&(mn.setUVs(Et,kt),Un.setUVs(Et,Mt),yn.setUVs(Ct,kt),Hn.setUVs(Et,Mt),zn.setUVs(Ct,Mt),Wn.setUVs(Ct,kt)),++gi===z.length&&(gi=0),++fi===W.length&&(fi=0),it.verts.push(mn,Un,yn,Hn,zn,Wn),it.faces.push(new l(mn,Un,yn),new l(Hn,zn,Wn))}return p&&(p.faces=p.faces.concat(it.faces),p.vertices=p.vertices.concat(it.verts)),it}},function(C,w){C.exports=function(l,m,f,h){var u,s;if(void 0===f&&void 0===h){var o=l.getInCenter();u=o.x,s=o.y}var d=Math.cos(m),a=Math.sin(m),c=l.vertex1,p=l.vertex2,v=l.vertex3,g=c.x-u,x=c.y-s;c.set(g*d-x*a+u,g*a+x*d+s),p.set((g=p.x-u)*d-(x=p.y-s)*a+u,g*a+x*d+s),v.set((g=v.x-u)*d-(x=v.y-s)*a+u,g*a+x*d+s)}},function(C,w,n){var l=n(4);l.Ceil=n(1247),l.Clone=n(1248),l.CopyFrom=n(1249),l.Equals=n(1250),l.Floor=n(1251),l.GetCentroid=n(1252),l.GetMagnitude=n(500),l.GetMagnitudeSq=n(501),l.GetRectangleFromPoints=n(1253),l.Interpolate=n(1254),l.Invert=n(1255),l.Negative=n(1256),l.Project=n(1257),l.ProjectUnit=n(1258),l.SetMagnitude=n(1259),C.exports=l},function(C,w){C.exports=function(l){return l.setTo(Math.ceil(l.x),Math.ceil(l.y))}},function(C,w,n){var l=n(4);C.exports=function(f){return new l(f.x,f.y)}},function(C,w){C.exports=function(l,m){return m.setTo(l.x,l.y)}},function(C,w){C.exports=function(l,m){return l.x===m.x&&l.y===m.y}},function(C,w){C.exports=function(l){return l.setTo(Math.floor(l.x),Math.floor(l.y))}},function(C,w,n){var l=n(4);C.exports=function(f,h){if(void 0===h&&(h=new l),!Array.isArray(f))throw new Error("GetCentroid points argument must be an array");var u=f.length;if(u<1)throw new Error("GetCentroid points array must not be empty");if(1===u)h.x=f[0].x,h.y=f[0].y;else{for(var s=0;s<u;s++)h.x+=f[s].x,h.y+=f[s].y;h.x/=u,h.y/=u}return h}},function(C,w,n){var l=n(10);C.exports=function(f,h){void 0===h&&(h=new l);for(var u=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,d=Number.POSITIVE_INFINITY,a=0;a<f.length;a++){var c=f[a];c.x>u&&(u=c.x),c.x<s&&(s=c.x),c.y>o&&(o=c.y),c.y<d&&(d=c.y)}return h.x=s,h.y=d,h.width=u-s,h.height=o-d,h}},function(C,w,n){var l=n(4);C.exports=function(f,h,u,s){return void 0===u&&(u=0),void 0===s&&(s=new l),s.x=f.x+(h.x-f.x)*u,s.y=f.y+(h.y-f.y)*u,s}},function(C,w){C.exports=function(l){return l.setTo(l.y,l.x)}},function(C,w,n){var l=n(4);C.exports=function(f,h){return void 0===h&&(h=new l),h.setTo(-f.x,-f.y)}},function(C,w,n){var l=n(4),m=n(501);C.exports=function(h,u,s){void 0===s&&(s=new l);var d=(h.x*u.x+h.y*u.y)/m(u);return 0!==d&&(s.x=d*u.x,s.y=d*u.y),s}},function(C,w,n){var l=n(4);C.exports=function(f,h,u){void 0===u&&(u=new l);var s=f.x*h.x+f.y*h.y;return 0!==s&&(u.x=s*h.x,u.y=s*h.y),u}},function(C,w,n){var l=n(500);C.exports=function(f,h){if(0!==f.x||0!==f.y){var u=l(f);f.x/=u,f.y/=u}return f.x*=h,f.y*=h,f}},function(C,w,n){var l=n(227);l.Clone=n(1261),l.Contains=n(228),l.ContainsPoint=n(1262),l.Earcut=n(59),l.GetAABB=n(469),l.GetNumberArray=n(1263),l.GetPoints=n(470),l.Perimeter=n(471),l.Reverse=n(1264),l.Simplify=n(1265),l.Smooth=n(472),l.Translate=n(1266),C.exports=l},function(C,w,n){var l=n(227);C.exports=function(f){return new l(f.points)}},function(C,w,n){var l=n(228);C.exports=function(f,h){return l(f,h.x,h.y)}},function(C,w){C.exports=function(l,m){void 0===m&&(m=[]);for(var f=0;f<l.points.length;f++)m.push(l.points[f].x),m.push(l.points[f].y);return m}},function(C,w){C.exports=function(l){return l.points.reverse(),l}},function(C,w){function n(s,o){var d=s.x-o.x,a=s.y-o.y;return d*d+a*a}function l(s,o,d){var a=o.x,c=o.y,p=d.x-a,v=d.y-c;if(0!==p||0!==v){var g=((s.x-a)*p+(s.y-c)*v)/(p*p+v*v);g>1?(a=d.x,c=d.y):g>0&&(a+=p*g,c+=v*g)}return(p=s.x-a)*p+(v=s.y-c)*v}function f(s,o,d,a,c){for(var v,p=a,g=o+1;g<d;g++){var x=l(s[g],s[o],s[d]);x>p&&(v=g,p=x)}p>a&&(v-o>1&&f(s,o,v,a,c),c.push(s[v]),d-v>1&&f(s,v,d,a,c))}function h(s,o){var d=s.length-1,a=[s[0]];return f(s,0,d,o,a),a.push(s[d]),a}C.exports=function(s,o,d){void 0===o&&(o=1),void 0===d&&(d=!1);var a=s.points;if(a.length>2){var c=o*o;d||(a=function m(s,o){for(var c,d=s[0],a=[d],p=1,v=s.length;p<v;p++)n(c=s[p],d)>o&&(a.push(c),d=c);return d!==c&&a.push(c),a}(a,c)),s.setTo(h(a,c))}return s}},function(C,w){C.exports=function(l,m,f){for(var h=l.points,u=0;u<h.length;u++)h[u].x+=m,h[u].y+=f;return l}},function(C,w){C.exports=function(l){return l.width*l.height}},function(C,w){C.exports=function(l){return l.x=Math.ceil(l.x),l.y=Math.ceil(l.y),l}},function(C,w){C.exports=function(l){return l.x=Math.ceil(l.x),l.y=Math.ceil(l.y),l.width=Math.ceil(l.width),l.height=Math.ceil(l.height),l}},function(C,w,n){var l=n(10);C.exports=function(f){return new l(f.x,f.y,f.width,f.height)}},function(C,w,n){var l=n(57);C.exports=function(f,h){return l(f,h.x,h.y)}},function(C,w){C.exports=function(l,m){return m.setTo(l.x,l.y,l.width,l.height)}},function(C,w){C.exports=function(l,m){return l.x===m.x&&l.y===m.y&&l.width===m.width&&l.height===m.height}},function(C,w,n){var l=n(237);C.exports=function(f,h){var u=l(f);return u<l(h)?f.setSize(h.height*u,h.height):f.setSize(h.width,h.width/u),f.setPosition(h.centerX-f.width/2,h.centerY-f.height/2)}},function(C,w,n){var l=n(237);C.exports=function(f,h){var u=l(f);return u>l(h)?f.setSize(h.height*u,h.height):f.setSize(h.width,h.width/u),f.setPosition(h.centerX-f.width/2,h.centerY-f.height/2)}},function(C,w){C.exports=function(l){return l.x=Math.floor(l.x),l.y=Math.floor(l.y),l}},function(C,w){C.exports=function(l){return l.x=Math.floor(l.x),l.y=Math.floor(l.y),l.width=Math.floor(l.width),l.height=Math.floor(l.height),l}},function(C,w,n){var l=n(10);C.exports=function(f,h,u,s,o){return void 0===o&&(o=new l),o.setTo(Math.min(f,u),Math.min(h,s),Math.abs(f-u),Math.abs(h-s))}},function(C,w,n){var l=n(4);C.exports=function(f,h){return void 0===h&&(h=new l),h.x=f.centerX,h.y=f.centerY,h}},function(C,w,n){var l=n(4);C.exports=function(f,h){return void 0===h&&(h=new l),h.x=f.width,h.y=f.height,h}},function(C,w,n){var l=n(190);C.exports=function(f,h,u){var s=f.centerX,o=f.centerY;return f.setSize(f.width+2*h,f.height+2*u),l(f,s,o)}},function(C,w,n){var l=n(10),m=n(152);C.exports=function(h,u,s){return void 0===s&&(s=new l),m(h,u)?(s.x=Math.max(h.x,u.x),s.y=Math.max(h.y,u.y),s.width=Math.min(h.right,u.right)-s.x,s.height=Math.min(h.bottom,u.bottom)-s.y):s.setEmpty(),s}},function(C,w){C.exports=function(l,m){for(var f=l.x,h=l.right,u=l.y,s=l.bottom,o=0;o<m.length;o++)f=Math.min(f,m[o].x),h=Math.max(h,m[o].x),u=Math.min(u,m[o].y),s=Math.max(s,m[o].y);return l.x=f,l.y=u,l.width=h-f,l.height=s-u,l}},function(C,w){C.exports=function(l,m){var f=Math.min(l.x,m.x),h=Math.max(l.right,m.right);l.x=f,l.width=h-f;var u=Math.min(l.y,m.y),s=Math.max(l.bottom,m.bottom);return l.y=u,l.height=s-u,l}},function(C,w){C.exports=function(l,m,f){var h=Math.min(l.x,m),u=Math.max(l.right,m);l.x=h,l.width=u-h;var s=Math.min(l.y,f),o=Math.max(l.bottom,f);return l.y=s,l.height=o-s,l}},function(C,w){C.exports=function(l,m,f){return l.x+=m,l.y+=f,l}},function(C,w){C.exports=function(l,m){return l.x+=m.x,l.y+=m.y,l}},function(C,w){C.exports=function(l,m){return l.x<m.right&&l.right>m.x&&l.y<m.bottom&&l.bottom>m.y}},function(C,w,n){var l=n(4),m=n(36);C.exports=function(h,u,s){void 0===s&&(s=new l),u=m(u);var o=Math.sin(u),d=Math.cos(u),a=d>0?h.width/2:h.width/-2,c=o>0?h.height/2:h.height/-2;return Math.abs(a*o)<Math.abs(c*d)?c=a*o/d:a=c*d/o,s.x=a+h.centerX,s.y=c+h.centerY,s}},function(C,w,n){var l=n(195),m=n(503),f=n(4);C.exports=function(u,s,o){if(void 0===o&&(o=new f),m(u,s))switch(l(0,3)){case 0:o.x=u.x+Math.random()*(s.right-u.x),o.y=u.y+Math.random()*(s.top-u.y);break;case 1:o.x=s.x+Math.random()*(u.right-s.x),o.y=s.bottom+Math.random()*(u.bottom-s.bottom);break;case 2:o.x=u.x+Math.random()*(s.x-u.x),o.y=s.y+Math.random()*(u.bottom-s.y);break;case 3:o.x=s.right+Math.random()*(u.right-s.right),o.y=u.y+Math.random()*(s.bottom-u.y)}return o}},function(C,w){C.exports=function(l,m){return l.width===m.width&&l.height===m.height}},function(C,w){C.exports=function(l,m,f){return void 0===f&&(f=m),l.width*=m,l.height*=f,l}},function(C,w,n){var l=n(82);l.Area=n(1294),l.BuildEquilateral=n(1295),l.BuildFromPolygon=n(1296),l.BuildRight=n(1297),l.CenterOn=n(1298),l.Centroid=n(504),l.CircumCenter=n(1299),l.CircumCircle=n(1300),l.Clone=n(1301),l.Contains=n(115),l.ContainsArray=n(235),l.ContainsPoint=n(1302),l.CopyFrom=n(1303),l.Decompose=n(495),l.Equals=n(1304),l.GetPoint=n(476),l.GetPoints=n(477),l.InCenter=n(506),l.Perimeter=n(1305),l.Offset=n(505),l.Random=n(181),l.Rotate=n(1306),l.RotateAroundPoint=n(1307),l.RotateAroundXY=n(238),C.exports=l},function(C,w){C.exports=function(l){var m=l.x1,f=l.y1;return Math.abs(((l.x3-m)*(l.y2-f)-(l.x2-m)*(l.y3-f))/2)}},function(C,w,n){var l=n(82);C.exports=function(f,h,u){var s=u*(Math.sqrt(3)/2);return new l(f,h,f+u/2,h+s,f-u/2,h+s)}},function(C,w,n){var l=n(59),m=n(82);C.exports=function(h,u,s,o,d){void 0===u&&(u=null),void 0===s&&(s=1),void 0===o&&(o=1),void 0===d&&(d=[]);for(var c,p,v,a=l(h,u),R=0;R<a.length;R+=3)d.push(new m(h[2*(c=a[R])]*s,h[2*c+1]*o,h[2*(p=a[R+1])]*s,h[2*p+1]*o,h[2*(v=a[R+2])]*s,h[2*v+1]*o));return d}},function(C,w,n){var l=n(82);C.exports=function(f,h,u,s){return void 0===s&&(s=u),new l(f,h,f,h-s,f+u,h)}},function(C,w,n){var l=n(504),m=n(505);C.exports=function(h,u,s,o){void 0===o&&(o=l);var d=o(h);return m(h,u-d.x,s-d.y)}},function(C,w,n){var l=n(3);function m(h,u,s,o){return h*o-u*s}C.exports=function(h,u){void 0===u&&(u=new l);var s=h.x3,o=h.y3,d=h.x1-s,a=h.y1-o,c=h.x2-s,p=h.y2-o,v=2*m(d,a,c,p),g=m(a,d*d+a*a,p,c*c+p*p),x=m(d,d*d+a*a,c,c*c+p*p);return u.x=s-g/v,u.y=o+x/v,u}},function(C,w,n){var l=n(65);C.exports=function(f,h){void 0===h&&(h=new l);var M,R,u=f.x1,s=f.y1,o=f.x2,d=f.y2,a=f.x3,c=f.y3,p=o-u,v=d-s,g=a-u,x=c-s,T=p*(u+o)+v*(s+d),S=g*(u+a)+x*(s+c),D=2*(p*(c-d)-v*(a-o));if(Math.abs(D)<1e-6){var P=Math.min(u,o,a),I=Math.min(s,d,c);M=.5*(Math.max(u,o,a)-P),R=.5*(Math.max(s,d,c)-I),h.x=P+M,h.y=I+R,h.radius=Math.sqrt(M*M+R*R)}else h.x=(x*T-v*S)/D,h.y=(p*S-g*T)/D,M=h.x-u,R=h.y-s,h.radius=Math.sqrt(M*M+R*R);return h}},function(C,w,n){var l=n(82);C.exports=function(f){return new l(f.x1,f.y1,f.x2,f.y2,f.x3,f.y3)}},function(C,w,n){var l=n(115);C.exports=function(f,h){return l(f,h.x,h.y)}},function(C,w){C.exports=function(l,m){return m.setTo(l.x1,l.y1,l.x2,l.y2,l.x3,l.y3)}},function(C,w){C.exports=function(l,m){return l.x1===m.x1&&l.y1===m.y1&&l.x2===m.x2&&l.y2===m.y2&&l.x3===m.x3&&l.y3===m.y3}},function(C,w,n){var l=n(67);C.exports=function(f){var h=f.getLineA(),u=f.getLineB(),s=f.getLineC();return l(h)+l(u)+l(s)}},function(C,w,n){var l=n(238),m=n(506);C.exports=function(h,u){var s=m(h);return l(h,s.x,s.y,u)}},function(C,w,n){var l=n(238);C.exports=function(f,h,u){return l(f,h.x,h.y,u)}},function(C,w,n){var l=n(203),m=n(17),f={CreatePixelPerfectHandler:n(507),CreateInteractiveObject:n(508),Events:n(51),Gamepad:n(1309),InputManager:n(409),InputPlugin:n(1321),InputPluginCache:n(153),Keyboard:n(1322),Mouse:n(1336),Pointer:n(412),Touch:n(1337)};f=m(!1,f,l),C.exports=f},function(C,w,n){C.exports={Axis:n(509),Button:n(510),Events:n(239),Gamepad:n(511),GamepadPlugin:n(1316),Configs:n(1317)}},function(C,w){C.exports="down"},function(C,w){C.exports="up"},function(C,w){C.exports="connected"},function(C,w){C.exports="disconnected"},function(C,w){C.exports="down"},function(C,w){C.exports="up"},function(C,w,n){var l=n(0),m=n(9),f=n(239),h=n(511),u=n(6),s=n(153),o=n(51),d=new l({Extends:m,initialize:function(c){m.call(this),this.scene=c.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=c,this.enabled=!0,this.gamepads=[],this.queue=[],c.pluginEvents.once(o.BOOT,this.boot,this),c.pluginEvents.on(o.START,this.start,this)},boot:function(){var a=this.scene.sys.game,c=this.settings.input,p=a.config;this.enabled=u(c,"gamepad",p.inputGamepad)&&a.device.input.gamepads,this.target=u(c,"gamepad.target",p.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(o.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(o.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var a=this,c=this.target,p=function(v){v.defaultPrevented||!a.isActive()||(a.refreshPads(),a.queue.push(v))};this.onGamepadHandler=p,c.addEventListener("gamepadconnected",p,!1),c.addEventListener("gamepaddisconnected",p,!1),this.sceneInputPlugin.pluginEvents.on(o.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(o.UPDATE,this.update);for(var a=0;a<this.gamepads.length;a++)this.gamepads[a].removeAllListeners()},disconnectAll:function(){for(var a=0;a<this.gamepads.length;a++)this.gamepads[a].pad.connected=!1},refreshPads:function(){var a=navigator.getGamepads();if(a)for(var c=this.gamepads,p=0;p<a.length;p++){var v=a[p];if(v){var x=v.index,T=c[x];if(T)T.id!==v.id?(T.destroy(),c[x]=new h(this,v)):T.update(v);else{var S=new h(this,v);c[x]=S,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=S):this._pad3=S:this._pad2=S:this._pad1=S}}}else this.disconnectAll()},getAll:function(){for(var a=[],c=this.gamepads,p=0;p<c.length;p++)c[p]&&a.push(c[p]);return a},getPad:function(a){for(var c=this.gamepads,p=0;p<c.length;p++)if(c[p]&&c[p].index===a)return c[p]},update:function(){if(this.enabled){this.refreshPads();var a=this.queue.length;if(0!==a)for(var c=this.queue.splice(0,a),p=0;p<a;p++){var v=c[p],g=this.getPad(v.gamepad.index);"gamepadconnected"===v.type?this.emit(f.CONNECTED,g,v):"gamepaddisconnected"===v.type&&this.emit(f.DISCONNECTED,g,v)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var a=0;a<this.gamepads.length;a++)this.gamepads[a]&&this.gamepads[a].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});s.register("GamepadPlugin",d,"gamepad","gamepad","inputGamepad"),C.exports=d},function(C,w,n){C.exports={DUALSHOCK_4:n(1318),SNES_USB:n(1319),XBOX_360:n(1320)}},function(C,w){C.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(C,w){C.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},function(C,w){C.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(C,w,n){var l=n(65),m=n(66),f=n(0),h=n(203),u=n(508),s=n(507),o=n(50),d=n(111),a=n(112),c=n(51),p=n(9),v=n(2),g=n(56),x=n(153),T=n(7),S=n(24),D=n(10),M=n(57),R=n(20),P=n(82),I=n(115),b=new f({Extends:p,initialize:function(B){p.call(this),this.scene=B,this.systems=B.sys,this.settings=B.sys.settings,this.manager=B.sys.game.input,this.pluginEvents=new p,this.enabled=!0,x.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var V={cancelled:!1};this._eventContainer={stopPropagation:function(){V.cancelled=!0}},this._eventData=V,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,B.sys.events.once(R.BOOT,this.boot,this),B.sys.events.on(R.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(R.DESTROY,this.destroy,this),this.pluginEvents.emit(c.BOOT)},start:function(){var L=this.systems.events;L.on(R.TRANSITION_START,this.transitionIn,this),L.on(R.TRANSITION_OUT,this.transitionOut,this),L.on(R.TRANSITION_COMPLETE,this.transitionComplete,this),L.on(R.PRE_UPDATE,this.preUpdate,this),L.once(R.SHUTDOWN,this.shutdown,this),this.manager.events.on(c.GAME_OUT,this.onGameOut,this),this.manager.events.on(c.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(c.START)},onGameOver:function(L){this.isActive()&&this.emit(c.GAME_OVER,L.timeStamp,L)},onGameOut:function(L){this.isActive()&&this.emit(c.GAME_OUT,L.timeStamp,L)},preUpdate:function(){this.pluginEvents.emit(c.PRE_UPDATE);var L=this._pendingRemoval,B=this._pendingInsertion,V=L.length;if(0!==V||0!==B.length){for(var W=this._list,K=0;K<V;K++){var J=L[K],tt=W.indexOf(J);tt>-1&&(W.splice(tt,1),this.clear(J,!0))}L.length=0,this._pendingRemoval.length=0,this._list=W.concat(B.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.isActive()},updatePoll:function(L,B){if(!this.isActive())return!1;if(this.pluginEvents.emit(c.UPDATE,L,B),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var V,z=this.manager,W=z.pointers,K=z.pointersTotal;for(V=0;V<K;V++)W[V].updateMotion();if(0===this._list.length)return!1;var J=this.pollRate;if(-1===J)return!1;if(J>0){if(this._pollTimer-=B,!(this._pollTimer<0))return!1;this._pollTimer=this.pollRate}var tt=!1;for(V=0;V<K;V++){var it=0,H=W[V];this._tempZones=[],this._temp=this.hitTestPointer(H),this.sortGameObjects(this._temp,H),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),it+=this.processOverOutEvents(H),2===this.getDragState(H)&&this.processDragThresholdEvent(H,L),it>0&&(tt=!0)}return tt},update:function(L,B){if(!this.isActive())return!1;for(var V=B.length,z=!1,W=0;W<V;W++){var K=0,J=B[W];switch(this._tempZones=[],this._temp=this.hitTestPointer(J),this.sortGameObjects(this._temp,J),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),L){case h.MOUSE_DOWN:K+=this.processDragDownEvent(J),K+=this.processDownEvents(J),K+=this.processOverOutEvents(J);break;case h.MOUSE_UP:K+=this.processDragUpEvent(J),K+=this.processUpEvents(J),K+=this.processOverOutEvents(J);break;case h.TOUCH_START:K+=this.processDragDownEvent(J),K+=this.processDownEvents(J),K+=this.processOverEvents(J);break;case h.TOUCH_END:case h.TOUCH_CANCEL:K+=this.processDragUpEvent(J),K+=this.processUpEvents(J),K+=this.processOutEvents(J);break;case h.MOUSE_MOVE:case h.TOUCH_MOVE:K+=this.processDragMoveEvent(J),K+=this.processMoveEvents(J),K+=this.processOverOutEvents(J);break;case h.MOUSE_WHEEL:K+=this.processWheelEvent(J)}K>0&&(z=!0)}return this._updatedThisFrame=!0,z},clear:function(L,B){void 0===B&&(B=!1);var V=L.input;if(V){B||this.queueForRemoval(L),V.gameObject=void 0,V.target=void 0,V.hitArea=void 0,V.hitAreaCallback=void 0,V.callbackContext=void 0,L.input=null;var z=this._draggable.indexOf(L);return z>-1&&this._draggable.splice(z,1),(z=this._drag[0].indexOf(L))>-1&&this._drag[0].splice(z,1),(z=this._over[0].indexOf(L))>-1&&(this._over[0].splice(z,1),this.manager.resetCursor(V)),L}},disable:function(L){L.input.enabled=!1},enable:function(L,B,V,z){return void 0===z&&(z=!1),L.input?L.input.enabled=!0:this.setHitArea(L,B,V),L.input&&z&&!L.input.dropZone&&(L.input.dropZone=z),this},hitTestPointer:function(L){for(var B=this.cameras.getCamerasBelowPointer(L),V=0;V<B.length;V++){for(var z=B[V],W=this.manager.hitTest(L,this._list,z),K=0;K<W.length;K++){var J=W[K];J.input.dropZone&&this._tempZones.push(J)}if(W.length>0)return L.camera=z,W}return L.camera=B[0],[]},processDownEvents:function(L){var B=0,V=this._temp,z=this._eventData,W=this._eventContainer;z.cancelled=!1;for(var K=!1,J=0;J<V.length;J++){var tt=V[J];if(tt.input){if(B++,tt.emit(c.GAMEOBJECT_POINTER_DOWN,L,tt.input.localX,tt.input.localY,W),z.cancelled||!tt.input){K=!0;break}if(this.emit(c.GAMEOBJECT_DOWN,L,tt,W),z.cancelled||!tt.input){K=!0;break}}}return!K&&this.manager&&(L.downElement===this.manager.game.canvas?this.emit(c.POINTER_DOWN,L,V):this.emit(c.POINTER_DOWN_OUTSIDE,L)),B},getDragState:function(L){return this._dragState[L.id]},setDragState:function(L,B){this._dragState[L.id]=B},processDragThresholdEvent:function(L,B){var V=!1,z=this.dragTimeThreshold,W=this.dragDistanceThreshold;if((W>0&&o(L.x,L.y,L.downX,L.downY)>=W||z>0&&B>=L.downTime+z)&&(V=!0),V)return this.setDragState(L,3),this.processDragStartList(L)},processDragStartList:function(L){if(3!==this.getDragState(L))return 0;for(var B=this._drag[L.id],V=0;V<B.length;V++){var z=B[V],W=z.input;W.dragState=2,W.dragStartX=z.x,W.dragStartY=z.y,W.dragStartXGlobal=L.worldX,W.dragStartYGlobal=L.worldY,W.dragX=W.dragStartXGlobal-W.dragStartX,W.dragY=W.dragStartYGlobal-W.dragStartY,z.emit(c.GAMEOBJECT_DRAG_START,L,W.dragX,W.dragY),this.emit(c.DRAG_START,L,z)}return this.setDragState(L,4),B.length},processDragDownEvent:function(L){var B=this._temp;if(0===this._draggable.length||0===B.length||!L.primaryDown||0!==this.getDragState(L))return 0;this.setDragState(L,1);for(var V=[],z=0;z<B.length;z++){var W=B[z];W.input.draggable&&0===W.input.dragState&&V.push(W)}return 0===V.length?(this.setDragState(L,0),0):(V.length>1&&(this.sortGameObjects(V,L),this.topOnly&&V.splice(1)),this._drag[L.id]=V,0===this.dragDistanceThreshold&&0===this.dragTimeThreshold?(this.setDragState(L,3),this.processDragStartList(L)):(this.setDragState(L,2),0))},processDragMoveEvent:function(L){if(2===this.getDragState(L)&&this.processDragThresholdEvent(L,this.manager.game.loop.now),4!==this.getDragState(L))return 0;for(var B=this._tempZones,V=this._drag[L.id],z=0;z<V.length;z++){var it,H,W=V[z],K=W.input,J=K.target;if(J){var tt=B.indexOf(J);0===tt?(W.emit(c.GAMEOBJECT_DRAG_OVER,L,J),this.emit(c.DRAG_OVER,L,W,J)):tt>0?(W.emit(c.GAMEOBJECT_DRAG_LEAVE,L,J),this.emit(c.DRAG_LEAVE,L,W,J),K.target=B[0],W.emit(c.GAMEOBJECT_DRAG_ENTER,L,J=K.target),this.emit(c.DRAG_ENTER,L,W,J)):(W.emit(c.GAMEOBJECT_DRAG_LEAVE,L,J),this.emit(c.DRAG_LEAVE,L,W,J),B[0]?(K.target=B[0],W.emit(c.GAMEOBJECT_DRAG_ENTER,L,J=K.target),this.emit(c.DRAG_ENTER,L,W,J)):K.target=null)}else!J&&B[0]&&(K.target=B[0],W.emit(c.GAMEOBJECT_DRAG_ENTER,L,J=K.target),this.emit(c.DRAG_ENTER,L,W,J));if(W.parentContainer){var G=L.worldX-K.dragStartXGlobal,Y=L.worldY-K.dragStartYGlobal,X=W.getParentRotation(),$=G*Math.cos(X)+Y*Math.sin(X),Q=Y*Math.cos(X)-G*Math.sin(X);it=($*=1/W.parentContainer.scaleX)+K.dragStartX,H=(Q*=1/W.parentContainer.scaleY)+K.dragStartY}else it=L.worldX-K.dragX,H=L.worldY-K.dragY;W.emit(c.GAMEOBJECT_DRAG,L,it,H),this.emit(c.DRAG,L,W,it,H)}return V.length},processDragUpEvent:function(L){for(var B=this._drag[L.id],V=0;V<B.length;V++){var z=B[V],W=z.input;if(W&&2===W.dragState){W.dragState=0,W.dragX=W.localX-z.displayOriginX,W.dragY=W.localY-z.displayOriginY;var K=!1,J=W.target;J&&(z.emit(c.GAMEOBJECT_DROP,L,J),this.emit(c.DROP,L,z,J),W.target=null,K=!0),z.input&&(z.emit(c.GAMEOBJECT_DRAG_END,L,W.dragX,W.dragY,K),this.emit(c.DRAG_END,L,z,K))}}return this.setDragState(L,0),B.splice(0),0},processMoveEvents:function(L){var B=0,V=this._temp,z=this._eventData,W=this._eventContainer;z.cancelled=!1;for(var K=!1,J=0;J<V.length;J++){var tt=V[J];if(tt.input){if(B++,tt.emit(c.GAMEOBJECT_POINTER_MOVE,L,tt.input.localX,tt.input.localY,W),z.cancelled||!tt.input){K=!0;break}if(this.emit(c.GAMEOBJECT_MOVE,L,tt,W),z.cancelled||!tt.input){K=!0;break}if(this.topOnly)break}}return K||this.emit(c.POINTER_MOVE,L,V),B},processWheelEvent:function(L){var B=0,V=this._temp,z=this._eventData,W=this._eventContainer;z.cancelled=!1;for(var K=!1,J=L.deltaX,tt=L.deltaY,it=L.deltaZ,H=0;H<V.length;H++){var G=V[H];if(G.input){if(B++,G.emit(c.GAMEOBJECT_POINTER_WHEEL,L,J,tt,it,W),z.cancelled||!G.input){K=!0;break}if(this.emit(c.GAMEOBJECT_WHEEL,L,G,J,tt,it,W),z.cancelled||!G.input){K=!0;break}}}return K||this.emit(c.POINTER_WHEEL,L,V,J,tt,it),B},processOverEvents:function(L){var B=this._temp,V=0,z=B.length,W=[];if(z>0){var K=this.manager,J=this._eventData,tt=this._eventContainer;J.cancelled=!1;for(var it=!1,H=0;H<z;H++){var G=B[H];if(G.input){if(W.push(G),K.setCursor(G.input),G.emit(c.GAMEOBJECT_POINTER_OVER,L,G.input.localX,G.input.localY,tt),V++,J.cancelled||!G.input){it=!0;break}if(this.emit(c.GAMEOBJECT_OVER,L,G,tt),J.cancelled||!G.input){it=!0;break}}}it||this.emit(c.POINTER_OVER,L,W)}return this._over[L.id]=W,V},processOutEvents:function(L){var B=this._over[L.id],V=0,z=B.length;if(z>0){var W=this.manager,K=this._eventData,J=this._eventContainer;K.cancelled=!1;var tt=!1;this.sortGameObjects(B,L);for(var it=0;it<z;it++){var H=B[it];if((H=B[it]).input){if(W.resetCursor(H.input),H.emit(c.GAMEOBJECT_POINTER_OUT,L,J),V++,K.cancelled||!H.input){tt=!0;break}if(this.emit(c.GAMEOBJECT_OUT,L,H,J),K.cancelled||!H.input){tt=!0;break}tt||this.emit(c.POINTER_OUT,L,B)}}this._over[L.id]=[]}return V},processOverOutEvents:function(L){var V,z,B=this._temp,W=[],K=[],J=[],tt=this._over[L.id],it=this._drag[L.id],H=this.manager;for(V=0;V<tt.length;V++)-1===B.indexOf(z=tt[V])&&-1===it.indexOf(z)?W.push(z):J.push(z);for(V=0;V<B.length;V++)-1===tt.indexOf(z=B[V])&&K.push(z);var G=W.length,Y=0,X=this._eventData,$=this._eventContainer;X.cancelled=!1;var Q=!1;if(G>0){for(this.sortGameObjects(W,L),V=0;V<G;V++)if((z=W[V]).input){if(H.resetCursor(z.input),z.emit(c.GAMEOBJECT_POINTER_OUT,L,$),Y++,X.cancelled||!z.input){Q=!0;break}if(this.emit(c.GAMEOBJECT_OUT,L,z,$),X.cancelled||!z.input){Q=!0;break}}Q||this.emit(c.POINTER_OUT,L,W)}if(G=K.length,X.cancelled=!1,Q=!1,G>0){for(this.sortGameObjects(K,L),V=0;V<G;V++)if((z=K[V]).input){if(H.setCursor(z.input),z.emit(c.GAMEOBJECT_POINTER_OVER,L,z.input.localX,z.input.localY,$),Y++,X.cancelled||!z.input){Q=!0;break}if(this.emit(c.GAMEOBJECT_OVER,L,z,$),X.cancelled||!z.input){Q=!0;break}}Q||this.emit(c.POINTER_OVER,L,K)}return tt=J.concat(K),this._over[L.id]=this.sortGameObjects(tt,L),Y},processUpEvents:function(L){var B=this._temp,V=this._eventData,z=this._eventContainer;V.cancelled=!1;for(var W=!1,K=0;K<B.length;K++){var J=B[K];if(J.input){if(J.emit(c.GAMEOBJECT_POINTER_UP,L,J.input.localX,J.input.localY,z),V.cancelled||!J.input){W=!0;break}if(this.emit(c.GAMEOBJECT_UP,L,J,z),V.cancelled||!J.input){W=!0;break}}}return!W&&this.manager&&(L.upElement===this.manager.game.canvas?this.emit(c.POINTER_UP,L,B):this.emit(c.POINTER_UP_OUTSIDE,L)),B.length},queueForInsertion:function(L){return-1===this._pendingInsertion.indexOf(L)&&-1===this._list.indexOf(L)&&this._pendingInsertion.push(L),this},queueForRemoval:function(L){return this._pendingRemoval.push(L),this},setDraggable:function(L,B){void 0===B&&(B=!0),Array.isArray(L)||(L=[L]);for(var V=0;V<L.length;V++){var z=L[V];z.input.draggable=B;var W=this._draggable.indexOf(z);B&&-1===W?this._draggable.push(z):!B&&W>-1&&this._draggable.splice(W,1)}return this},makePixelPerfect:function(L){return void 0===L&&(L=1),s(this.systems.textures,L)},setHitArea:function(L,B,V){if(void 0===B)return this.setHitAreaFromTexture(L);Array.isArray(L)||(L=[L]);var z=!1,W=!1,K=!1,J=!1,tt=!1,it=!0;if(T(B)){var H=B;B=v(H,"hitArea",null),V=v(H,"hitAreaCallback",null),z=v(H,"draggable",!1),W=v(H,"dropZone",!1),K=v(H,"cursor",!1),J=v(H,"useHandCursor",!1),tt=v(H,"pixelPerfect",!1);var G=v(H,"alphaTolerance",1);tt&&(B={},V=this.makePixelPerfect(G)),(!B||!V)&&(this.setHitAreaFromTexture(L),it=!1)}else"function"==typeof B&&!V&&(V=B,B={});for(var Y=0;Y<L.length;Y++){var X=L[Y];if(tt&&"Container"===X.type)console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");else{var $=X.input?X.input:u(X,B,V);$.customHitArea=it,$.dropZone=W,$.cursor=J?"pointer":K,X.input=$,z&&this.setDraggable(X),this.queueForInsertion(X)}}return this},setHitAreaCircle:function(L,B,V,z,W){void 0===W&&(W=m);var K=new l(B,V,z);return this.setHitArea(L,K,W)},setHitAreaEllipse:function(L,B,V,z,W,K){void 0===K&&(K=a);var J=new d(B,V,z,W);return this.setHitArea(L,J,K)},setHitAreaFromTexture:function(L,B){void 0===B&&(B=M),Array.isArray(L)||(L=[L]);for(var V=0;V<L.length;V++){var z=L[V],W=z.frame,K=0,J=0;z.width?(K=z.width,J=z.height):W&&(K=W.realWidth,J=W.realHeight),"Container"!==z.type||0!==K&&0!==J?0!==K&&0!==J&&(z.input=u(z,new D(0,0,K,J),B),this.queueForInsertion(z)):console.warn("Container.setInteractive must specify a Shape or call setSize() first")}return this},setHitAreaRectangle:function(L,B,V,z,W,K){void 0===K&&(K=M);var J=new D(B,V,z,W);return this.setHitArea(L,J,K)},setHitAreaTriangle:function(L,B,V,z,W,K,J,tt){void 0===tt&&(tt=I);var it=new P(B,V,z,W,K,J);return this.setHitArea(L,it,tt)},enableDebug:function(L,B){void 0===B&&(B=65280);var V=L.input;if(!V||!V.hitArea)return this;var z=V.hitArea,W=z.type,K=V.hitAreaDebug,J=this.systems.add,tt=this.systems.updateList;K&&(tt.remove(K),K.destroy(),K=null);var it=0,H=0;switch(W){case g.CIRCLE:K=J.arc(0,0,z.radius),it=z.x-z.radius,H=z.y-z.radius;break;case g.ELLIPSE:K=J.ellipse(0,0,z.width,z.height),it=z.x-z.width/2,H=z.y-z.height/2;break;case g.LINE:K=J.line(0,0,z.x1,z.y1,z.x2,z.y2);break;case g.POLYGON:K=J.polygon(0,0,z.points);break;case g.RECTANGLE:K=J.rectangle(0,0,z.width,z.height),it=z.x,H=z.y;break;case g.TRIANGLE:K=J.triangle(0,0,z.x1,z.y1,z.x2,z.y2,z.x3,z.y3)}return K&&(K.isFilled=!1,K.preUpdate=function(){K.setStrokeStyle(1/L.scale,B),K.setDisplayOrigin(L.displayOriginX,L.displayOriginY);var G=L.x,Y=L.y,X=L.rotation,$=L.scaleX,Q=L.scaleY;if(L.parentContainer){var _=L.getWorldTransformMatrix();G=_.tx,Y=_.ty,X=_.rotation,$=_.scaleX,Q=_.scaleY}K.setRotation(X),K.setScale($,Q),K.setPosition(G+it,Y+H),K.setScrollFactor(L.scrollFactorX,L.scrollFactorY),K.setDepth(L.depth)},tt.add(K),V.hitAreaDebug=K),this},removeDebug:function(L){var B=L.input;if(B&&B.hitAreaDebug){var V=B.hitAreaDebug;this.systems.updateList.remove(V),V.destroy(),B.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(L){return this.pollRate=L,this._pollTimer=0,this},setGlobalTopOnly:function(L){return this.manager.globalTopOnly=L,this},setTopOnly:function(L){return this.topOnly=L,this},sortGameObjects:function(L,B){if(L.length<2)return L;var V=B.camera.renderList;return L.sort(function(z,W){return V.indexOf(W)-V.indexOf(z)})},sortDropZones:function(L){return L.length<2?L:(this.scene.sys.depthSort(),L.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(L,B){if(!L.parentContainer&&!B.parentContainer)return this.displayList.getIndex(B)-this.displayList.getIndex(L);if(L.parentContainer===B.parentContainer)return B.parentContainer.getIndex(B)-L.parentContainer.getIndex(L);if(L.parentContainer===B)return-1;if(B.parentContainer===L)return 1;for(var V=L.getIndexList(),z=B.getIndexList(),W=Math.min(V.length,z.length),K=0;K<W;K++){var J=V[K],tt=z[K];if(J!==tt)return tt-J}return z.length-V.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(L){return this.manager.addPointer(L)},setDefaultCursor:function(L){return this.manager.setDefaultCursor(L),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(c.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var L=0;L<10;L++)this._drag[L]=[],this._over[L]=[];this.removeAllListeners();var B=this.manager;B.canvas.style.cursor=B.defaultCursor;var V=this.systems.events;V.off(R.TRANSITION_START,this.transitionIn,this),V.off(R.TRANSITION_OUT,this.transitionOut,this),V.off(R.TRANSITION_COMPLETE,this.transitionComplete,this),V.off(R.PRE_UPDATE,this.preUpdate,this),B.events.off(c.GAME_OUT,this.onGameOut,this),B.events.off(c.GAME_OVER,this.onGameOver,this),V.off(R.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.pluginEvents.emit(c.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(R.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});S.register("InputPlugin",b,"input"),C.exports=b},function(C,w,n){C.exports={Events:n(154),KeyboardManager:n(410),KeyboardPlugin:n(1330),Key:n(512),KeyCodes:n(143),KeyCombo:n(513),AdvanceKeyCombo:n(515),ProcessKeyCombo:n(514),ResetKeyCombo:n(516),JustDown:n(1332),JustUp:n(1333),DownDuration:n(1334),UpDuration:n(1335)}},function(C,w){C.exports="keydown"},function(C,w){C.exports="keyup"},function(C,w){C.exports="keycombomatch"},function(C,w){C.exports="down"},function(C,w){C.exports="keydown-"},function(C,w){C.exports="keyup-"},function(C,w){C.exports="up"},function(C,w,n){var l=n(0),m=n(9),f=n(154),h=n(22),u=n(6),s=n(51),o=n(153),d=n(512),a=n(143),c=n(513),p=n(1331),v=n(20),g=n(76),x=new l({Extends:m,initialize:function(S){m.call(this),this.game=S.systems.game,this.scene=S.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=S,this.manager=S.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,S.pluginEvents.once(s.BOOT,this.boot,this),S.pluginEvents.on(s.START,this.start,this)},boot:function(){var T=this.settings.input;this.enabled=u(T,"keyboard",!0);var S=u(T,"keyboard.capture",null);S&&this.addCaptures(S),this.sceneInputPlugin.pluginEvents.once(s.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(s.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(s.SHUTDOWN,this.shutdown,this),this.game.events.on(h.BLUR,this.resetKeys,this),this.scene.sys.events.on(v.PAUSE,this.resetKeys,this),this.scene.sys.events.on(v.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},addCapture:function(T){return this.manager.addCapture(T),this},removeCapture:function(T){return this.manager.removeCapture(T),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:a.UP,down:a.DOWN,left:a.LEFT,right:a.RIGHT,space:a.SPACE,shift:a.SHIFT})},addKeys:function(T,S,D){void 0===S&&(S=!0),void 0===D&&(D=!1);var M={};if("string"==typeof T){T=T.split(",");for(var R=0;R<T.length;R++){var P=T[R].trim();P&&(M[P]=this.addKey(P,S,D))}}else for(var I in T)M[I]=this.addKey(T[I],S,D);return M},addKey:function(T,S,D){void 0===S&&(S=!0),void 0===D&&(D=!1);var M=this.keys;if(T instanceof d){var R=M.indexOf(T);return R>-1?M[R]=T:M[T.keyCode]=T,S&&this.addCapture(T.keyCode),T.setEmitOnRepeat(D),T}return"string"==typeof T&&(T=a[T.toUpperCase()]),M[T]||(M[T]=new d(this,T),S&&this.addCapture(T),M[T].setEmitOnRepeat(D)),M[T]},removeKey:function(T,S){void 0===S&&(S=!1);var M,D=this.keys;if(T instanceof d){var R=D.indexOf(T);R>-1&&(M=this.keys[R],this.keys[R]=void 0)}else"string"==typeof T&&(T=a[T.toUpperCase()]);return D[T]&&(M=D[T],D[T]=void 0),M&&(M.plugin=null,S&&M.destroy()),this},removeAllKeys:function(T){for(var S=this.keys,D=0;D<S.length;D++){var M=S[D];M&&(S[D]=void 0,T&&M.destroy())}return this},createCombo:function(T,S){return new c(this,T,S)},checkDown:function(T,S){if(void 0===S&&(S=0),this.enabled&&T.isDown){var D=g(this.time-T.timeDown,S);if(D>T._tick)return T._tick=D,!0}return!1},update:function(){var T=this.manager.queue,S=T.length;if(this.isActive()&&0!==S)for(var D=this.keys,M=0;M<S;M++){var R=T[M],P=R.keyCode,I=D[P],b=!1;void 0===R.cancelled&&(R.cancelled=0,R.stopImmediatePropagation=function(){R.cancelled=1},R.stopPropagation=function(){R.cancelled=-1}),-1!==R.cancelled&&(P===this.prevCode&&R.timeStamp===this.prevTime&&R.type===this.prevType||(this.prevCode=P,this.prevTime=R.timeStamp,this.prevType=R.type,"keydown"===R.type?(I&&(b=I.isDown,I.onDown(R)),!R.cancelled&&(!I||!b)&&(p[P]&&this.emit(f.KEY_DOWN+p[P],R),R.cancelled||this.emit(f.ANY_KEY_DOWN,R))):(I&&I.onUp(R),R.cancelled||(p[P]&&this.emit(f.KEY_UP+p[P],R),R.cancelled||this.emit(f.ANY_KEY_UP,R))),1===R.cancelled&&(R.cancelled=0)))}},resetKeys:function(){for(var T=this.keys,S=0;S<T.length;S++)T[S]&&T[S].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(s.MANAGER_PROCESS,this.update,this),this.game.events.off(h.BLUR,this.resetKeys),this.scene.sys.events.off(v.PAUSE,this.resetKeys,this),this.scene.sys.events.off(v.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var T=this.keys,S=0;S<T.length;S++)T[S]&&T[S].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});o.register("KeyboardPlugin",x,"keyboard","keyboard","inputKeyboard"),C.exports=x},function(C,w,n){var l=n(143),m={};for(var f in l)m[l[f]]=f;C.exports=m},function(C,w){C.exports=function(l){return!!l._justDown&&(l._justDown=!1,!0)}},function(C,w){C.exports=function(l){return!!l._justUp&&(l._justUp=!1,!0)}},function(C,w){C.exports=function(l,m){return void 0===m&&(m=50),l.isDown&&l.plugin.game.loop.time-l.timeDown<m}},function(C,w){C.exports=function(l,m){return void 0===m&&(m=50),l.isUp&&l.plugin.game.loop.time-l.timeUp<m}},function(C,w,n){C.exports={MouseManager:n(411)}},function(C,w,n){C.exports={TouchManager:n(413)}},function(C,w,n){var l=n(21),m=n(17),f={Events:n(95),FileTypes:n(1339),File:n(23),FileTypesManager:n(8),GetURL:n(155),LoaderPlugin:n(1365),MergeXHRSettings:n(240),MultiFile:n(49),XHRLoader:n(517),XHRSettings:n(156)};f=m(!1,f,l),C.exports=f},function(C,w,n){C.exports={AnimationJSONFile:n(1340),AsepriteFile:n(1341),AtlasJSONFile:n(1342),AtlasXMLFile:n(1343),AudioFile:n(518),AudioSpriteFile:n(1344),BinaryFile:n(1345),BitmapFontFile:n(1346),CSSFile:n(1347),GLSLFile:n(1348),HTML5AudioFile:n(519),HTMLFile:n(1349),HTMLTextureFile:n(1350),ImageFile:n(71),JSONFile:n(61),MultiAtlasFile:n(1351),MultiScriptFile:n(1352),OBJFile:n(1353),PackFile:n(1354),PluginFile:n(1355),SceneFile:n(1356),ScenePluginFile:n(1357),ScriptFile:n(520),SpriteSheetFile:n(1358),SVGFile:n(1359),TextFile:n(242),TilemapCSVFile:n(1360),TilemapImpactFile:n(1361),TilemapJSONFile:n(1362),UnityAtlasFile:n(1363),VideoFile:n(1364),XMLFile:n(241)}},function(C,w,n){var l=n(0),m=n(8),f=n(61),h=n(95),u=new l({Extends:f,initialize:function(o,d,a,c,p){f.call(this,o,d,a,c,p),this.type="animationJSON"},onProcess:function(){this.loader.once(h.POST_PROCESS,this.onLoadComplete,this),f.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});m.register("animation",function(s,o,d,a){if(Array.isArray(s))for(var c=0;c<s.length;c++)this.addFile(new u(this,s[c]));else this.addFile(new u(this,s,o,a,d));return this}),C.exports=u},function(C,w,n){var l=n(0),m=n(8),f=n(2),h=n(71),u=n(7),s=n(61),o=n(49),d=new l({Extends:o,initialize:function(c,p,v,g,x,T){var S,D;if(u(p)){var M=p;p=f(M,"key"),S=new h(c,{key:p,url:f(M,"textureURL"),extension:f(M,"textureExtension","png"),normalMap:f(M,"normalMap"),xhrSettings:f(M,"textureXhrSettings")}),D=new s(c,{key:p,url:f(M,"atlasURL"),extension:f(M,"atlasExtension","json"),xhrSettings:f(M,"atlasXhrSettings")})}else S=new h(c,p,v,x),D=new s(c,p,g,T);o.call(this,c,"atlasjson",p,S.linkFile?[S,D,S.linkFile]:[S,D])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],c=this.files[1];this.loader.textureManager.addAtlas(a.key,a.data,c.data,this.files[2]?this.files[2].data:null),c.addToCache(),this.complete=!0}}});m.register("aseprite",function(a,c,p,v,g){var x;if(Array.isArray(a))for(var T=0;T<a.length;T++)x=new d(this,a[T]),this.addFile(x.files);else x=new d(this,a,c,p,v,g),this.addFile(x.files);return this}),C.exports=d},function(C,w,n){var l=n(0),m=n(8),f=n(2),h=n(71),u=n(7),s=n(61),o=n(49),d=new l({Extends:o,initialize:function(c,p,v,g,x,T){var S,D;if(u(p)){var M=p;p=f(M,"key"),S=new h(c,{key:p,url:f(M,"textureURL"),extension:f(M,"textureExtension","png"),normalMap:f(M,"normalMap"),xhrSettings:f(M,"textureXhrSettings")}),D=new s(c,{key:p,url:f(M,"atlasURL"),extension:f(M,"atlasExtension","json"),xhrSettings:f(M,"atlasXhrSettings")})}else S=new h(c,p,v,x),D=new s(c,p,g,T);o.call(this,c,"atlasjson",p,S.linkFile?[S,D,S.linkFile]:[S,D])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],c=this.files[1];this.loader.textureManager.addAtlas(a.key,a.data,c.data,this.files[2]?this.files[2].data:null),c.pendingDestroy(),this.complete=!0}}});m.register("atlas",function(a,c,p,v,g){var x;if(Array.isArray(a))for(var T=0;T<a.length;T++)x=new d(this,a[T]),this.addFile(x.files);else x=new d(this,a,c,p,v,g),this.addFile(x.files);return this}),C.exports=d},function(C,w,n){var l=n(0),m=n(8),f=n(2),h=n(71),u=n(7),s=n(49),o=n(241),d=new l({Extends:s,initialize:function(c,p,v,g,x,T){var S,D;if(u(p)){var M=p;p=f(M,"key"),S=new h(c,{key:p,url:f(M,"textureURL"),extension:f(M,"textureExtension","png"),normalMap:f(M,"normalMap"),xhrSettings:f(M,"textureXhrSettings")}),D=new o(c,{key:p,url:f(M,"atlasURL"),extension:f(M,"atlasExtension","xml"),xhrSettings:f(M,"atlasXhrSettings")})}else S=new h(c,p,v,x),D=new o(c,p,g,T);s.call(this,c,"atlasxml",p,S.linkFile?[S,D,S.linkFile]:[S,D])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],c=this.files[1];this.loader.textureManager.addAtlasXML(a.key,a.data,c.data,this.files[2]?this.files[2].data:null),c.pendingDestroy(),this.complete=!0}}});m.register("atlasXML",function(a,c,p,v,g){var x;if(Array.isArray(a))for(var T=0;T<a.length;T++)x=new d(this,a[T]),this.addFile(x.files);else x=new d(this,a,c,p,v,g),this.addFile(x.files);return this}),C.exports=d},function(C,w,n){var l=n(518),m=n(0),f=n(8),h=n(2),u=n(7),s=n(61),o=n(49),d=new m({Extends:o,initialize:function(c,p,v,g,x,T,S){if(u(p)){var D=p;p=h(D,"key"),v=h(D,"jsonURL"),g=h(D,"audioURL"),x=h(D,"audioConfig"),T=h(D,"audioXhrSettings"),S=h(D,"jsonXhrSettings")}var M;if(g){var R=l.create(c,p,g,x,T);R&&(M=new s(c,p,v,S),o.call(this,c,"audiosprite",p,[R,M]),this.config.resourceLoad=!1)}else M=new s(c,p,v,S),o.call(this,c,"audiosprite",p,[M]),this.config.resourceLoad=!0,this.config.audioConfig=x,this.config.audioXhrSettings=T},onFileComplete:function(a){if(-1!==this.files.indexOf(a)&&(this.pending--,this.config.resourceLoad&&"json"===a.type&&a.data.hasOwnProperty("resources"))){var p=a.data.resources,v=h(this.config,"audioConfig"),g=h(this.config,"audioXhrSettings"),x=l.create(this.loader,a.key,p,v,g);x&&(this.addToMultiFile(x),this.loader.addFile(x))}},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[1];this.files[0].addToCache(),c.addToCache(),this.complete=!0}}});f.register("audioSprite",function(a,c,p,v,g,x){var M,T=this.systems.game,S=T.config.audio,D=T.device.audio;if(S&&S.noAudio||!D.webAudio&&!D.audioData)return this;if(Array.isArray(a))for(var R=0;R<a.length;R++)(M=new d(this,a[R])).files&&this.addFile(M.files);else(M=new d(this,a,c,p,v,g,x)).files&&this.addFile(M.files);return this})},function(C,w,n){var l=n(0),m=n(21),f=n(23),h=n(8),u=n(2),s=n(7),o=new l({Extends:f,initialize:function(a,c,p,v,g){var x="bin";if(s(c)){var T=c;c=u(T,"key"),p=u(T,"url"),v=u(T,"xhrSettings"),x=u(T,"extension",x),g=u(T,"dataType",g)}f.call(this,a,{type:"binary",cache:a.cacheManager.binary,extension:x,responseType:"arraybuffer",key:c,url:p,xhrSettings:v,config:{dataType:g}})},onProcess:function(){this.state=m.FILE_PROCESSING;var d=this.config.dataType;this.data=d?new d(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});h.register("binary",function(d,a,c,p){if(Array.isArray(d))for(var v=0;v<d.length;v++)this.addFile(new o(this,d[v]));else this.addFile(new o(this,d,a,p,c));return this}),C.exports=o},function(C,w,n){var l=n(0),m=n(8),f=n(2),h=n(71),u=n(7),s=n(49),o=n(212),d=n(241),a=new l({Extends:s,initialize:function(p,v,g,x,T,S){var D,M;if(u(v)){var R=v;v=f(R,"key"),D=new h(p,{key:v,url:f(R,"textureURL"),extension:f(R,"textureExtension","png"),normalMap:f(R,"normalMap"),xhrSettings:f(R,"textureXhrSettings")}),M=new d(p,{key:v,url:f(R,"fontDataURL"),extension:f(R,"fontDataExtension","xml"),xhrSettings:f(R,"fontDataXhrSettings")})}else D=new h(p,v,g,T),M=new d(p,v,x,S);s.call(this,p,"bitmapfont",v,D.linkFile?[D,M,D.linkFile]:[D,M])},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[0],p=this.files[1];c.addToCache(),p.pendingDestroy();var v=c.cache.get(c.key),g=o(p.data,c.cache.getFrame(c.key),0,0,v);this.loader.cacheManager.bitmapFont.add(c.key,{data:g,texture:c.key,frame:null}),this.complete=!0}}});m.register("bitmapFont",function(c,p,v,g,x){var T;if(Array.isArray(c))for(var S=0;S<c.length;S++)T=new a(this,c[S]),this.addFile(T.files);else T=new a(this,c,p,v,g,x),this.addFile(T.files);return this}),C.exports=a},function(C,w,n){var l=n(0),m=n(21),f=n(23),h=n(8),u=n(2),s=n(7),o=new l({Extends:f,initialize:function(a,c,p,v){var g="css";if(s(c)){var x=c;c=u(x,"key"),p=u(x,"url"),v=u(x,"xhrSettings"),g=u(x,"extension",g)}f.call(this,a,{type:"script",cache:!1,extension:g,responseType:"text",key:c,url:p,xhrSettings:v})},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});h.register("css",function(d,a,c){if(Array.isArray(d))for(var p=0;p<d.length;p++)this.addFile(new o(this,d[p]));else this.addFile(new o(this,d,a,c));return this}),C.exports=o},function(C,w,n){var l=n(0),m=n(21),f=n(23),h=n(8),u=n(2),s=n(7),o=n(396),d=new l({Extends:f,initialize:function(c,p,v,g,x){var T="glsl";if(s(p)){var S=p;p=u(S,"key"),v=u(S,"url"),g=u(S,"shaderType","fragment"),x=u(S,"xhrSettings"),T=u(S,"extension",T)}else void 0===g&&(g="fragment");f.call(this,c,{type:"glsl",cache:c.cacheManager.shader,extension:T,responseType:"text",key:p,url:v,config:{shaderType:g},xhrSettings:x})},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var a=this.data.split("\n"),c=this.extractBlock(a,0);if(c)for(;c;){var p=this.getShaderName(c.header),v=this.getShaderType(c.header),g=this.getShaderUniforms(c.header),x=c.shader;if(this.cache.has(p)){var T=this.cache.get(p);"fragment"===v?T.fragmentSrc=x:T.vertexSrc=x,T.uniforms||(T.uniforms=g)}else this.cache.add(p,"fragment"===v?new o(p,x,"",g):new o(p,"",x,g));c=this.extractBlock(a,c.offset)}else this.cache.add(this.key,"fragment"===this.config.shaderType?new o(this.key,this.data):new o(this.key,"",this.data));this.pendingDestroy()},getShaderName:function(a){for(var c=0;c<a.length;c++){var p=a[c].trim();if("name:"===p.substring(0,5))return p.substring(5).trim()}return this.key},getShaderType:function(a){for(var c=0;c<a.length;c++){var p=a[c].trim();if("type:"===p.substring(0,5))return p.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(a){for(var c={},p=0;p<a.length;p++){var v=a[p].trim();if("uniform."===v.substring(0,8)){var g=v.indexOf(":");if(g){var x=v.substring(8,g);try{c[x]=JSON.parse(v.substring(g+1))}catch(T){console.warn("Invalid uniform JSON: "+x)}}}}return c},extractBlock:function(a,c){for(var p=-1,v=-1,g=-1,x=!1,T=!1,S=[],D=[],M=c;M<a.length;M++){var R=a[M].trim();if("---"===R)if(-1===p)p=M,x=!0;else{if(!x){T=!1;break}v=M,x=!1,T=!0}else x?S.push(R):T&&(D.push(R),g=M)}return x||-1===v?null:{header:S,shader:D.join("\n"),offset:g}}});h.register("glsl",function(a,c,p,v){if(Array.isArray(a))for(var g=0;g<a.length;g++)this.addFile(new d(this,a[g]));else this.addFile(new d(this,a,c,p,v));return this}),C.exports=d},function(C,w,n){var l=n(0),m=n(21),f=n(23),h=n(8),u=n(2),s=n(7),o=new l({Extends:f,initialize:function(a,c,p,v){var g="html";if(s(c)){var x=c;c=u(x,"key"),p=u(x,"url"),v=u(x,"xhrSettings"),g=u(x,"extension",g)}f.call(this,a,{type:"text",cache:a.cacheManager.html,extension:g,responseType:"text",key:c,url:p,xhrSettings:v})},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});h.register("html",function(d,a,c){if(Array.isArray(d))for(var p=0;p<d.length;p++)this.addFile(new o(this,d[p]));else this.addFile(new o(this,d,a,c));return this}),C.exports=o},function(C,w,n){var l=n(0),m=n(21),f=n(23),h=n(8),u=n(2),s=n(7),o=new l({Extends:f,initialize:function(a,c,p,v,g,x){void 0===v&&(v=512),void 0===g&&(g=512);var T="html";if(s(c)){var S=c;c=u(S,"key"),p=u(S,"url"),x=u(S,"xhrSettings"),T=u(S,"extension",T),v=u(S,"width",v),g=u(S,"height",g)}f.call(this,a,{type:"html",cache:a.textureManager,extension:T,responseType:"text",key:c,url:p,xhrSettings:x,config:{width:v,height:g}})},onProcess:function(){this.state=m.FILE_PROCESSING;var d=this.config.width,a=this.config.height,c=[];c.push('<svg width="'+d+'px" height="'+a+'px" viewBox="0 0 '+d+" "+a+'" xmlns="http://www.w3.org/2000/svg">'),c.push('<foreignObject width="100%" height="100%">'),c.push('<body xmlns="http://www.w3.org/1999/xhtml">'),c.push(this.xhrLoader.responseText),c.push("</body>"),c.push("</foreignObject>"),c.push("</svg>");var p=[c.join("\n")],v=this;try{var g=new window.Blob(p,{type:"image/svg+xml;charset=utf-8"})}catch(x){return v.state=m.FILE_ERRORED,void v.onProcessComplete()}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){f.revokeObjectURL(v.data),v.onProcessComplete()},this.data.onerror=function(){f.revokeObjectURL(v.data),v.onProcessError()},f.createObjectURL(this.data,g,"image/svg+xml")},addToCache:function(){var d=this.cache.addImage(this.key,this.data);this.pendingDestroy(d)}});h.register("htmlTexture",function(d,a,c,p,v){if(Array.isArray(d))for(var g=0;g<d.length;g++)this.addFile(new o(this,d[g]));else this.addFile(new o(this,d,a,c,p,v));return this}),C.exports=o},function(C,w,n){var l=n(0),m=n(8),f=n(2),h=n(71),u=n(7),s=n(61),o=n(49),d=new l({Extends:o,initialize:function(c,p,v,g,x,T,S){if(u(p)){var D=p;p=f(D,"key"),v=f(D,"url",!1)?f(D,"url"):f(D,"atlasURL"),T=f(D,"xhrSettings"),g=f(D,"path"),x=f(D,"baseURL"),S=f(D,"textureXhrSettings")}var M=new s(c,p,v,T);o.call(this,c,"multiatlas",p,[M]),this.config.path=g,this.config.baseURL=x,this.config.textureXhrSettings=S},onFileComplete:function(a){if(-1!==this.files.indexOf(a)&&(this.pending--,"json"===a.type&&a.data.hasOwnProperty("textures"))){var p=a.data.textures,v=this.config,g=this.loader,x=g.baseURL,T=g.path,S=g.prefix,D=f(v,"baseURL",this.baseURL),M=f(v,"path",this.path),R=f(v,"prefix",this.prefix),P=f(v,"textureXhrSettings");g.setBaseURL(D),g.setPath(M),g.setPrefix(R);for(var I=0;I<p.length;I++){var b=p[I].image,L="MA"+this.multiKeyIndex+"_"+b,B=new h(g,L,b,P);if(this.addToMultiFile(B),g.addFile(B),p[I].normalMap){var V=new h(g,L,p[I].normalMap,P);V.type="normalMap",B.setLink(V),this.addToMultiFile(V),g.addFile(V)}}g.setBaseURL(x),g.setPath(T),g.setPrefix(S)}},addToCache:function(){if(this.isReadyToProcess()){for(var a=this.files[0],c=[],p=[],v=[],g=1;g<this.files.length;g++){var x=this.files[g];if("normalMap"!==x.type)for(var T=x.key.indexOf("_"),S=x.key.substr(T+1),D=x.data,M=0;M<a.data.textures.length;M++){var R=a.data.textures[M];if(R.image===S){p.push(D),c.push(R),x.linkFile&&v.push(x.linkFile.data);break}}}for(0===v.length&&(v=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,p,c,v),this.complete=!0,g=0;g<this.files.length;g++)this.files[g].pendingDestroy()}}});m.register("multiatlas",function(a,c,p,v,g){var x;if(Array.isArray(a))for(var T=0;T<a.length;T++)x=new d(this,a[T]),this.addFile(x.files);else x=new d(this,a,c,p,v,g),this.addFile(x.files);return this}),C.exports=d},function(C,w,n){var l=n(0),m=n(8),f=n(2),h=n(7),u=n(49),s=n(520),o=new l({Extends:u,initialize:function(a,c,p,v){var g="js",x=[];if(h(c)){var T=c;c=f(T,"key"),p=f(T,"url"),v=f(T,"xhrSettings"),g=f(T,"extension",g)}Array.isArray(p)||(p=[p]);for(var S=0;S<p.length;S++){var D=new s(a,{key:c+"_"+S.toString(),url:p[S],extension:g,xhrSettings:v});D.onProcess=function(){this.onProcessComplete()},x.push(D)}u.call(this,a,"scripts",c,x)},addToCache:function(){if(this.isReadyToProcess()){for(var d=0;d<this.files.length;d++){var a=this.files[d];a.data=document.createElement("script"),a.data.language="javascript",a.data.type="text/javascript",a.data.defer=!1,a.data.text=a.xhrLoader.responseText,document.head.appendChild(a.data)}this.complete=!0}}});m.register("scripts",function(d,a,c){var p;if(Array.isArray(d))for(var v=0;v<d.length;v++)p=new o(this,d[v]),this.addFile(p.files);else p=new o(this,d,a,c),this.addFile(p.files);return this}),C.exports=o},function(C,w,n){var l=n(0),m=n(8),f=n(2),h=n(7),u=n(49),s=n(498),o=n(499),d=n(242),a=new l({Extends:u,initialize:function(p,v,g,x,T,S){var D,M,R=p.cacheManager.obj;if(h(v)){var P=v;v=f(P,"key"),D=new d(p,{key:v,type:"obj",cache:R,url:f(P,"url"),extension:f(P,"extension","obj"),xhrSettings:f(P,"xhrSettings"),config:{flipUV:f(P,"flipUV",T)}}),(x=f(P,"matURL"))&&(M=new d(p,{key:v,type:"mat",cache:R,url:x,extension:f(P,"matExtension","mat"),xhrSettings:f(P,"xhrSettings")}))}else D=new d(p,{key:v,url:g,type:"obj",cache:R,extension:"obj",xhrSettings:S,config:{flipUV:T}}),x&&(M=new d(p,{key:v,url:x,type:"mat",cache:R,extension:"mat",xhrSettings:S}));u.call(this,p,"obj",v,[D,M])},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[0],p=this.files[1],v=s(c.data,c.config.flipUV);p&&(v.materials=o(p.data)),c.cache.add(c.key,v),this.complete=!0}}});m.register("obj",function(c,p,v,g,x){var T;if(Array.isArray(c))for(var S=0;S<c.length;S++)T=new a(this,c[S]),this.addFile(T.files);else T=new a(this,c,p,v,g,x),this.addFile(T.files);return this}),C.exports=a},function(C,w,n){var l=n(0),m=n(21),f=n(8),h=n(61),u=new l({Extends:h,initialize:function(o,d,a,c,p){h.call(this,o,d,a,c,p),this.type="packfile"},onProcess:function(){this.state!==m.FILE_POPULATED&&(this.state=m.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.loader.addPack(this.data,this.config),this.onProcessComplete()}});f.register("pack",function(s,o,d,a){if(Array.isArray(s))for(var c=0;c<s.length;c++)this.addFile(new u(this,s[c]));else this.addFile(new u(this,s,o,a,d));return this}),C.exports=u},function(C,w,n){var l=n(0),m=n(21),f=n(23),h=n(8),u=n(2),s=n(7),o=new l({Extends:f,initialize:function(a,c,p,v,g,x){var T="js";if(s(c)){var S=c;c=u(S,"key"),p=u(S,"url"),x=u(S,"xhrSettings"),T=u(S,"extension",T),v=u(S,"start"),g=u(S,"mapping")}f.call(this,a,{type:"plugin",cache:!1,extension:T,responseType:"text",key:c,url:p,xhrSettings:x,config:{start:v,mapping:g}}),"function"==typeof p&&(this.data=p,this.state=m.FILE_POPULATED)},onProcess:function(){var d=this.loader.systems.plugins,a=this.config,c=u(a,"start",!1),p=u(a,"mapping",null);if(this.state===m.FILE_POPULATED)d.install(this.key,this.data,c,p);else{this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var v=d.install(this.key,window[this.key],c,p);(c||p)&&(this.loader.systems[p]=v,this.loader.scene[p]=v)}this.onProcessComplete()}});h.register("plugin",function(d,a,c,p,v){if(Array.isArray(d))for(var g=0;g<d.length;g++)this.addFile(new o(this,d[g]));else this.addFile(new o(this,d,a,c,p,v));return this}),C.exports=o},function(C,w,n){var l=n(0),m=n(21),f=n(23),h=n(8),u=n(2),s=n(7),o=new l({Extends:f,initialize:function(a,c,p,v){var g="js";if(s(c)){var x=c;c=u(x,"key"),p=u(x,"url"),v=u(x,"xhrSettings"),g=u(x,"extension",g)}f.call(this,a,{type:"text",extension:g,responseType:"text",key:c,url:p,xhrSettings:v})},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var d=this.data.concat("(function(){\nreturn new "+this.key+"();\n}).call(this);"),a=eval;this.loader.sceneManager.add(this.key,a(d)),this.complete=!0}});h.register("sceneFile",function(d,a,c){if(Array.isArray(d))for(var p=0;p<d.length;p++)this.addFile(new o(this,d[p]));else this.addFile(new o(this,d,a,c));return this}),C.exports=o},function(C,w,n){var l=n(0),m=n(21),f=n(23),h=n(8),u=n(2),s=n(7),o=new l({Extends:f,initialize:function(a,c,p,v,g,x){var T="js";if(s(c)){var S=c;c=u(S,"key"),p=u(S,"url"),x=u(S,"xhrSettings"),T=u(S,"extension",T),v=u(S,"systemKey"),g=u(S,"sceneKey")}f.call(this,a,{type:"scenePlugin",cache:!1,extension:T,responseType:"text",key:c,url:p,xhrSettings:x,config:{systemKey:v,sceneKey:g}}),"function"==typeof p&&(this.data=p,this.state=m.FILE_POPULATED)},onProcess:function(){var d=this.loader.systems.plugins,a=this.config,c=this.key,p=u(a,"systemKey",c),v=u(a,"sceneKey",c);this.state===m.FILE_POPULATED?d.installScenePlugin(p,this.data,v,this.loader.scene,!0):(this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),d.installScenePlugin(p,window[this.key],v,this.loader.scene,!0)),this.onProcessComplete()}});h.register("scenePlugin",function(d,a,c,p,v){if(Array.isArray(d))for(var g=0;g<d.length;g++)this.addFile(new o(this,d[g]));else this.addFile(new o(this,d,a,c,p,v));return this}),C.exports=o},function(C,w,n){var l=n(0),m=n(8),f=n(71),h=new l({Extends:f,initialize:function(s,o,d,a,c){f.call(this,s,o,d,c,a),this.type="spritesheet"},addToCache:function(){var u=this.cache.addSpriteSheet(this.key,this.data,this.config);this.pendingDestroy(u)}});m.register("spritesheet",function(u,s,o,d){if(Array.isArray(u))for(var a=0;a<u.length;a++)this.addFile(new h(this,u[a]));else this.addFile(new h(this,u,s,o,d));return this}),C.exports=h},function(C,w,n){var l=n(0),m=n(21),f=n(23),h=n(8),u=n(2),s=n(7),o=new l({Extends:f,initialize:function(a,c,p,v,g){var x="svg";if(s(c)){var T=c;c=u(T,"key"),p=u(T,"url"),v=u(T,"svgConfig",{}),g=u(T,"xhrSettings"),x=u(T,"extension",x)}var S={type:"svg",cache:a.textureManager,extension:x,responseType:"text",key:c,url:p,xhrSettings:g,config:{width:u(v,"width"),height:u(v,"height"),scale:u(v,"scale")}};f.call(this,a,S)},onProcess:function(){this.state=m.FILE_PROCESSING;var d=this.xhrLoader.responseText,a=[d],c=this.config.width,p=this.config.height,v=this.config.scale;t:if(c&&p||v){var T=(new DOMParser).parseFromString(d,"text/xml").getElementsByTagName("svg")[0],S=T.hasAttribute("viewBox"),D=parseFloat(T.getAttribute("width")),M=parseFloat(T.getAttribute("height"));if(!S&&D&&M)T.setAttribute("viewBox","0  0 "+D+" "+M);else if(S&&!D&&!M){var R=T.getAttribute("viewBox").split(/\s+|,/);D=R[2],M=R[3]}if(v){if(!D||!M)break t;c=D*v,p=M*v}T.setAttribute("width",c.toString()+"px"),T.setAttribute("height",p.toString()+"px"),a=[(new XMLSerializer).serializeToString(T)]}try{var P=new window.Blob(a,{type:"image/svg+xml;charset=utf-8"})}catch(L){return void this.onProcessError()}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var I=this,b=!1;this.data.onload=function(){b||f.revokeObjectURL(I.data),I.onProcessComplete()},this.data.onerror=function(){b?I.onProcessError():(b=!0,f.revokeObjectURL(I.data),I.data.src="data:image/svg+xml,"+encodeURIComponent(a.join("")))},f.createObjectURL(this.data,P,"image/svg+xml")},addToCache:function(){var d=this.cache.addImage(this.key,this.data);this.pendingDestroy(d)}});h.register("svg",function(d,a,c,p){if(Array.isArray(d))for(var v=0;v<d.length;v++)this.addFile(new o(this,d[v]));else this.addFile(new o(this,d,a,c,p));return this}),C.exports=o},function(C,w,n){var l=n(0),m=n(21),f=n(23),h=n(8),u=n(2),s=n(7),o=n(40),d=new l({Extends:f,initialize:function(c,p,v,g){var x="csv";if(s(p)){var T=p;p=u(T,"key"),v=u(T,"url"),g=u(T,"xhrSettings"),x=u(T,"extension",x)}f.call(this,c,{type:"tilemapCSV",cache:c.cacheManager.tilemap,extension:x,responseType:"text",key:p,url:v,xhrSettings:g}),this.tilemapFormat=o.CSV},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var a={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,a),this.pendingDestroy(a)}});h.register("tilemapCSV",function(a,c,p){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new d(this,a[v]));else this.addFile(new d(this,a,c,p));return this}),C.exports=d},function(C,w,n){var l=n(0),m=n(8),f=n(61),h=n(40),u=new l({Extends:f,initialize:function(o,d,a,c){f.call(this,o,d,a,c),this.type="tilemapJSON",this.cache=o.cacheManager.tilemap},addToCache:function(){var s={format:h.WELTMEISTER,data:this.data};this.cache.add(this.key,s),this.pendingDestroy(s)}});m.register("tilemapImpact",function(s,o,d){if(Array.isArray(s))for(var a=0;a<s.length;a++)this.addFile(new u(this,s[a]));else this.addFile(new u(this,s,o,d));return this}),C.exports=u},function(C,w,n){var l=n(0),m=n(8),f=n(61),h=n(40),u=new l({Extends:f,initialize:function(o,d,a,c){f.call(this,o,d,a,c),this.type="tilemapJSON",this.cache=o.cacheManager.tilemap},addToCache:function(){var s={format:h.TILED_JSON,data:this.data};this.cache.add(this.key,s),this.pendingDestroy(s)}});m.register("tilemapTiledJSON",function(s,o,d){if(Array.isArray(s))for(var a=0;a<s.length;a++)this.addFile(new u(this,s[a]));else this.addFile(new u(this,s,o,d));return this}),C.exports=u},function(C,w,n){var l=n(0),m=n(8),f=n(2),h=n(71),u=n(7),s=n(49),o=n(242),d=new l({Extends:s,initialize:function(c,p,v,g,x,T){var S,D;if(u(p)){var M=p;p=f(M,"key"),S=new h(c,{key:p,url:f(M,"textureURL"),extension:f(M,"textureExtension","png"),normalMap:f(M,"normalMap"),xhrSettings:f(M,"textureXhrSettings")}),D=new o(c,{key:p,url:f(M,"atlasURL"),extension:f(M,"atlasExtension","txt"),xhrSettings:f(M,"atlasXhrSettings")})}else S=new h(c,p,v,x),D=new o(c,p,g,T);s.call(this,c,"unityatlas",p,S.linkFile?[S,D,S.linkFile]:[S,D])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],c=this.files[1];this.loader.textureManager.addUnityAtlas(a.key,a.data,c.data,this.files[2]?this.files[2].data:null),c.pendingDestroy(),this.complete=!0}}});m.register("unityAtlas",function(a,c,p,v,g){var x;if(Array.isArray(a))for(var T=0;T<a.length;T++)x=new d(this,a[T]),this.addFile(x.files);else x=new d(this,a,c,p,v,g),this.addFile(x.files);return this}),C.exports=d},function(C,w,n){var l=n(0),m=n(21),f=n(23),h=n(8),u=n(155),s=n(2),o=n(7),d=new l({Extends:f,initialize:function(c,p,v,g,x,T,S){void 0===g&&(g="loadeddata"),void 0===x&&(x=!1),void 0===T&&(T=!1),"loadeddata"!==g&&"canplay"!==g&&"canplaythrough"!==g&&(g="loadeddata");var D={type:"video",cache:c.cacheManager.video,extension:v.type,responseType:"blob",key:p,url:v.url,xhrSettings:S,config:{loadEvent:g,asBlob:x,noAudio:T}};this.onLoadCallback=this.onVideoLoadHandler.bind(this),this.onErrorCallback=this.onVideoErrorHandler.bind(this),f.call(this,c,D)},onProcess:function(){if(this.state=m.FILE_PROCESSING,this.config.asBlob){var a=this.createVideoElement();this.data=a;var c=this;this.data.onloadeddata=function(){c.onProcessComplete()},this.data.onerror=function(){f.revokeObjectURL(c.data),c.onProcessError()},f.createObjectURL(a,this.xhrLoader.response,""),a.load()}else this.onProcessComplete()},createVideoElement:function(){var a=document.createElement("video");return a.controls=!1,a.crossOrigin=this.loader.crossOrigin,this.config.noAudio&&(a.muted=!0,a.defaultMuted=!0,a.setAttribute("autoplay","autoplay")),a.setAttribute("playsinline","playsinline"),a.setAttribute("preload","auto"),a},onVideoLoadHandler:function(a){var c=a.target;c.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),c.removeEventListener("error",this.onErrorCallback,!0),this.data=c,this.resetXHR(),this.loader.nextFile(this,!0)},onVideoErrorHandler:function(a){var c=a.target;c&&(c.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),c.removeEventListener("error",this.onErrorCallback,!0)),this.resetXHR(),this.loader.nextFile(this,!1)},load:function(){var a=this.config.loadEvent;if(this.config.asBlob)f.prototype.load.call(this);else{this.percentComplete=0;var c=this.createVideoElement();c.addEventListener(a,this.onLoadCallback,!0),c.addEventListener("error",this.onErrorCallback,!0),c.src=u(this,this.loader.baseURL),c.load()}}});d.create=function(a,c,p,v,g,x,T){var S=a.systems.game;o(c)&&(p=s(c,"url",[]),v=s(c,"loadEvent","loadeddata"),g=s(c,"asBlob",!1),x=s(c,"noAudio",!1),T=s(c,"xhrSettings"),c=s(c,"key"));var D=d.getVideoURL(S,p);if(D)return new d(a,c,D,v,g,x,T)},d.getVideoURL=function(a,c){Array.isArray(c)||(c=[c]);for(var p=0;p<c.length;p++){var g,v=s(c[p],"url",c[p]);if(0===v.indexOf("blob:"))return{url:v,type:""};if(g=0===v.indexOf("data:")?v.split(",")[0].match(/\/(.*?);/):v.match(/\.([a-zA-Z0-9]+)($|\?)/),g=s(c[p],"type",g?g[1]:"").toLowerCase(),a.device.video[g])return{url:v,type:g}}return null},h.register("video",function(a,c,p,v,g,x){var T;if(Array.isArray(a))for(var S=0;S<a.length;S++)(T=d.create(this,a[S]))&&this.addFile(T);else(T=d.create(this,a,c,p,v,g,x))&&this.addFile(T);return this}),C.exports=d},function(C,w,n){var l=n(0),m=n(21),f=n(149),h=n(9),u=n(95),s=n(8),o=n(2),d=n(24),a=n(20),c=n(156),p=new l({Extends:h,initialize:function(g){h.call(this);var x=g.sys.game.config,T=g.sys.settings.loader;this.scene=g,this.systems=g.sys,this.cacheManager=g.sys.cache,this.textureManager=g.sys.textures,this.sceneManager=g.sys.game.scene,s.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(o(T,"baseURL",x.loaderBaseURL)),this.setPath(o(T,"path",x.loaderPath)),this.setPrefix(o(T,"prefix",x.loaderPrefix)),this.maxParallelDownloads=o(T,"maxParallelDownloads",x.loaderMaxParallelDownloads),this.xhr=c(o(T,"responseType",x.loaderResponseType),o(T,"async",x.loaderAsync),o(T,"user",x.loaderUser),o(T,"password",x.loaderPassword),o(T,"timeout",x.loaderTimeout),o(T,"withCredentials",x.loaderWithCredentials)),this.crossOrigin=o(T,"crossOrigin",x.loaderCrossOrigin),this.totalToLoad=0,this.progress=0,this.list=new f,this.inflight=new f,this.queue=new f,this._deleteQueue=new f,this.totalFailed=0,this.totalComplete=0,this.state=m.LOADER_IDLE,this.multiKeyIndex=0,g.sys.events.once(a.BOOT,this.boot,this),g.sys.events.on(a.START,this.pluginStart,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(a.SHUTDOWN,this.shutdown,this)},setBaseURL:function(v){return void 0===v&&(v=""),""!==v&&"/"!==v.substr(-1)&&(v=v.concat("/")),this.baseURL=v,this},setPath:function(v){return void 0===v&&(v=""),""!==v&&"/"!==v.substr(-1)&&(v=v.concat("/")),this.path=v,this},setPrefix:function(v){return void 0===v&&(v=""),this.prefix=v,this},setCORS:function(v){return this.crossOrigin=v,this},addFile:function(v){Array.isArray(v)||(v=[v]);for(var g=0;g<v.length;g++){var x=v[g];this.keyExists(x)||(this.list.set(x),this.emit(u.ADD,x.key,x.type,this,x),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(v){var g=v.hasCacheConflict();return g||this.list.iterate(function(x){if(x.type===v.type&&x.key===v.key)return g=!0,!1}),!g&&this.isLoading()&&(this.inflight.iterate(function(x){if(x.type===v.type&&x.key===v.key)return g=!0,!1}),this.queue.iterate(function(x){if(x.type===v.type&&x.key===v.key)return g=!0,!1})),g},addPack:function(v,g){g&&v.hasOwnProperty(g)&&(v={packKey:v[g]});var x=0,T=this.baseURL,S=this.path,D=this.prefix;for(var M in v)if(Object.prototype.hasOwnProperty.call(v,M)){var R=v[M],P=o(R,"baseURL",T),I=o(R,"path",S),b=o(R,"prefix",D),L=o(R,"files",null),B=o(R,"defaultType","void");if(Array.isArray(L)){this.setBaseURL(P),this.setPath(I),this.setPrefix(b);for(var V=0;V<L.length;V++){var z=L[V],W=z.hasOwnProperty("type")?z.type:B;this[W]&&(this[W](z),x++)}}}return this.setBaseURL(T),this.setPath(S),this.setPrefix(D),x>0},isLoading:function(){return this.state===m.LOADER_LOADING||this.state===m.LOADER_PROCESSING},isReady:function(){return this.state===m.LOADER_IDLE||this.state===m.LOADER_COMPLETE},start:function(){!this.isReady()||(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(u.START,this),0===this.list.size?this.loadComplete():(this.state=m.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(a.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(u.PROGRESS,this.progress)},update:function(){this.state===m.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(v){if((v.state===m.FILE_POPULATED||v.state===m.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(v),this.list.delete(v),v.crossOrigin||(v.crossOrigin=this.crossOrigin),v.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(v,g){!this.inflight||(this.inflight.delete(v),this.updateProgress(),g?(this.totalComplete++,this.queue.set(v),this.emit(u.FILE_LOAD,v),v.onProcess()):(this.totalFailed++,this._deleteQueue.set(v),this.emit(u.FILE_LOAD_ERROR,v),this.fileProcessComplete(v)))},fileProcessComplete:function(v){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(v.state===m.FILE_ERRORED?v.multiFile&&v.multiFile.onFileFailed(v):v.state===m.FILE_COMPLETE&&(v.multiFile?v.multiFile.isReadyToProcess()&&v.multiFile.addToCache():v.addToCache()),this.queue.delete(v),0===this.list.size&&0===this.inflight.size&&0===this.queue.size&&this.loadComplete())},loadComplete:function(){this.emit(u.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=m.LOADER_COMPLETE,this.systems.events.off(a.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(u.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(v){this._deleteQueue.set(v)},saveJSON:function(v,g){return this.save(JSON.stringify(v),g)},save:function(v,g,x){void 0===g&&(g="file.json"),void 0===x&&(x="application/json");var T=new Blob([v],{type:x}),S=URL.createObjectURL(T),D=document.createElement("a");return D.download=g,D.textContent="Download "+g,D.href=S,D.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var v=this.systems.game.config,g=this.systems.settings.loader;this.setBaseURL(o(g,"baseURL",v.loaderBaseURL)),this.setPath(o(g,"path",v.loaderPath)),this.setPrefix(o(g,"prefix",v.loaderPrefix)),this.state=m.LOADER_IDLE},shutdown:function(){this.reset(),this.state=m.LOADER_SHUTDOWN,this.systems.events.off(a.UPDATE,this.update,this),this.systems.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=m.LOADER_DESTROYED,this.systems.events.off(a.UPDATE,this.update,this),this.systems.events.off(a.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});d.register("Loader",p,"load"),C.exports=p},function(C,w,n){var l=n(62),m=n(17),f={ArcadePhysics:n(1367),Body:n(527),Collider:n(528),Components:n(243),Events:n(245),Factory:n(521),GetOverlapX:n(246),GetOverlapY:n(247),SeparateX:n(537),SeparateY:n(538),Group:n(524),Image:n(522),Sprite:n(157),StaticBody:n(539),StaticGroup:n(525),Tilemap:n(1391),World:n(526)};f=m(!1,f,l),C.exports=f},function(C,w,n){var l=n(0),m=n(36),f=n(50),h=n(353),u=n(521),s=n(2),o=n(127),d=n(523),a=n(244),c=n(24),p=n(20),v=n(3),g=n(526),x=new l({initialize:function(S){this.scene=S,this.systems=S.sys,this.config=this.getConfig(),S.sys.events.once(p.BOOT,this.boot,this),S.sys.events.on(p.START,this.start,this)},boot:function(){this.world=new g(this.scene,this.config),this.add=new u(this.world),this.systems.events.once(p.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new g(this.scene,this.config),this.add=new u(this.world));var T=this.systems.events;s(this.config,"customUpdate",!1)||T.on(p.UPDATE,this.world.update,this.world),T.on(p.POST_UPDATE,this.world.postUpdate,this.world),T.once(p.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(p.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(p.UPDATE,this.world.update,this.world)},getConfig:function(){var T=this.systems.game.config.physics;return o(s(this.systems.settings.physics,"arcade",{}),s(T,"arcade",{}))},overlap:function(T,S,D,M,R){return void 0===D&&(D=null),void 0===M&&(M=null),void 0===R&&(R=D),this.world.collideObjects(T,S,D,M,R,!0)},collide:function(T,S,D,M,R){return void 0===D&&(D=null),void 0===M&&(M=null),void 0===R&&(R=D),this.world.collideObjects(T,S,D,M,R,!1)},collideTiles:function(T,S,D,M,R){return this.world.collideTiles(T,S,D,M,R)},overlapTiles:function(T,S,D,M,R){return this.world.overlapTiles(T,S,D,M,R)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(T,S,D,M,R,P){void 0===M&&(M=60);var I=Math.atan2(D-T.y,S-T.x);return T.body.acceleration.setToPolar(I,M),void 0!==R&&void 0!==P&&T.body.maxVelocity.set(R,P),I},accelerateToObject:function(T,S,D,M,R){return this.accelerateTo(T,S.x,S.y,D,M,R)},closest:function(T,S){S||(S=this.world.bodies.entries);for(var D=Number.MAX_VALUE,M=null,R=T.x,P=T.y,I=S.length,b=0;b<I;b++){var L=S[b],B=L.body||L;if(T!==L&&T!==B&&T!==B.gameObject&&T!==B.center){var V=h(R,P,B.center.x,B.center.y);V<D&&(M=L,D=V)}}return M},furthest:function(T,S){S||(S=this.world.bodies.entries);for(var D=-1,M=null,R=T.x,P=T.y,I=S.length,b=0;b<I;b++){var L=S[b],B=L.body||L;if(T!==L&&T!==B&&T!==B.gameObject&&T!==B.center){var V=h(R,P,B.center.x,B.center.y);V>D&&(M=L,D=V)}}return M},moveTo:function(T,S,D,M,R){void 0===M&&(M=60),void 0===R&&(R=0);var P=Math.atan2(D-T.y,S-T.x);return R>0&&(M=f(T.x,T.y,S,D)/(R/1e3)),T.body.velocity.setToPolar(P,M),P},moveToObject:function(T,S,D,M){return this.moveTo(T,S.x,S.y,D,M)},velocityFromAngle:function(T,S,D){return void 0===S&&(S=60),void 0===D&&(D=new v),D.setToPolar(m(T),S)},velocityFromRotation:function(T,S,D){return void 0===S&&(S=60),void 0===D&&(D=new v),D.setToPolar(T,S)},overlapRect:function(T,S,D,M,R,P){return a(this.world,T,S,D,M,R,P)},overlapCirc:function(T,S,D,M,R){return d(this.world,T,S,D,M,R)},shutdown:function(){if(this.world){var T=this.systems.events;T.off(p.UPDATE,this.world.update,this.world),T.off(p.POST_UPDATE,this.world.postUpdate,this.world),T.off(p.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(p.START,this.start,this),this.scene=null,this.systems=null}});c.register("ArcadePhysics",x,"arcadePhysics"),C.exports=x},function(C,w){C.exports={setAcceleration:function(l,m){return this.body.acceleration.set(l,m),this},setAccelerationX:function(l){return this.body.acceleration.x=l,this},setAccelerationY:function(l){return this.body.acceleration.y=l,this}}},function(C,w){C.exports={setAngularVelocity:function(l){return this.body.angularVelocity=l,this},setAngularAcceleration:function(l){return this.body.angularAcceleration=l,this},setAngularDrag:function(l){return this.body.angularDrag=l,this}}},function(C,w){C.exports={setBounce:function(l,m){return this.body.bounce.set(l,m),this},setBounceX:function(l){return this.body.bounce.x=l,this},setBounceY:function(l){return this.body.bounce.y=l,this},setCollideWorldBounds:function(l,m,f){return this.body.setCollideWorldBounds(l,m,f),this}}},function(C,w){C.exports={setDebug:function(l,m,f){return this.debugShowBody=l,this.debugShowVelocity=m,this.debugBodyColor=f,this},setDebugBodyColor:function(l){return this.body.debugBodyColor=l,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(l){this.body.debugShowBody=l}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(l){this.body.debugShowVelocity=l}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(l){this.body.debugBodyColor=l}}}},function(C,w){C.exports={setDrag:function(l,m){return this.body.drag.set(l,m),this},setDragX:function(l){return this.body.drag.x=l,this},setDragY:function(l){return this.body.drag.y=l,this},setDamping:function(l){return this.body.useDamping=l,this}}},function(C,w){C.exports={enableBody:function(l,m,f,h,u){return l&&this.body.reset(m,f),h&&(this.body.gameObject.active=!0),u&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(l,m){return void 0===l&&(l=!1),void 0===m&&(m=!1),this.body.stop(),this.body.enable=!1,l&&(this.body.gameObject.active=!1),m&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}}},function(C,w){C.exports={setFriction:function(l,m){return this.body.friction.set(l,m),this},setFrictionX:function(l){return this.body.friction.x=l,this},setFrictionY:function(l){return this.body.friction.y=l,this}}},function(C,w){C.exports={setGravity:function(l,m){return this.body.gravity.set(l,m),this},setGravityX:function(l){return this.body.gravity.x=l,this},setGravityY:function(l){return this.body.gravity.y=l,this}}},function(C,w){C.exports={setImmovable:function(l){return void 0===l&&(l=!0),this.body.immovable=l,this}}},function(C,w){C.exports={setMass:function(l){return this.body.mass=l,this}}},function(C,w){C.exports={setPushable:function(l){return void 0===l&&(l=!0),this.body.pushable=l,this}}},function(C,w){C.exports={setOffset:function(l,m){return this.body.setOffset(l,m),this},setSize:function(l,m,f){return this.body.setSize(l,m,f),this},setBodySize:function(l,m,f){return this.body.setSize(l,m,f),this},setCircle:function(l,m,f){return this.body.setCircle(l,m,f),this}}},function(C,w){C.exports={setVelocity:function(l,m){return this.body.setVelocity(l,m),this},setVelocityX:function(l){return this.body.setVelocityX(l),this},setVelocityY:function(l){return this.body.setVelocityY(l),this},setMaxVelocity:function(l,m){return this.body.maxVelocity.set(l,m),this}}},function(C,w){C.exports="collide"},function(C,w){C.exports="overlap"},function(C,w){C.exports="pause"},function(C,w){C.exports="resume"},function(C,w){C.exports="tilecollide"},function(C,w){C.exports="tileoverlap"},function(C,w){C.exports="worldbounds"},function(C,w){C.exports="worldstep"},function(C,w){var n,l,m,f,h,u,s,o,d,a,c,p,v,g,x,T,S,M=function(){return a&&x&&l.blocked.right?(n.processX(-S,s,!1,!0),1):d&&T&&l.blocked.left?(n.processX(S,s,!0),1):v&&T&&n.blocked.right?(l.processX(-S,o,!1,!0),2):p&&x&&n.blocked.left?(l.processX(S,o,!0),2):0},P=function(L){if(m&&f)S*=.5,0===L||3===L?(n.processX(S,h),l.processX(-S,u)):(n.processX(-S,h),l.processX(S,u));else if(m&&!f)0===L||3===L?n.processX(S,s,!0):n.processX(-S,s,!1,!0);else if(!m&&f)0===L||3===L?l.processX(-S,o,!1,!0):l.processX(S,o,!0);else{var B=.5*S;0===L?g?(n.processX(S,0,!0),l.processX(0,null,!1,!0)):v?(n.processX(B,0,!0),l.processX(-B,0,!1,!0)):(n.processX(B,l.velocity.x,!0),l.processX(-B,null,!1,!0)):1===L?c?(n.processX(0,null,!1,!0),l.processX(S,0,!0)):a?(n.processX(-B,0,!1,!0),l.processX(B,0,!0)):(n.processX(-B,null,!1,!0),l.processX(B,n.velocity.x,!0)):2===L?g?(n.processX(-S,0,!1,!0),l.processX(0,null,!0)):p?(n.processX(-B,0,!1,!0),l.processX(B,0,!0)):(n.processX(-B,l.velocity.x,!1,!0),l.processX(B,null,!0)):3===L&&(c?(n.processX(0,null,!0),l.processX(-S,0,!1,!0)):d?(n.processX(B,0,!0),l.processX(-B,0,!1,!0)):(n.processX(B,l.velocity.y,!0),l.processX(-B,null,!1,!0)))}return!0};C.exports={BlockCheck:M,Check:function(){var L=n.velocity.x,B=l.velocity.x,V=Math.sqrt(B*B*l.mass/n.mass)*(B>0?1:-1),z=Math.sqrt(L*L*n.mass/l.mass)*(L>0?1:-1),W=.5*(V+z);return h=W+(V-=W)*n.bounce.x,u=W+(z-=W)*l.bounce.x,d&&T?P(0):p&&x?P(1):a&&x?P(2):!(!v||!T)&&P(3)},Set:function(L,B,V){var z=(n=L).velocity.x,W=(l=B).velocity.x;return m=n.pushable,d=n._dx<0,a=n._dx>0,c=0===n._dx,x=Math.abs(n.right-l.x)<=Math.abs(l.right-n.x),s=W-z*n.bounce.x,f=l.pushable,p=l._dx<0,v=l._dx>0,g=0===l._dx,T=!x,o=z-W*l.bounce.x,S=Math.abs(V),M()},Run:P,RunImmovableBody1:function(L){1===L?l.velocity.x=0:x?l.processX(S,o,!0):l.processX(-S,o,!1,!0),n.moves&&(l.y+=(n.y-n.prev.y)*n.friction.y,l._dy=l.y-l.prev.y)},RunImmovableBody2:function(L){2===L?n.velocity.x=0:T?n.processX(S,s,!0):n.processX(-S,s,!1,!0),l.moves&&(n.y+=(l.y-l.prev.y)*l.friction.y,n._dy=n.y-n.prev.y)}}},function(C,w){var n,l,m,f,h,u,s,o,d,a,c,p,v,g,x,T,S,M=function(){return a&&x&&l.blocked.down?(n.processY(-S,s,!1,!0),1):d&&T&&l.blocked.up?(n.processY(S,s,!0),1):v&&T&&n.blocked.down?(l.processY(-S,o,!1,!0),2):p&&x&&n.blocked.up?(l.processY(S,o,!0),2):0},P=function(L){if(m&&f)S*=.5,0===L||3===L?(n.processY(S,h),l.processY(-S,u)):(n.processY(-S,h),l.processY(S,u));else if(m&&!f)0===L||3===L?n.processY(S,s,!0):n.processY(-S,s,!1,!0);else if(!m&&f)0===L||3===L?l.processY(-S,o,!1,!0):l.processY(S,o,!0);else{var B=.5*S;0===L?g?(n.processY(S,0,!0),l.processY(0,null,!1,!0)):v?(n.processY(B,0,!0),l.processY(-B,0,!1,!0)):(n.processY(B,l.velocity.y,!0),l.processY(-B,null,!1,!0)):1===L?c?(n.processY(0,null,!1,!0),l.processY(S,0,!0)):a?(n.processY(-B,0,!1,!0),l.processY(B,0,!0)):(n.processY(-B,null,!1,!0),l.processY(B,n.velocity.y,!0)):2===L?g?(n.processY(-S,0,!1,!0),l.processY(0,null,!0)):p?(n.processY(-B,0,!1,!0),l.processY(B,0,!0)):(n.processY(-B,l.velocity.y,!1,!0),l.processY(B,null,!0)):3===L&&(c?(n.processY(0,null,!0),l.processY(-S,0,!1,!0)):d?(n.processY(B,0,!0),l.processY(-B,0,!1,!0)):(n.processY(B,l.velocity.y,!0),l.processY(-B,null,!1,!0)))}return!0};C.exports={BlockCheck:M,Check:function(){var L=n.velocity.y,B=l.velocity.y,V=Math.sqrt(B*B*l.mass/n.mass)*(B>0?1:-1),z=Math.sqrt(L*L*n.mass/l.mass)*(L>0?1:-1),W=.5*(V+z);return h=W+(V-=W)*n.bounce.y,u=W+(z-=W)*l.bounce.y,d&&T?P(0):p&&x?P(1):a&&x?P(2):!(!v||!T)&&P(3)},Set:function(L,B,V){var z=(n=L).velocity.y,W=(l=B).velocity.y;return m=n.pushable,d=n._dy<0,a=n._dy>0,c=0===n._dy,x=Math.abs(n.bottom-l.y)<=Math.abs(l.bottom-n.y),s=W-z*n.bounce.y,f=l.pushable,p=l._dy<0,v=l._dy>0,g=0===l._dy,T=!x,o=z-W*l.bounce.y,S=Math.abs(V),M()},Run:P,RunImmovableBody1:function(L){1===L?l.velocity.y=0:x?l.processY(S,o,!0):l.processY(-S,o,!1,!0),n.moves&&(l.x+=(n.x-n.prev.x)*n.friction.x,l._dx=l.x-l.prev.x)},RunImmovableBody2:function(L){2===L?n.velocity.y=0:T?n.processY(S,s,!0):n.processY(-S,s,!1,!0),l.moves&&(n.x+=(l.x-l.prev.x)*l.friction.x,n._dx=n.x-n.prev.x)}}},function(C,w,n){var l={ProcessTileCallbacks:n(530),ProcessTileSeparationX:n(534),ProcessTileSeparationY:n(536),SeparateTile:n(532),TileCheckX:n(533),TileCheckY:n(535),TileIntersectsBody:n(248)};C.exports=l},function(C,w,n){var l=n(0),m=n(3),f=new l({initialize:function(){this.boundsCenter=new m,this.centerDiff=new m},parseBody:function(h){if(!(h=h.hasOwnProperty("body")?h.body:h).hasOwnProperty("bounds")||!h.hasOwnProperty("centerOfMass"))return!1;var u=this.boundsCenter,s=this.centerDiff,o=h.bounds.max.x-h.bounds.min.x,d=h.bounds.max.y-h.bounds.min.y,a=o*h.centerOfMass.x,c=d*h.centerOfMass.y;return u.set(o/2,d/2),s.set(a-u.x,c-u.y),!0},getTopLeft:function(h,u,s){if(void 0===u&&(u=0),void 0===s&&(s=0),this.parseBody(h)){var o=this.boundsCenter,d=this.centerDiff;return new m(u+o.x+d.x,s+o.y+d.y)}return!1},getTopCenter:function(h,u,s){if(void 0===u&&(u=0),void 0===s&&(s=0),this.parseBody(h)){var d=this.centerDiff;return new m(u+d.x,s+this.boundsCenter.y+d.y)}return!1},getTopRight:function(h,u,s){if(void 0===u&&(u=0),void 0===s&&(s=0),this.parseBody(h)){var o=this.boundsCenter,d=this.centerDiff;return new m(u-(o.x-d.x),s+o.y+d.y)}return!1},getLeftCenter:function(h,u,s){if(void 0===u&&(u=0),void 0===s&&(s=0),this.parseBody(h)){var d=this.centerDiff;return new m(u+this.boundsCenter.x+d.x,s+d.y)}return!1},getCenter:function(h,u,s){if(void 0===u&&(u=0),void 0===s&&(s=0),this.parseBody(h)){var o=this.centerDiff;return new m(u+o.x,s+o.y)}return!1},getRightCenter:function(h,u,s){if(void 0===u&&(u=0),void 0===s&&(s=0),this.parseBody(h)){var d=this.centerDiff;return new m(u-(this.boundsCenter.x-d.x),s+d.y)}return!1},getBottomLeft:function(h,u,s){if(void 0===u&&(u=0),void 0===s&&(s=0),this.parseBody(h)){var o=this.boundsCenter,d=this.centerDiff;return new m(u+o.x+d.x,s-(o.y-d.y))}return!1},getBottomCenter:function(h,u,s){if(void 0===u&&(u=0),void 0===s&&(s=0),this.parseBody(h)){var d=this.centerDiff;return new m(u+d.x,s-(this.boundsCenter.y-d.y))}return!1},getBottomRight:function(h,u,s){if(void 0===u&&(u=0),void 0===s&&(s=0),this.parseBody(h)){var o=this.boundsCenter,d=this.centerDiff;return new m(u-(o.x-d.x),s-(o.y-d.y))}return!1}});C.exports=f},function(C,w){function n(H,G,Y){var $,Q,_,et,ot,lt,ht,X=[0,0];return _=($=H[1][1]-H[0][1])*H[0][0]+(Q=H[0][0]-H[1][0])*H[0][1],lt=(et=G[1][1]-G[0][1])*G[0][0]+(ot=G[0][0]-G[1][0])*G[0][1],tt(ht=$*ot-et*Q,0,Y=Y||0)||(X[0]=(ot*_-Q*lt)/ht,X[1]=($*lt-et*_)/ht),X}function l(H,G,Y,X){var $=G[0]-H[0],Q=G[1]-H[1],_=X[0]-Y[0],et=X[1]-Y[1];if(_*Q-et*$==0)return!1;var ot=($*(Y[1]-H[1])+Q*(H[0]-Y[0]))/(_*Q-et*$),lt=(_*(H[1]-Y[1])+et*(Y[0]-H[0]))/(et*$-_*Q);return ot>=0&&ot<=1&&lt>=0&&lt<=1}function m(H,G,Y){return(G[0]-H[0])*(Y[1]-H[1])-(Y[0]-H[0])*(G[1]-H[1])}function f(H,G,Y){return m(H,G,Y)>0}function h(H,G,Y){return m(H,G,Y)>=0}function u(H,G,Y){return m(H,G,Y)<0}function s(H,G,Y){return m(H,G,Y)<=0}C.exports={decomp:function L(H){var G=b(H);return G.length>0?B(H,G):[H]},quickDecomp:function W(H,G,Y,X,$,Q,_){_=_||0,$=$||25,G=void 0!==G?G:[],Y=Y||[],X=X||[];var et=[0,0],ot=[0,0],lt=[0,0],ht=0,ft=0,gt=0,Et=0,Ct=0,Mt=0,kt=0,Gt=[],Bt=[],Tt=H,ee=H;if(ee.length<3)return G;if(++_>(Q=Q||100))return console.warn("quickDecomp: max level ("+Q+") reached."),G;for(var bt=0;bt<H.length;++bt)if(S(Tt,bt)){Y.push(Tt[bt]),ht=ft=Number.MAX_VALUE;for(var Ht=0;Ht<H.length;++Ht)f(p(Tt,bt-1),p(Tt,bt),p(Tt,Ht))&&s(p(Tt,bt-1),p(Tt,bt),p(Tt,Ht-1))&&(lt=z(p(Tt,bt-1),p(Tt,bt),p(Tt,Ht),p(Tt,Ht-1)),u(p(Tt,bt+1),p(Tt,bt),lt)&&(gt=c(Tt[bt],lt))<ft&&(ft=gt,ot=lt,Mt=Ht)),f(p(Tt,bt+1),p(Tt,bt),p(Tt,Ht+1))&&s(p(Tt,bt+1),p(Tt,bt),p(Tt,Ht))&&(lt=z(p(Tt,bt+1),p(Tt,bt),p(Tt,Ht),p(Tt,Ht+1)),f(p(Tt,bt-1),p(Tt,bt),lt)&&(gt=c(Tt[bt],lt))<ht&&(ht=gt,et=lt,Ct=Ht));if(Mt===(Ct+1)%H.length)lt[0]=(ot[0]+et[0])/2,lt[1]=(ot[1]+et[1])/2,X.push(lt),bt<Ct?(g(Gt,Tt,bt,Ct+1),Gt.push(lt),Bt.push(lt),0!==Mt&&g(Bt,Tt,Mt,Tt.length),g(Bt,Tt,0,bt+1)):(0!==bt&&g(Gt,Tt,bt,Tt.length),g(Gt,Tt,0,Ct+1),Gt.push(lt),Bt.push(lt),g(Bt,Tt,Mt,bt+1));else{if(Mt>Ct&&(Ct+=H.length),Et=Number.MAX_VALUE,Ct<Mt)return G;for(Ht=Mt;Ht<=Ct;++Ht)h(p(Tt,bt-1),p(Tt,bt),p(Tt,Ht))&&s(p(Tt,bt+1),p(Tt,bt),p(Tt,Ht))&&(gt=c(p(Tt,bt),p(Tt,Ht)))<Et&&P(Tt,bt,Ht)&&(Et=gt,kt=Ht%H.length);bt<kt?(g(Gt,Tt,bt,kt+1),0!==kt&&g(Bt,Tt,kt,ee.length),g(Bt,Tt,0,bt+1)):(0!==bt&&g(Gt,Tt,bt,ee.length),g(Gt,Tt,0,kt+1),g(Bt,Tt,kt,bt+1))}return Gt.length<Bt.length?(W(Gt,G,Y,X,$,Q,_),W(Bt,G,Y,X,$,Q,_)):(W(Bt,G,Y,X,$,Q,_),W(Gt,G,Y,X,$,Q,_)),G}return G.push(H),G},isSimple:function V(H){var Y,G=H;for(Y=0;Y<G.length-1;Y++)for(var X=0;X<Y-1;X++)if(l(G[Y],G[Y+1],G[X],G[X+1]))return!1;for(Y=1;Y<G.length-2;Y++)if(l(G[0],G[G.length-1],G[Y],G[Y+1]))return!1;return!0},removeCollinearPoints:function K(H,G){for(var Y=0,X=H.length-1;H.length>3&&X>=0;--X)a(p(H,X-1),p(H,X),p(H,X+1),G)&&(H.splice(X%H.length,1),Y++);return Y},removeDuplicatePoints:function J(H,G){for(var Y=H.length-1;Y>=1;--Y)for(var X=H[Y],$=Y-1;$>=0;--$)if(it(X,H[$],G)){H.splice(Y,1);continue}},makeCCW:function x(H){for(var G=0,Y=H,X=1;X<H.length;++X)(Y[X][1]<Y[G][1]||Y[X][1]===Y[G][1]&&Y[X][0]>Y[G][0])&&(G=X);return!f(p(H,G-1),p(H,G),p(H,G+1))&&(function T(H){for(var G=[],Y=H.length,X=0;X!==Y;X++)G.push(H.pop());for(X=0;X!==Y;X++)H[X]=G[X]}(H),!0)}};var o=[],d=[];function a(H,G,Y,X){if(X){var $=o,Q=d;$[0]=G[0]-H[0],$[1]=G[1]-H[1],Q[0]=Y[0]-G[0],Q[1]=Y[1]-G[1];var _=$[0]*Q[0]+$[1]*Q[1],et=Math.sqrt($[0]*$[0]+$[1]*$[1]),ot=Math.sqrt(Q[0]*Q[0]+Q[1]*Q[1]);return Math.acos(_/(et*ot))<X}return 0===m(H,G,Y)}function c(H,G){var Y=G[0]-H[0],X=G[1]-H[1];return Y*Y+X*X}function p(H,G){var Y=H.length;return H[G<0?G%Y+Y:G%Y]}function g(H,G,Y,X){for(var $=Y;$<X;$++)H.push(G[$])}function S(H,G){return u(p(H,G-1),p(H,G),p(H,G+1))}var D=[],M=[];function R(H,G,Y){var X,$,Q=D,_=M;if(h(p(H,G+1),p(H,G),p(H,Y))&&s(p(H,G-1),p(H,G),p(H,Y)))return!1;$=c(p(H,G),p(H,Y));for(var et=0;et!==H.length;++et)if((et+1)%H.length!==G&&et!==G&&h(p(H,G),p(H,Y),p(H,et+1))&&s(p(H,G),p(H,Y),p(H,et))&&(Q[0]=p(H,G),Q[1]=p(H,Y),_[0]=p(H,et),_[1]=p(H,et+1),X=n(Q,_),c(p(H,G),X)<$))return!1;return!0}function P(H,G,Y){for(var X=0;X!==H.length;++X)if(X!==G&&X!==Y&&(X+1)%H.length!==G&&(X+1)%H.length!==Y&&l(p(H,G),p(H,Y),p(H,X),p(H,X+1)))return!1;return!0}function I(H,G,Y,X){var $=X||[];if(function v(H){H.length=0}($),G<Y)for(var Q=G;Q<=Y;Q++)$.push(H[Q]);else{for(Q=0;Q<=Y;Q++)$.push(H[Q]);for(Q=G;Q<H.length;Q++)$.push(H[Q])}return $}function b(H){for(var G=[],Y=[],X=[],$=[],Q=Number.MAX_VALUE,_=0;_<H.length;++_)if(S(H,_))for(var et=0;et<H.length;++et)if(R(H,_,et)){Y=b(I(H,_,et,$)),X=b(I(H,et,_,$));for(var ot=0;ot<X.length;ot++)Y.push(X[ot]);Y.length<Q&&(Q=Y.length,(G=Y).push([p(H,_),p(H,et)]))}return G}function B(H,G){if(0===G.length)return[H];if(G instanceof Array&&G.length&&G[0]instanceof Array&&2===G[0].length&&G[0][0]instanceof Array){for(var Y=[H],X=0;X<G.length;X++)for(var $=G[X],Q=0;Q<Y.length;Q++){var et=B(Y[Q],$);if(et){Y.splice(Q,1),Y.push(et[0],et[1]);break}}return Y}return X=H.indexOf(($=G)[0]),Q=H.indexOf($[1]),-1!==X&&-1!==Q&&[I(H,X,Q),I(H,Q,X)]}function z(H,G,Y,X,$){var Q=G[1]-H[1],_=H[0]-G[0],et=Q*H[0]+_*H[1],ot=X[1]-Y[1],lt=Y[0]-X[0],ht=ot*Y[0]+lt*Y[1],ft=Q*lt-ot*_;return tt(ft,0,$=$||0)?[0,0]:[(lt*et-_*ht)/ft,(Q*ht-ot*et)/ft]}function tt(H,G,Y){return Y=Y||0,Math.abs(H-G)<=Y}function it(H,G,Y){return tt(H[0],G[0],Y)&&tt(H[1],G[1],Y)}},function(C,w,n){var l=n(86),m=n(0),f=n(591),h=n(128),u=n(592),s=n(1395),o=n(1396),d=n(1397),a=n(593),c=n(589),p=n(590),v=n(1398),g=n(64),x=new m({initialize:function(S){this.world=S,this.scene=S.scene,this.sys=S.scene.sys},rectangle:function(T,S,D,M,R){var P=l.rectangle(T,S,D,M,R);return this.world.add(P),P},trapezoid:function(T,S,D,M,R,P){var I=l.trapezoid(T,S,D,M,R,P);return this.world.add(I),I},circle:function(T,S,D,M,R){var P=l.circle(T,S,D,M,R);return this.world.add(P),P},polygon:function(T,S,D,M,R){var P=l.polygon(T,S,D,M,R);return this.world.add(P),P},fromVertices:function(T,S,D,M,R,P,I){"string"==typeof D&&(D=g.fromPath(D));var b=l.fromVertices(T,S,D,M,R,P,I);return this.world.add(b),b},fromPhysicsEditor:function(T,S,D,M,R){void 0===R&&(R=!0);var P=c.parseBody(T,S,D,M);return R&&!this.world.has(P)&&this.world.add(P),P},fromSVG:function(T,S,D,M,R,P){void 0===M&&(M=1),void 0===R&&(R={}),void 0===P&&(P=!0);for(var I=D.getElementsByTagName("path"),b=[],L=0;L<I.length;L++){var B=u.pathToVertices(I[L],30);1!==M&&g.scale(B,M,M),b.push(B)}var V=l.fromVertices(T,S,b,R);return P&&this.world.add(V),V},fromJSON:function(T,S,D,M,R){void 0===M&&(M={}),void 0===R&&(R=!0);var P=p.parseBody(T,S,D,M);return P&&R&&this.world.add(P),P},imageStack:function(T,S,D,M,R,P,I,b,L){void 0===I&&(I=0),void 0===b&&(b=0),void 0===L&&(L={});var B=this.world,V=this.sys.displayList;L.addToWorld=!1;var z=f.stack(D,M,R,P,I,b,function(W,K){var J=new o(B,W,K,T,S,L);return V.add(J),J.body});return B.add(z),z},stack:function(T,S,D,M,R,P,I){var b=f.stack(T,S,D,M,R,P,I);return this.world.add(b),b},pyramid:function(T,S,D,M,R,P,I){var b=f.pyramid(T,S,D,M,R,P,I);return this.world.add(b),b},chain:function(T,S,D,M,R,P){return f.chain(T,S,D,M,R,P)},mesh:function(T,S,D,M,R){return f.mesh(T,S,D,M,R)},newtonsCradle:function(T,S,D,M,R){var P=f.newtonsCradle(T,S,D,M,R);return this.world.add(P),P},car:function(T,S,D,M,R){var P=f.car(T,S,D,M,R);return this.world.add(P),P},softBody:function(T,S,D,M,R,P,I,b,L,B){var V=f.softBody(T,S,D,M,R,P,I,b,L,B);return this.world.add(V),V},joint:function(T,S,D,M,R){return this.constraint(T,S,D,M,R)},spring:function(T,S,D,M,R){return this.constraint(T,S,D,M,R)},constraint:function(T,S,D,M,R){void 0===M&&(M=1),void 0===R&&(R={}),R.bodyA="body"===T.type?T:T.body,R.bodyB="body"===S.type?S:S.body,isNaN(D)||(R.length=D),R.stiffness=M;var P=h.create(R);return this.world.add(P),P},worldConstraint:function(T,S,D,M){void 0===D&&(D=1),void 0===M&&(M={}),M.bodyB="body"===T.type?T:T.body,isNaN(S)||(M.length=S),M.stiffness=D;var R=h.create(M);return this.world.add(R),R},mouseSpring:function(T){return this.pointerConstraint(T)},pointerConstraint:function(T){void 0===T&&(T={}),T.hasOwnProperty("render")||(T.render={visible:!1});var S=new v(this.scene,this.world,T);return this.world.add(S.constraint),S},image:function(T,S,D,M,R){var P=new o(this.world,T,S,D,M,R);return this.sys.displayList.add(P),P},tileBody:function(T,S){return new a(this.world,T,S)},sprite:function(T,S,D,M,R){var P=new d(this.world,T,S,D,M,R);return this.sys.displayList.add(P),this.sys.updateList.add(P),P},gameObject:function(T,S,D){return s(this.world,T,S,D)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});C.exports=x},function(C,w,n){var l=n(249),m=n(2),f=n(3);function h(s){return!!s.get&&"function"==typeof s.get||!!s.set&&"function"==typeof s.set}C.exports=function(s,o,d,a){void 0===d&&(d={}),void 0===a&&(a=!0);var c=o.x,p=o.y;if(o.body={temp:!0,position:{x:c,y:p}},[l.Bounce,l.Collision,l.Force,l.Friction,l.Gravity,l.Mass,l.Sensor,l.SetBody,l.Sleep,l.Static,l.Transform,l.Velocity].forEach(function(x){for(var T in x)h(x[T])?Object.defineProperty(o,T,{get:x[T].get,set:x[T].set}):Object.defineProperty(o,T,{value:x[T]})}),o.world=s,o._tempVec2=new f(c,p),d.hasOwnProperty("type")&&"body"===d.type)o.setExistingBody(d,a);else{var g=m(d,"shape",null);g||(g="rectangle"),d.addToWorld=a,o.setBody(g,d)}return o}},function(C,w,n){var l=n(0),m=n(249),f=n(15),h=n(2),u=n(125),s=n(167),o=n(3),d=new l({Extends:u,Mixins:[m.Bounce,m.Collision,m.Force,m.Friction,m.Gravity,m.Mass,m.Sensor,m.SetBody,m.Sleep,m.Static,m.Transform,m.Velocity,s],initialize:function(c,p,v,g,x,T){f.call(this,c.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(g,x),this.setSizeToFrame(),this.setOrigin(),this.world=c,this._tempVec2=new o(p,v);var S=h(T,"shape",null);S?this.setBody(S,T):this.setRectangle(this.width,this.height,T),this.setPosition(p,v),this.initPipeline()}});C.exports=d},function(C,w,n){var l=n(164),m=n(0),f=n(249),h=n(15),u=n(2),s=n(167),o=n(73),d=n(3),a=new m({Extends:o,Mixins:[f.Bounce,f.Collision,f.Force,f.Friction,f.Gravity,f.Mass,f.Sensor,f.SetBody,f.Sleep,f.Static,f.Transform,f.Velocity,s],initialize:function(p,v,g,x,T,S){h.call(this,p.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new l(this),this.setTexture(x,T),this.setSizeToFrame(),this.setOrigin(),this.world=p,this._tempVec2=new d(v,g);var D=u(S,"shape",null);D?this.setBody(D,S):this.setRectangle(this.width,this.height,S),this.setPosition(v,g),this.initPipeline()}});C.exports=a},function(C,w,n){var l=n(84),m=n(0),f=n(118),h=n(128),u=n(273),s=n(272),o=n(51),d=n(127),a=n(165),c=n(3),p=n(64),v=new m({initialize:function(x,T,S){void 0===S&&(S={});this.scene=x,this.world=T,this.camera=null,this.pointer=null,this.active=!0,this.position=new c,this.body=null,this.part=null,this.constraint=h.create(d(S,{label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}})),this.world.on(s.BEFORE_UPDATE,this.update,this),x.sys.input.on(o.POINTER_DOWN,this.onDown,this),x.sys.input.on(o.POINTER_UP,this.onUp,this)},onDown:function(g){this.pointer||(this.pointer=g,this.camera=g.camera)},onUp:function(g){g===this.pointer&&(this.pointer=null)},getBody:function(g){var x=this.position,T=this.constraint;this.camera.getWorldPoint(g.x,g.y,x);for(var S=f.allBodies(this.world.localWorld),D=0;D<S.length;D++){var M=S[D];if(!M.ignorePointer&&l.contains(M.bounds,x)&&u.canCollide(M.collisionFilter,T.collisionFilter)&&this.hitTestBody(M,x))return this.world.emit(s.DRAG_START,M,this.part,this),!0}return!1},hitTestBody:function(g,x){for(var T=this.constraint,S=g.parts.length,M=S>1?1:0;M<S;M++){var R=g.parts[M];if(p.contains(R.vertices,x))return T.pointA=x,T.pointB={x:x.x-g.position.x,y:x.y-g.position.y},T.bodyB=g,T.angleB=g.angle,a.set(g,!1),this.part=R,this.body=g,!0}return!1},update:function(){var g=this.pointer,x=this.body;if(this.active&&g)if(g.isDown||!x){if(g.isDown){if(!x&&!this.getBody(g))return;x=this.body;var T=this.position,S=this.constraint;this.camera.getWorldPoint(g.x,g.y,T),S.pointA.x=T.x,S.pointA.y=T.y,a.set(x,!1),this.world.emit(s.DRAG,x,this)}}else this.stopDrag();else x&&this.stopDrag()},stopDrag:function(){var g=this.body,x=this.constraint;x.bodyB=null,x.pointB=null,this.pointer=null,this.body=null,this.part=null,g&&this.world.emit(s.DRAG_END,g,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(s.BEFORE_UPDATE,this.update),this.scene.sys.input.off(o.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(o.POINTER_UP,this.onUp,this)}});C.exports=v},function(C,w,n){var l={};C.exports=l;var m=n(595),f=n(32);l.name="matter-js",l.version="0.14.2",l.uses=[],l.used=[],l.use=function(){m.use(l,Array.prototype.slice.call(arguments))},l.before=function(h,u){return h=h.replace(/^Matter./,""),f.chainPathBefore(l,h,u)},l.after=function(h,u){return h=h.replace(/^Matter./,""),f.chainPathAfter(l,h,u)}},function(C,w,n){var l={};C.exports=l;var m=n(83),f=n(274),h=n(84),u=n(86),s=n(64);l.collides=function(o,d){for(var a=[],c=0;c<d.length;c++){var p=d[c];if(o!==p&&h.overlaps(p.bounds,o.bounds))for(var v=1===p.parts.length?0:1;v<p.parts.length;v++){var g=p.parts[v];if(h.overlaps(g.bounds,o.bounds)){var x=f.collides(g,o);if(x.collided){a.push(x);break}}}}return a},l.ray=function(o,d,a,c){c=c||1e-100;for(var p=m.angle(d,a),v=m.magnitude(m.sub(d,a)),T=u.rectangle(.5*(a.x+d.x),.5*(a.y+d.y),v,c,{angle:p}),S=l.collides(T,o),D=0;D<S.length;D+=1){var M=S[D];M.body=M.bodyB=M.bodyA}return S},l.region=function(o,d,a){for(var c=[],p=0;p<o.length;p++){var v=o[p],g=h.overlaps(v.bounds,d);(g&&!a||!g&&a)&&c.push(v)}return c},l.point=function(o,d){for(var a=[],c=0;c<o.length;c++){var p=o[c];if(h.contains(p.bounds,d))for(var v=1===p.parts.length?0:1;v<p.parts.length;v++){var g=p.parts[v];if(h.contains(g.bounds,d)&&s.contains(g.vertices,d)){a.push(p);break}}}return a}},function(C,w,n){var l={};C.exports=l;var m=n(596),f=n(165),h=n(599),u=n(598),s=n(1523),o=n(597),d=n(166),a=n(118),c=n(128),p=n(32),v=n(41);l.create=function(g,x){x=(x=p.isElement(g)?x:g)||{},((g=p.isElement(g)?g:null)||x.render)&&p.warn("Engine.create: engine.render is deprecated (see docs)");var S=p.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:o}},x);return S.world=x.world||m.create(S.world),S.pairs=u.create(),S.broadphase=S.broadphase.controller.create(S.broadphase),S.metrics=S.metrics||{extended:!1},S.metrics=s.create(S.metrics),S},l.update=function(g,x,T){T=T||1;var P,S=g.world,D=g.timing,M=g.broadphase,R=[];D.timestamp+=(x=x||1e3/60)*D.timeScale;var I={timestamp:D.timestamp};d.trigger(g,"beforeUpdate",I);var b=a.allBodies(S),L=a.allConstraints(S);for(s.reset(g.metrics),g.enableSleeping&&f.update(b,D.timeScale),l._bodiesApplyGravity(b,S.gravity),l._bodiesUpdate(b,x,D.timeScale,T,S.bounds),c.preSolveAll(b),P=0;P<g.constraintIterations;P++)c.solveAll(L,D.timeScale);c.postSolveAll(b),M.controller?(S.isModified&&M.controller.clear(M),M.controller.update(M,b,g,S.isModified),R=M.pairsList):R=b,S.isModified&&a.setModified(S,!1,!1,!0);var B=M.detector(R,g),V=g.pairs,z=D.timestamp;for(u.update(V,B,z),u.removeOld(V,z),g.enableSleeping&&f.afterCollisions(V.list,D.timeScale),V.collisionStart.length>0&&d.trigger(g,"collisionStart",{pairs:V.collisionStart}),h.preSolvePosition(V.list),P=0;P<g.positionIterations;P++)h.solvePosition(V.list,b,D.timeScale);for(h.postSolvePosition(b),c.preSolveAll(b),P=0;P<g.constraintIterations;P++)c.solveAll(L,D.timeScale);for(c.postSolveAll(b),h.preSolveVelocity(V.list),P=0;P<g.velocityIterations;P++)h.solveVelocity(V.list,D.timeScale);return V.collisionActive.length>0&&d.trigger(g,"collisionActive",{pairs:V.collisionActive}),V.collisionEnd.length>0&&d.trigger(g,"collisionEnd",{pairs:V.collisionEnd}),s.update(g.metrics,g),l._bodiesClearForces(b),d.trigger(g,"afterUpdate",I),g},l.merge=function(g,x){if(p.extend(g,x),x.world){g.world=x.world,l.clear(g);for(var T=a.allBodies(g.world),S=0;S<T.length;S++){var D=T[S];f.set(D,!1),D.id=p.nextId()}}},l.clear=function(g){var x=g.world;u.clear(g.pairs);var T=g.broadphase;if(T.controller){var S=a.allBodies(x);T.controller.clear(T),T.controller.update(T,S,g,!0)}},l._bodiesClearForces=function(g){for(var x=0;x<g.length;x++){var T=g[x];T.force.x=0,T.force.y=0,T.torque=0}},l._bodiesApplyGravity=function(g,x){var T=void 0!==x.scale?x.scale:.001;if((0!==x.x||0!==x.y)&&0!==T)for(var S=0;S<g.length;S++){var D=g[S];D.ignoreGravity||D.isStatic||D.isSleeping||(D.force.x+=D.mass*x.x*T*D.gravityScale.x,D.force.y+=D.mass*x.y*T*D.gravityScale.y)}},l._bodiesUpdate=function(g,x,T,S,D){for(var M=0;M<g.length;M++){var R=g[M];R.isStatic||R.isSleeping||v.update(R,x,T,S)}}},function(C,w,n){var l=n(86),m=n(41),f=n(0),h=n(32),u=n(118),s=n(1401),o=n(9),d=n(272),a=n(2),c=n(6),p=n(41),v=n(166),g=n(593),x=n(596),T=n(83),S=new f({Extends:o,initialize:function(M,R){o.call(this),this.scene=M,this.engine=s.create(R),this.localWorld=this.engine.world;var P=c(R,"gravity",null);P?this.setGravity(P.x,P.y,P.scale):!1===P&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=c(R,"enabled",!0),this.correction=c(R,"correction",1),this.getDelta=c(R,"getDelta",this.update60Hz);var I=a(R,"runner",{}),b=a(I,"fps",!1),L=a(I,"fps",60),B=a(I,"delta",1e3/L),V=a(I,"deltaMin",1e3/L),z=a(I,"deltaMax",1e3/(.5*L));b||(L=1e3/B),this.runner={fps:L,correction:a(I,"correction",1),deltaSampleSize:a(I,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:a(I,"isFixed",!1),delta:B,deltaMin:V,deltaMax:z},this.autoUpdate=c(R,"autoUpdate",!0);var W=c(R,"debug",!1);if(this.drawDebug="object"==typeof W||W,this.debugConfig={showAxes:a(W,"showAxes",!1),showAngleIndicator:a(W,"showAngleIndicator",!1),angleColor:a(W,"angleColor",15208787),showBroadphase:a(W,"showBroadphase",!1),broadphaseColor:a(W,"broadphaseColor",16757760),showBounds:a(W,"showBounds",!1),boundsColor:a(W,"boundsColor",16777215),showVelocity:a(W,"showVelocity",!1),velocityColor:a(W,"velocityColor",44783),showCollisions:a(W,"showCollisions",!1),collisionColor:a(W,"collisionColor",16094476),showSeparations:a(W,"showSeparations",!1),separationColor:a(W,"separationColor",16753920),showBody:a(W,"showBody",!0),showStaticBody:a(W,"showStaticBody",!0),showInternalEdges:a(W,"showInternalEdges",!1),renderFill:a(W,"renderFill",!1),renderLine:a(W,"renderLine",!0),fillColor:a(W,"fillColor",1075465),fillOpacity:a(W,"fillOpacity",1),lineColor:a(W,"lineColor",2678297),lineOpacity:a(W,"lineOpacity",1),lineThickness:a(W,"lineThickness",1),staticFillColor:a(W,"staticFillColor",857979),staticLineColor:a(W,"staticLineColor",1255396),showSleeping:a(W,"showSleeping",!1),staticBodySleepOpacity:a(W,"staticBodySleepOpacity",.7),sleepFillColor:a(W,"sleepFillColor",4605510),sleepLineColor:a(W,"sleepLineColor",10066585),showSensors:a(W,"showSensors",!0),sensorFillColor:a(W,"sensorFillColor",857979),sensorLineColor:a(W,"sensorLineColor",1255396),showPositions:a(W,"showPositions",!0),positionSize:a(W,"positionSize",4),positionColor:a(W,"positionColor",14697178),showJoint:a(W,"showJoint",!0),jointColor:a(W,"jointColor",14737474),jointLineOpacity:a(W,"jointLineOpacity",1),jointLineThickness:a(W,"jointLineThickness",2),pinSize:a(W,"pinSize",4),pinColor:a(W,"pinColor",4382944),springColor:a(W,"springColor",14697184),anchorColor:a(W,"anchorColor",15724527),anchorSize:a(W,"anchorSize",4),showConvexHulls:a(W,"showConvexHulls",!1),hullColor:a(W,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),a(R,"setBounds",!1)){var K=R.setBounds;if("boolean"==typeof K)this.setBounds();else{var J=a(K,"x",0),tt=a(K,"y",0),it=a(K,"width",M.sys.scale.width),H=a(K,"height",M.sys.scale.height),G=a(K,"thickness",64),Y=a(K,"left",!0),X=a(K,"right",!0),$=a(K,"top",!0),Q=a(K,"bottom",!0);this.setBounds(J,tt,it,H,G,Y,X,$,Q)}}},setCompositeRenderStyle:function(D){var I,b,L,M=D.bodies,R=D.constraints,P=D.composites;for(I=0;I<M.length;I++)this.setBodyRenderStyle(b=M[I],(L=b.render).lineColor,L.lineOpacity,L.lineThickness,L.fillColor,L.fillOpacity);for(I=0;I<R.length;I++)this.setConstraintRenderStyle(b=R[I],(L=b.render).lineColor,L.lineOpacity,L.lineThickness,L.pinSize,L.anchorColor,L.anchorSize);for(I=0;I<P.length;I++)this.setCompositeRenderStyle(b=P[I]);return this},setBodyRenderStyle:function(D,M,R,P,I,b){var L=D.render,B=this.debugConfig;return L?(null==M&&(M=D.isStatic?B.staticLineColor:B.lineColor),null==R&&(R=B.lineOpacity),null==P&&(P=B.lineThickness),null==I&&(I=D.isStatic?B.staticFillColor:B.fillColor),null==b&&(b=B.fillOpacity),!1!==M&&(L.lineColor=M),!1!==R&&(L.lineOpacity=R),!1!==P&&(L.lineThickness=P),!1!==I&&(L.fillColor=I),!1!==b&&(L.fillOpacity=b),this):this},setConstraintRenderStyle:function(D,M,R,P,I,b,L){var B=D.render,V=this.debugConfig;if(!B)return this;if(null==M){var z=B.type;"line"===z?M=V.jointColor:"pin"===z?M=V.pinColor:"spring"===z&&(M=V.springColor)}return null==R&&(R=V.jointLineOpacity),null==P&&(P=V.jointLineThickness),null==I&&(I=V.pinSize),null==b&&(b=V.anchorColor),null==L&&(L=V.anchorSize),!1!==M&&(B.lineColor=M),!1!==R&&(B.lineOpacity=R),!1!==P&&(B.lineThickness=P),!1!==I&&(B.pinSize=I),!1!==b&&(B.anchorColor=b),!1!==L&&(B.anchorSize=L),this},setEventsProxy:function(){var D=this,M=this.engine,R=this.localWorld;this.drawDebug&&(v.on(R,"compositeModified",function(P){D.setCompositeRenderStyle(P)}),v.on(R,"beforeAdd",function(P){for(var I=[].concat(P.object),b=0;b<I.length;b++){var L=I[b],B=L.render;"body"===L.type?D.setBodyRenderStyle(L,B.lineColor,B.lineOpacity,B.lineThickness,B.fillColor,B.fillOpacity):"composite"===L.type?D.setCompositeRenderStyle(L):"constraint"===L.type&&D.setConstraintRenderStyle(L,B.lineColor,B.lineOpacity,B.lineThickness,B.pinSize,B.anchorColor,B.anchorSize)}})),v.on(R,"beforeAdd",function(P){D.emit(d.BEFORE_ADD,P)}),v.on(R,"afterAdd",function(P){D.emit(d.AFTER_ADD,P)}),v.on(R,"beforeRemove",function(P){D.emit(d.BEFORE_REMOVE,P)}),v.on(R,"afterRemove",function(P){D.emit(d.AFTER_REMOVE,P)}),v.on(M,"beforeUpdate",function(P){D.emit(d.BEFORE_UPDATE,P)}),v.on(M,"afterUpdate",function(P){D.emit(d.AFTER_UPDATE,P)}),v.on(M,"collisionStart",function(P){var b,L,I=P.pairs;I.length>0&&(b=I[0].bodyA,L=I[0].bodyB),D.emit(d.COLLISION_START,P,b,L)}),v.on(M,"collisionActive",function(P){var b,L,I=P.pairs;I.length>0&&(b=I[0].bodyA,L=I[0].bodyB),D.emit(d.COLLISION_ACTIVE,P,b,L)}),v.on(M,"collisionEnd",function(P){var b,L,I=P.pairs;I.length>0&&(b=I[0].bodyA,L=I[0].bodyB),D.emit(d.COLLISION_END,P,b,L)})},setBounds:function(D,M,R,P,I,b,L,B,V){return void 0===D&&(D=0),void 0===M&&(M=0),void 0===R&&(R=this.scene.sys.scale.width),void 0===P&&(P=this.scene.sys.scale.height),void 0===I&&(I=64),void 0===b&&(b=!0),void 0===L&&(L=!0),void 0===B&&(B=!0),void 0===V&&(V=!0),this.updateWall(b,"left",D-I,M-I,I,P+2*I),this.updateWall(L,"right",D+R,M-I,I,P+2*I),this.updateWall(B,"top",D,M-I,R,I),this.updateWall(V,"bottom",D,M+P,R,I),this},updateWall:function(D,M,R,P,I,b){var L=this.walls[M];D?(L&&x.remove(this.localWorld,L),this.walls[M]=this.create(R+=I/2,P+=b/2,I,b,{isStatic:!0,friction:0,frictionStatic:0})):(L&&x.remove(this.localWorld,L),this.walls[M]=null)},createDebugGraphic:function(){var D=this.scene.sys.add.graphics({x:0,y:0});return D.setDepth(Number.MAX_VALUE),this.debugGraphic=D,this.drawDebug=!0,D},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(D,M,R){return void 0===D&&(D=0),void 0===M&&(M=1),this.localWorld.gravity.x=D,this.localWorld.gravity.y=M,void 0!==R&&(this.localWorld.gravity.scale=R),this},create:function(D,M,R,P,I){var b=l.rectangle(D,M,R,P,I);return x.add(this.localWorld,b),b},add:function(D){return x.add(this.localWorld,D),this},remove:function(D,M){Array.isArray(D)||(D=[D]);for(var R=0;R<D.length;R++){var P=D[R];u.remove(this.localWorld,P.body?P.body:P,M)}return this},removeConstraint:function(D,M){return u.remove(this.localWorld,D,M),this},convertTilemapLayer:function(D,M){var R=D.layer,P=D.getTilesWithin(0,0,R.width,R.height,{isColliding:!0});return this.convertTiles(P,M),this},convertTiles:function(D,M){if(0===D.length)return this;for(var R=0;R<D.length;R++)new g(this,D[R],M);return this},nextGroup:function(D){return p.nextGroup(D)},nextCategory:function(){return p.nextCategory()},pause:function(){return this.enabled=!1,this.emit(d.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(d.RESUME),this},update:function(D,M){if(this.enabled&&this.autoUpdate){var R=this.engine,P=this.runner,I=R.timing,b=this.correction;P.isFixed?M=this.getDelta(D,M):(M=D-P.timePrev||P.delta,P.timePrev=D,P.deltaHistory.push(M),P.deltaHistory=P.deltaHistory.slice(-P.deltaSampleSize),b=(M=(M=(M=Math.min.apply(null,P.deltaHistory))<P.deltaMin?P.deltaMin:M)>P.deltaMax?P.deltaMax:M)/P.delta,P.delta=M),0!==P.timeScalePrev&&(b*=I.timeScale/P.timeScalePrev),0===I.timeScale&&(b=0),P.timeScalePrev=I.timeScale,P.correction=b,P.frameCounter+=1,D-P.counterTimestamp>=1e3&&(P.fps=P.frameCounter*((D-P.counterTimestamp)/1e3),P.counterTimestamp=D,P.frameCounter=0),s.update(R,M,b)}},step:function(D,M){s.update(this.engine,D,M)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(D){var M=D.hasOwnProperty("body")?D.body:D;return null!==u.get(this.localWorld,M.id,M.type)},getAllBodies:function(){return u.allBodies(this.localWorld)},getAllConstraints:function(){return u.allConstraints(this.localWorld)},getAllComposites:function(){return u.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var D=this.debugConfig,M=this.engine,R=this.debugGraphic,P=u.allBodies(this.localWorld);this.debugGraphic.clear(),D.showBroadphase&&M.broadphase.controller&&this.renderGrid(M.broadphase,R,D.broadphaseColor,.5),D.showBounds&&this.renderBodyBounds(P,R,D.boundsColor,.5),(D.showBody||D.showStaticBody)&&this.renderBodies(P),D.showJoint&&this.renderJoints(),(D.showAxes||D.showAngleIndicator)&&this.renderBodyAxes(P,R,D.showAxes,D.angleColor,.5),D.showVelocity&&this.renderBodyVelocity(P,R,D.velocityColor,1,2),D.showSeparations&&this.renderSeparations(M.pairs.list,R,D.separationColor),D.showCollisions&&this.renderCollisions(M.pairs.list,R,D.collisionColor)}},renderGrid:function(D,M,R,P){M.lineStyle(1,R,P);for(var I=h.keys(D.buckets),b=0;b<I.length;b++){var L=I[b];if(!(D.buckets[L].length<2)){var B=L.split(/C|R/);M.strokeRect(parseInt(B[1],10)*D.bucketWidth,parseInt(B[2],10)*D.bucketHeight,D.bucketWidth,D.bucketHeight)}}return this},renderSeparations:function(D,M,R){M.lineStyle(1,R,1);for(var P=0;P<D.length;P++){var I=D[P];if(I.isActive){var b=I.collision,L=b.bodyA,B=b.bodyB,V=L.position,z=B.position,W=b.penetration,K=L.isStatic||B.isStatic?1:4;B.isStatic&&(K=0),M.lineBetween(z.x,z.y,z.x-W.x*K,z.y-W.y*K),K=L.isStatic||B.isStatic?1:4,L.isStatic&&(K=0),M.lineBetween(V.x,V.y,V.x-W.x*K,V.y-W.y*K)}}return this},renderCollisions:function(D,M,R){var P,I;for(M.lineStyle(1,R,.5),M.fillStyle(R,1),P=0;P<D.length;P++)if((I=D[P]).isActive)for(var b=0;b<I.activeContacts.length;b++){var B=I.activeContacts[b].vertex;M.fillRect(B.x-2,B.y-2,5,5)}for(P=0;P<D.length;P++)if((I=D[P]).isActive){var V=I.collision,z=I.activeContacts;if(z.length>0){var W=z[0].vertex.x,K=z[0].vertex.y;2===z.length&&(W=(z[0].vertex.x+z[1].vertex.x)/2,K=(z[0].vertex.y+z[1].vertex.y)/2),V.bodyB===V.supports[0].body||V.bodyA.isStatic?M.lineBetween(W-8*V.normal.x,K-8*V.normal.y,W,K):M.lineBetween(W+8*V.normal.x,K+8*V.normal.y,W,K)}}return this},renderBodyBounds:function(D,M,R,P){M.lineStyle(1,R,P);for(var I=0;I<D.length;I++){var b=D[I];if(b.render.visible){var L=b.bounds;if(L)M.strokeRect(L.min.x,L.min.y,L.max.x-L.min.x,L.max.y-L.min.y);else for(var B=b.parts,V=B.length>1?1:0;V<B.length;V++){var z=B[V];M.strokeRect(z.bounds.min.x,z.bounds.min.y,z.bounds.max.x-z.bounds.min.x,z.bounds.max.y-z.bounds.min.y)}}}return this},renderBodyAxes:function(D,M,R,P,I){M.lineStyle(1,P,I);for(var b=0;b<D.length;b++){var V,z,W,L=D[b],B=L.parts;if(L.render.visible)if(R)for(z=B.length>1?1:0;z<B.length;z++)for(V=B[z],W=0;W<V.axes.length;W++){var K=V.axes[W];M.lineBetween(V.position.x,V.position.y,V.position.x+20*K.x,V.position.y+20*K.y)}else for(z=B.length>1?1:0;z<B.length;z++)for(V=B[z],W=0;W<V.axes.length;W++)M.lineBetween(V.position.x,V.position.y,(V.vertices[0].x+V.vertices[V.vertices.length-1].x)/2,(V.vertices[0].y+V.vertices[V.vertices.length-1].y)/2)}return this},renderBodyVelocity:function(D,M,R,P,I){M.lineStyle(I,R,P);for(var b=0;b<D.length;b++){var L=D[b];!L.render.visible||M.lineBetween(L.position.x,L.position.y,L.position.x+2*(L.position.x-L.positionPrev.x),L.position.y+2*(L.position.y-L.positionPrev.y))}return this},renderBodies:function(D){for(var M=this.debugGraphic,R=this.debugConfig,P=R.showBody,I=R.showStaticBody,b=R.showSleeping,L=R.showInternalEdges,B=R.showConvexHulls,V=R.renderFill,z=R.renderLine,W=R.staticBodySleepOpacity,K=R.sleepFillColor,J=R.sleepLineColor,tt=R.hullColor,it=0;it<D.length;it++){var H=D[it];if(H.render.visible&&(I||!H.isStatic)&&(P||H.isStatic)){var G=H.render.lineColor,Y=H.render.lineOpacity,X=H.render.lineThickness,$=H.render.fillColor,Q=H.render.fillOpacity;b&&H.isSleeping&&(H.isStatic?(Y*=W,Q*=W):(G=J,$=K)),V||($=null),z||(G=null),this.renderBody(H,M,L,G,Y,X,$,Q),B&&H.parts.length>1&&this.renderConvexHull(H,M,tt,X)}}},renderBody:function(D,M,R,P,I,b,L,B){void 0===P&&(P=null),void 0===I&&(I=null),void 0===b&&(b=1),void 0===L&&(L=null),void 0===B&&(B=null);for(var V=this.debugConfig,z=V.sensorFillColor,W=V.sensorLineColor,K=D.parts,J=K.length,tt=J>1?1:0;tt<J;tt++){var it=K[tt],H=it.render,G=H.opacity;if(H.visible&&0!==G&&(!it.isSensor||V.showSensors)){var Y=it.circleRadius;if(M.beginPath(),it.isSensor?(null!==L&&M.fillStyle(z,B*G),null!==P&&M.lineStyle(b,W,I*G)):(null!==L&&M.fillStyle(L,B*G),null!==P&&M.lineStyle(b,P,I*G)),Y)M.arc(it.position.x,it.position.y,Y,0,2*Math.PI);else{var X=it.vertices,$=X.length;M.moveTo(X[0].x,X[0].y);for(var Q=1;Q<$;Q++){var _=X[Q];if(!X[Q-1].isInternal||R?M.lineTo(_.x,_.y):M.moveTo(_.x,_.y),Q<$&&_.isInternal&&!R){var et=(Q+1)%$;M.moveTo(X[et].x,X[et].y)}}M.closePath()}null!==L&&M.fillPath(),null!==P&&M.strokePath()}}if(V.showPositions&&!D.isStatic){var ot=D.position.x,lt=D.position.y,ht=Math.ceil(V.positionSize/2);M.fillStyle(V.positionColor,1),M.fillRect(ot-ht,lt-ht,V.positionSize,V.positionSize)}return this},renderConvexHull:function(D,M,R,P){if(void 0===P&&(P=1),D.parts.length>1){var L=D.vertices;M.lineStyle(P,R),M.beginPath(),M.moveTo(L[0].x,L[0].y);for(var B=1;B<L.length;B++)M.lineTo(L[B].x,L[B].y);M.lineTo(L[0].x,L[0].y),M.strokePath()}return this},renderJoints:function(){for(var D=this.debugGraphic,M=u.allConstraints(this.localWorld),R=0;R<M.length;R++){var P=M[R].render;this.renderConstraint(M[R],D,P.lineColor,P.lineOpacity,P.lineThickness,P.pinSize,P.anchorColor,P.anchorSize)}},renderConstraint:function(D,M,R,P,I,b,L,B){var V=D.render;if(!V.visible||!D.pointA||!D.pointB)return this;M.lineStyle(I,R,P);var K,J,z=D.bodyA,W=D.bodyB;if(K=z?T.add(z.position,D.pointA):D.pointA,"pin"===V.type)M.strokeCircle(K.x,K.y,b);else{if(J=W?T.add(W.position,D.pointB):D.pointB,M.beginPath(),M.moveTo(K.x,K.y),"spring"===V.type)for(var G,tt=T.sub(J,K),it=T.perp(T.normalise(tt)),H=Math.ceil(h.clamp(D.length/5,12,20)),Y=1;Y<H;Y+=1)M.lineTo(K.x+tt.x*(Y/H)+it.x*(G=Y%2==0?1:-1)*4,K.y+tt.y*(Y/H)+it.y*G*4);M.lineTo(J.x,J.y)}return M.strokePath(),V.anchors&&B>0&&(M.fillStyle(L),M.fillCircle(K.x,K.y,B),M.fillCircle(J.x,J.y,B)),this},resetCollisionIDs:function(){return m._nextCollidingGroupId=1,m._nextNonCollidingGroupId=-1,m._nextCategory=1,this},shutdown:function(){v.off(this.engine),this.removeAllListeners(),x.clear(this.localWorld,!1),s.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});C.exports=S},function(C,w,n){C.exports={BasePlugin:n(540),DefaultPlugins:n(197),PluginCache:n(24),PluginManager:n(414),ScenePlugin:n(1404)}},function(C,w,n){var l=n(540),m=n(0),f=n(20),h=new m({Extends:l,initialize:function(s,o,d){l.call(this,o),this.scene=s,this.systems=s.sys,this.pluginKey=d,s.sys.events.once(f.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});C.exports=h},function(C,w,n){C.exports={Canvas:n(1406),Events:n(91),Snapshot:n(1407),WebGL:n(1408)}},function(C,w,n){C.exports={CanvasRenderer:n(368),GetBlendModes:n(370),SetTransform:n(30)}},function(C,w,n){C.exports={Canvas:n(369),WebGL:n(383)}},function(C,w,n){var l=n(107),m=n(17),f={PipelineManager:n(372),Pipelines:n(1409),RenderTarget:n(141),Utils:n(12),WebGLPipeline:n(58),WebGLRenderer:n(371),WebGLShader:n(375)};f=m(!1,f,l),C.exports=f},function(C,w,n){var l=n(92),m=n(17),f={BitmapMaskPipeline:n(373),Events:n(374),GraphicsPipeline:n(376),LightPipeline:n(377),MultiPipeline:n(108),PointLightPipeline:n(378),PostFXPipeline:n(1410),RopePipeline:n(379),SinglePipeline:n(380),UtilityPipeline:n(381)};f=m(!1,f,l),C.exports=f},function(C,w,n){var l=n(0),m=n(198),f=n(2),h=n(1411),u=n(382),s=n(58),o=new l({Extends:s,initialize:function(a){a.renderTarget=f(a,"renderTarget",1),a.fragShader=f(a,"fragShader",h),a.vertShader=f(a,"vertShader",u),a.attributes=f(a,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),a.batchSize=1,a.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],s.call(this,a),this.isPostFX=!0,this.colorMatrix=new m,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){s.prototype.boot.call(this);var d=this.manager.UTILITY_PIPELINE;this.fullFrame1=d.fullFrame1,this.fullFrame2=d.fullFrame2,this.halfFrame1=d.halfFrame1,this.halfFrame2=d.halfFrame2,this.set1i("uMainSampler",0)},onDraw:function(d){this.bindAndDraw(d)},copyFrame:function(d,a,c,p,v){this.manager.copyFrame(d,a,c,p,v)},copyToGame:function(d){this.manager.copyToGame(d)},drawFrame:function(d,a,c){this.manager.drawFrame(d,a,c,this.colorMatrix)},blendFrames:function(d,a,c,p,v){this.manager.blendFrames(d,a,c,p,v)},blendFramesAdditive:function(d,a,c,p,v){this.manager.blendFramesAdditive(d,a,c,p,v)},clearFrame:function(d,a){this.manager.clearFrame(d,a)},blitFrame:function(d,a,c,p,v,g){this.manager.blitFrame(d,a,c,p,v,g)},copyFrameRect:function(d,a,c,p,v,g,x,T){this.manager.copyFrameRect(d,a,c,p,v,g,x,T)},bindAndDraw:function(d,a,c,p,v){void 0===c&&(c=!0),void 0===p&&(p=!0);var g=this.gl,x=this.renderer;this.bind(v),this.set1i("uMainSampler",0),a?(g.viewport(0,0,a.width,a.height),g.bindFramebuffer(g.FRAMEBUFFER,a.framebuffer),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,a.texture,0),c&&(g.clearColor(0,0,0,p?0:1),g.clear(g.COLOR_BUFFER_BIT))):(x.popFramebuffer(!1,!1,!1),x.currentFramebuffer||g.viewport(0,0,x.width,x.height)),g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,d.texture),g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.STATIC_DRAW),g.drawArrays(g.TRIANGLES,0,6),a?(g.bindTexture(g.TEXTURE_2D,null),g.bindFramebuffer(g.FRAMEBUFFER,null)):x.resetTextures()}});C.exports=o},function(C,w){C.exports=["#define SHADER_NAME PHASER_POSTFX_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}",""].join("\n")},function(C,w,n){var l=n(17),m=n(201),f={Center:n(403),Events:n(104),Orientation:n(404),ScaleManager:n(415),ScaleModes:n(405),Zoom:n(406)};f=l(!1,f,m.CENTER),f=l(!1,f,m.ORIENTATION),f=l(!1,f,m.SCALE_MODE),f=l(!1,f,m.ZOOM),C.exports=f},function(C,w,n){var l=n(144),m=n(17),f={Events:n(20),GetPhysicsPlugins:n(419),GetScenePlugins:n(420),SceneManager:n(417),ScenePlugin:n(1414),Settings:n(421),Systems:n(204)};f=m(!1,f,l),C.exports=f},function(C,w,n){var l=n(18),m=n(0),f=n(20),h=n(2),u=n(24),s=new m({initialize:function(d){this.scene=d,this.systems=d.sys,this.settings=d.sys.settings,this.key=d.sys.settings.key,this.manager=d.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._willSleep=!1,this._willRemove=!1,d.sys.events.once(f.BOOT,this.boot,this),d.sys.events.on(f.START,this.pluginStart,this)},boot:function(){this.systems.events.once(f.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(f.SHUTDOWN,this.shutdown,this)},start:function(o,d){return void 0===o&&(o=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",o,d),this},restart:function(o){var d=this.key;return this.manager.queueOp("stop",d),this.manager.queueOp("start",d,o),this},transition:function(o){void 0===o&&(o={});var d=h(o,"target",!1),a=this.manager.getScene(d);if(!d||!this.checkValidTransition(a))return!1;var c=h(o,"duration",1e3);this._elapsed=0,this._target=a,this._duration=c,this._willSleep=h(o,"sleep",!1),this._willRemove=h(o,"remove",!1);var p=h(o,"onUpdate",null);p&&(this._onUpdate=p,this._onUpdateScope=h(o,"onUpdateScope",this.scene));var v=h(o,"allowInput",!1);this.settings.transitionAllowInput=v;var g=a.sys.settings;return g.isTransition=!0,g.transitionFrom=this.scene,g.transitionDuration=c,g.transitionAllowInput=v,h(o,"moveAbove",!1)?this.manager.moveAbove(this.key,d):h(o,"moveBelow",!1)&&this.manager.moveBelow(this.key,d),a.sys.isSleeping()?a.sys.wake(h(o,"data")):this.manager.start(d,h(o,"data")),this.systems.events.emit(f.TRANSITION_OUT,a,c),this.systems.events.on(f.UPDATE,this.step,this),!0},checkValidTransition:function(o){return!(!o||o.sys.isActive()||o.sys.isTransitioning()||o===this.scene||this.systems.isTransitioning())},step:function(o,d){this._elapsed+=d,this.transitionProgress=l(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var o=this._target.sys,d=this._target.sys.settings;this.systems.events.off(f.UPDATE,this.step,this),o.events.emit(f.TRANSITION_COMPLETE,this.scene),d.isTransition=!1,d.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(o,d,a,c){return this.manager.add(o,d,a,c)},launch:function(o,d){return o&&o!==this.key&&this.manager.queueOp("start",o,d),this},run:function(o,d){return o&&o!==this.key&&this.manager.queueOp("run",o,d),this},pause:function(o,d){return void 0===o&&(o=this.key),this.manager.queueOp("pause",o,d),this},resume:function(o,d){return void 0===o&&(o=this.key),this.manager.queueOp("resume",o,d),this},sleep:function(o,d){return void 0===o&&(o=this.key),this.manager.queueOp("sleep",o,d),this},wake:function(o,d){return void 0===o&&(o=this.key),this.manager.queueOp("wake",o,d),this},switch:function(o){return o!==this.key&&this.manager.queueOp("switch",this.key,o),this},stop:function(o,d){return void 0===o&&(o=this.key),this.manager.queueOp("stop",o,d),this},setActive:function(o,d,a){void 0===d&&(d=this.key);var c=this.manager.getScene(d);return c&&c.sys.setActive(o,a),this},setVisible:function(o,d){void 0===d&&(d=this.key);var a=this.manager.getScene(d);return a&&a.sys.setVisible(o),this},isSleeping:function(o){return void 0===o&&(o=this.key),this.manager.isSleeping(o)},isActive:function(o){return void 0===o&&(o=this.key),this.manager.isActive(o)},isPaused:function(o){return void 0===o&&(o=this.key),this.manager.isPaused(o)},isVisible:function(o){return void 0===o&&(o=this.key),this.manager.isVisible(o)},swapPosition:function(o,d){return void 0===d&&(d=this.key),o!==d&&this.manager.swapPosition(o,d),this},moveAbove:function(o,d){return void 0===d&&(d=this.key),o!==d&&this.manager.moveAbove(o,d),this},moveBelow:function(o,d){return void 0===d&&(d=this.key),o!==d&&this.manager.moveBelow(o,d),this},remove:function(o){return void 0===o&&(o=this.key),this.manager.remove(o),this},moveUp:function(o){return void 0===o&&(o=this.key),this.manager.moveUp(o),this},moveDown:function(o){return void 0===o&&(o=this.key),this.manager.moveDown(o),this},bringToTop:function(o){return void 0===o&&(o=this.key),this.manager.bringToTop(o),this},sendToBack:function(o){return void 0===o&&(o=this.key),this.manager.sendToBack(o),this},get:function(o){return this.manager.getScene(o)},getIndex:function(o){return void 0===o&&(o=this.key),this.manager.getIndex(o)},shutdown:function(){var o=this.systems.events;o.off(f.SHUTDOWN,this.shutdown,this),o.off(f.POST_UPDATE,this.step,this),o.off(f.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});u.register("ScenePlugin",s,"scenePlugin"),C.exports=s},function(C,w,n){C.exports={Events:n(438),List:n(110),Map:n(102),ProcessQueue:n(211),RTree:n(531),Set:n(149),Size:n(416)}},function(C,w,n){var l=n(17),m=n(1417),f={CanvasTexture:n(423),Events:n(106),FilterMode:m,Frame:n(109),Parsers:n(425),Texture:n(206),TextureManager:n(422),TextureSource:n(424)};f=l(!1,f,m),C.exports=f},function(C,w){C.exports={LINEAR:0,NEAREST:1}},function(C,w,n){var l=n(17),m=n(1419),f={Components:n(251),Parsers:n(1452),Formats:n(40),ImageCollection:n(576),ParseToTilemap:n(262),Tile:n(85),Tilemap:n(580),TilemapCreator:n(1459),TilemapFactory:n(1460),Tileset:n(122),TilemapLayer:n(581),Orientation:n(29),LayerData:n(120),MapData:n(121),ObjectLayer:n(572)};f=l(!1,f,m.ORIENTATION),C.exports=f},function(C,w,n){var l={ORIENTATION:n(29)};C.exports=l},function(C,w,n){var l=n(26),m=n(63);C.exports=function(h,u,s,o,d,a,c,p){void 0===c&&(c=!0),h<0&&(h=0),u<0&&(u=0);for(var v=l(h,u,s,o,null,p),g=d-h,x=a-u,T=0;T<v.length;T++){var S=v[T].x+g,D=v[T].y+x;S>=0&&S<p.width&&D>=0&&D<p.height&&p.data[D][S]&&p.data[D][S].copy(v[T])}c&&m(d-1,a-1,s+2,o+2,p)}},function(C,w,n){var l=n(26),m=n(542);C.exports=function(h,u,s,o,d,a){s||(s={}),Array.isArray(h)||(h=[h]);var c=a.tilemapLayer;o||(o=c.scene),d||(d=o.cameras.main);var g,p=l(0,0,a.width,a.height,null,a),v=[];for(g=0;g<p.length;g++){var x=p[g];if(-1!==h.indexOf(x.index)){var T=c.tileToWorldXY(x.x,x.y,void 0,d,a);s.x=T.x,s.y=T.y,v.push(o.make.sprite(s))}}if("number"==typeof u)for(g=0;g<h.length;g++)m(h[g],u,0,0,a.width,a.height,a);else if(Array.isArray(u))for(g=0;g<h.length;g++)m(h[g],u[g],0,0,a.width,a.height,a);return v}},function(C,w,n){var l=n(26),m=n(63),f=n(72);C.exports=function(u,s,o,d,a,c,p){for(var v=-1!==p.collideIndexes.indexOf(u),g=l(s,o,d,a,null,p),x=0;x<g.length;x++)g[x].index=u,f(g[x],v);c&&m(s-1,o-1,d+2,a+2,p)}},function(C,w,n){var l=n(26);C.exports=function(f,h,u,s,o,d,a,c){return l(u,s,o,d,a,c).filter(f,h)}},function(C,w){C.exports=function(l,m,f,h){void 0===m&&(m=0),void 0===f&&(f=!1);var s,o,d,u=0;if(f){for(o=h.height-1;o>=0;o--)for(s=h.width-1;s>=0;s--)if((d=h.data[o][s])&&d.index===l){if(u===m)return d;u+=1}}else for(o=0;o<h.height;o++)for(s=0;s<h.width;s++)if((d=h.data[o][s])&&d.index===l){if(u===m)return d;u+=1}return null}},function(C,w,n){var l=n(26);C.exports=function(f,h,u,s,o,d,a,c){return l(u,s,o,d,a,c).find(f,h)||null}},function(C,w,n){var l=n(26);C.exports=function(f,h,u,s,o,d,a,c){l(u,s,o,d,a,c).forEach(f,h)}},function(C,w,n){var l=n(29),m=n(544),f=n(545),h=n(547),u=n(1),s=n(548);C.exports=function(d){return d===l.ORTHOGONAL?m:d===l.HEXAGONAL?f:d===l.STAGGERED?s:d===l.ISOMETRIC?h:u}},function(C,w,n){var l=n(158),f=new(n(3));C.exports=function(u,s,o,d,a){return a.tilemapLayer.worldToTileXY(u,s,!0,f,d),l(f.x,f.y,o,a)}},function(C,w,n){var l=n(483),m=n(26),f=n(484),h=n(1),u=n(3),s=function(p,v){return f.RectangleToTriangle(v,p)},o=new u,d=new u,a=new u;C.exports=function(p,v,g,x){if(void 0===p)return[];var T=h;p instanceof l.Circle?T=f.CircleToRectangle:p instanceof l.Rectangle?T=f.RectangleToRectangle:p instanceof l.Triangle?T=s:p instanceof l.Line&&(T=f.LineToRectangle),x.tilemapLayer.worldToTileXY(p.left,p.top,!0,d,g);var S=d.x,D=d.y;x.tilemapLayer.worldToTileXY(p.right,p.bottom,!0,a,g);var M=Math.ceil(a.x),R=Math.ceil(a.y),P=Math.max(M-S,1),I=Math.max(R-D,1),b=m(S,D,P,I,v,x),L=x.tileWidth,B=x.tileHeight;x.tilemapLayer&&(L*=x.tilemapLayer.scaleX,B*=x.tilemapLayer.scaleY);for(var V=[],z=new l.Rectangle(0,0,L,B),W=0;W<b.length;W++){var K=b[W];x.tilemapLayer.tileToWorldXY(K.x,K.y,o,g),z.x=o.x,z.y=o.y,T(p,z)&&V.push(K)}return V}},function(C,w,n){var l=n(29),m=n(1),f=n(253);C.exports=function(u){return u===l.ORTHOGONAL?f:m}},function(C,w,n){var l=n(29),m=n(550),f=n(551),h=n(1),u=n(552),s=n(553);C.exports=function(d){return d===l.ORTHOGONAL?s:d===l.ISOMETRIC?f:d===l.HEXAGONAL?m:d===l.STAGGERED?u:h}},function(C,w,n){var l=n(29),m=n(554),f=n(1),h=n(555),u=n(254);C.exports=function(o){return o===l.ORTHOGONAL?u:o===l.HEXAGONAL?m:o===l.STAGGERED?h:f}},function(C,w,n){var l=n(29),m=n(1),f=n(255);C.exports=function(u){return u===l.ORTHOGONAL?f:m}},function(C,w,n){var l=n(29),m=n(556),f=n(557),h=n(1),u=n(558),s=n(559);C.exports=function(d){return d===l.ORTHOGONAL?s:d===l.ISOMETRIC?f:d===l.HEXAGONAL?m:d===l.STAGGERED?u:h}},function(C,w,n){var l=n(29),m=n(560),f=n(1),h=n(561),u=n(256);C.exports=function(o){return o===l.ORTHOGONAL?u:o===l.HEXAGONAL?m:o===l.STAGGERED?h:f}},function(C,w,n){var l=n(562),f=new(n(3));C.exports=function(u,s,o,d){return d.tilemapLayer.worldToTileXY(u,s,!0,f,o),l(f.x,f.y,d)}},function(C,w,n){var l=n(257),f=new(n(3));C.exports=function(u,s,o,d,a,c){return c.tilemapLayer.worldToTileXY(s,o,!0,f,a,c),l(u,f.x,f.y,d,c)}},function(C,w,n){var l=n(63),m=n(257);C.exports=function(h,u,s,o,d){if(void 0===o&&(o=!0),!Array.isArray(h))return null;Array.isArray(h[0])||(h=[h]);for(var a=h.length,c=h[0].length,p=0;p<a;p++)for(var v=0;v<c;v++)m(h[p][v],u+v,s+p,!1,d);o&&l(u-1,s-1,c+2,a+2,d)}},function(C,w,n){var l=n(26),m=n(210);C.exports=function(h,u,s,o,d,a){var c,p=l(h,u,s,o,{},a);if(!d)for(d=[],c=0;c<p.length;c++)-1===d.indexOf(p[c].index)&&d.push(p[c].index);for(c=0;c<p.length;c++)p[c].index=m(d)}},function(C,w,n){var l=n(563),f=new(n(3));C.exports=function(u,s,o,d,a,c){return c.tilemapLayer.worldToTileXY(u,s,!0,f,a,c),l(f.x,f.y,o,d,c)}},function(C,w,n){var l=n(26),m=n(397),f=new m(105,210,231,150),h=new m(243,134,48,200),u=new m(40,39,37,150);C.exports=function(o,d,a){void 0===d&&(d={});var c=void 0!==d.tileColor?d.tileColor:f,p=void 0!==d.collidingTileColor?d.collidingTileColor:h,v=void 0!==d.faceColor?d.faceColor:u,g=l(0,0,a.width,a.height,null,a);o.translateCanvas(a.tilemapLayer.x,a.tilemapLayer.y),o.scaleCanvas(a.tilemapLayer.scaleX,a.tilemapLayer.scaleY);for(var x=0;x<g.length;x++){var T=g[x],S=T.width,D=T.height,M=T.pixelX,R=T.pixelY,P=T.collides?p:c;null!==P&&(o.fillStyle(P.color,P.alpha/255),o.fillRect(M,R,S,D)),M+=1,R+=1,S-=2,D-=2,null!==v&&(o.lineStyle(1,v.color,v.alpha/255),T.faceTop&&o.lineBetween(M,R,M+S,R),T.faceRight&&o.lineBetween(M+S,R,M+S,R+D),T.faceBottom&&o.lineBetween(M,R+D,M+S,R+D),T.faceLeft&&o.lineBetween(M,R,M,R+D))}}},function(C,w,n){var l=n(72),m=n(63),f=n(160);C.exports=function(u,s,o,d,a){void 0===s&&(s=!0),void 0===o&&(o=!0),void 0===a&&(a=!0),Array.isArray(u)||(u=[u]);for(var c=0;c<u.length;c++)f(u[c],s,d);if(a)for(var p=0;p<d.height;p++)for(var v=0;v<d.width;v++){var g=d.data[p][v];g&&-1!==u.indexOf(g.index)&&l(g,s)}o&&m(0,0,d.width,d.height,d)}},function(C,w,n){var l=n(72),m=n(63),f=n(160);C.exports=function(u,s,o,d,a,c){if(void 0===o&&(o=!0),void 0===d&&(d=!0),void 0===c&&(c=!0),!(u>s)){for(var p=u;p<=s;p++)f(p,o,a);if(c)for(var v=0;v<a.height;v++)for(var g=0;g<a.width;g++){var x=a.data[v][g];x&&x.index>=u&&x.index<=s&&l(x,o)}d&&m(0,0,a.width,a.height,a)}}},function(C,w,n){var l=n(72),m=n(63),f=n(160);C.exports=function(u,s,o,d){void 0===s&&(s=!0),void 0===o&&(o=!0),Array.isArray(u)||(u=[u]);for(var a=0;a<d.height;a++)for(var c=0;c<d.width;c++){var p=d.data[a][c];p&&-1===u.indexOf(p.index)&&(l(p,s),f(p.index,s,d))}o&&m(0,0,d.width,d.height,d)}},function(C,w,n){var l=n(72),m=n(63),f=n(126);C.exports=function(u,s,o,d){void 0===s&&(s=!0),void 0===o&&(o=!0);for(var a=0;a<d.height;a++)for(var c=0;c<d.width;c++){var p=d.data[a][c];if(p)for(var v in u)if(f(p.properties,v)){var g=u[v];Array.isArray(g)||(g=[g]);for(var x=0;x<g.length;x++)p.properties[v]===g[x]&&l(p,s)}}o&&m(0,0,d.width,d.height,d)}},function(C,w,n){var l=n(72),m=n(63);C.exports=function(h,u,s){void 0===h&&(h=!0),void 0===u&&(u=!0);for(var o=0;o<s.height;o++)for(var d=0;d<s.width;d++){var a=s.data[o][d];if(a){var c=a.getCollisionGroup();c&&c.objects&&c.objects.length>0&&l(a,h)}}u&&m(0,0,s.width,s.height,s)}},function(C,w){C.exports=function(l,m,f,h){if("number"==typeof l)h.callbacks[l]=null!==m?{callback:m,callbackContext:f}:void 0;else for(var u=0,s=l.length;u<s;u++)h.callbacks[l[u]]=null!==m?{callback:m,callbackContext:f}:void 0}},function(C,w,n){var l=n(26);C.exports=function(f,h,u,s,o,d,a){for(var c=l(f,h,u,s,null,a),p=0;p<c.length;p++)c[p].setCollisionCallback(o,d)}},function(C,w,n){var l=n(26),m=n(131);C.exports=function(h,u,s,o,d){var a=l(h,u,s,o,null,d),c=a.map(function(v){return v.index});m(c);for(var p=0;p<a.length;p++)a[p].index=c[p]}},function(C,w,n){var l=n(26);C.exports=function(f,h,u,s,o,d,a){for(var c=l(u,s,o,d,null,a),p=0;p<c.length;p++)c[p]&&(c[p].index===f?c[p].index=h:c[p].index===h&&(c[p].index=f))}},function(C,w,n){var l=n(26);C.exports=function(f,h,u,s,o,d){if(o){var a,c=l(f,h,u,s,null,d),p=0;for(a=0;a<o.length;a++)p+=o[a].weight;if(!(p<=0))for(a=0;a<c.length;a++){for(var v=Math.random()*p,g=0,x=-1,T=0;T<o.length;T++)if(v<=(g+=o[T].weight)){var S=o[T].index;x=Array.isArray(S)?S[Math.floor(Math.random()*S.length)]:S;break}c[a].index=x}}}},function(C,w,n){C.exports={FromOrientationString:n(258),Parse:n(564),Parse2DArray:n(259),ParseCSV:n(565),Impact:n(1454),Tiled:n(1455)}},function(C,w){C.exports=function(l,m){for(var f=0;f<l.length;f++){var h=l[f],u=f;if(h.name&&""!==h.name&&(u=h.name),Array.isArray(h.wangtiles)&&h.wangtiles.length>0){var d,a,c,s={},o={};if(Array.isArray(h.edgecolors))for(d=0;d<h.edgecolors.length;d++)c=1+d,""!==(a=h.edgecolors[d]).name&&(s[c]=a.name);if(Array.isArray(h.cornercolors))for(d=0;d<h.cornercolors.length;d++)c=1+d,""!==(a=h.cornercolors[d]).name&&(o[c]=a.name);if(Array.isArray(h.colors))for(d=0;d<h.colors.length;d++)c=1+d,""!==(a=h.colors[d]).name&&(s[c]=o[c]=a.name);for(var p=[s,o,s,o,s,o,s,o],v=0;v<h.wangtiles.length;v++){var g=h.wangtiles[v],x=m[g.tileid]||(m[g.tileid]={});x=x.wangid||(x.wangid={});for(var T=[],S=0;S<Math.min(p.length,g.wangid.length);S++)if(0!==(a=g.wangid[S])){var D=p[S][a];T.push(void 0===D?a:D)}else T.push(void 0);x[u]=T}}}}},function(C,w,n){C.exports={ParseTileLayers:n(578),ParseTilesets:n(579),ParseWeltmeister:n(577)}},function(C,w,n){C.exports={AssignTileProperties:n(567),Base64Decode:n(574),BuildTilesetIndex:n(568),CreateGroupLayer:n(161),ParseGID:n(261),ParseImageLayers:n(569),ParseJSONTiled:n(566),ParseObject:n(260),ParseObjectLayers:n(570),ParseTileLayers:n(573),ParseTilesets:n(575)}},function(C,w,n){var l=n(1),m=n(1);l=n(1457),m=n(1458),C.exports={renderWebGL:l,renderCanvas:m}},function(C,w,n){var l=n(12);C.exports=function(f,h,u){var s=h.cull(u),o=s.length,d=u.alpha*h.alpha;if(!(0===o||d<=0)){var a=h.gidMap,c=f.pipelines.set(h.pipeline,h),p=l.getTintAppendFloatAlpha,v=h.scrollFactorX,g=h.scrollFactorY,x=h.x,T=h.y,S=h.scaleX,D=h.scaleY;f.pipelines.preBatch(h);for(var M=0;M<o;M++){var R=s[M],P=a[R.index];if(P){var I=P.getTileTextureCoordinates(R.index);if(null!==I){var b=P.glTexture,L=c.setTexture2D(b,h),B=P.tileWidth,V=P.tileHeight,z=I.x,W=I.y,K=.5*P.tileWidth,J=.5*P.tileHeight,tt=p(R.tint,d*R.alpha);c.batchTexture(h,b,b.width,b.height,x+(K+R.pixelX)*S,T+(J+R.pixelY)*D,R.width,R.height,S,D,R.rotation,R.flipX,R.flipY,v,g,K,J,z,W,B,V,tt,tt,tt,tt,!1,0,0,u,null,!0,L)}}}f.pipelines.postBatch(h)}}},function(C,w,n){var l=n(25),m=new l,f=new l,h=new l;C.exports=function(s,o,d,a){var c=o.cull(d),p=c.length,v=d.alpha*o.alpha;if(!(0===p||v<=0)){var g=m,x=f,T=h;x.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY),g.copyFrom(d.matrix);var S=s.currentContext,D=o.gidMap;S.save(),a?(g.multiplyWithOffset(a,-d.scrollX*o.scrollFactorX,-d.scrollY*o.scrollFactorY),x.e=o.x,x.f=o.y,g.multiply(x,T),T.copyToContext(S)):(x.e-=d.scrollX*o.scrollFactorX,x.f-=d.scrollY*o.scrollFactorY,x.copyToContext(S)),(!s.antialias||o.scaleX>1||o.scaleY>1)&&(S.imageSmoothingEnabled=!1);for(var M=0;M<p;M++){var R=c[M],P=D[R.index];if(P){var I=P.image.getSourceImage(),b=P.getTileTextureCoordinates(R.index);if(null!==b){var L=P.tileWidth,B=P.tileHeight,V=.5*L,z=.5*B;S.save(),S.translate(R.pixelX+V,R.pixelY+z),0!==R.rotation&&S.rotate(R.rotation),(R.flipX||R.flipY)&&S.scale(R.flipX?-1:1,R.flipY?-1:1),S.globalAlpha=v*R.alpha,S.drawImage(I,b.x,b.y,L,B,-V,-z,L,B),S.restore()}}}S.restore()}}},function(C,w,n){var l=n(16),m=n(262);l.register("tilemap",function(f){var h=void 0!==f?f:{};return m(this.scene,h.key,h.tileWidth,h.tileHeight,h.width,h.height,h.data,h.insertNull)})},function(C,w,n){var l=n(5),m=n(262);l.register("tilemap",function(f,h,u,s,o,d,a){return null===f&&(f=void 0),null===h&&(h=void 0),null===u&&(u=void 0),null===s&&(s=void 0),null===o&&(o=void 0),m(this.scene,f,h,u,s,o,d,a)})},function(C,w,n){C.exports={Clock:n(1462),TimerEvent:n(582)}},function(C,w,n){var l=n(0),m=n(24),f=n(20),h=n(582),u=n(93),s=new l({initialize:function(d){this.scene=d,this.systems=d.sys,this.now=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],d.sys.events.once(f.BOOT,this.boot,this),d.sys.events.on(f.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){var o=this.systems.events;o.on(f.PRE_UPDATE,this.preUpdate,this),o.on(f.UPDATE,this.update,this),o.once(f.SHUTDOWN,this.shutdown,this)},addEvent:function(o){var d;return o instanceof h?(this.removeEvent(d=o),d.elapsed=d.startAt,d.hasDispatched=!1,d.repeatCount=-1===d.repeat||d.loop?999999999999:d.repeat):d=new h(o),this._pendingInsertion.push(d),d},delayedCall:function(o,d,a,c){return this.addEvent({delay:o,callback:d,args:a,callbackScope:c})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(o){Array.isArray(o)||(o=[o]);for(var d=0;d<o.length;d++){var a=o[d];u(this._pendingRemoval,a),u(this._pendingInsertion,a),u(this._active,a)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var o=this._pendingRemoval.length,d=this._pendingInsertion.length;if(0!==o||0!==d){var a,c;for(a=0;a<o;a++){var p=this._active.indexOf(c=this._pendingRemoval[a]);p>-1&&this._active.splice(p,1),c.destroy()}for(a=0;a<d;a++)this._active.push(c=this._pendingInsertion[a]);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(o,d){if(this.now=o,!this.paused){d*=this.timeScale;for(var a=0;a<this._active.length;a++){var c=this._active[a];if(!c.paused&&(c.elapsed+=d*c.timeScale,c.elapsed>=c.delay)){var p=c.elapsed-c.delay;c.elapsed=c.delay,!c.hasDispatched&&c.callback&&(c.hasDispatched=!0,c.callback.apply(c.callbackScope,c.args)),c.repeatCount>0?(c.repeatCount--,c.elapsed=p,c.hasDispatched=!1):this._pendingRemoval.push(c)}}}},shutdown:function(){var o;for(o=0;o<this._pendingInsertion.length;o++)this._pendingInsertion[o].destroy();for(o=0;o<this._active.length;o++)this._active[o].destroy();for(o=0;o<this._pendingRemoval.length;o++)this._pendingRemoval[o].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var d=this.systems.events;d.off(f.PRE_UPDATE,this.preUpdate,this),d.off(f.UPDATE,this.update,this),d.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});m.register("Clock",s,"time"),C.exports=s},function(C,w,n){var l=n(100),m=n(17),f={Builders:n(1464),Events:n(267),TweenManager:n(1480),Tween:n(266),TweenData:n(268),Timeline:n(588)};f=m(!1,f,l),C.exports=f},function(C,w,n){C.exports={GetBoolean:n(99),GetEaseFunction:n(80),GetNewValue:n(162),GetProps:n(583),GetTargets:n(263),GetTweens:n(584),GetValueOp:n(264),NumberTweenBuilder:n(585),StaggerBuilder:n(586),TimelineBuilder:n(587),TweenBuilder:n(163)}},function(C,w){C.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","loop","loopDelay","offset","onActive","onActiveParams","onActiveScope","onComplete","onCompleteParams","onCompleteScope","onLoop","onLoopParams","onLoopScope","onRepeat","onRepeatParams","onRepeatScope","onStart","onStartParams","onStartScope","onStop","onStopParams","onStopScope","onUpdate","onUpdateParams","onUpdateScope","onYoyo","onYoyoParams","onYoyoScope","paused","props","repeat","repeatDelay","targets","useFrames","yoyo"]},function(C,w){C.exports="complete"},function(C,w){C.exports="loop"},function(C,w){C.exports="pause"},function(C,w){C.exports="resume"},function(C,w){C.exports="start"},function(C,w){C.exports="update"},function(C,w){C.exports="active"},function(C,w){C.exports="complete"},function(C,w){C.exports="loop"},function(C,w){C.exports="repeat"},function(C,w){C.exports="start"},function(C,w){C.exports="stop"},function(C,w){C.exports="update"},function(C,w){C.exports="yoyo"},function(C,w,n){var l=n(93),m=n(0),f=n(585),h=n(24),u=n(20),s=n(586),o=n(587),d=n(100),a=n(163),c=new m({initialize:function(v){this.scene=v,this.systems=v.sys,this.timeScale=1,this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,v.sys.events.once(u.BOOT,this.boot,this),v.sys.events.on(u.START,this.start,this)},boot:function(){this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){var p=this.systems.events;p.on(u.PRE_UPDATE,this.preUpdate,this),p.on(u.UPDATE,this.update,this),p.once(u.SHUTDOWN,this.shutdown,this),this.timeScale=1},createTimeline:function(p){return o(this,p)},timeline:function(p){var v=o(this,p);return v.paused||(this._add.push(v),this._toProcess++),v},create:function(p){return a(this,p)},add:function(p){var v=a(this,p);return this._add.push(v),this._toProcess++,v},existing:function(p){return this._add.push(p),this._toProcess++,this},addCounter:function(p){var v=f(this,p);return this._add.push(v),this._toProcess++,v},stagger:function(p,v){return s(p,v)},preUpdate:function(){if(0!==this._toProcess){var x,T,p=this._destroy,v=this._active,g=this._pending;for(x=0;x<p.length;x++){var S=v.indexOf(T=p[x]);-1===S?(S=g.indexOf(T))>-1&&(T.state=d.REMOVED,g.splice(S,1)):(T.state=d.REMOVED,v.splice(S,1))}for(p.length=0,p=this._add,x=0;x<p.length;x++)(T=p[x]).state===d.PENDING_ADD&&(T.init()?(T.play(),this._active.push(T)):this._pending.push(T));p.length=0,this._toProcess=0}},update:function(p,v){var x,g=this._active;v*=this.timeScale;for(var T=0;T<g.length;T++)(x=g[T]).update(p,v)&&(this._destroy.push(x),this._toProcess++)},remove:function(p){return l(this._add,p),l(this._pending,p),l(this._active,p),l(this._destroy,p),p.state=d.REMOVED,this},makeActive:function(p){if(-1!==this._add.indexOf(p)||-1!==this._active.indexOf(p))return this;var v=this._pending.indexOf(p);return-1!==v&&this._pending.splice(v,1),this._add.push(p),p.state=d.PENDING_ADD,this._toProcess++,this},each:function(p,v){for(var g=[null],x=1;x<arguments.length;x++)g.push(arguments[x]);for(var T in this.list)g[0]=this.list[T],p.apply(v,g)},getAllTweens:function(){for(var p=this._active,v=[],g=0;g<p.length;g++)v.push(p[g]);return v},getGlobalTimeScale:function(){return this.timeScale},getTweensOf:function(p,v){void 0===v&&(v=!1);var x,S,D,g=this._active,T=[];for(Array.isArray(p)||(p=[p]),S=0;S<g.length;S++)for(x=g[S],D=0;D<p.length;D++)x.hasTarget(p[D])&&T.push(x);if(v)for(g=this._pending,S=0;S<g.length;S++)for(x=g[S],D=0;D<p.length;D++)x.hasTarget(p[D])&&T.push(x);return T},isTweening:function(p){for(var g,v=this._active,x=0;x<v.length;x++)if((g=v[x]).hasTarget(p)&&g.isPlaying())return!0;return!1},killAll:function(){for(var p=this.getAllTweens(),v=0;v<p.length;v++)p[v].stop();return this},killTweensOf:function(p){for(var v=this.getTweensOf(p),g=0;g<v.length;g++)v[g].stop();return this},pauseAll:function(){for(var p=this._active,v=0;v<p.length;v++)p[v].pause();return this},resumeAll:function(){for(var p=this._active,v=0;v<p.length;v++)p[v].resume();return this},setGlobalTimeScale:function(p){return this.timeScale=p,this},shutdown:function(){this.killAll(),this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0;var p=this.systems.events;p.off(u.PRE_UPDATE,this.preUpdate,this),p.off(u.UPDATE,this.update,this),p.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});h.register("TweenManager",c,"tweens"),C.exports=c},function(C,w,n){C.exports={Array:n(208),Base64:n(1482),Objects:n(1484),String:n(1488),NOOP:n(1)}},function(C,w,n){C.exports={ArrayBufferToBase64:n(1483),Base64ToArrayBuffer:n(433)}},function(C,w){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";C.exports=function(m,f){for(var h=new Uint8Array(m),u=h.length,s=f?"data:"+f+";base64,":"",o=0;o<u;o+=3)s+=n[h[o]>>2],s+=n[(3&h[o])<<4|h[o+1]>>4],s+=n[(15&h[o+1])<<2|h[o+2]>>6],s+=n[63&h[o+2]];return u%3==2?s=s.substring(0,s.length-1)+"=":u%3==1&&(s=s.substring(0,s.length-2)+"=="),s}},function(C,w,n){C.exports={Clone:n(77),DeepCopy:n(175),Extend:n(17),GetAdvancedValue:n(13),GetFastValue:n(2),GetMinMaxValue:n(1485),GetValue:n(6),HasAll:n(1486),HasAny:n(455),HasValue:n(126),IsPlainObject:n(7),Merge:n(127),MergeRight:n(1487),Pick:n(571),SetValue:n(478)}},function(C,w,n){var l=n(6),m=n(18);C.exports=function(h,u,s,o,d){void 0===d&&(d=s);var a=l(h,u,d);return m(a,s,o)}},function(C,w){C.exports=function(l,m){for(var f=0;f<m.length;f++)if(!l.hasOwnProperty(m[f]))return!1;return!0}},function(C,w,n){var l=n(77);C.exports=function(f,h){var u=l(f);for(var s in h)u.hasOwnProperty(s)&&(u[s]=h[s]);return u}},function(C,w,n){C.exports={Format:n(1489),Pad:n(186),RemoveAt:n(1490),Reverse:n(1491),UppercaseFirst:n(205),UUID:n(222)}},function(C,w){C.exports=function(l,m){return l.replace(/%([0-9]+)/g,function(f,h){return m[Number(h)-1]})}},function(C,w){C.exports=function(l,m){return 0===m?l.slice(1):l.slice(0,m-1)+l.slice(m)}},function(C,w){C.exports=function(l){return l.split("").reverse().join("")}},function(C,w,n){C.exports={SoundManagerCreator:n(426),Events:n(70),BaseSound:n(146),BaseSoundManager:n(145),WebAudioSound:n(434),WebAudioSoundManager:n(432),HTML5AudioSound:n(429),HTML5AudioSoundManager:n(427),NoAudioSound:n(431),NoAudioSoundManager:n(430)}},function(C,w,n){C.exports={Arcade:n(1366),Matter:n(1494)}},function(C,w,n){C.exports={BodyBounds:n(1392),Components:n(249),Events:n(272),Factory:n(1394),MatterGameObject:n(1395),Image:n(1396),Matter:n(594),MatterPhysics:n(1524),PolyDecomp:n(1393),Sprite:n(1397),TileBody:n(593),PhysicsEditorParser:n(589),PhysicsJSONParser:n(590),PointerConstraint:n(1398),World:n(1402)}},function(C,w){C.exports={setBounce:function(l){return this.body.restitution=l,this}}},function(C,w){C.exports={setCollisionCategory:function(l){return this.body.collisionFilter.category=l,this},setCollisionGroup:function(l){return this.body.collisionFilter.group=l,this},setCollidesWith:function(l){var m=0;if(Array.isArray(l))for(var f=0;f<l.length;f++)m|=l[f];else m=l;return this.body.collisionFilter.mask=m,this},setOnCollide:function(l){return this.body.onCollideCallback=l,this},setOnCollideEnd:function(l){return this.body.onCollideEndCallback=l,this},setOnCollideActive:function(l){return this.body.onCollideActiveCallback=l,this},setOnCollideWith:function(l,m){Array.isArray(l)||(l=[l]);for(var f=0;f<l.length;f++){var h=l[f].hasOwnProperty("body")?l[f].body:l[f];this.body.setOnCollideWith(h,m)}return this}}},function(C,w,n){var l=n(41);C.exports={applyForce:function(f){return this._tempVec2.set(this.body.position.x,this.body.position.y),l.applyForce(this.body,this._tempVec2,f),this},applyForceFrom:function(f,h){return l.applyForce(this.body,f,h),this},thrust:function(f){var h=this.body.angle;return this._tempVec2.set(f*Math.cos(h),f*Math.sin(h)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(f){var h=this.body.angle-Math.PI/2;return this._tempVec2.set(f*Math.cos(h),f*Math.sin(h)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(f){var h=this.body.angle+Math.PI/2;return this._tempVec2.set(f*Math.cos(h),f*Math.sin(h)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(f){var h=this.body.angle-Math.PI;return this._tempVec2.set(f*Math.cos(h),f*Math.sin(h)),l.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}}},function(C,w){C.exports={setFriction:function(l,m,f){return this.body.friction=l,void 0!==m&&(this.body.frictionAir=m),void 0!==f&&(this.body.frictionStatic=f),this},setFrictionAir:function(l){return this.body.frictionAir=l,this},setFrictionStatic:function(l){return this.body.frictionStatic=l,this}}},function(C,w){C.exports={setIgnoreGravity:function(l){return this.body.ignoreGravity=l,this}}},function(C,w,n){var l=n(41),m=n(3);C.exports={setMass:function(h){return l.setMass(this.body,h),this},setDensity:function(h){return l.setDensity(this.body,h),this},centerOfMass:{get:function(){return new m(this.body.centerOfMass.x,this.body.centerOfMass.y)}}}},function(C,w){C.exports={setSensor:function(l){return this.body.isSensor=l,this},isSensor:function(){return this.body.isSensor}}},function(C,w,n){var l=n(86),m=n(41),f=n(124),h=n(2),u=n(589),s=n(590),o=n(64);C.exports={setRectangle:function(a,c,p){return this.setBody({type:"rectangle",width:a,height:c},p)},setCircle:function(a,c){return this.setBody({type:"circle",radius:a},c)},setPolygon:function(a,c,p){return this.setBody({type:"polygon",sides:c,radius:a},p)},setTrapezoid:function(a,c,p,v){return this.setBody({type:"trapezoid",width:a,height:c,slope:p},v)},setExistingBody:function(a,c){void 0===c&&(c=!0),this.body&&this.world.remove(this.body,!0),this.body=a;for(var p=0;p<a.parts.length;p++)a.parts[p].gameObject=this;var v=this;if(a.destroy=function(){v.world.remove(v.body,!0),v.body.gameObject=null},c&&(this.world.has(a)&&this.world.remove(a,!0),this.world.add(a)),this._originComponent){var g=a.render.sprite.xOffset,x=a.render.sprite.yOffset,S=a.centerOfMass.y;f(a.centerOfMass.x,.5)&&f(S,.5)?this.setOrigin(g+.5,x+.5):this.setOrigin(g+a.centerOffset.x/this.displayWidth,x+a.centerOffset.y/this.displayHeight)}return this},setBody:function(a,c){if(!a)return this;var p;"string"==typeof a&&(a={type:a});var v=h(a,"type","rectangle"),g=h(a,"x",this._tempVec2.x),x=h(a,"y",this._tempVec2.y),T=h(a,"width",this.width),S=h(a,"height",this.height);switch(v){case"rectangle":p=l.rectangle(g,x,T,S,c);break;case"circle":var D=h(a,"radius",Math.max(T,S)/2),M=h(a,"maxSides",25);p=l.circle(g,x,D,c,M);break;case"trapezoid":var R=h(a,"slope",.5);p=l.trapezoid(g,x,T,S,R,c);break;case"polygon":var P=h(a,"sides",5),I=h(a,"radius",Math.max(T,S)/2);p=l.polygon(g,x,P,I,c);break;case"fromVertices":case"fromVerts":var b=h(a,"verts",null);if(b)if("string"==typeof b&&(b=o.fromPath(b)),this.body&&!this.body.hasOwnProperty("temp"))m.setVertices(this.body,b),p=this.body;else{var L=h(a,"flagInternal",!1),B=h(a,"removeCollinear",.01),V=h(a,"minimumArea",10);p=l.fromVertices(g,x,b,c,L,B,V)}break;case"fromPhysicsEditor":p=u.parseBody(g,x,a,c);break;case"fromPhysicsTracer":p=s.parseBody(g,x,a,c)}return p&&this.setExistingBody(p,a.addToWorld),this}}},function(C,w,n){var l=n(272),m=n(165),f=n(166);C.exports={setToSleep:function(){return m.set(this.body,!0),this},setAwake:function(){return m.set(this.body,!1),this},setSleepThreshold:function(u){return void 0===u&&(u=60),this.body.sleepThreshold=u,this},setSleepEvents:function(u,s){return this.setSleepStartEvent(u),this.setSleepEndEvent(s),this},setSleepStartEvent:function(u){if(u){var s=this.world;f.on(this.body,"sleepStart",function(o){s.emit(l.SLEEP_START,o,this)})}else f.off(this.body,"sleepStart");return this},setSleepEndEvent:function(u){if(u){var s=this.world;f.on(this.body,"sleepEnd",function(o){s.emit(l.SLEEP_END,o,this)})}else f.off(this.body,"sleepEnd");return this}}},function(C,w){C.exports="afteradd"},function(C,w){C.exports="afterremove"},function(C,w){C.exports="afterupdate"},function(C,w){C.exports="beforeadd"},function(C,w){C.exports="beforeremove"},function(C,w){C.exports="beforeupdate"},function(C,w){C.exports="collisionactive"},function(C,w){C.exports="collisionend"},function(C,w){C.exports="collisionstart"},function(C,w){C.exports="dragend"},function(C,w){C.exports="drag"},function(C,w){C.exports="dragstart"},function(C,w){C.exports="pause"},function(C,w){C.exports="resume"},function(C,w){C.exports="sleepend"},function(C,w){C.exports="sleepstart"},function(C,w,n){var l=n(41);C.exports={setStatic:function(f){return l.setStatic(this.body,f),this},isStatic:function(){return this.body.isStatic}}},function(C,w,n){var l=n(41),m=n(14),f=n(269),h=n(270);C.exports={x:{get:function(){return this.body.position.x},set:function(o){this._tempVec2.set(o,this.y),l.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(o){this._tempVec2.set(this.x,o),l.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(o){var d=1/this._scaleX,a=1/this._scaleY;this._scaleX=o,0===this._scaleX?this.renderFlags&=-5:this.renderFlags|=4,l.scale(this.body,d,a),l.scale(this.body,o,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(o){var d=1/this._scaleX,a=1/this._scaleY;this._scaleY=o,0===this._scaleY?this.renderFlags&=-5:this.renderFlags|=4,l.scale(this.body,d,a),l.scale(this.body,this._scaleX,o)}},angle:{get:function(){return h(this.body.angle*m.RAD_TO_DEG)},set:function(o){this.rotation=h(o)*m.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(o){this._rotation=f(o),l.setAngle(this.body,this._rotation)}},setPosition:function(o,d){return void 0===o&&(o=0),void 0===d&&(d=o),this._tempVec2.set(o,d),l.setPosition(this.body,this._tempVec2),this},setRotation:function(o){return void 0===o&&(o=0),this._rotation=f(o),l.setAngle(this.body,o),this},setFixedRotation:function(){return l.setInertia(this.body,1/0),this},setAngle:function(o){return void 0===o&&(o=0),this.angle=o,l.setAngle(this.body,this.rotation),this},setScale:function(o,d,a){void 0===o&&(o=1),void 0===d&&(d=o);var c=1/this._scaleX,p=1/this._scaleY;return this._scaleX=o,this._scaleY=d,l.scale(this.body,c,p,a),l.scale(this.body,o,d,a),this}}},function(C,w,n){var l=n(41);C.exports={setAngularVelocity:function(f){return l.setAngularVelocity(this.body,f),this},setVelocityX:function(f){return this._tempVec2.set(f,this.body.velocity.y),l.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(f){return this._tempVec2.set(this.body.velocity.x,f),l.setVelocity(this.body,this._tempVec2),this},setVelocity:function(f,h){return this._tempVec2.set(f,h),l.setVelocity(this.body,this._tempVec2),this}}},function(C,w,n){var l={};C.exports=l;var m=n(118),f=n(32);l.create=function(h){return f.extend({extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0},!1,h)},l.reset=function(h){h.extended&&(h.narrowDetections=0,h.narrowphaseTests=0,h.narrowReuse=0,h.narrowReuseCount=0,h.midphaseTests=0,h.broadphaseTests=0,h.narrowEff=0,h.midEff=0,h.broadEff=0,h.collisions=0,h.buckets=0,h.pairs=0,h.bodies=0)},l.update=function(h,u){if(h.extended){var o=m.allBodies(u.world);h.collisions=h.narrowDetections,h.pairs=u.pairs.list.length,h.bodies=o.length,h.midEff=(h.narrowDetections/(h.midphaseTests||1)).toFixed(2),h.narrowEff=(h.narrowDetections/(h.narrowphaseTests||1)).toFixed(2),h.broadEff=(1-h.broadphaseTests/(o.length||1)).toFixed(2),h.narrowReuse=(h.narrowReuseCount/(h.narrowphaseTests||1)).toFixed(2)}}},function(C,w,n){var l=n(123),m=n(271),f=n(86),h=n(41),u=n(1392),s=n(84),o=n(0),d=n(118),a=n(591),c=n(128),p=n(273),v=n(50),g=n(1394),x=n(2),T=n(6),S=n(597),D=n(1525),M=n(1526),R=n(1399),P=n(1527),I=n(127),b=n(250),L=n(598),B=n(595),V=n(24),z=n(1400),W=n(599),K=n(274),J=n(20),tt=n(592),it=n(83),H=n(64),G=n(1402),Y=new o({initialize:function($){this.scene=$,this.systems=$.sys,this.config=this.getConfig(),this.body=h,this.composite=d,this.detector=p,this.grid=S,this.pair=b,this.pairs=L,this.query=z,this.resolver=W,this.sat=K,this.constraint=c,this.bodies=f,this.composites=a,this.axes=m,this.bounds=s,this.svg=tt,this.vector=it,this.vertices=H,this.verts=H,this._tempVec2=it.create(),T(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),T(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),T(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),W._restingThresh=T(this.config,"restingThresh",4),W._restingThreshTangent=T(this.config,"restingThreshTangent",6),W._positionDampen=T(this.config,"positionDampen",.9),W._positionWarming=T(this.config,"positionWarming",.8),W._frictionNormalMultiplier=T(this.config,"frictionNormalMultiplier",5),$.sys.events.once(J.BOOT,this.boot,this),$.sys.events.on(J.START,this.start,this)},boot:function(){this.world=new G(this.scene,this.config),this.add=new g(this.world),this.bodyBounds=new u,this.systems.events.once(J.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new G(this.scene,this.config),this.add=new g(this.world));var X=this.systems.events;X.on(J.UPDATE,this.world.update,this.world),X.on(J.POST_UPDATE,this.world.postUpdate,this.world),X.once(J.SHUTDOWN,this.shutdown,this)},getConfig:function(){var X=this.systems.game.config.physics;return I(x(this.systems.settings.physics,"matter",{}),x(X,"matter",{}))},enableAttractorPlugin:function(){return B.register(D),B.use(R,D),this},enableWrapPlugin:function(){return B.register(P),B.use(R,P),this},enableCollisionEventsPlugin:function(){return B.register(M),B.use(R,M),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(X,$){this.world.step(X,$)},containsPoint:function(X,$,Q){X=this.getMatterBodies(X);var _=it.create($,Q);return z.point(X,_).length>0},intersectPoint:function(X,$,Q){Q=this.getMatterBodies(Q);var _=it.create(X,$),et=[];return z.point(Q,_).forEach(function(lt){-1===et.indexOf(lt)&&et.push(lt)}),et},intersectRect:function(X,$,Q,_,et,ot){void 0===et&&(et=!1),ot=this.getMatterBodies(ot);var ht=[];return z.region(ot,{min:{x:X,y:$},max:{x:X+Q,y:$+_}},et).forEach(function(gt){-1===ht.indexOf(gt)&&ht.push(gt)}),ht},intersectRay:function(X,$,Q,_,et,ot){void 0===et&&(et=1),ot=this.getMatterBodies(ot);for(var lt=[],ht=z.ray(ot,it.create(X,$),it.create(Q,_),et),ft=0;ft<ht.length;ft++)lt.push(ht[ft].body);return lt},intersectBody:function(X,$){$=this.getMatterBodies($);for(var Q=[],_=z.collides(X,$),et=0;et<_.length;et++){var ot=_[et];Q.push(ot.bodyA===X?ot.bodyB:ot.bodyA)}return Q},overlap:function(X,$,Q,_,et){void 0===Q&&(Q=null),void 0===_&&(_=null),void 0===et&&(et=Q),Array.isArray(X)||(X=[X]),X=this.getMatterBodies(X),$=this.getMatterBodies($);for(var ot=!1,lt=0;lt<X.length;lt++)for(var ht=X[lt],ft=z.collides(ht,$),gt=0;gt<ft.length;gt++){var Et=ft[gt],Ct=Et.bodyA.id===ht.id?Et.bodyB:Et.bodyA;if(!_||_.call(et,ht,Ct,Et))if(ot=!0,Q)Q.call(et,ht,Ct,Et);else if(!_)return!0}return ot},setCollisionCategory:function(X,$){return(X=this.getMatterBodies(X)).forEach(function(Q){Q.collisionFilter.category=$}),this},setCollisionGroup:function(X,$){return(X=this.getMatterBodies(X)).forEach(function(Q){Q.collisionFilter.group=$}),this},setCollidesWith:function(X,$){X=this.getMatterBodies(X);var Q=0;if(Array.isArray($))for(var _=0;_<$.length;_++)Q|=$[_];else Q=$;return X.forEach(function(et){et.collisionFilter.mask=Q}),this},getMatterBodies:function(X){if(!X)return this.world.getAllBodies();Array.isArray(X)||(X=[X]);for(var $=[],Q=0;Q<X.length;Q++){var _=X[Q].hasOwnProperty("body")?X[Q].body:X[Q];$.push(_)}return $},setVelocity:function(X,$,Q){X=this.getMatterBodies(X);var _=this._tempVec2;return _.x=$,_.y=Q,X.forEach(function(et){h.setVelocity(et,_)}),this},setVelocityX:function(X,$){X=this.getMatterBodies(X);var Q=this._tempVec2;return Q.x=$,X.forEach(function(_){Q.y=_.velocity.y,h.setVelocity(_,Q)}),this},setVelocityY:function(X,$){X=this.getMatterBodies(X);var Q=this._tempVec2;return Q.y=$,X.forEach(function(_){Q.x=_.velocity.x,h.setVelocity(_,Q)}),this},setAngularVelocity:function(X,$){return(X=this.getMatterBodies(X)).forEach(function(Q){h.setAngularVelocity(Q,$)}),this},applyForce:function(X,$){X=this.getMatterBodies(X);var Q=this._tempVec2;return X.forEach(function(_){Q.x=_.position.x,Q.y=_.position.y,h.applyForce(_,Q,$)}),this},applyForceFromPosition:function(X,$,Q,_){X=this.getMatterBodies(X);var et=this._tempVec2;return X.forEach(function(ot){void 0===_&&(_=ot.angle),et.x=Q*Math.cos(_),et.y=Q*Math.sin(_),h.applyForce(ot,$,et)}),this},applyForceFromAngle:function(X,$,Q){X=this.getMatterBodies(X);var _=this._tempVec2;return X.forEach(function(et){void 0===Q&&(Q=et.angle),_.x=$*Math.cos(Q),_.y=$*Math.sin(Q),h.applyForce(et,{x:et.position.x,y:et.position.y},_)}),this},getConstraintLength:function(X){var $=X.pointA.x,Q=X.pointA.y,_=X.pointB.x,et=X.pointB.y;return X.bodyA&&($+=X.bodyA.position.x,Q+=X.bodyA.position.y),X.bodyB&&(_+=X.bodyB.position.x,et+=X.bodyB.position.y),v($,Q,_,et)},alignBody:function(X,$,Q,_){var et;switch(X=X.hasOwnProperty("body")?X.body:X,_){case l.TOP_LEFT:case l.LEFT_TOP:et=this.bodyBounds.getTopLeft(X,$,Q);break;case l.TOP_CENTER:et=this.bodyBounds.getTopCenter(X,$,Q);break;case l.TOP_RIGHT:case l.RIGHT_TOP:et=this.bodyBounds.getTopRight(X,$,Q);break;case l.LEFT_CENTER:et=this.bodyBounds.getLeftCenter(X,$,Q);break;case l.CENTER:et=this.bodyBounds.getCenter(X,$,Q);break;case l.RIGHT_CENTER:et=this.bodyBounds.getRightCenter(X,$,Q);break;case l.LEFT_BOTTOM:case l.BOTTOM_LEFT:et=this.bodyBounds.getBottomLeft(X,$,Q);break;case l.BOTTOM_CENTER:et=this.bodyBounds.getBottomCenter(X,$,Q);break;case l.BOTTOM_RIGHT:case l.RIGHT_BOTTOM:et=this.bodyBounds.getBottomRight(X,$,Q)}return et&&h.setPosition(X,et),this},shutdown:function(){var X=this.systems.events;this.world&&(X.off(J.UPDATE,this.world.update,this.world),X.off(J.POST_UPDATE,this.world.postUpdate,this.world)),X.off(J.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(J.START,this.start,this),this.scene=null,this.systems=null}});V.register("MatterPhysics",Y,"matterPhysics"),C.exports=Y},function(C,w,n){var l=n(594),m={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.14.2",silent:!0,install:function(f){f.after("Body.create",function(){m.Body.init(this)}),f.before("Engine.update",function(h){m.Engine.update(h)})},Body:{init:function(f){f.plugin.attractors=f.plugin.attractors||[]}},Engine:{update:function(f){for(var h=l.Composite.allBodies(f.world),u=0;u<h.length;u++){var s=h[u],o=s.plugin.attractors;if(o&&o.length>0)for(var d=0;d<h.length;d++){var a=h[d];if(u!==d)for(var c=0;c<o.length;c++){var p=o[c],v=p;l.Common.isFunction(p)&&(v=p(s,a)),v&&l.Body.applyForce(a,a.position,v)}}}}},Attractors:{gravityConstant:.001,gravity:function(f,h){var u=l.Vector.sub(h.position,f.position),s=l.Vector.magnitudeSquared(u)||1e-4,o=l.Vector.normalise(u),a=l.Vector.mult(o,f.mass*h.mass/s*-m.Attractors.gravityConstant);l.Body.applyForce(f,f.position,l.Vector.neg(a)),l.Body.applyForce(h,h.position,a)}}};C.exports=m},function(C,w){C.exports={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.14.2",silent:!0,install:function(l){l.after("Engine.create",function(){l.Events.on(this,"collisionStart",function(m){m.pairs.map(function(f){var h=f.bodyA,u=f.bodyB;h.gameObject&&h.gameObject.emit("collide",h,u,f),u.gameObject&&u.gameObject.emit("collide",u,h,f),l.Events.trigger(h,"onCollide",{pair:f}),l.Events.trigger(u,"onCollide",{pair:f}),h.onCollideCallback&&h.onCollideCallback(f),u.onCollideCallback&&u.onCollideCallback(f),h.onCollideWith[u.id]&&h.onCollideWith[u.id](u,f),u.onCollideWith[h.id]&&u.onCollideWith[h.id](h,f)})}),l.Events.on(this,"collisionActive",function(m){m.pairs.map(function(f){var h=f.bodyA,u=f.bodyB;h.gameObject&&h.gameObject.emit("collideActive",h,u,f),u.gameObject&&u.gameObject.emit("collideActive",u,h,f),l.Events.trigger(h,"onCollideActive",{pair:f}),l.Events.trigger(u,"onCollideActive",{pair:f}),h.onCollideActiveCallback&&h.onCollideActiveCallback(f),u.onCollideActiveCallback&&u.onCollideActiveCallback(f)})}),l.Events.on(this,"collisionEnd",function(m){m.pairs.map(function(f){var h=f.bodyA,u=f.bodyB;h.gameObject&&h.gameObject.emit("collideEnd",h,u,f),u.gameObject&&u.gameObject.emit("collideEnd",u,h,f),l.Events.trigger(h,"onCollideEnd",{pair:f}),l.Events.trigger(u,"onCollideEnd",{pair:f}),h.onCollideEndCallback&&h.onCollideEndCallback(f),u.onCollideEndCallback&&u.onCollideEndCallback(f)})})})}}},function(C,w,n){var l=n(594),m={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.14.2",silent:!0,install:function(f){f.after("Engine.update",function(){m.Engine.update(this)})},Engine:{update:function(f){for(var h=f.world,u=l.Composite.allBodies(h),s=l.Composite.allComposites(h),o=0;o<u.length;o+=1){var d=u[o];d.plugin.wrap&&m.Body.wrap(d,d.plugin.wrap)}for(o=0;o<s.length;o+=1){var a=s[o];a.plugin.wrap&&m.Composite.wrap(a,a.plugin.wrap)}}},Bounds:{wrap:function(f,h){var u=null,s=null;if(void 0!==h.min.x&&void 0!==h.max.x&&(f.min.x>h.max.x?u=h.min.x-f.max.x:f.max.x<h.min.x&&(u=h.max.x-f.min.x)),void 0!==h.min.y&&void 0!==h.max.y&&(f.min.y>h.max.y?s=h.min.y-f.max.y:f.max.y<h.min.y&&(s=h.max.y-f.min.y)),null!==u||null!==s)return{x:u||0,y:s||0}}},Body:{wrap:function(f,h){var u=m.Bounds.wrap(f.bounds,h);return u&&l.Body.translate(f,u),u}},Composite:{bounds:function(f){for(var h=l.Composite.allBodies(f),u=[],s=0;s<h.length;s+=1){var o=h[s];u.push(o.bounds.min,o.bounds.max)}return l.Bounds.create(u)},wrap:function(f,h){var u=m.Bounds.wrap(m.Composite.bounds(f),h);return u&&l.Composite.translate(f,u),u}}};C.exports=m},function(C,w,n){(function(l){var m=n(33),f=n(17),h={Actions:n(275),Animations:n(723),BlendModes:n(35),Cache:n(735),Cameras:n(738),Core:n(806),Class:n(0),Create:n(888),Curves:n(894),Data:n(896),Display:n(898),DOM:n(917),Events:n(918),Game:n(920),GameObjects:n(1011),Geom:n(483),Input:n(1308),Loader:n(1338),Math:n(193),Physics:n(1493),Plugins:n(1403),Renderer:n(1405),Scale:n(1412),ScaleModes:n(168),Scene:n(418),Scenes:n(1413),Structs:n(1415),Textures:n(1416),Tilemaps:n(1418),Time:n(1461),Tweens:n(1463),Utils:n(1481)};h.Sound=n(1492),h=f(!1,h,m),C.exports=h,l.Phaser=h}).call(this,n(600))}])},2858:(dt,C)=>{"use strict";var w=Object.prototype.hasOwnProperty;function l(u){try{return decodeURIComponent(u.replace(/\+/g," "))}catch(s){return null}}function m(u){try{return encodeURIComponent(u)}catch(s){return null}}C.stringify=function h(u,s){s=s||"";var d,a,o=[];for(a in"string"!=typeof s&&(s="?"),u)if(w.call(u,a)){if(!(d=u[a])&&(null==d||isNaN(d))&&(d=""),a=m(a),d=m(d),null===a||null===d)continue;o.push(a+"="+d)}return o.length?s+o.join("&"):""},C.parse=function f(u){for(var d,s=/([^=?#&]+)=?([^&]*)/g,o={};d=s.exec(u);){var a=l(d[1]),c=l(d[2]);null===a||null===c||a in o||(o[a]=c)}return o}},8237:dt=>{"use strict";dt.exports=function(w,n){if(n=n.split(":")[0],!(w=+w))return!1;switch(n){case"http":case"ws":return 80!==w;case"https":case"wss":return 443!==w;case"ftp":return 21!==w;case"gopher":return 70!==w;case"file":return!1}return 0!==w}},209:(dt,C,w)=>{"use strict";var n=w(8810);dt.exports=w(3096)(n),"_sockjs_onload"in global&&setTimeout(global._sockjs_onload,1)},8265:(dt,C,w)=>{"use strict";var n=w(3894),l=w(4532);function m(){l.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}n(m,l),dt.exports=m},17:(dt,C,w)=>{"use strict";var n=w(3894),l=w(9895);function m(){l.call(this)}n(m,l),m.prototype.removeAllListeners=function(f){f?delete this._listeners[f]:this._listeners={}},m.prototype.once=function(f,h){var u=this,s=!1;this.on(f,function o(){u.removeListener(f,o),s||(s=!0,h.apply(this,arguments))})},m.prototype.emit=function(){var f=arguments[0],h=this._listeners[f];if(h){for(var u=arguments.length,s=new Array(u-1),o=1;o<u;o++)s[o-1]=arguments[o];for(var d=0;d<h.length;d++)h[d].apply(this,s)}},m.prototype.on=m.prototype.addListener=l.prototype.addEventListener,m.prototype.removeListener=l.prototype.removeEventListener,dt.exports.v=m},4532:dt=>{"use strict";function C(w){this.type=w}C.prototype.initEvent=function(w,n,l){return this.type=w,this.bubbles=n,this.cancelable=l,this.timeStamp=+new Date,this},C.prototype.stopPropagation=function(){},C.prototype.preventDefault=function(){},C.CAPTURING_PHASE=1,C.AT_TARGET=2,C.BUBBLING_PHASE=3,dt.exports=C},9895:dt=>{"use strict";function C(){this._listeners={}}C.prototype.addEventListener=function(w,n){w in this._listeners||(this._listeners[w]=[]);var l=this._listeners[w];-1===l.indexOf(n)&&(l=l.concat([n])),this._listeners[w]=l},C.prototype.removeEventListener=function(w,n){var l=this._listeners[w];if(l){var m=l.indexOf(n);if(-1!==m)return void(l.length>1?this._listeners[w]=l.slice(0,m).concat(l.slice(m+1)):delete this._listeners[w])}},C.prototype.dispatchEvent=function(){var w=arguments[0],n=w.type,l=1===arguments.length?[w]:Array.apply(null,arguments);if(this["on"+n]&&this["on"+n].apply(this,l),n in this._listeners)for(var m=this._listeners[n],f=0;f<m.length;f++)m[f].apply(this,l)},dt.exports=C},4572:(dt,C,w)=>{"use strict";var n=w(3894),l=w(4532);function m(f){l.call(this),this.initEvent("message",!1,!1),this.data=f}n(m,l),dt.exports=m},7299:(dt,C,w)=>{"use strict";var n=w(8075);function l(m){this._transport=m,m.on("message",this._transportMessage.bind(this)),m.on("close",this._transportClose.bind(this))}l.prototype._transportClose=function(m,f){n.postMessage("c",JSON.stringify([m,f]))},l.prototype._transportMessage=function(m){n.postMessage("t",m)},l.prototype._send=function(m){this._transport.send(m)},l.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},dt.exports=l},737:(dt,C,w)=>{"use strict";var n=w(1493),l=w(3865),m=w(7299),f=w(5841),h=w(8075),u=w(205);dt.exports=function(o,d){var c,a={};d.forEach(function(p){p.facadeTransport&&(a[p.facadeTransport.transportName]=p.facadeTransport)}),a[f.transportName]=f,o.bootstrap_iframe=function(){var p;h.currentWindowId=u.hash.slice(1),l.attachEvent("message",function(g){if(g.source===parent&&(void 0===c&&(c=g.origin),g.origin===c)){var x;try{x=JSON.parse(g.data)}catch(P){return}if(x.windowId===h.currentWindowId)switch(x.type){case"s":var T;try{T=JSON.parse(x.data)}catch(P){break}var S=T[0],D=T[1],M=T[2],R=T[3];if(S!==o.version)throw new Error('Incompatible SockJS! Main site uses: "'+S+'", the iframe: "'+o.version+'".');if(!n.isOriginEqual(M,u.href)||!n.isOriginEqual(R,u.href))throw new Error("Can't connect to different domain from within an iframe. ("+u.href+", "+M+", "+R+")");p=new m(new a[D](M,R));break;case"m":p._send(x.data);break;case"c":p&&p._close(),p=null}}}),h.postMessage("s")}}},8834:(dt,C,w)=>{"use strict";var n=w(17).v,l=w(3894),m=w(2923);function h(u,s){n.call(this);var o=this,d=+new Date;this.xo=new s("GET",u),this.xo.once("finish",function(a,c){var p,v;if(200===a){if(v=+new Date-d,c)try{p=JSON.parse(c)}catch(g){}m.isObject(p)||(p={})}o.emit("finish",p,v),o.removeAllListeners()})}l(h,n),h.prototype.close=function(){this.removeAllListeners(),this.xo.close()},dt.exports=h},5841:(dt,C,w)=>{"use strict";var n=w(3894),l=w(17).v,m=w(7898),f=w(8834);function h(u){var s=this;l.call(this),this.ir=new f(u,m),this.ir.once("finish",function(o,d){s.ir=null,s.emit("message",JSON.stringify([o,d]))})}n(h,l),h.transportName="iframe-info-receiver",h.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},dt.exports=h},5672:(dt,C,w)=>{"use strict";var n=w(17).v,l=w(3894),m=w(3865),f=w(7415),h=w(5841);function s(o,d){var a=this;n.call(this);var c=function(){var p=a.ifr=new f(h.transportName,d,o);p.once("message",function(v){if(v){var g;try{g=JSON.parse(v)}catch(S){return a.emit("finish"),void a.close()}a.emit("finish",g[0],g[1])}a.close()}),p.once("close",function(){a.emit("finish"),a.close()})};global.document.body?c():m.attachEvent("load",c)}l(s,n),s.enabled=function(){return f.enabled()},s.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},dt.exports=s},6689:(dt,C,w)=>{"use strict";var n=w(17).v,l=w(3894),m=w(1493),f=w(5705),h=w(7807),u=w(7898),s=w(9312),o=w(5672),d=w(8834);function c(p,v){var g=this;n.call(this),setTimeout(function(){g.doXhr(p,v)},0)}l(c,n),c._getReceiver=function(p,v,g){return g.sameOrigin?new d(v,u):h.enabled?new d(v,h):f.enabled&&g.sameScheme?new d(v,f):o.enabled()?new o(p,v):new d(v,s)},c.prototype.doXhr=function(p,v){var g=this,x=m.addPath(p,"/info");this.xo=c._getReceiver(p,x,v),this.timeoutRef=setTimeout(function(){g._cleanup(!1),g.emit("finish")},c.timeout),this.xo.once("finish",function(T,S){g._cleanup(!0),g.emit("finish",T,S)})},c.prototype._cleanup=function(p){clearTimeout(this.timeoutRef),this.timeoutRef=null,!p&&this.xo&&this.xo.close(),this.xo=null},c.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},c.timeout=8e3,dt.exports=c},205:dt=>{"use strict";dt.exports=global.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}},3096:(dt,C,w)=>{"use strict";w(5904);var D,n=w(7629),l=w(3894),m=w(347),f=w(8481),h=w(1493),u=w(3865),s=w(2264),o=w(2923),d=w(480),a=w(1433),c=w(4532),p=w(9895),v=w(205),g=w(8265),x=w(4572),T=w(6689);function M(P,I,b){if(!(this instanceof M))return new M(P,I,b);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");p.call(this),this.readyState=M.CONNECTING,this.extensions="",this.protocol="",(b=b||{}).protocols_whitelist&&a.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=b.transports,this._transportOptions=b.transportOptions||{},this._timeout=b.timeout||0;var L=b.sessionId||8;if("function"==typeof L)this._generateSessionId=L;else{if("number"!=typeof L)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return m.string(L)}}this._server=b.server||m.numberString(1e3);var B=new n(P);if(!B.host||!B.protocol)throw new SyntaxError("The URL '"+P+"' is invalid");if(B.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==B.protocol&&"https:"!==B.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+B.protocol+"' is not allowed.");var V="https:"===B.protocol;if("https:"===v.protocol&&!V&&!h.isLoopbackAddr(B.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");I?Array.isArray(I)||(I=[I]):I=[];var z=I.sort();z.forEach(function(K,J){if(!K)throw new SyntaxError("The protocols entry '"+K+"' is invalid.");if(J<z.length-1&&K===z[J+1])throw new SyntaxError("The protocols entry '"+K+"' is duplicated.")});var W=h.getOrigin(v.href);this._origin=W?W.toLowerCase():null,B.set("pathname",B.pathname.replace(/\/+$/,"")),this.url=B.href,this._urlInfo={nullOrigin:!d.hasDomain(),sameOrigin:h.isOriginEqual(this.url,v.href),sameScheme:h.isSchemeEqual(this.url,v.href)},this._ir=new T(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function R(P){return 1e3===P||P>=3e3&&P<=4999}l(M,p),M.prototype.close=function(P,I){if(P&&!R(P))throw new Error("InvalidAccessError: Invalid code");if(I&&I.length>123)throw new SyntaxError("reason argument has an invalid length");this.readyState!==M.CLOSING&&this.readyState!==M.CLOSED&&this._close(P||1e3,I||"Normal closure",!0)},M.prototype.send=function(P){if("string"!=typeof P&&(P=""+P),this.readyState===M.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===M.OPEN&&this._transport.send(f.quote(P))},M.version=w(947),M.CONNECTING=0,M.OPEN=1,M.CLOSING=2,M.CLOSED=3,M.prototype._receiveInfo=function(P,I){if(this._ir=null,P){this._rto=this.countRTO(I),this._transUrl=P.base_url?P.base_url:this.url,P=o.extend(P,this._urlInfo);var b=D.filterToEnabled(this._transportsWhitelist,P);this._transports=b.main,this._connect()}else this._close(1002,"Cannot connect to server")},M.prototype._connect=function(){for(var P=this._transports.shift();P;P=this._transports.shift()){if(P.needBody&&(!global.document.body||void 0!==global.document.readyState&&"complete"!==global.document.readyState&&"interactive"!==global.document.readyState))return this._transports.unshift(P),void u.attachEvent("load",this._connect.bind(this));var I=Math.max(this._timeout,this._rto*P.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),I);var B=new P(h.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),this._transUrl,this._transportOptions[P.transportName]);return B.on("message",this._transportMessage.bind(this)),B.once("close",this._transportClose.bind(this)),B.transportName=P.transportName,void(this._transport=B)}this._close(2e3,"All transports failed",!1)},M.prototype._transportTimeout=function(){this.readyState===M.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},M.prototype._transportMessage=function(P){var B,I=this,b=P.slice(0,1),L=P.slice(1);switch(b){case"o":return void this._open();case"h":return void this.dispatchEvent(new c("heartbeat"))}if(L)try{B=JSON.parse(L)}catch(V){}if(void 0!==B)switch(b){case"a":Array.isArray(B)&&B.forEach(function(V){I.dispatchEvent(new x(V))});break;case"m":this.dispatchEvent(new x(B));break;case"c":Array.isArray(B)&&2===B.length&&this._close(B[0],B[1],!0)}},M.prototype._transportClose=function(P,I){this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),R(P)||2e3===P||this.readyState!==M.CONNECTING?this._close(P,I):this._connect()},M.prototype._open=function(){this.readyState===M.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=M.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new c("open"))):this._close(1006,"Server lost session")},M.prototype._close=function(P,I,b){var L=!1;if(this._ir&&(L=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===M.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=M.CLOSING,setTimeout(function(){this.readyState=M.CLOSED,L&&this.dispatchEvent(new c("error"));var B=new g("close");B.wasClean=b||!1,B.code=P||1e3,B.reason=I,this.dispatchEvent(B),this.onmessage=this.onclose=this.onerror=null}.bind(this),0)},M.prototype.countRTO=function(P){return P>100?4*P:300+P},dt.exports=function(P){return D=s(P),w(737)(M,P),M}},5904:()=>{"use strict";var o,dt=Array.prototype,C=Object.prototype,w=Function.prototype,n=String.prototype,l=dt.slice,m=C.toString,f=function(P){return"[object Function]"===C.toString.call(P)},u=function(I){return"[object String]"===m.call(I)},s=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(P){return!1}}();o=s?function(P,I,b,L){!L&&I in P||Object.defineProperty(P,I,{configurable:!0,enumerable:!1,writable:!0,value:b})}:function(P,I,b,L){!L&&I in P||(P[I]=b)};var d=function(P,I,b){for(var L in I)C.hasOwnProperty.call(I,L)&&o(P,L,I[L],b)},a=function(P){if(null==P)throw new TypeError("can't convert "+P+" to object");return Object(P)};function c(P){var I=+P;return I!=I?I=0:0!==I&&I!==1/0&&I!==-1/0&&(I=(I>0||-1)*Math.floor(Math.abs(I))),I}function v(){}d(w,{bind:function(I){var b=this;if(!f(b))throw new TypeError("Function.prototype.bind called on incompatible "+b);for(var L=l.call(arguments,1),B=function(){if(this instanceof K){var J=b.apply(this,L.concat(l.call(arguments)));return Object(J)===J?J:this}return b.apply(I,L.concat(l.call(arguments)))},V=Math.max(0,b.length-L.length),z=[],W=0;W<V;W++)z.push("$"+W);var K=Function("binder","return function ("+z.join(",")+"){ return binder.apply(this, arguments); }")(B);return b.prototype&&(v.prototype=b.prototype,K.prototype=new v,v.prototype=null),K}}),d(Array,{isArray:function(I){return"[object Array]"===m.call(I)}});var I,b,L,g=Object("a"),x="a"!==g[0]||!(0 in g);d(dt,{forEach:function(I){var b=a(this),L=x&&u(this)?this.split(""):b,B=arguments[1],V=-1,z=L.length>>>0;if(!f(I))throw new TypeError;for(;++V<z;)V in L&&I.call(B,L[V],V,b)}},(b=!0,L=!0,(I=dt.forEach)&&(I.call("foo",function(B,V,z){"object"!=typeof z&&(b=!1)}),I.call([1],function(){L="string"==typeof this},"x")),!(I&&b&&L)));var S=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);d(dt,{indexOf:function(I){var b=x&&u(this)?this.split(""):a(this),L=b.length>>>0;if(!L)return-1;var B=0;for(arguments.length>1&&(B=c(arguments[1])),B=B>=0?B:Math.max(0,L+B);B<L;B++)if(B in b&&b[B]===I)return B;return-1}},S);var P,D=n.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(P=void 0===/()??/.exec("")[1],n.split=function(I,b){var L=this;if(void 0===I&&0===b)return[];if("[object RegExp]"!==m.call(I))return D.call(this,I,b);var W,K,J,tt,B=[],V=(I.ignoreCase?"i":"")+(I.multiline?"m":"")+(I.extended?"x":"")+(I.sticky?"y":""),z=0;for(I=new RegExp(I.source,V+"g"),L+="",P||(W=new RegExp("^"+I.source+"$(?!\\s)",V)),b=void 0===b?-1>>>0:function p(P){return P>>>0}(b);(K=I.exec(L))&&!((J=K.index+K[0].length)>z&&(B.push(L.slice(z,K.index)),!P&&K.length>1&&K[0].replace(W,function(){for(var it=1;it<arguments.length-2;it++)void 0===arguments[it]&&(K[it]=void 0)}),K.length>1&&K.index<L.length&&dt.push.apply(B,K.slice(1)),tt=K[0].length,z=J,B.length>=b));)I.lastIndex===K.index&&I.lastIndex++;return z===L.length?(tt||!I.test(""))&&B.push(""):B.push(L.slice(z)),B.length>b?B.slice(0,b):B}):"0".split(void 0,0).length&&(n.split=function(I,b){return void 0===I&&0===b?[]:D.call(this,I,b)});var M=n.substr;d(n,{substr:function(I,b){return M.call(this,I<0&&(I=this.length+I)<0?0:I,b)}},"".substr&&"b"!=="0b".substr(-1))},8810:(dt,C,w)=>{"use strict";dt.exports=[w(7040),w(3897),w(4053),w(1591),w(9802)(w(1591)),w(3362),w(9802)(w(3362)),w(7237),w(8931),w(9802)(w(7237)),w(545)]},3134:(dt,C,w)=>{"use strict";var n=w(17).v,l=w(3894),m=w(3865),f=w(1493),h=global.XMLHttpRequest;function s(a,c,p,v){var g=this;n.call(this),setTimeout(function(){g._start(a,c,p,v)},0)}l(s,n),s.prototype._start=function(a,c,p,v){var g=this;try{this.xhr=new h}catch(T){}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();c=f.addQuery(c,"t="+ +new Date),this.unloadRef=m.unloadAdd(function(){g._cleanup(!0)});try{this.xhr.open(a,c,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){g.emit("finish",0,""),g._cleanup(!1)})}catch(T){return this.emit("finish",0,""),void this._cleanup(!1)}if((!v||!v.noCredentials)&&s.supportsCORS&&(this.xhr.withCredentials=!0),v&&v.headers)for(var x in v.headers)this.xhr.setRequestHeader(x,v.headers[x]);this.xhr.onreadystatechange=function(){if(g.xhr){var S,D,T=g.xhr;switch(T.readyState){case 3:try{D=T.status,S=T.responseText}catch(M){}1223===D&&(D=204),200===D&&S&&S.length>0&&g.emit("chunk",D,S);break;case 4:1223===(D=T.status)&&(D=204),(12005===D||12029===D)&&(D=0),g.emit("finish",D,T.responseText),g._cleanup(!1)}}};try{g.xhr.send(p)}catch(T){g.emit("finish",0,""),g._cleanup(!1)}},s.prototype._cleanup=function(a){if(this.xhr){if(this.removeAllListeners(),m.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),a)try{this.xhr.abort()}catch(c){}this.unloadRef=this.xhr=null}},s.prototype.close=function(){this._cleanup(!0)},s.enabled=!!h;var o=["Active"].concat("Object").join("X");!s.enabled&&o in global&&(s.enabled=!!new(h=function(){try{return new global[o]("Microsoft.XMLHTTP")}catch(a){return null}}));var d=!1;try{d="withCredentials"in new h}catch(a){}s.supportsCORS=d,dt.exports=s},8513:dt=>{dt.exports=global.EventSource},3848:dt=>{"use strict";var C=global.WebSocket||global.MozWebSocket;dt.exports=C?function(n){return new C(n)}:void 0},1591:(dt,C,w)=>{"use strict";var n=w(3894),l=w(4172),m=w(3436),f=w(7807),h=w(8513);function u(s){if(!u.enabled())throw new Error("Transport created when disabled");l.call(this,s,"/eventsource",m,f)}n(u,l),u.enabled=function(){return!!h},u.transportName="eventsource",u.roundTrips=2,dt.exports=u},3362:(dt,C,w)=>{"use strict";var n=w(3894),l=w(288),m=w(7898),f=w(4172);function h(u){if(!l.enabled)throw new Error("Transport created when disabled");f.call(this,u,"/htmlfile",l,m)}n(h,f),h.enabled=function(u){return l.enabled&&u.sameOrigin},h.transportName="htmlfile",h.roundTrips=2,dt.exports=h},7415:(dt,C,w)=>{"use strict";var n=w(3894),l=w(17).v,m=w(947),f=w(1493),h=w(8075),u=w(3865),s=w(347);function d(a,c,p){if(!d.enabled())throw new Error("Transport created when disabled");l.call(this);var v=this;this.origin=f.getOrigin(p),this.baseUrl=p,this.transUrl=c,this.transport=a,this.windowId=s.string(8);var g=f.addPath(p,"/iframe.html")+"#"+this.windowId;this.iframeObj=h.createIframe(g,function(x){v.emit("close",1006,"Unable to load an iframe ("+x+")"),v.close()}),this.onmessageCallback=this._message.bind(this),u.attachEvent("message",this.onmessageCallback)}n(d,l),d.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){u.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(a){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},d.prototype._message=function(a){if(f.isOriginEqual(a.origin,this.origin)){var c;try{c=JSON.parse(a.data)}catch(v){return}if(c.windowId===this.windowId)switch(c.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([m,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",c.data);break;case"c":var p;try{p=JSON.parse(c.data)}catch(v){return}this.emit("close",p[0],p[1]),this.close()}}},d.prototype.postMessage=function(a,c){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:a,data:c||""}),this.origin)},d.prototype.send=function(a){this.postMessage("m",a)},d.enabled=function(){return h.iframeEnabled},d.transportName="iframe",d.roundTrips=2,dt.exports=d},545:(dt,C,w)=>{"use strict";var n=w(3894),l=w(4196),m=w(8785),f=w(3216);function h(u){if(!h.enabled())throw new Error("Transport created when disabled");l.call(this,u,"/jsonp",f,m)}n(h,l),h.enabled=function(){return!!global.document},h.transportName="jsonp-polling",h.roundTrips=1,h.needBody=!0,dt.exports=h},4172:(dt,C,w)=>{"use strict";var n=w(3894),l=w(1493),m=w(4196);function u(s,o,d,a){m.call(this,s,o,function h(s){return function(o,d,a){var c={};"string"==typeof d&&(c.headers={"Content-type":"text/plain"});var p=l.addPath(o,"/xhr_send"),v=new s("POST",p,d,c);return v.once("finish",function(g){if(v=null,200!==g&&204!==g)return a(new Error("http status "+g));a()}),function(){v.close(),v=null;var g=new Error("Aborted");g.code=1e3,a(g)}}}(a),d,a)}n(u,m),dt.exports=u},9661:(dt,C,w)=>{"use strict";var n=w(3894),l=w(17).v;function f(h,u){l.call(this),this.sendBuffer=[],this.sender=u,this.url=h}n(f,l),f.prototype.send=function(h){this.sendBuffer.push(h),this.sendStop||this.sendSchedule()},f.prototype.sendScheduleWait=function(){var u,h=this;this.sendStop=function(){h.sendStop=null,clearTimeout(u)},u=setTimeout(function(){h.sendStop=null,h.sendSchedule()},25)},f.prototype.sendSchedule=function(){var h=this;if(this.sendBuffer.length>0){var u="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,u,function(s){h.sendStop=null,s?(h.emit("close",s.code||1006,"Sending error: "+s),h.close()):h.sendScheduleWait()}),this.sendBuffer=[]}},f.prototype._cleanup=function(){this.removeAllListeners()},f.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},dt.exports=f},9802:(dt,C,w)=>{"use strict";var n=w(3894),l=w(7415),m=w(2923);dt.exports=function(f){function h(u,s){l.call(this,f.transportName,u,s)}return n(h,l),h.enabled=function(u,s){if(!global.document)return!1;var o=m.extend({},s);return o.sameOrigin=!0,f.enabled(o)&&l.enabled()},h.transportName="iframe-"+f.transportName,h.needBody=!0,h.roundTrips=l.roundTrips+f.roundTrips-1,h.facadeTransport=f,h}},20:(dt,C,w)=>{"use strict";var n=w(3894),l=w(17).v;function f(h,u,s){l.call(this),this.Receiver=h,this.receiveUrl=u,this.AjaxObject=s,this._scheduleReceiver()}n(f,l),f.prototype._scheduleReceiver=function(){var h=this,u=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);u.on("message",function(s){h.emit("message",s)}),u.once("close",function(s,o){h.poll=u=null,h.pollIsClosing||("network"===o?h._scheduleReceiver():(h.emit("close",s||1006,o),h.removeAllListeners()))})},f.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},dt.exports=f},4196:(dt,C,w)=>{"use strict";var n=w(3894),l=w(1493),m=w(9661),f=w(20);function u(s,o,d,a,c){var p=l.addPath(s,o),v=this;m.call(this,s,d),this.poll=new f(a,p,c),this.poll.on("message",function(g){v.emit("message",g)}),this.poll.once("close",function(g,x){v.poll=null,v.emit("close",g,x),v.close()})}n(u,m),u.prototype.close=function(){m.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},dt.exports=u},3436:(dt,C,w)=>{"use strict";var n=w(3894),l=w(17).v,m=w(8513);function h(u){l.call(this);var s=this,o=this.es=new m(u);o.onmessage=function(d){s.emit("message",decodeURI(d.data))},o.onerror=function(d){var a=2!==o.readyState?"network":"permanent";s._cleanup(),s._close(a)}}n(h,l),h.prototype.abort=function(){this._cleanup(),this._close("user")},h.prototype._cleanup=function(){var u=this.es;u&&(u.onmessage=u.onerror=null,u.close(),this.es=null)},h.prototype._close=function(u){var s=this;setTimeout(function(){s.emit("close",null,u),s.removeAllListeners()},200)},dt.exports=h},288:(dt,C,w)=>{"use strict";var n=w(3894),l=w(8075),m=w(1493),f=w(17).v,h=w(347);function s(d){f.call(this);var a=this;l.polluteGlobalNamespace(),this.id="a"+h.string(6),d=m.addQuery(d,"c="+decodeURIComponent(l.WPrefix+"."+this.id));var c=s.htmlfileEnabled?l.createHtmlfile:l.createIframe;global[l.WPrefix][this.id]={start:function(){a.iframeObj.loaded()},message:function(p){a.emit("message",p)},stop:function(){a._cleanup(),a._close("network")}},this.iframeObj=c(d,function(){a._cleanup(),a._close("permanent")})}n(s,f),s.prototype.abort=function(){this._cleanup(),this._close("user")},s.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete global[l.WPrefix][this.id]},s.prototype._close=function(d){this.emit("close",null,d),this.removeAllListeners()},s.htmlfileEnabled=!1;var o=["Active"].concat("Object").join("X");if(o in global)try{s.htmlfileEnabled=!!new global[o]("htmlfile")}catch(d){}s.enabled=s.htmlfileEnabled||l.iframeEnabled,dt.exports=s},8785:(dt,C,w)=>{"use strict";var n=w(8075),l=w(347),m=w(480),f=w(1493),h=w(3894),u=w(17).v;function o(d){var a=this;u.call(this),n.polluteGlobalNamespace(),this.id="a"+l.string(6);var c=f.addQuery(d,"c="+encodeURIComponent(n.WPrefix+"."+this.id));global[n.WPrefix][this.id]=this._callback.bind(this),this._createScript(c),this.timeoutId=setTimeout(function(){a._abort(new Error("JSONP script loaded abnormally (timeout)"))},o.timeout)}h(o,u),o.prototype.abort=function(){if(global[n.WPrefix][this.id]){var d=new Error("JSONP user aborted read");d.code=1e3,this._abort(d)}},o.timeout=35e3,o.scriptErrorTimeout=1e3,o.prototype._callback=function(d){this._cleanup(),!this.aborting&&(d&&this.emit("message",d),this.emit("close",null,"network"),this.removeAllListeners())},o.prototype._abort=function(d){this._cleanup(),this.aborting=!0,this.emit("close",d.code,d.message),this.removeAllListeners()},o.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var d=this.script;d.parentNode.removeChild(d),d.onreadystatechange=d.onerror=d.onload=d.onclick=null,this.script=null}delete global[n.WPrefix][this.id]},o.prototype._scriptError=function(){var d=this;this.errorTimer||(this.errorTimer=setTimeout(function(){d.loadedOkay||d._abort(new Error("JSONP script loaded abnormally (onerror)"))},o.scriptErrorTimeout))},o.prototype._createScript=function(d){var p,a=this,c=this.script=global.document.createElement("script");if(c.id="a"+l.string(8),c.src=d,c.type="text/javascript",c.charset="UTF-8",c.onerror=this._scriptError.bind(this),c.onload=function(){a._abort(new Error("JSONP script loaded abnormally (onload)"))},c.onreadystatechange=function(){if(/loaded|closed/.test(c.readyState)){if(c&&c.htmlFor&&c.onclick){a.loadedOkay=!0;try{c.onclick()}catch(g){}}c&&a._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===c.async&&global.document.attachEvent)if(m.isOpera())(p=this.script2=global.document.createElement("script")).text="try{var a = document.getElementById('"+c.id+"'); if(a)a.onerror();}catch(x){};",c.async=p.async=!1;else{try{c.htmlFor=c.id,c.event="onclick"}catch(g){}c.async=!0}void 0!==c.async&&(c.async=!0);var v=global.document.getElementsByTagName("head")[0];v.insertBefore(c,v.firstChild),p&&v.insertBefore(p,v.firstChild)},dt.exports=o},6909:(dt,C,w)=>{"use strict";var n=w(3894),l=w(17).v;function f(h,u){l.call(this);var s=this;this.bufferPosition=0,this.xo=new u("POST",h,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(o,d){s._chunkHandler(o,d),s.xo=null,s.emit("close",null,200===o?"network":"permanent"),s._cleanup()})}n(f,l),f.prototype._chunkHandler=function(h,u){if(200===h&&u)for(var s=-1;;this.bufferPosition+=s+1){var o=u.slice(this.bufferPosition);if(-1===(s=o.indexOf("\n")))break;var d=o.slice(0,s);d&&this.emit("message",d)}},f.prototype._cleanup=function(){this.removeAllListeners()},f.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},dt.exports=f},3216:(dt,C,w)=>{"use strict";var f,h,n=w(347),l=w(1493);dt.exports=function(o,d,a){f||function s(){(f=global.document.createElement("form")).style.display="none",f.style.position="absolute",f.method="POST",f.enctype="application/x-www-form-urlencoded",f.acceptCharset="UTF-8",(h=global.document.createElement("textarea")).name="d",f.appendChild(h),global.document.body.appendChild(f)}();var c="a"+n.string(8);f.target=c,f.action=l.addQuery(l.addPath(o,"/jsonp_send"),"i="+c);var p=function u(o){try{return global.document.createElement('<iframe name="'+o+'">')}catch(a){var d=global.document.createElement("iframe");return d.name=o,d}}(c);p.id=c,p.style.display="none",f.appendChild(p);try{h.value=d}catch(g){}f.submit();var v=function(g){p.onerror&&(p.onreadystatechange=p.onerror=p.onload=null,setTimeout(function(){p.parentNode.removeChild(p),p=null},500),h.value="",a(g))};return p.onerror=function(){v()},p.onload=function(){v()},p.onreadystatechange=function(g){"complete"===p.readyState&&v()},function(){v(new Error("Aborted"))}}},5705:(dt,C,w)=>{"use strict";var n=w(17).v,l=w(3894),m=w(3865),f=w(480),h=w(1493);function s(o,d,a){var c=this;n.call(this),setTimeout(function(){c._start(o,d,a)},0)}l(s,n),s.prototype._start=function(o,d,a){var c=this,p=new global.XDomainRequest;d=h.addQuery(d,"t="+ +new Date),p.onerror=function(){c._error()},p.ontimeout=function(){c._error()},p.onprogress=function(){c.emit("chunk",200,p.responseText)},p.onload=function(){c.emit("finish",200,p.responseText),c._cleanup(!1)},this.xdr=p,this.unloadRef=m.unloadAdd(function(){c._cleanup(!0)});try{this.xdr.open(o,d),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(a)}catch(v){this._error()}},s.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},s.prototype._cleanup=function(o){if(this.xdr){if(this.removeAllListeners(),m.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,o)try{this.xdr.abort()}catch(d){}this.unloadRef=this.xdr=null}},s.prototype.close=function(){this._cleanup(!0)},s.enabled=!(!global.XDomainRequest||!f.hasDomain()),dt.exports=s},7807:(dt,C,w)=>{"use strict";var n=w(3894),l=w(3134);function m(f,h,u,s){l.call(this,f,h,u,s)}n(m,l),m.enabled=l.enabled&&l.supportsCORS,dt.exports=m},9312:(dt,C,w)=>{"use strict";var n=w(17).v;function m(){var f=this;n.call(this),this.to=setTimeout(function(){f.emit("finish",200,"{}")},m.timeout)}w(3894)(m,n),m.prototype.close=function(){clearTimeout(this.to)},m.timeout=2e3,dt.exports=m},7898:(dt,C,w)=>{"use strict";var n=w(3894),l=w(3134);function m(f,h,u){l.call(this,f,h,u,{noCredentials:!0})}n(m,l),m.enabled=l.enabled,dt.exports=m},7040:(dt,C,w)=>{"use strict";var n=w(3865),l=w(1493),m=w(3894),f=w(17).v,h=w(3848);function s(o,d,a){if(!s.enabled())throw new Error("Transport created when disabled");f.call(this);var c=this,p=l.addPath(o,"/websocket");p="https"===p.slice(0,5)?"wss"+p.slice(5):"ws"+p.slice(4),this.url=p,this.ws=new h(this.url,[],a),this.ws.onmessage=function(v){c.emit("message",v.data)},this.unloadRef=n.unloadAdd(function(){c.ws.close()}),this.ws.onclose=function(v){c.emit("close",v.code,v.reason),c._cleanup()},this.ws.onerror=function(v){c.emit("close",1006,"WebSocket connection broken"),c._cleanup()}}m(s,f),s.prototype.send=function(o){this.ws.send("["+o+"]")},s.prototype.close=function(){var o=this.ws;this._cleanup(),o&&o.close()},s.prototype._cleanup=function(){var o=this.ws;o&&(o.onmessage=o.onclose=o.onerror=null),n.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},s.enabled=function(){return!!h},s.transportName="websocket",s.roundTrips=2,dt.exports=s},8931:(dt,C,w)=>{"use strict";var n=w(3894),l=w(4172),m=w(4053),f=w(6909),h=w(5705);function u(s){if(!h.enabled)throw new Error("Transport created when disabled");l.call(this,s,"/xhr",f,h)}n(u,l),u.enabled=m.enabled,u.transportName="xdr-polling",u.roundTrips=2,dt.exports=u},4053:(dt,C,w)=>{"use strict";var n=w(3894),l=w(4172),m=w(6909),f=w(5705);function h(u){if(!f.enabled)throw new Error("Transport created when disabled");l.call(this,u,"/xhr_streaming",m,f)}n(h,l),h.enabled=function(u){return!u.cookie_needed&&!u.nullOrigin&&f.enabled&&u.sameScheme},h.transportName="xdr-streaming",h.roundTrips=2,dt.exports=h},7237:(dt,C,w)=>{"use strict";var n=w(3894),l=w(4172),m=w(6909),f=w(7807),h=w(7898);function u(s){if(!h.enabled&&!f.enabled)throw new Error("Transport created when disabled");l.call(this,s,"/xhr",m,f)}n(u,l),u.enabled=function(s){return!s.nullOrigin&&(!(!h.enabled||!s.sameOrigin)||f.enabled)},u.transportName="xhr-polling",u.roundTrips=2,dt.exports=u},3897:(dt,C,w)=>{"use strict";var n=w(3894),l=w(4172),m=w(6909),f=w(7807),h=w(7898),u=w(480);function s(o){if(!h.enabled&&!f.enabled)throw new Error("Transport created when disabled");l.call(this,o,"/xhr_streaming",m,f)}n(s,l),s.enabled=function(o){return!o.nullOrigin&&!u.isOpera()&&f.enabled},s.transportName="xhr-streaming",s.roundTrips=2,s.needBody=!!global.document,dt.exports=s},8143:dt=>{"use strict";dt.exports.randomBytes=global.crypto&&global.crypto.getRandomValues?function(C){var w=new Uint8Array(C);return global.crypto.getRandomValues(w),w}:function(C){for(var w=new Array(C),n=0;n<C;n++)w[n]=Math.floor(256*Math.random());return w}},480:dt=>{"use strict";dt.exports={isOpera:function(){return global.navigator&&/opera/i.test(global.navigator.userAgent)},isKonqueror:function(){return global.navigator&&/konqueror/i.test(global.navigator.userAgent)},hasDomain:function(){if(!global.document)return!0;try{return!!global.document.domain}catch(C){return!1}}}},8481:dt=>{"use strict";var w,C=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;dt.exports={quote:function(l){var m=JSON.stringify(l);return C.lastIndex=0,C.test(m)?(w||(w=function(l){var m,f={},h=[];for(m=0;m<65536;m++)h.push(String.fromCharCode(m));return l.lastIndex=0,h.join("").replace(l,function(u){return f[u]="\\u"+("0000"+u.charCodeAt(0).toString(16)).slice(-4),""}),l.lastIndex=0,f}(C)),m.replace(C,function(f){return w[f]})):m}}},3865:(dt,C,w)=>{"use strict";var n=w(347),l={},m=!1,f=global.chrome&&global.chrome.app&&global.chrome.app.runtime;dt.exports={attachEvent:function(u,s){void 0!==global.addEventListener?global.addEventListener(u,s,!1):global.document&&global.attachEvent&&(global.document.attachEvent("on"+u,s),global.attachEvent("on"+u,s))},detachEvent:function(u,s){void 0!==global.addEventListener?global.removeEventListener(u,s,!1):global.document&&global.detachEvent&&(global.document.detachEvent("on"+u,s),global.detachEvent("on"+u,s))},unloadAdd:function(u){if(f)return null;var s=n.string(8);return l[s]=u,m&&setTimeout(this.triggerUnloadCallbacks,0),s},unloadDel:function(u){u in l&&delete l[u]},triggerUnloadCallbacks:function(){for(var u in l)l[u](),delete l[u]}},f||dt.exports.attachEvent("unload",function(){m||(m=!0,dt.exports.triggerUnloadCallbacks())})},8075:(dt,C,w)=>{"use strict";var n=w(3865),l=w(480);dt.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){dt.exports.WPrefix in global||(global[dt.exports.WPrefix]={})},postMessage:function(f,h){global.parent!==global&&global.parent.postMessage(JSON.stringify({windowId:dt.exports.currentWindowId,type:f,data:h||""}),"*")},createIframe:function(f,h){var s,o,u=global.document.createElement("iframe"),d=function(){clearTimeout(s);try{u.onload=null}catch(v){}u.onerror=null},a=function(){u&&(d(),setTimeout(function(){u&&u.parentNode.removeChild(u),u=null},0),n.unloadDel(o))},c=function(v){u&&(a(),h(v))};return u.src=f,u.style.display="none",u.style.position="absolute",u.onerror=function(){c("onerror")},u.onload=function(){clearTimeout(s),s=setTimeout(function(){c("onload timeout")},2e3)},global.document.body.appendChild(u),s=setTimeout(function(){c("timeout")},15e3),o=n.unloadAdd(a),{post:function(v,g){setTimeout(function(){try{u&&u.contentWindow&&u.contentWindow.postMessage(v,g)}catch(x){}},0)},cleanup:a,loaded:d}},createHtmlfile:function(f,h){var o,d,a,u=["Active"].concat("Object").join("X"),s=new global[u]("htmlfile"),c=function(){clearTimeout(o),a.onerror=null},p=function(){s&&(c(),n.unloadDel(d),a.parentNode.removeChild(a),a=s=null,CollectGarbage())},v=function(T){s&&(p(),h(T))};s.open(),s.write('<html><script>document.domain="'+global.document.domain+'";<\/script></html>'),s.close(),s.parentWindow[dt.exports.WPrefix]=global[dt.exports.WPrefix];var x=s.createElement("div");return s.body.appendChild(x),a=s.createElement("iframe"),x.appendChild(a),a.src=f,a.onerror=function(){v("onerror")},o=setTimeout(function(){v("timeout")},15e3),d=n.unloadAdd(p),{post:function(T,S){try{setTimeout(function(){a&&a.contentWindow&&a.contentWindow.postMessage(T,S)},0)}catch(D){}},cleanup:p,loaded:c}}},dt.exports.iframeEnabled=!1,global.document&&(dt.exports.iframeEnabled=("function"==typeof global.postMessage||"object"==typeof global.postMessage)&&!l.isKonqueror())},1433:dt=>{"use strict";var C={};["log","debug","warn"].forEach(function(w){var n;try{n=global.console&&global.console[w]&&global.console[w].apply}catch(l){}C[w]=n?function(){return global.console[w].apply(global.console,arguments)}:"log"===w?function(){}:C.log}),dt.exports=C},2923:dt=>{"use strict";dt.exports={isObject:function(C){var w=typeof C;return"function"===w||"object"===w&&!!C},extend:function(C){if(!this.isObject(C))return C;for(var w,n,l=1,m=arguments.length;l<m;l++)for(n in w=arguments[l])Object.prototype.hasOwnProperty.call(w,n)&&(C[n]=w[n]);return C}}},347:(dt,C,w)=>{"use strict";var n=w(8143),l="abcdefghijklmnopqrstuvwxyz012345";dt.exports={string:function(m){for(var f=l.length,h=n.randomBytes(m),u=[],s=0;s<m;s++)u.push(l.substr(h[s]%f,1));return u.join("")},number:function(m){return Math.floor(Math.random()*m)},numberString:function(m){var f=(""+(m-1)).length;return(new Array(f+1).join("0")+this.number(m)).slice(-f)}}},2264:dt=>{"use strict";dt.exports=function(w){return{filterToEnabled:function(n,l){var m={main:[],facade:[]};return n?"string"==typeof n&&(n=[n]):n=[],w.forEach(function(f){if(f){if("websocket"===f.transportName&&!1===l.websocket)return;if(n.length&&-1===n.indexOf(f.transportName))return;f.enabled(l)&&(m.main.push(f),f.facadeTransport&&m.facade.push(f.facadeTransport))}}),m}}}},1493:(dt,C,w)=>{"use strict";var n=w(7629);dt.exports={getOrigin:function(m){if(!m)return null;var f=new n(m);if("file:"===f.protocol)return null;var h=f.port;return h||(h="https:"===f.protocol?"443":"80"),f.protocol+"//"+f.hostname+":"+h},isOriginEqual:function(m,f){return this.getOrigin(m)===this.getOrigin(f)},isSchemeEqual:function(m,f){return m.split(":")[0]===f.split(":")[0]},addPath:function(m,f){var h=m.split("?");return h[0]+f+(h[1]?"?"+h[1]:"")},addQuery:function(m,f){return m+(-1===m.indexOf("?")?"?"+f:"&"+f)},isLoopbackAddr:function(m){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(m)||/^\[::1\]$/.test(m)}}},947:dt=>{dt.exports="1.6.0"},322:(dt,C,w)=>{var n=w(9513),l=w(2566);dt.exports=n.Stomp,dt.exports.overTCP=l.overTCP,dt.exports.overWS=l.overWS},2566:function(dt,C,w){(function(){var n,l,f,h,u;n=w(9513),l=w(5253),n.Stomp.setInterval=function(s,o){return setInterval(o,s)},n.Stomp.clearInterval=function(s){return clearInterval(s)},h=function(s,o){var d,a;return d=null,a={url:"tcp:// "+o+":"+s,send:function(c){return d.write(c)},close:function(){return d.end()}},(d=l.connect(s,o,function(c){return a.onopen()})).on("error",function(c){return"function"==typeof a.onclose?a.onclose(c):void 0}),d.on("close",function(c){return"function"==typeof a.onclose?a.onclose(c):void 0}),d.on("data",function(c){var p;return p={data:c.toString()},a.onmessage(p)}),a},u=function(s){var o,d,a,c;return o=w(2762).client,d=null,c={url:s,send:function(p){return d.sendUTF(p)},close:function(){return d.close()}},(a=new o).on("connect",function(p){return d=p,c.onopen(),d.on("error",function(v){return"function"==typeof c.onclose?c.onclose(v):void 0}),d.on("close",function(){return"function"==typeof c.onclose?c.onclose():void 0}),d.on("message",function(v){if("utf8"===v.type)return c.onmessage({data:v.utf8Data})})}),a.connect(s),c},f=function(s){var o;return o=u(s),n.Stomp.over(o)},C.overTCP=function(s,o){var d;return d=h(o,s),n.Stomp.over(d)},C.overWS=f}).call(this)},9513:function(dt,C){(function(){var w,n,l,m,f={}.hasOwnProperty,h=[].slice;w={LF:"\n",NULL:"\0"},l=function(){var u;function s(o,d,a){this.command=o,this.headers=null!=d?d:{},this.body=null!=a?a:""}return s.prototype.toString=function(){var o,d,a,p;for(d in o=[this.command],(a=!1===this.headers["content-length"])&&delete this.headers["content-length"],p=this.headers)!f.call(p,d)||o.push(d+":"+p[d]);return this.body&&!a&&o.push("content-length:"+s.sizeOfUTF8(this.body)),o.push(w.LF+this.body),o.join(w.LF)},s.sizeOfUTF8=function(o){return o?encodeURI(o).match(/%..|./g).length:0},u=function(o){var d,a,c,p,v,g,x,T,S,D,M,R,P,I,b,L,B;for(p=o.search(RegExp(""+w.LF+w.LF)),c=(v=o.substring(0,p).split(w.LF)).shift(),g={},R=function(V){return V.replace(/^\s+|\s+$/g,"")},P=0,b=(L=v.reverse()).length;P<b;P++)T=(D=L[P]).indexOf(":"),g[R(D.substring(0,T))]=R(D.substring(T+1));if(d="",M=p+2,g["content-length"])S=parseInt(g["content-length"]),d=(""+o).substring(M,M+S);else for(a=null,x=I=M,B=o.length;(M<=B?I<B:I>B)&&(a=o.charAt(x))!==w.NULL;x=M<=B?++I:--I)d+=a;return new s(c,g,d)},s.unmarshall=function(o){var d;return function(){var a,c,p,v;for(v=[],a=0,c=(p=o.split(RegExp(""+w.NULL+w.LF+"*"))).length;a<c;a++)(null!=(d=p[a])?d.length:void 0)>0&&v.push(u(d));return v}()},s.marshall=function(o,d,a){return new s(o,d,a).toString()+w.NULL},s}(),n=function(){var u;function s(o){this.ws=o,this.ws.binaryType="arraybuffer",this.counter=0,this.connected=!1,this.heartbeat={outgoing:1e4,incoming:1e4},this.maxWebSocketFrameSize=16384,this.subscriptions={}}return s.prototype.debug=function(o){var d;return"undefined"!=typeof window&&null!==window&&null!=(d=window.console)?d.log(o):void 0},u=function(){return Date.now?Date.now():(new Date).valueOf},s.prototype._transmit=function(o,d,a){var c;for(c=l.marshall(o,d,a),"function"==typeof this.debug&&this.debug(">>> "+c);;){if(!(c.length>this.maxWebSocketFrameSize))return this.ws.send(c);this.ws.send(c.substring(0,this.maxWebSocketFrameSize)),c=c.substring(this.maxWebSocketFrameSize),"function"==typeof this.debug&&this.debug("remaining = "+c.length)}},s.prototype._setupHeartbeat=function(o){var d,a,c,v,g,x;if(((v=o.version)===m.VERSIONS.V1_1||v===m.VERSIONS.V1_2)&&(g=function(){var x,T,S,D;for(D=[],x=0,T=(S=o["heart-beat"].split(",")).length;x<T;x++)D.push(parseInt(S[x]));return D}(),a=g[0],d=g[1],0===this.heartbeat.outgoing||0===d||(c=Math.max(this.heartbeat.outgoing,d),"function"==typeof this.debug&&this.debug("send PING every "+c+"ms"),this.pinger=m.setInterval(c,(x=this,function(){return x.ws.send(w.LF),"function"==typeof x.debug?x.debug(">>> PING"):void 0}))),0!==this.heartbeat.incoming&&0!==a))return c=Math.max(this.heartbeat.incoming,a),"function"==typeof this.debug&&this.debug("check PONG every "+c+"ms"),this.ponger=m.setInterval(c,function(x){return function(){var T;if((T=u()-x.serverActivity)>2*c)return"function"==typeof x.debug&&x.debug("did not receive server activity for the last "+T+"ms"),x.ws.close()}}(this))},s.prototype._parseConnect=function(){var o,d,a,c;switch(c={},(o=1<=arguments.length?h.call(arguments,0):[]).length){case 2:c=o[0],d=o[1];break;case 3:o[1]instanceof Function?(c=o[0],d=o[1],a=o[2]):(c.login=o[0],c.passcode=o[1],d=o[2]);break;case 4:c.login=o[0],c.passcode=o[1],d=o[2],a=o[3];break;default:c.login=o[0],c.passcode=o[1],d=o[2],a=o[3],c.host=o[4]}return[c,d,a]},s.prototype.connect=function(){var o,d,a,c,p;return o=1<=arguments.length?h.call(arguments,0):[],c=this._parseConnect.apply(this,o),a=c[0],this.connectCallback=c[1],d=c[2],"function"==typeof this.debug&&this.debug("Opening Web Socket..."),this.ws.onmessage=(p=this,function(v){var g,T,S,D,M,R,P,I,b,L,B;if(S="undefined"!=typeof ArrayBuffer&&v.data instanceof ArrayBuffer?(g=new Uint8Array(v.data),"function"==typeof p.debug&&p.debug("--- got data length: "+g.length),function(){var V,z,W;for(W=[],V=0,z=g.length;V<z;V++)W.push(String.fromCharCode(g[V]));return W}().join("")):v.data,p.serverActivity=u(),S!==w.LF){for("function"==typeof p.debug&&p.debug("<<< "+S),B=[],I=0,b=(L=l.unmarshall(S)).length;I<b;I++)switch(D=L[I],D.command){case"CONNECTED":"function"==typeof p.debug&&p.debug("connected to server "+D.headers.server),p.connected=!0,p._setupHeartbeat(D.headers),B.push("function"==typeof p.connectCallback?p.connectCallback(D):void 0);break;case"MESSAGE":(R=p.subscriptions[P=D.headers.subscription]||p.onreceive)?(T=p,M=D.headers["message-id"],D.ack=function(V){return null==V&&(V={}),T.ack(M,P,V)},D.nack=function(V){return null==V&&(V={}),T.nack(M,P,V)},B.push(R(D))):B.push("function"==typeof p.debug?p.debug("Unhandled received MESSAGE: "+D):void 0);break;case"RECEIPT":B.push("function"==typeof p.onreceipt?p.onreceipt(D):void 0);break;case"ERROR":B.push("function"==typeof d?d(D):void 0);break;default:B.push("function"==typeof p.debug?p.debug("Unhandled frame: "+D):void 0)}return B}"function"==typeof p.debug&&p.debug("<<< PONG")}),this.ws.onclose=function(p){return function(){var v;return v="Whoops! Lost connection to "+p.ws.url,"function"==typeof p.debug&&p.debug(v),p._cleanUp(),"function"==typeof d?d(v):void 0}}(this),this.ws.onopen=function(p){return function(){return"function"==typeof p.debug&&p.debug("Web Socket Opened..."),a["accept-version"]=m.VERSIONS.supportedVersions(),a["heart-beat"]=[p.heartbeat.outgoing,p.heartbeat.incoming].join(","),p._transmit("CONNECT",a)}}(this)},s.prototype.disconnect=function(o,d){return null==d&&(d={}),this._transmit("DISCONNECT",d),this.ws.onclose=null,this.ws.close(),this._cleanUp(),"function"==typeof o?o():void 0},s.prototype._cleanUp=function(){if(this.connected=!1,this.pinger&&m.clearInterval(this.pinger),this.ponger)return m.clearInterval(this.ponger)},s.prototype.send=function(o,d,a){return null==d&&(d={}),null==a&&(a=""),d.destination=o,this._transmit("SEND",d,a)},s.prototype.subscribe=function(o,d,a){var c;return null==a&&(a={}),a.id||(a.id="sub-"+this.counter++),a.destination=o,this.subscriptions[a.id]=d,this._transmit("SUBSCRIBE",a),c=this,{id:a.id,unsubscribe:function(){return c.unsubscribe(a.id)}}},s.prototype.unsubscribe=function(o){return delete this.subscriptions[o],this._transmit("UNSUBSCRIBE",{id:o})},s.prototype.begin=function(o){var d,a;return a=o||"tx-"+this.counter++,this._transmit("BEGIN",{transaction:a}),d=this,{id:a,commit:function(){return d.commit(a)},abort:function(){return d.abort(a)}}},s.prototype.commit=function(o){return this._transmit("COMMIT",{transaction:o})},s.prototype.abort=function(o){return this._transmit("ABORT",{transaction:o})},s.prototype.ack=function(o,d,a){return null==a&&(a={}),a["message-id"]=o,a.subscription=d,this._transmit("ACK",a)},s.prototype.nack=function(o,d,a){return null==a&&(a={}),a["message-id"]=o,a.subscription=d,this._transmit("NACK",a)},s}(),m={VERSIONS:{V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.1,1.0"}},client:function(u,s){var d;return null==s&&(s=["v10.stomp","v11.stomp"]),d=new(m.WebSocketClass||WebSocket)(u,s),new n(d)},over:function(u){return new n(u)},Frame:l},null!==C&&(C.Stomp=m),"undefined"!=typeof window&&null!==window?(m.setInterval=function(u,s){return window.setInterval(s,u)},m.clearInterval=function(u){return window.clearInterval(u)},window.Stomp=m):C||(self.Stomp=m)}).call(this)},7629:(dt,C,w)=>{"use strict";var n=w(8237),l=w(2858),m=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,f=/[\n\r\t]/g,h=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,u=/:\d+$/,s=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,o=/^[a-zA-Z]:/;function d(M){return(M||"").toString().replace(m,"")}var a=[["#","hash"],["?","query"],function(R,P){return v(P.protocol)?R.replace(/\\/g,"/"):R},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],c={hash:1,query:1};function p(M){var R;R="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var L,I={},b=typeof(M=M||R.location||{});if("blob:"===M.protocol)I=new T(unescape(M.pathname),{});else if("string"===b)for(L in I=new T(M,{}),c)delete I[L];else if("object"===b){for(L in M)L in c||(I[L]=M[L]);void 0===I.slashes&&(I.slashes=h.test(M.href))}return I}function v(M){return"file:"===M||"ftp:"===M||"http:"===M||"https:"===M||"ws:"===M||"wss:"===M}function g(M,R){M=(M=d(M)).replace(f,""),R=R||{};var V,P=s.exec(M),I=P[1]?P[1].toLowerCase():"",b=!!P[2],L=!!P[3],B=0;return b?L?(V=P[2]+P[3]+P[4],B=P[2].length+P[3].length):(V=P[2]+P[4],B=P[2].length):L?(V=P[3]+P[4],B=P[3].length):V=P[4],"file:"===I?B>=2&&(V=V.slice(2)):v(I)?V=P[4]:I?b&&(V=V.slice(2)):B>=2&&v(R.protocol)&&(V=P[4]),{protocol:I,slashes:b||v(I),slashesCount:B,rest:V}}function T(M,R,P){if(M=(M=d(M)).replace(f,""),!(this instanceof T))return new T(M,R,P);var I,b,L,B,V,z,W=a.slice(),K=typeof R,J=this,tt=0;for("object"!==K&&"string"!==K&&(P=R,R=null),P&&"function"!=typeof P&&(P=l.parse),I=!(b=g(M||"",R=p(R))).protocol&&!b.slashes,J.slashes=b.slashes||I&&R.slashes,J.protocol=b.protocol||R.protocol||"",M=b.rest,("file:"===b.protocol&&(2!==b.slashesCount||o.test(M))||!b.slashes&&(b.protocol||b.slashesCount<2||!v(J.protocol)))&&(W[3]=[/(.*)/,"pathname"]);tt<W.length;tt++)"function"!=typeof(B=W[tt])?(z=B[1],(L=B[0])!=L?J[z]=M:"string"==typeof L?~(V="@"===L?M.lastIndexOf(L):M.indexOf(L))&&("number"==typeof B[2]?(J[z]=M.slice(0,V),M=M.slice(V+B[2])):(J[z]=M.slice(V),M=M.slice(0,V))):(V=L.exec(M))&&(J[z]=V[1],M=M.slice(0,V.index)),J[z]=J[z]||I&&B[3]&&R[z]||"",B[4]&&(J[z]=J[z].toLowerCase())):M=B(M,J);P&&(J.query=P(J.query)),I&&R.slashes&&"/"!==J.pathname.charAt(0)&&(""!==J.pathname||""!==R.pathname)&&(J.pathname=function x(M,R){if(""===M)return R;for(var P=(R||"/").split("/").slice(0,-1).concat(M.split("/")),I=P.length,b=P[I-1],L=!1,B=0;I--;)"."===P[I]?P.splice(I,1):".."===P[I]?(P.splice(I,1),B++):B&&(0===I&&(L=!0),P.splice(I,1),B--);return L&&P.unshift(""),("."===b||".."===b)&&P.push(""),P.join("/")}(J.pathname,R.pathname)),"/"!==J.pathname.charAt(0)&&v(J.protocol)&&(J.pathname="/"+J.pathname),n(J.port,J.protocol)||(J.host=J.hostname,J.port=""),J.username=J.password="",J.auth&&(~(V=J.auth.indexOf(":"))?(J.username=J.auth.slice(0,V),J.username=encodeURIComponent(decodeURIComponent(J.username)),J.password=J.auth.slice(V+1),J.password=encodeURIComponent(decodeURIComponent(J.password))):J.username=encodeURIComponent(decodeURIComponent(J.auth)),J.auth=J.password?J.username+":"+J.password:J.username),J.origin="file:"!==J.protocol&&v(J.protocol)&&J.host?J.protocol+"//"+J.host:"null",J.href=J.toString()}T.prototype={set:function S(M,R,P){var I=this;switch(M){case"query":"string"==typeof R&&R.length&&(R=(P||l.parse)(R)),I[M]=R;break;case"port":I[M]=R,n(R,I.protocol)?R&&(I.host=I.hostname+":"+R):(I.host=I.hostname,I[M]="");break;case"hostname":I[M]=R,I.port&&(R+=":"+I.port),I.host=R;break;case"host":I[M]=R,u.test(R)?(R=R.split(":"),I.port=R.pop(),I.hostname=R.join(":")):(I.hostname=R,I.port="");break;case"protocol":I.protocol=R.toLowerCase(),I.slashes=!P;break;case"pathname":case"hash":if(R){var b="pathname"===M?"/":"#";I[M]=R.charAt(0)!==b?b+R:R}else I[M]=R;break;case"username":case"password":I[M]=encodeURIComponent(R);break;case"auth":var L=R.indexOf(":");~L?(I.username=R.slice(0,L),I.username=encodeURIComponent(decodeURIComponent(I.username)),I.password=R.slice(L+1),I.password=encodeURIComponent(decodeURIComponent(I.password))):I.username=encodeURIComponent(decodeURIComponent(R))}for(var B=0;B<a.length;B++){var V=a[B];V[4]&&(I[V[1]]=I[V[1]].toLowerCase())}return I.auth=I.password?I.username+":"+I.password:I.username,I.origin="file:"!==I.protocol&&v(I.protocol)&&I.host?I.protocol+"//"+I.host:"null",I.href=I.toString(),I},toString:function D(M){(!M||"function"!=typeof M)&&(M=l.stringify);var R,P=this,I=P.host,b=P.protocol;b&&":"!==b.charAt(b.length-1)&&(b+=":");var L=b+(P.protocol&&P.slashes||v(P.protocol)?"//":"");return P.username?(L+=P.username,P.password&&(L+=":"+P.password),L+="@"):P.password?(L+=":"+P.password,L+="@"):"file:"!==P.protocol&&v(P.protocol)&&!I&&"/"!==P.pathname&&(L+="@"),(":"===I[I.length-1]||u.test(P.hostname)&&!P.port)&&(I+=":"),L+=I+P.pathname,(R="object"==typeof P.query?M(P.query):P.query)&&(L+="?"!==R.charAt(0)?"?"+R:R),P.hash&&(L+=P.hash),L}},T.extractProtocol=g,T.location=p,T.trimLeft=d,T.qs=l,dt.exports=T},2762:(dt,C,w)=>{var n;if("object"==typeof globalThis)n=globalThis;else try{n=w(8878)}catch(h){}finally{if(!n&&"undefined"!=typeof window&&(n=window),!n)throw new Error("Could not determine global this")}var l=n.WebSocket||n.MozWebSocket,m=w(3386);function f(h,u){return u?new l(h,u):new l(h)}l&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(h){Object.defineProperty(f,h,{get:function(){return l[h]}})}),dt.exports={w3cwebsocket:l?f:null,version:m}},3386:(dt,C,w)=>{dt.exports=w(9794).version},9794:dt=>{"use strict";dt.exports={version:"1.0.34"}}},dt=>{dt(dt.s=6430)}]);